/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@toruslabs";
exports.ids = ["vendor-chunks/@toruslabs"];
exports.modules = {

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/dist/baseControllers.esm.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/dist/baseControllers.esm.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACCOUNT_CATEGORY: () => (/* binding */ ACCOUNT_CATEGORY),\n/* harmony export */   ACTIVITY_ACTION: () => (/* binding */ ACTIVITY_ACTION),\n/* harmony export */   ACTIVITY_ACTION_ACCEPT_NFT_OFFER: () => (/* binding */ ACTIVITY_ACTION_ACCEPT_NFT_OFFER),\n/* harmony export */   ACTIVITY_ACTION_ALL: () => (/* binding */ ACTIVITY_ACTION_ALL),\n/* harmony export */   ACTIVITY_ACTION_BURN: () => (/* binding */ ACTIVITY_ACTION_BURN),\n/* harmony export */   ACTIVITY_ACTION_CANCEL_NFT_OFFER: () => (/* binding */ ACTIVITY_ACTION_CANCEL_NFT_OFFER),\n/* harmony export */   ACTIVITY_ACTION_CREATE_NFT_OFFER: () => (/* binding */ ACTIVITY_ACTION_CREATE_NFT_OFFER),\n/* harmony export */   ACTIVITY_ACTION_CREATE_TRUSTLINE: () => (/* binding */ ACTIVITY_ACTION_CREATE_TRUSTLINE),\n/* harmony export */   ACTIVITY_ACTION_RECEIVE: () => (/* binding */ ACTIVITY_ACTION_RECEIVE),\n/* harmony export */   ACTIVITY_ACTION_REMOVE_TRUSTLINE: () => (/* binding */ ACTIVITY_ACTION_REMOVE_TRUSTLINE),\n/* harmony export */   ACTIVITY_ACTION_SEND: () => (/* binding */ ACTIVITY_ACTION_SEND),\n/* harmony export */   ACTIVITY_ACTION_TOPUP: () => (/* binding */ ACTIVITY_ACTION_TOPUP),\n/* harmony export */   ACTIVITY_PERIOD_ALL: () => (/* binding */ ACTIVITY_PERIOD_ALL),\n/* harmony export */   ACTIVITY_PERIOD_MONTH_ONE: () => (/* binding */ ACTIVITY_PERIOD_MONTH_ONE),\n/* harmony export */   ACTIVITY_PERIOD_MONTH_SIX: () => (/* binding */ ACTIVITY_PERIOD_MONTH_SIX),\n/* harmony export */   ACTIVITY_PERIOD_WEEK_ONE: () => (/* binding */ ACTIVITY_PERIOD_WEEK_ONE),\n/* harmony export */   ACTIVITY_STATUS_CANCELLED: () => (/* binding */ ACTIVITY_STATUS_CANCELLED),\n/* harmony export */   ACTIVITY_STATUS_CANCELLING: () => (/* binding */ ACTIVITY_STATUS_CANCELLING),\n/* harmony export */   ACTIVITY_STATUS_PENDING: () => (/* binding */ ACTIVITY_STATUS_PENDING),\n/* harmony export */   ACTIVITY_STATUS_SUCCESSFUL: () => (/* binding */ ACTIVITY_STATUS_SUCCESSFUL),\n/* harmony export */   ACTIVITY_STATUS_UNSUCCESSFUL: () => (/* binding */ ACTIVITY_STATUS_UNSUCCESSFUL),\n/* harmony export */   BROADCAST_CHANNELS: () => (/* binding */ BROADCAST_CHANNELS),\n/* harmony export */   BROADCAST_CHANNELS_MSGS: () => (/* binding */ BROADCAST_CHANNELS_MSGS),\n/* harmony export */   BaseBlockTracker: () => (/* binding */ BaseBlockTracker),\n/* harmony export */   BaseController: () => (/* binding */ BaseController),\n/* harmony export */   BaseCurrencyController: () => (/* binding */ BaseCurrencyController),\n/* harmony export */   BaseEmbedController: () => (/* binding */ BaseEmbedController),\n/* harmony export */   BaseKeyringController: () => (/* binding */ BaseKeyringController),\n/* harmony export */   BasePreferencesController: () => (/* binding */ BasePreferencesController),\n/* harmony export */   BaseTransactionStateManager: () => (/* binding */ BaseTransactionStateManager),\n/* harmony export */   BroadcastChannelHandler: () => (/* binding */ BroadcastChannelHandler),\n/* harmony export */   COMMUNICATION_JRPC_METHODS: () => (/* binding */ COMMUNICATION_JRPC_METHODS),\n/* harmony export */   COMMUNICATION_NOTIFICATIONS: () => (/* binding */ COMMUNICATION_NOTIFICATIONS),\n/* harmony export */   CommunicationWindowManager: () => (/* binding */ CommunicationWindowManager),\n/* harmony export */   DEFAULT_PREFERENCES: () => (/* binding */ DEFAULT_PREFERENCES),\n/* harmony export */   FEATURES_CONFIRM_WINDOW: () => (/* binding */ FEATURES_CONFIRM_WINDOW),\n/* harmony export */   FEATURES_DEFAULT_POPUP_WINDOW: () => (/* binding */ FEATURES_DEFAULT_POPUP_WINDOW),\n/* harmony export */   FEATURES_DEFAULT_WALLET_WINDOW: () => (/* binding */ FEATURES_DEFAULT_WALLET_WINDOW),\n/* harmony export */   FEATURES_PROVIDER_CHANGE_WINDOW: () => (/* binding */ FEATURES_PROVIDER_CHANGE_WINDOW),\n/* harmony export */   LOGIN_PROVIDER: () => (/* binding */ LOGIN_PROVIDER),\n/* harmony export */   PAYMENT_PROVIDER: () => (/* binding */ PAYMENT_PROVIDER),\n/* harmony export */   POPUP_LOADED: () => (/* binding */ POPUP_LOADED),\n/* harmony export */   POPUP_RESULT: () => (/* binding */ POPUP_RESULT),\n/* harmony export */   PROVIDER_JRPC_METHODS: () => (/* binding */ PROVIDER_JRPC_METHODS),\n/* harmony export */   PROVIDER_NOTIFICATIONS: () => (/* binding */ PROVIDER_NOTIFICATIONS),\n/* harmony export */   PopupHandler: () => (/* binding */ PopupHandler),\n/* harmony export */   PopupStoreChannel: () => (/* binding */ PopupStoreChannel),\n/* harmony export */   PopupWithBcHandler: () => (/* binding */ PopupWithBcHandler),\n/* harmony export */   RedirectHandler: () => (/* binding */ RedirectHandler),\n/* harmony export */   SETUP_COMPLETE: () => (/* binding */ SETUP_COMPLETE),\n/* harmony export */   StreamWindow: () => (/* binding */ StreamWindow),\n/* harmony export */   TRANSACTION_TYPES: () => (/* binding */ TRANSACTION_TYPES),\n/* harmony export */   TX_EVENTS: () => (/* binding */ TX_EVENTS),\n/* harmony export */   TransactionStatus: () => (/* binding */ TransactionStatus),\n/* harmony export */   UserError: () => (/* binding */ UserError),\n/* harmony export */   addressSlicer: () => (/* binding */ addressSlicer),\n/* harmony export */   broadcastChannelOptions: () => (/* binding */ broadcastChannelOptions),\n/* harmony export */   concatSig: () => (/* binding */ concatSig),\n/* harmony export */   createChangeProviderMiddlewareMiddleware: () => (/* binding */ createChangeProviderMiddlewareMiddleware),\n/* harmony export */   createCommunicationMiddleware: () => (/* binding */ createCommunicationMiddleware),\n/* harmony export */   createEventEmitterProxy: () => (/* binding */ createEventEmitterProxy),\n/* harmony export */   createFetchConfigFromReq: () => (/* binding */ createFetchConfigFromReq),\n/* harmony export */   createFetchMiddleware: () => (/* binding */ createFetchMiddleware),\n/* harmony export */   createGenericJRPCMiddleware: () => (/* binding */ createGenericJRPCMiddleware),\n/* harmony export */   createLoggerMiddleware: () => (/* binding */ createLoggerMiddleware),\n/* harmony export */   createOriginMiddleware: () => (/* binding */ createOriginMiddleware),\n/* harmony export */   createRandomId: () => (/* binding */ createRandomId),\n/* harmony export */   createSwappableProxy: () => (/* binding */ createSwappableProxy),\n/* harmony export */   createTopupMiddleware: () => (/* binding */ createTopupMiddleware),\n/* harmony export */   formatDate: () => (/* binding */ formatDate),\n/* harmony export */   formatSmallNumbers: () => (/* binding */ formatSmallNumbers),\n/* harmony export */   formatTime: () => (/* binding */ formatTime),\n/* harmony export */   getCustomDeviceInfo: () => (/* binding */ getCustomDeviceInfo),\n/* harmony export */   getHeaders: () => (/* binding */ getHeaders),\n/* harmony export */   getPopupFeatures: () => (/* binding */ getPopupFeatures),\n/* harmony export */   getTxStatusText: () => (/* binding */ getTxStatusText),\n/* harmony export */   handleRedirectParameters: () => (/* binding */ handleRedirectParameters),\n/* harmony export */   hashMessage: () => (/* binding */ hashMessage),\n/* harmony export */   intToHex: () => (/* binding */ intToHex),\n/* harmony export */   padWithZeroes: () => (/* binding */ padWithZeroes),\n/* harmony export */   randomId: () => (/* binding */ randomId),\n/* harmony export */   signMessage: () => (/* binding */ signMessage),\n/* harmony export */   significantDigits: () => (/* binding */ significantDigits),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   timeout: () => (/* binding */ timeout$1),\n/* harmony export */   transactionMatchesNetwork: () => (/* binding */ transactionMatchesNetwork)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @toruslabs/openlogin-jrpc */ \"(ssr)/./node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js\");\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bignumber.js */ \"(ssr)/./node_modules/bignumber.js/bignumber.mjs\");\n/* harmony import */ var _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @metamask/rpc-errors */ \"(ssr)/./node_modules/@metamask/rpc-errors/dist/index.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! loglevel */ \"(ssr)/./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @toruslabs/broadcast-channel */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/broadcast-channel.js\");\n/* harmony import */ var _toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @toruslabs/http-helpers */ \"(ssr)/./node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js\");\n/* harmony import */ var bowser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! bowser */ \"(ssr)/./node_modules/bowser/src/bowser.js\");\n/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/cloneDeep */ \"(ssr)/./node_modules/lodash/cloneDeep.js\");\n/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var lodash_pickBy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/pickBy */ \"(ssr)/./node_modules/lodash/pickBy.js\");\n/* harmony import */ var lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_pickBy__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var lodash_omitBy__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/omitBy */ \"(ssr)/./node_modules/lodash/omitBy.js\");\n/* harmony import */ var lodash_omitBy__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_omitBy__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Controller class that provides configuration, state management, and subscriptions\n */ class BaseController extends _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.SafeEventEmitter {\n    /**\n   * Creates a BaseController instance. Both initial state and initial\n   * configuration options are merged with defaults upon initialization.\n   *\n   * @param config - Initial options used to configure this controller\n   * @param state - Initial state to set on this controller\n   */ constructor(_ref){\n        let { config = {}, state = {} } = _ref;\n        super();\n        // Use assign since generics can't be spread: https://git.io/vpRhY\n        /**\n     * Default options used to configure this controller\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"defaultConfig\", {});\n        /**\n     * Default state set on this controller\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"defaultState\", {});\n        /**\n     * Determines if listeners are notified of state changes\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"disabled\", false);\n        /**\n     * Name of this controller used during composition\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"name\", \"BaseController\");\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"initialConfig\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"initialState\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"internalConfig\", this.defaultConfig);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"internalState\", this.defaultState);\n        this.initialState = state;\n        this.initialConfig = config;\n    }\n    /**\n   * Retrieves current controller configuration options\n   *\n   * @returns - Current configuration\n   */ get config() {\n        return this.internalConfig;\n    }\n    /**\n   * Retrieves current controller state\n   *\n   * @returns - Current state\n   */ get state() {\n        return this.internalState;\n    }\n    /**\n   * Updates controller configuration\n   *\n   * @param config - New configuration options\n   * @param overwrite - Overwrite config instead of merging\n   * @param fullUpdate - Boolean that defines if the update is partial or not\n   */ configure(config) {\n        let overwrite = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        let fullUpdate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        if (fullUpdate) {\n            this.internalConfig = overwrite ? config : Object.assign(this.internalConfig, config);\n            for(const key in this.internalConfig){\n                if (typeof this.internalConfig[key] !== \"undefined\") {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this[key] = this.internalConfig[key];\n                }\n            }\n        } else {\n            for(const key in config){\n                /* istanbul ignore else */ if (typeof this.internalConfig[key] !== \"undefined\") {\n                    this.internalConfig[key] = config[key];\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this[key] = config[key];\n                }\n            }\n        }\n    }\n    /**\n   * Updates controller state\n   *\n   * @param state - New state\n   * @param overwrite - Overwrite state instead of merging\n   */ update(state) {\n        let overwrite = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        this.internalState = overwrite ? _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, state) : _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, this.internalState), state);\n        this.emit(\"store\", this.internalState);\n    }\n    /**\n   * Enables the controller. This sets each config option as a member\n   * variable on this instance and triggers any defined setters. This\n   * also sets initial state and triggers any listeners.\n   *\n   * @returns - This controller instance\n   */ initialize() {\n        this.internalState = this.defaultState;\n        this.internalConfig = this.defaultConfig;\n        this.configure(this.initialConfig);\n        this.update(this.initialState);\n        return this;\n    }\n}\nconst sec = 1000;\nconst calculateSum = (accumulator, currentValue)=>accumulator + currentValue;\nconst blockTrackerEvents = [\n    \"sync\",\n    \"latest\"\n];\nclass BaseBlockTracker extends BaseController {\n    constructor(_ref){\n        let { config = {}, state = {} } = _ref;\n        super({\n            config,\n            state\n        });\n        // config\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"name\", \"BaseBlockTracker\");\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"_blockResetTimeout\", void 0);\n        this.defaultState = {\n            _currentBlock: {\n                idempotencyKey: \"\"\n            },\n            _isRunning: false\n        };\n        this.defaultConfig = {\n            blockResetDuration: 20 * sec\n        };\n        this.initialize();\n        // bind functions for internal use\n        this._onNewListener = this._onNewListener.bind(this);\n        this._onRemoveListener = this._onRemoveListener.bind(this);\n        this._resetCurrentBlock = this._resetCurrentBlock.bind(this);\n        // listen for handler changes\n        this._setupInternalEvents();\n    }\n    isRunning() {\n        return this.state._isRunning;\n    }\n    getCurrentBlock() {\n        return this.state._currentBlock;\n    }\n    async getLatestBlock() {\n        // return if available\n        if (this.state._currentBlock.idempotencyKey) {\n            return this.state._currentBlock;\n        }\n        // wait for a new latest block\n        const latestBlock = await new Promise((resolve)=>{\n            this.once(\"latest\", (block)=>{\n                if (block) {\n                    resolve(block);\n                }\n            });\n        });\n        // return newly set current block\n        return latestBlock;\n    }\n    // dont allow module consumer to remove our internal event listeners\n    removeAllListeners(eventName) {\n        if (eventName) {\n            super.removeAllListeners(eventName);\n        } else {\n            super.removeAllListeners();\n        }\n        // re-add internal events\n        this._setupInternalEvents();\n        // trigger stop check just in case\n        this._onRemoveListener();\n        return this;\n    }\n    /**\n   * To be implemented in subclass.\n   */ _start() {\n    // default behavior is noop\n    }\n    /**\n   * To be implemented in subclass.\n   */ _end() {\n    // default behavior is noop\n    }\n    _newPotentialLatest(newBlock) {\n        const currentBlock = this.state._currentBlock;\n        // only update if block number is higher\n        if (currentBlock && newBlock.idempotencyKey === currentBlock.idempotencyKey) {\n            return;\n        }\n        this._setCurrentBlock(newBlock);\n    }\n    _setupInternalEvents() {\n        // first remove listeners for idempotency\n        this.removeListener(\"newListener\", this._onNewListener);\n        this.removeListener(\"removeListener\", this._onRemoveListener);\n        // then add them\n        this.on(\"removeListener\", this._onRemoveListener);\n        this.on(\"newListener\", this._onNewListener);\n    }\n    _onNewListener() {\n        this._maybeStart();\n    }\n    _onRemoveListener() {\n        // `removeListener` is called *after* the listener is removed\n        if (this._getBlockTrackerEventCount() > 0) {\n            return;\n        }\n        this._maybeEnd();\n    }\n    _maybeStart() {\n        if (this.state._isRunning) {\n            return;\n        }\n        this.state._isRunning = true;\n        // cancel setting latest block to stale\n        this._cancelBlockResetTimeout();\n        this._start();\n    }\n    _maybeEnd() {\n        if (!this.state._isRunning) {\n            return;\n        }\n        this.state._isRunning = false;\n        this._setupBlockResetTimeout();\n        this._end();\n    }\n    _getBlockTrackerEventCount() {\n        return blockTrackerEvents.map((eventName)=>this.listenerCount(eventName)).reduce(calculateSum);\n    }\n    _setCurrentBlock(newBlock) {\n        const oldBlock = this.state._currentBlock;\n        this.update({\n            _currentBlock: newBlock\n        });\n        this.emit(\"latest\", newBlock);\n        this.emit(\"sync\", {\n            oldBlock,\n            newBlock\n        });\n    }\n    _setupBlockResetTimeout() {\n        // clear any existing timeout\n        this._cancelBlockResetTimeout();\n        // clear latest block when stale\n        this._blockResetTimeout = setTimeout(this._resetCurrentBlock, this.config.blockResetDuration);\n        // nodejs - dont hold process open\n        if (this._blockResetTimeout.unref) {\n            this._blockResetTimeout.unref();\n        }\n    }\n    _cancelBlockResetTimeout() {\n        if (this._blockResetTimeout) {\n            clearTimeout(this._blockResetTimeout);\n        }\n    }\n    _resetCurrentBlock() {\n        this.update({\n            _currentBlock: {\n                idempotencyKey: \"\"\n            }\n        });\n    }\n}\nconst filterNoop = ()=>true;\nconst internalEvents = [\n    \"newListener\",\n    \"removeListener\"\n];\nconst externalEventFilter = (name)=>!internalEvents.includes(name);\nfunction getRawListeners(eventEmitter, name) {\n    // prefer native\n    return typeof eventEmitter.rawListeners !== \"undefined\" ? eventEmitter.rawListeners(name) : eventEmitter.listeners(name);\n}\nfunction createEventEmitterProxy(initialTarget, opts) {\n    // parse options\n    const finalOpts = opts || {};\n    let eventFilter = finalOpts.eventFilter || filterNoop;\n    if (typeof eventFilter === \"string\" && eventFilter === \"skipInternal\") eventFilter = externalEventFilter;\n    if (typeof eventFilter !== \"function\") throw new Error(\"createEventEmitterProxy - Invalid eventFilter\");\n    let target = initialTarget;\n    let setTarget = (newTarget)=>{\n        const oldTarget = target;\n        target = newTarget;\n        oldTarget.eventNames().filter(eventFilter).forEach((name)=>{\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            getRawListeners(oldTarget, name).forEach((handler)=>newTarget.on(name, handler));\n        });\n        // remove old listeners\n        oldTarget.removeAllListeners();\n    };\n    const proxy = new Proxy({}, {\n        get: (_, name)=>{\n            // override `setTarget` access\n            if (name === \"setTarget\") return setTarget;\n            return target[name];\n        },\n        set: (_, name, value)=>{\n            // allow `setTarget` overrides\n            if (name === \"setTarget\") {\n                setTarget = value;\n                return true;\n            }\n            target[name] = value;\n            return true;\n        }\n    });\n    return proxy;\n}\nfunction createSwappableProxy(initialTarget) {\n    let target = initialTarget;\n    let setTarget = (newTarget)=>{\n        target = newTarget;\n    };\n    const proxy = new Proxy({}, {\n        get: (_, name)=>{\n            // override `setTarget` access\n            if (name === \"setTarget\") return setTarget;\n            return target[name];\n        },\n        set: (_, name, value)=>{\n            // allow `setTarget` overrides\n            if (name === \"setTarget\") {\n                setTarget = value;\n                return true;\n            }\n            target[name] = value;\n            return true;\n        }\n    });\n    return proxy;\n}\n// every ten minutes\nconst POLLING_INTERVAL = 600000;\nclass BaseCurrencyController extends BaseController {\n    constructor(_ref){\n        let { config = {}, state } = _ref;\n        super({\n            config,\n            state\n        });\n        this.defaultState = {\n            currentCurrency: \"usd\",\n            conversionRate: 0,\n            conversionDate: \"N/A\",\n            nativeCurrency: \"ETH\"\n        };\n        this.defaultConfig = {\n            pollInterval: POLLING_INTERVAL\n        };\n        this.initialize();\n    }\n    //\n    // PUBLIC METHODS\n    //\n    getNativeCurrency() {\n        return this.state.nativeCurrency;\n    }\n    setNativeCurrency(nativeCurrency) {\n        this.update({\n            nativeCurrency,\n            ticker: nativeCurrency\n        });\n    }\n    getCurrentCurrency() {\n        return this.state.currentCurrency;\n    }\n    setCurrentCurrency(currentCurrency) {\n        this.update({\n            currentCurrency\n        });\n    }\n    /**\n   * A getter for the conversionRate property\n   *\n   * @returns The conversion rate from ETH to the selected currency.\n   *\n   */ getConversionRate() {\n        return this.state.conversionRate;\n    }\n    setConversionRate(conversionRate) {\n        this.update({\n            conversionRate\n        });\n    }\n    /**\n   * A getter for the conversionDate property\n   *\n   * @returns The date at which the conversion rate was set. Expressed in milliseconds since midnight of\n   * January 1, 1970\n   *\n   */ getConversionDate() {\n        return this.state.conversionDate;\n    }\n    setConversionDate(conversionDate) {\n        this.update({\n            conversionDate\n        });\n    }\n}\nconst FEATURES_PROVIDER_CHANGE_WINDOW = {\n    height: 660,\n    width: 375\n};\nconst FEATURES_DEFAULT_WALLET_WINDOW = {\n    height: 740,\n    width: 1315\n};\nconst FEATURES_DEFAULT_POPUP_WINDOW = {\n    height: 700,\n    width: 1200\n};\nconst FEATURES_CONFIRM_WINDOW = {\n    height: 700,\n    width: 450\n};\nconst POPUP_LOADED = \"popup_loaded\";\nconst POPUP_RESULT = \"popup_result\";\nconst SETUP_COMPLETE = \"setup_complete\";\nconst ACTIVITY_ACTION_ALL = \"walletActivity.allTransactions\";\nconst ACTIVITY_ACTION_SEND = \"walletActivity.send\";\nconst ACTIVITY_ACTION_BURN = \"walletActivity.burn\";\nconst ACTIVITY_ACTION_RECEIVE = \"walletActivity.receive\";\nconst ACTIVITY_ACTION_TOPUP = \"walletActivity.topup\";\nconst ACTIVITY_ACTION_CREATE_TRUSTLINE = \"walletActivity.createTrustline\";\nconst ACTIVITY_ACTION_REMOVE_TRUSTLINE = \"walletActivity.removeTrustline\";\nconst ACTIVITY_ACTION_CREATE_NFT_OFFER = \"walletActivity.createNftOffer\";\nconst ACTIVITY_ACTION_ACCEPT_NFT_OFFER = \"walletActivity.acceptNftOffer\";\nconst ACTIVITY_ACTION_CANCEL_NFT_OFFER = \"walletActivity.cancelNftOffer\";\nconst ACTIVITY_PERIOD_ALL = \"walletActivity.all\";\nconst ACTIVITY_PERIOD_WEEK_ONE = \"walletActivity.lastOneWeek\";\nconst ACTIVITY_PERIOD_MONTH_ONE = \"walletActivity.lastOneMonth\";\nconst ACTIVITY_PERIOD_MONTH_SIX = \"walletActivity.lastSixMonts\";\nconst ACTIVITY_STATUS_SUCCESSFUL = \"walletActivity.successful\";\nconst ACTIVITY_STATUS_UNSUCCESSFUL = \"walletActivity.unsuccessful\";\nconst ACTIVITY_STATUS_PENDING = \"walletActivity.pending\";\nconst ACTIVITY_STATUS_CANCELLED = \"walletActivity.cancelled\";\nconst ACTIVITY_STATUS_CANCELLING = \"walletActivity.cancelling\";\nconst COMMUNICATION_NOTIFICATIONS = {\n    IFRAME_STATUS: \"iframe_status\",\n    // Tell embed to create the window\n    CREATE_WINDOW: \"create_window\",\n    // Tell embed to close the window\n    CLOSE_WINDOW: \"close_window\",\n    USER_LOGGED_IN: \"user_logged_in\",\n    USER_LOGGED_OUT: \"user_logged_out\"\n};\nconst COMMUNICATION_JRPC_METHODS = {\n    LOGOUT: \"logout\",\n    WALLET_INSTANCE_ID: \"wallet_instance_id\",\n    USER_INFO: \"user_info\",\n    SET_PROVIDER: \"set_provider\",\n    TOPUP: \"topup\",\n    IFRAME_STATUS: \"iframe_status\",\n    // embed has opened the window as requested\n    OPENED_WINDOW: \"opened_window\",\n    // user has closed the window from embed's side\n    CLOSED_WINDOW: \"closed_window\",\n    WINDOW_BLOCKED: \"window_blocked\",\n    GET_PROVIDER_STATE: \"get_provider_state\",\n    LOGIN_WITH_PRIVATE_KEY: \"login_with_private_key\",\n    SHOW_WALLET_CONNECT: \"show_wallet_connect\",\n    SHOW_CHECKOUT: \"show_checkout\",\n    SHOW_WALLET_UI: \"show_wallet_ui\"\n};\nconst PROVIDER_JRPC_METHODS = {\n    GET_PROVIDER_STATE: \"wallet_get_provider_state\"\n};\nconst PROVIDER_NOTIFICATIONS = {\n    ACCOUNTS_CHANGED: \"wallet_accounts_changed\",\n    CHAIN_CHANGED: \"wallet_chain_changed\",\n    UNLOCK_STATE_CHANGED: \"wallet_unlock_state_changed\"\n};\nconst BROADCAST_CHANNELS = {\n    REDIRECT_CHANNEL: \"redirect_channel\",\n    PROVIDER_CHANGE_CHANNEL: \"torus_provider_change_channel\",\n    TRANSACTION_CHANNEL: \"torus_channel\",\n    MESSAGE_CHANNEL: \"torus_message_channel\",\n    WALLET_LOGOUT_CHANNEL: \"wallet_logout_channel\",\n    WALLET_SELECTED_ADDRESS_CHANNEL: \"wallet_selected_address_channel\",\n    WALLET_NETWORK_CHANGE_CHANNEL: \"wallet_network_change_channel\",\n    WALLET_ACCOUNT_IMPORT_CHANNEL: \"wallet_account_import_channel\",\n    THEME_CHANGE: \"theme_change_channel\",\n    TOP_UP_CHANNEL: \"top_up_channel\"\n};\nconst BROADCAST_CHANNELS_MSGS = {\n    LOGOUT: \"logout\",\n    ACCOUNT_IMPORTED: \"account_imported\",\n    SELECTED_ADDRESS_CHANGE: \"selected_address_change\",\n    NETWORK_CHANGE: \"network_change\",\n    SET_THEME: \"set_theme\"\n};\nfunction createChangeProviderMiddlewareMiddleware(_ref) {\n    let { changeProvider } = _ref;\n    return (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.createAsyncMiddleware)(async (request, response, next)=>{\n        const { method } = request;\n        if (method !== COMMUNICATION_JRPC_METHODS.SET_PROVIDER) return next();\n        if (!changeProvider) throw new Error(\"CommunicationMiddleware - opts.changeProvider not provided\");\n        response.result = await changeProvider(request);\n    });\n}\nfunction createTopupMiddleware(_ref2) {\n    let { topup } = _ref2;\n    return (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.createAsyncMiddleware)(async (request, response, next)=>{\n        const { method } = request;\n        if (method !== COMMUNICATION_JRPC_METHODS.TOPUP) return next();\n        if (!topup) throw new Error(\"CommunicationMiddleware - opts.topup not provided\");\n        response.result = await topup(request);\n    });\n}\nfunction createGenericJRPCMiddleware(targetMethod, handler) {\n    return (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.createAsyncMiddleware)(async (request, response, next)=>{\n        const { method } = request;\n        if (method !== targetMethod) return next();\n        if (!handler) throw new Error(`CommunicationMiddleware - ${targetMethod} not provided`);\n        const result = await handler(request);\n        if (!result) {\n            return next();\n        }\n        response.result = result;\n        return undefined;\n    });\n}\nfunction createCommunicationMiddleware(providerHandlers) {\n    const { getUserInfo, getWalletInstanceId, topup, logout, changeProvider, setIFrameStatus, handleWindowRpc, getProviderState, loginWithPrivateKey, showWalletConnect, showCheckout, showWalletUi, showWindowBlockAlert } = providerHandlers;\n    return (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.mergeMiddleware)([\n        createChangeProviderMiddlewareMiddleware({\n            changeProvider\n        }),\n        createTopupMiddleware({\n            topup\n        }),\n        (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.createScaffoldMiddleware)({\n            [COMMUNICATION_JRPC_METHODS.LOGOUT]: logout,\n            [COMMUNICATION_JRPC_METHODS.WALLET_INSTANCE_ID]: getWalletInstanceId,\n            [COMMUNICATION_JRPC_METHODS.USER_INFO]: getUserInfo,\n            [COMMUNICATION_JRPC_METHODS.IFRAME_STATUS]: setIFrameStatus,\n            // Do this in the orchestrator because communicationWindowManager needs to be passed into PopupHandlers\n            [COMMUNICATION_JRPC_METHODS.OPENED_WINDOW]: handleWindowRpc,\n            [COMMUNICATION_JRPC_METHODS.CLOSED_WINDOW]: handleWindowRpc,\n            [COMMUNICATION_JRPC_METHODS.GET_PROVIDER_STATE]: getProviderState,\n            [COMMUNICATION_JRPC_METHODS.SHOW_WALLET_CONNECT]: showWalletConnect,\n            [COMMUNICATION_JRPC_METHODS.SHOW_CHECKOUT]: showCheckout,\n            [COMMUNICATION_JRPC_METHODS.SHOW_WALLET_UI]: showWalletUi,\n            [COMMUNICATION_JRPC_METHODS.WINDOW_BLOCKED]: showWindowBlockAlert\n        }),\n        createGenericJRPCMiddleware(COMMUNICATION_JRPC_METHODS.LOGIN_WITH_PRIVATE_KEY, loginWithPrivateKey)\n    ]);\n}\nclass BaseEmbedController extends BaseController {\n    constructor(_ref){\n        let { config = {}, state } = _ref;\n        super({\n            config,\n            state\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"_communicationProviderProxy\", void 0);\n        this.defaultState = {\n            buttonPosition: \"bottom-right\",\n            isIFrameFullScreen: true,\n            apiKey: \"torus-default\",\n            oauthModalVisibility: false,\n            loginInProgress: false,\n            dappMetadata: {\n                name: \"\",\n                icon: \"\"\n            }\n        };\n        this.initialize();\n    }\n    /**\n   * Called by orchestrator once while initializing the class\n   * @param handlers - JRPC handlers for provider\n   * @returns - provider - Returns the providerProxy\n   */ initializeProvider(handlers) {\n        const engine = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.JRPCEngine();\n        const communicationMiddleware = createCommunicationMiddleware(handlers);\n        engine.push(communicationMiddleware);\n        const communicationProvider = (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.providerFromEngine)(engine);\n        this.setCommunicationProvider(communicationProvider);\n    }\n    setCommunicationProvider(communicationProvider) {\n        if (this._communicationProviderProxy) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            this._communicationProviderProxy.setTarget(communicationProvider);\n        } else {\n            this._communicationProviderProxy = createSwappableProxy(communicationProvider);\n        }\n    }\n}\nclass CommunicationWindowManager extends _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.SafeEventEmitter {\n    constructor(){\n        super(...arguments);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"handleWindowRpc\", (request, response, next, end)=>{\n            const { method, params } = request;\n            if (method === COMMUNICATION_JRPC_METHODS.OPENED_WINDOW) {\n                const { windowId } = params;\n                // I've been informed that a window has been opened\n                this.emit(`${windowId}:opened`);\n                response.result = true;\n                end();\n            } else if (method === COMMUNICATION_JRPC_METHODS.CLOSED_WINDOW) {\n                const { windowId } = params;\n                // I've been informed that a window has been closed\n                this.emit(`${windowId}:closed`);\n                response.result = true;\n                end();\n            } else {\n                next();\n            }\n        });\n    }\n}\n/**\n * State change callbacks\n */ /**\n * Base controller configuration\n */ /**\n * Base state representation\n */ const LOGIN_PROVIDER = {\n    GOOGLE: \"google\",\n    FACEBOOK: \"facebook\",\n    REDDIT: \"reddit\",\n    DISCORD: \"discord\",\n    TWITCH: \"twitch\",\n    APPLE: \"apple\",\n    LINE: \"line\",\n    GITHUB: \"github\",\n    KAKAO: \"kakao\",\n    LINKEDIN: \"linkedin\",\n    TWITTER: \"twitter\",\n    WEIBO: \"weibo\",\n    WECHAT: \"wechat\",\n    EMAIL_PASSWORDLESS: \"email_passwordless\"\n};\n/**\n * {@label loginProviderType}\n */ const PAYMENT_PROVIDER = {\n    MOONPAY: \"moonpay\",\n    WYRE: \"wyre\",\n    RAMPNETWORK: \"rampnetwork\",\n    XANPOOL: \"xanpool\",\n    MERCURYO: \"mercuryo\",\n    TRANSAK: \"transak\"\n};\nconst getTxStatusText = (txStatus)=>{\n    switch(txStatus){\n        case \"rejected\":\n        case \"unapproved\":\n        case \"failed\":\n            return ACTIVITY_STATUS_UNSUCCESSFUL;\n        case \"confirmed\":\n            return ACTIVITY_STATUS_SUCCESSFUL;\n        case \"submitted\":\n            return ACTIVITY_STATUS_PENDING;\n        case \"cancelled\":\n            return ACTIVITY_STATUS_CANCELLED;\n        default:\n            return \"\";\n    }\n};\n/**\n * General utility functions\n */ function intToHex(i) {\n    const hex = i.toString(16);\n    return `0x${hex}`;\n}\n/**\n * Returns a random number. Don't use for cryptographic purposes.\n * @returns a random number\n */ const randomId = ()=>Math.random().toString(36).slice(2);\n/**\n * Pads the front of the given hex string with zeroes until it reaches the\n * target length. If the input string is already longer than or equal to the\n * target length, it is returned unmodified.\n *\n * If the input string is \"0x\"-prefixed or not a hex string, an error will be\n * thrown.\n *\n * @param hexString - The hexadecimal string to pad with zeroes.\n * @param targetLength - The target length of the hexadecimal string.\n * @returns The input string front-padded with zeroes, or the original string\n * if it was already greater than or equal to to the target length.\n */ function padWithZeroes(hexString, targetLength) {\n    if (hexString !== \"\" && !/^[a-f0-9]+$/iu.test(hexString)) {\n        throw new Error(`Expected an unprefixed hex string. Received: ${hexString}`);\n    }\n    if (targetLength < 0) {\n        throw new Error(`Expected a non-negative integer target length. Received: ${targetLength}`);\n    }\n    return String.prototype.padStart.call(hexString, targetLength, \"0\");\n}\n/**\n * Concatenate an extended ECDSA signature into a hex string.\n *\n * @param v - The 'v' portion of the signature.\n * @param r - The 'r' portion of the signature.\n * @param s - The 's' portion of the signature.\n * @returns The concatenated ECDSA signature.\n */ function concatSig(v, r, s) {\n    const rSig = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.fromSigned)(r);\n    const sSig = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.fromSigned)(s);\n    const vSig = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.bytesToBigInt)(v);\n    const rStr = padWithZeroes(Buffer.from((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.toUnsigned)(rSig)).toString(\"hex\"), 64);\n    const sStr = padWithZeroes(Buffer.from((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.toUnsigned)(sSig)).toString(\"hex\"), 64);\n    const vStr = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.stripHexPrefix)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.bigIntToHex)(vSig));\n    return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.addHexPrefix)(rStr.concat(sStr, vStr));\n}\nfunction timeout$1(duration) {\n    return new Promise((resolve)=>{\n        const timeoutRef = window.setTimeout(()=>{\n            resolve();\n            window.clearTimeout(timeoutRef);\n        }, duration);\n    });\n}\nconst getHeaders = (jwt)=>{\n    return {\n        headers: {\n            Authorization: `Bearer ${jwt}`,\n            \"Content-Type\": \"application/json; charset=utf-8\"\n        }\n    };\n};\n/**\n * Text/number formatting utilities\n */ const formatSmallNumbers = function(number) {\n    let currency = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"usd\";\n    let noTilde = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    const finalNumber = bignumber_js__WEBPACK_IMPORTED_MODULE_4__.BigNumber.isBigNumber(number) ? number.toNumber() : number;\n    if (!Number.isFinite(finalNumber)) return \"\";\n    const value = currency.toLowerCase() === \"usd\" ? parseFloat(Number(finalNumber).toFixed(2)) : parseFloat(Number(finalNumber).toFixed(5));\n    const tilde = value > 0 ? \"~ \" : \"\";\n    return `${currency.toLowerCase() === \"usd\" || noTilde ? \"\" : tilde}${Number(value)} ${currency.toUpperCase()}`;\n};\nconst addressSlicer = function(address) {\n    let sliceLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n    if (!address) return \"\";\n    if (address.length < 11) {\n        return address;\n    }\n    if (typeof address !== \"string\") return \"\";\n    return `${address.slice(0, sliceLength)}...${address.slice(-sliceLength)}`;\n};\nconst significantDigits = function(number) {\n    let perc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    let length_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n    let input = !bignumber_js__WEBPACK_IMPORTED_MODULE_4__.BigNumber.isBigNumber(number) ? new bignumber_js__WEBPACK_IMPORTED_MODULE_4__.BigNumber(number) : number;\n    if (input.isZero()) return input;\n    if (perc) {\n        input = input.times(new bignumber_js__WEBPACK_IMPORTED_MODULE_4__.BigNumber(100));\n    }\n    let depth;\n    if (input.gte(new bignumber_js__WEBPACK_IMPORTED_MODULE_4__.BigNumber(1))) {\n        depth = length_;\n    } else {\n        depth = length_ - 1 + Math.ceil(Math.log10(new bignumber_js__WEBPACK_IMPORTED_MODULE_4__.BigNumber(\"1\").div(input).toNumber()));\n    }\n    const shift = new bignumber_js__WEBPACK_IMPORTED_MODULE_4__.BigNumber(10).pow(new bignumber_js__WEBPACK_IMPORTED_MODULE_4__.BigNumber(depth));\n    const roundedNumber = Math.round(shift.times(input).toNumber()) / shift.toNumber();\n    return roundedNumber;\n};\nconst formatDate = (inputDate)=>{\n    const monthList = [\n        \"Jan\",\n        \"Feb\",\n        \"Mar\",\n        \"Apr\",\n        \"May\",\n        \"Jun\",\n        \"Jul\",\n        \"Aug\",\n        \"Sep\",\n        \"Oct\",\n        \"Nov\",\n        \"Dec\"\n    ];\n    const date = new Date(inputDate);\n    const day = date.getDate();\n    const month = monthList[date.getMonth()];\n    const year = date.getFullYear();\n    return `${day} ${month} ${year}`;\n};\nconst formatTime = (time)=>{\n    return new Date(time).toTimeString().slice(0, 8);\n};\n/**\n * Network utilities\n */ const transactionMatchesNetwork = (transaction, chainId)=>{\n    if (typeof transaction.chainId !== \"undefined\") {\n        return transaction.chainId === chainId;\n    }\n    return false;\n};\n/**\n * Signing utils\n */ const hashMessage = (message)=>{\n    const bufferedMessage = Buffer.from(message, \"utf8\");\n    const el = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.hashPersonalMessage)(bufferedMessage);\n    return Buffer.from(el);\n};\nconst signMessage = async (privateKey, data)=>{\n    const privKey = Buffer.from(privateKey, \"hex\");\n    const message = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.stripHexPrefix)(data);\n    const msgSig = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.ecsign)(Buffer.from(message, \"hex\"), privKey);\n    const rawMsgSig = concatSig(Buffer.from((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_3__.bigIntToBytes)(msgSig.v)), Buffer.from(msgSig.r), Buffer.from(msgSig.s));\n    return rawMsgSig;\n};\n/**\n * popup handler utils\n */ function getPopupFeatures(_ref) {\n    let { width: w, height: h } = _ref;\n    // Fixes dual-screen position                             Most browsers      Firefox\n    const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n    const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n    const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;\n    const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;\n    const systemZoom = 1; // No reliable estimate\n    const left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n    const top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n    const features = `titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${h / systemZoom},width=${w / systemZoom},top=${top},left=${left}`;\n    return features;\n}\nconst broadcastChannelOptions = {\n    type: \"server\",\n    // type: 'localstorage', // (optional) enforce a type, oneOf['native', 'idb', 'localstorage', 'node']\n    webWorkerSupport: false // (optional) set this to false if you know that your channel will never be used in a WebWorker (increases performance)\n};\nfunction getCustomDeviceInfo() {\n    var _navigator;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if ((_navigator = navigator) !== null && _navigator !== void 0 && _navigator.brave) {\n        return {\n            browser: \"Brave\"\n        };\n    }\n}\nclass UserError extends Error {\n}\nconst handleRedirectParameters = (hash, queryParameters)=>{\n    const hashParameters = {};\n    const hashUrl = new URL(`${window.location.origin}/?${hash.slice(1)}`);\n    hashUrl.searchParams.forEach((value, key)=>{\n        hashParameters[key] = value;\n    });\n    let instanceParameters = {};\n    let error = \"\";\n    if (!queryParameters.windowId) {\n        if (Object.keys(hashParameters).length > 0 && hashParameters.state) {\n            instanceParameters = JSON.parse(window.atob(decodeURIComponent(decodeURIComponent(hashParameters.state)))) || {};\n            error = hashParameters.error_description || hashParameters.error || error;\n        } else if (Object.keys(queryParameters).length > 0 && queryParameters.state) {\n            instanceParameters = JSON.parse(window.atob(decodeURIComponent(decodeURIComponent(queryParameters.state)))) || {};\n            if (queryParameters.error) error = queryParameters.error;\n        }\n    }\n    return {\n        error,\n        instanceParameters,\n        hashParameters\n    };\n};\nfunction sleep(ms) {\n    return new Promise((resolve)=>{\n        setTimeout(resolve, ms);\n    });\n}\nclass BaseKeyringController extends BaseController {\n    constructor(_ref){\n        var _state$wallets;\n        let { config = {}, state } = _ref;\n        super({\n            config,\n            state\n        });\n        this.defaultState = {\n            wallets: (_state$wallets = state.wallets) !== null && _state$wallets !== void 0 ? _state$wallets : []\n        };\n        this.initialize();\n    }\n    // for signing auth message\n    async signAuthMessage(address, message) {\n        const keyring = this.state.wallets.find((x)=>x.address === address);\n        if (!keyring) {\n            throw new Error(\"key does not exist\");\n        }\n        const hashedMessage = hashMessage(message).toString(\"hex\");\n        const rawMessageSig = await signMessage(keyring.privateKey, hashedMessage);\n        return rawMessageSig;\n    }\n}\nconst RETRIABLE_ERRORS = [\n    // ignore server overload errors\n    \"Gateway timeout\",\n    \"ETIMEDOUT\",\n    // ignore server sent html error pages\n    // or truncated json responses\n    \"failed to parse response body\",\n    // ignore errors where http req failed to establish\n    \"Failed to fetch\"\n];\nfunction checkForHttpErrors(fetchRes) {\n    // check for errors\n    switch(fetchRes.status){\n        case 405:\n            throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.rpcErrors.methodNotFound();\n        case 418:\n            throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.rpcErrors.internal({\n                message: `Request is being rate limited.`\n            });\n        case 503:\n        case 504:\n            throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.rpcErrors.internal({\n                message: `Gateway timeout. The request took too long to process.` + `This can happen when querying over too wide a block range.`\n            });\n    }\n}\nfunction timeout(duration) {\n    return new Promise((resolve)=>{\n        setTimeout(resolve, duration);\n    });\n}\nfunction parseResponse(fetchRes, body) {\n    // check for error code\n    if (fetchRes.status !== 200) {\n        throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.rpcErrors.internal({\n            message: `Non-200 status code: '${fetchRes.status}'`,\n            data: body\n        });\n    }\n    // check for rpc error\n    if (body.error) {\n        throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.rpcErrors.internal({\n            data: body.error\n        });\n    }\n    // return successful result\n    return body.result;\n}\nfunction createFetchConfigFromReq(_ref) {\n    let { req, rpcTarget, originHttpHeaderKey } = _ref;\n    const parsedUrl = new URL(rpcTarget);\n    // prepare payload\n    // copy only canonical json rpc properties\n    const payload = {\n        id: req.id,\n        jsonrpc: req.jsonrpc,\n        method: req.method,\n        params: req.params\n    };\n    // extract 'origin' parameter from request\n    const originDomain = req.origin;\n    // serialize request body\n    const serializedPayload = JSON.stringify(payload);\n    // configure fetch params\n    const fetchParams = {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: serializedPayload\n    };\n    // optional: add request origin as header\n    if (originHttpHeaderKey && originDomain) {\n        fetchParams.headers[originHttpHeaderKey] = originDomain;\n    }\n    return {\n        fetchUrl: parsedUrl.href,\n        fetchParams\n    };\n}\nfunction createFetchMiddleware(_ref2) {\n    let { rpcTarget, originHttpHeaderKey } = _ref2;\n    return (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.createAsyncMiddleware)(async (req, res, _next)=>{\n        const { fetchUrl, fetchParams } = createFetchConfigFromReq({\n            req,\n            rpcTarget,\n            originHttpHeaderKey\n        });\n        // attempt request multiple times\n        const maxAttempts = 5;\n        const retryInterval = 1000;\n        for(let attempt = 0; attempt < maxAttempts; attempt++){\n            try {\n                const fetchRes = await fetch(fetchUrl, fetchParams);\n                // check for http errrors\n                checkForHttpErrors(fetchRes);\n                // parse response body\n                const fetchBody = await fetchRes.json();\n                const result = parseResponse(fetchRes, fetchBody);\n                // set result and exit retry loop\n                res.result = result;\n                return;\n            } catch (err) {\n                const errMsg = err.toString();\n                const isRetriable = RETRIABLE_ERRORS.some((phrase)=>errMsg.includes(phrase));\n                // re-throw error if not retriable\n                if (!isRetriable) {\n                    throw err;\n                }\n            }\n            // delay before retrying\n            await timeout(retryInterval);\n        }\n    });\n}\nfunction createLoggerMiddleware(options) {\n    return function loggerMiddleware(request, response, next) {\n        next((callback)=>{\n            if (response.error) {\n                loglevel__WEBPACK_IMPORTED_MODULE_6___default().warn(\"Error in RPC response:\\n\", response);\n            }\n            if (request.isTorusInternal) return;\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(`RPC (${options.origin}):`, request, \"->\", response);\n            callback();\n        });\n    };\n}\nfunction createOriginMiddleware(options) {\n    return function originMiddleware(request, _, next) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        request.origin = options.origin;\n        next();\n    };\n}\nconst createRandomId = ()=>Math.random().toString(36).substring(2);\n/**\n * Custom network properties\n * @example isEIP1559Compatible: true etc.\n */ /**\n *\n */ class BroadcastChannelHandler {\n    constructor(channelPrefix){\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"bc\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"channel\", void 0);\n        const queryParameters = new URLSearchParams(window.location.search);\n        const instanceId = queryParameters.get(\"instanceId\");\n        this.channel = `${channelPrefix}_${instanceId}`;\n        this.bc = new _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__.BroadcastChannel(this.channel, broadcastChannelOptions);\n    }\n    getMessageFromChannel() {\n        return new Promise((resolve, reject)=>{\n            this.bc.addEventListener(\"message\", async (ev)=>{\n                this.bc.close();\n                if (ev.error) {\n                    reject(ev.error);\n                } else {\n                    resolve(ev.data);\n                }\n            });\n            this.bc.postMessage({\n                data: {\n                    type: POPUP_LOADED\n                }\n            });\n        });\n    }\n}\nclass StreamWindow extends BaseController {\n    constructor(_ref){\n        let { config, state = {} } = _ref;\n        super({\n            config,\n            state\n        });\n        // if window has been closed by users\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"closed\", false);\n        this.initialize();\n    }\n    async open() {\n        return new Promise((resolve, reject)=>{\n            const { communicationEngine, communicationWindowManager } = this.config;\n            let popupSuccess = false;\n            communicationWindowManager.once(`${this.state.windowId}:closed`, ()=>{\n                this.closed = true;\n            });\n            // Window is not open yet\n            if (!this.state.windowId) {\n                this.update({\n                    windowId: randomId()\n                });\n                communicationWindowManager.once(`${this.state.windowId}:opened`, ()=>{\n                    resolve(this);\n                });\n                // Tell the other party to create a window by prompting the user to click on something\n                communicationEngine.emit(\"notification\", {\n                    method: COMMUNICATION_NOTIFICATIONS.CREATE_WINDOW,\n                    params: {\n                        windowId: this.state.windowId,\n                        url: this.state.url.href\n                    }\n                });\n            } else {\n                // Send this window with `windowId` the url to open via bc\n                const bc = new _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__.BroadcastChannel(this.state.windowId, broadcastChannelOptions);\n                bc.addEventListener(\"message\", async (ev)=>{\n                    try {\n                        loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(ev, `receiving data on channel: ${bc.name}`);\n                        const { error } = ev;\n                        if (error) {\n                            // Popup says some error. so, we say it's not really opened\n                            reject(new Error(error));\n                            return;\n                        }\n                        const { message } = ev.data;\n                        if (message === POPUP_LOADED) {\n                            popupSuccess = true;\n                            await bc.postMessage({\n                                data: {\n                                    url: this.state.url.href,\n                                    message: \"\" // No need of a msg\n                                }\n                            });\n                            resolve(this);\n                            bc.close();\n                        }\n                    } catch (error) {\n                        reject(error);\n                        bc.close();\n                        // Something went wrong. so, we close that window\n                        this.close();\n                    }\n                });\n                // We don't know if the other end is ready to receive this msg. So, we keep writing until it receives and sends back something\n                // we need backoff strategy\n                // we need to wait for first attempt to succeed/fail until the second attempt\n                // If we get 429, we need to wait for a while and then try again\n                const postMsg = async ()=>{\n                    // this never throws\n                    const localResponse = await bc.postMessage({\n                        data: {\n                            message: SETUP_COMPLETE\n                        }\n                    });\n                    return localResponse;\n                };\n                let currentDelay = bc.type === \"server\" ? 1000 : 200;\n                const recursiveFn = async ()=>{\n                    if (!popupSuccess && !this.closed) {\n                        const localResponse = await postMsg();\n                        if (bc.type === \"server\") {\n                            const serverResponse = localResponse;\n                            if (serverResponse.status >= 400) {\n                                // We need to wait for a while and then try again\n                                currentDelay = Math.round(currentDelay * 1.5);\n                            }\n                        }\n                        await sleep(currentDelay);\n                        await recursiveFn();\n                    }\n                };\n                recursiveFn();\n            }\n        });\n    }\n    close() {\n        const { communicationEngine } = this.config;\n        communicationEngine.emit(\"notification\", {\n            method: COMMUNICATION_NOTIFICATIONS.CLOSE_WINDOW,\n            params: {\n                windowId: this.state.windowId\n            }\n        });\n    }\n}\n/*\nScenarios:\n1. Open a normal popup window and no communication with it - Use PopupHandler\n2. Open a popup window and communicate with it - Use PopupWithBcHandler (can initiate communication by waiting for window to open or not)\n\n3. If window is already opened, pass in windowId to the popup handler. \n   This will establish communication with the popup window and sends it a new url to redirect to\n\n\nIf you're trying to open a window and it gets blocked (happens if you're in iframe or delay b/w click and opening window),\nStreamWindow is invoked and it writes in a channel to display a message to the user\n\nOnce user clicks on that modal/dialog, we pre-open the window and pass in the windowId (goes to 3)\n*/ /**\n * Handles popup window management.\n * For broadcast channel communication, use url with `instanceId` coded into state parameter.\n * This state parameter will be passed across redirects according to OAuth spec.\n */ class PopupHandler extends BaseController {\n    constructor(_ref){\n        let { config, state } = _ref;\n        super({\n            config,\n            state\n        });\n        // this.id = randomId()\n        // Add in dapp storage key to all popups as a hash parameter\n        this.defaultConfig = {\n            dappStorageKey: \"\",\n            features: getPopupFeatures(FEATURES_DEFAULT_POPUP_WINDOW),\n            target: \"_blank\",\n            communicationEngine: null,\n            communicationWindowManager: null,\n            timeout: 30000\n        };\n        this.defaultState = {\n            windowTimer: null,\n            window: null,\n            iClosedWindow: false,\n            windowId: \"\",\n            url: state.url\n        };\n        this.initialize();\n        this._setupTimer();\n    }\n    async open() {\n        // if window is already open\n        const { target, features, dappStorageKey, communicationEngine, communicationWindowManager } = this.config;\n        const { windowId, url } = this.state;\n        if (dappStorageKey) {\n            const urlHashParams = new URLSearchParams(url.hash.slice(1));\n            urlHashParams.append(\"dappStorageKey\", dappStorageKey);\n            url.hash = urlHashParams.toString();\n            this.update({\n                url\n            });\n        }\n        // No window has been pre-opened\n        if (!windowId) {\n            // try to open a window first\n            let localWindow = window.open(url.href, target, features);\n            if (!localWindow) {\n                // if it's blocked, open StreamWindow\n                localWindow = new StreamWindow({\n                    config: {\n                        communicationEngine,\n                        communicationWindowManager\n                    },\n                    state: {\n                        url\n                    }\n                });\n                localWindow.open();\n            }\n            this.update({\n                window: localWindow\n            });\n            return;\n        }\n        // A window has been pre-opened with a query parameter `windowId`\n        const localWindow = new StreamWindow({\n            config: {\n                communicationEngine,\n                communicationWindowManager\n            },\n            state: {\n                url,\n                windowId\n            }\n        });\n        this.update({\n            window: localWindow\n        });\n        await localWindow.open();\n    }\n    close() {\n        this.update({\n            iClosedWindow: true\n        });\n        const { window: window1 } = this.state;\n        if (window1) window1.close();\n    }\n    _setupTimer() {\n        const timer = window.setInterval(()=>{\n            const { window: window1, windowTimer, iClosedWindow } = this.state;\n            if (window1 && window1.closed) {\n                if (windowTimer) clearInterval(windowTimer);\n                setTimeout(()=>{\n                    if (!iClosedWindow) {\n                        this.emit(\"close\");\n                    }\n                    this.update({\n                        iClosedWindow: false,\n                        window: null\n                    });\n                }, this.config.timeout);\n            }\n            if (window1 === null && windowTimer) clearInterval(windowTimer);\n        }, 500);\n        this.update({\n            windowTimer: timer\n        });\n    }\n}\nclass PopupStoreChannel {\n    constructor(_ref){\n        let { instanceId, handleLogout, handleAccountImport, handleNetworkChange, handleSelectedAddressChange, handleThemeChange } = _ref;\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"handleLogout\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"handleAccountImport\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"handleNetworkChange\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"handleThemeChange\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"handleSelectedAddressChange\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"instanceId\", void 0);\n        this.instanceId = instanceId;\n        this.handleLogout = handleLogout;\n        this.handleAccountImport = handleAccountImport;\n        this.handleNetworkChange = handleNetworkChange;\n        this.handleSelectedAddressChange = handleSelectedAddressChange;\n        this.handleThemeChange = handleThemeChange;\n    }\n    setupStoreChannels() {\n        this.logoutChannel();\n        this.importAccountChannel();\n        this.networkChangeChannel();\n        this.selectedAddressChangeChannel();\n        this.themeChangedChannel();\n    }\n    logoutChannel() {\n        const logoutChannel = new _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__.BroadcastChannel(`${BROADCAST_CHANNELS.WALLET_LOGOUT_CHANNEL}_${this.instanceId}`, broadcastChannelOptions);\n        logoutChannel.addEventListener(\"message\", (ev)=>{\n            var _ev$data;\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(\"received logout message\", ev);\n            if (!ev.error && ((_ev$data = ev.data) === null || _ev$data === void 0 ? void 0 : _ev$data.type) === BROADCAST_CHANNELS_MSGS.LOGOUT) {\n                loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(\"Logging Out\");\n                this.handleLogout();\n            }\n        });\n    }\n    importAccountChannel() {\n        const walletAccountImportChannel = new _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__.BroadcastChannel(`${BROADCAST_CHANNELS.WALLET_ACCOUNT_IMPORT_CHANNEL}_${this.instanceId}`, broadcastChannelOptions);\n        walletAccountImportChannel.addEventListener(\"message\", (ev)=>{\n            var _ev$data2;\n            if (!ev.error && ((_ev$data2 = ev.data) === null || _ev$data2 === void 0 ? void 0 : _ev$data2.type) === BROADCAST_CHANNELS_MSGS.ACCOUNT_IMPORTED) {\n                var _ev$data3;\n                this.handleAccountImport((_ev$data3 = ev.data) === null || _ev$data3 === void 0 ? void 0 : _ev$data3.privKey);\n            }\n        });\n    }\n    networkChangeChannel() {\n        const walletAccountImportChannel = new _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__.BroadcastChannel(`${BROADCAST_CHANNELS.WALLET_NETWORK_CHANGE_CHANNEL}_${this.instanceId}`, broadcastChannelOptions);\n        walletAccountImportChannel.addEventListener(\"message\", (ev)=>{\n            var _ev$data4;\n            if (!ev.error && ((_ev$data4 = ev.data) === null || _ev$data4 === void 0 ? void 0 : _ev$data4.type) === BROADCAST_CHANNELS_MSGS.NETWORK_CHANGE) {\n                var _ev$data5;\n                this.handleNetworkChange((_ev$data5 = ev.data) === null || _ev$data5 === void 0 ? void 0 : _ev$data5.network);\n            }\n        });\n    }\n    themeChangedChannel() {\n        const walletAccountImportChannel = new _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__.BroadcastChannel(`${BROADCAST_CHANNELS.THEME_CHANGE}_${this.instanceId}`, broadcastChannelOptions);\n        walletAccountImportChannel.addEventListener(\"message\", (ev)=>{\n            var _ev$data6;\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().info({\n                ev\n            });\n            if (!ev.error && ((_ev$data6 = ev.data) === null || _ev$data6 === void 0 ? void 0 : _ev$data6.type) === BROADCAST_CHANNELS_MSGS.SET_THEME) {\n                var _ev$data7;\n                this.handleThemeChange((_ev$data7 = ev.data) === null || _ev$data7 === void 0 ? void 0 : _ev$data7.theme);\n            }\n        });\n    }\n    selectedAddressChangeChannel() {\n        const walletAccountImportChannel = new _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__.BroadcastChannel(`${BROADCAST_CHANNELS.WALLET_SELECTED_ADDRESS_CHANNEL}_${this.instanceId}`, broadcastChannelOptions);\n        walletAccountImportChannel.addEventListener(\"message\", (ev)=>{\n            var _ev$data8;\n            if (!ev.error && ((_ev$data8 = ev.data) === null || _ev$data8 === void 0 ? void 0 : _ev$data8.type) === BROADCAST_CHANNELS_MSGS.SELECTED_ADDRESS_CHANGE) {\n                var _ev$data9;\n                this.handleSelectedAddressChange((_ev$data9 = ev.data) === null || _ev$data9 === void 0 ? void 0 : _ev$data9.selectedAddress);\n            }\n        });\n    }\n}\n/**\n * PopupWithBcHandler is a PopupHandler which uses broadcast channel to communicate with the popup window.\n */ class PopupWithBcHandler extends PopupHandler {\n    constructor(_ref){\n        let { config, state, instanceId } = _ref;\n        super({\n            config,\n            state\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"bc\", void 0);\n        this.bc = new _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__.BroadcastChannel(instanceId, broadcastChannelOptions);\n    }\n    /**\n   * Receives the data from popup window and closes the window\n   * @param successExtraFn - Extra function to be called after the data is received\n   * @returns The data to be received\n   */ handle(successExtraFn) {\n        return new Promise((resolve, reject)=>{\n            const closeListener = ()=>{\n                this.bc.close();\n                reject(new UserError(\"user closed popup\"));\n                this.removeListener(\"close\", closeListener);\n            };\n            this.on(\"close\", closeListener);\n            this.bc.addEventListener(\"message\", async (ev)=>{\n                loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(ev, `receiving data on channel: ${this.bc.name}`);\n                try {\n                    const { error, data } = ev;\n                    if (error) {\n                        reject(new Error(error));\n                        return;\n                    }\n                    if (successExtraFn) await successExtraFn.call(this, data);\n                    resolve(data);\n                } catch (error) {\n                    reject(error);\n                } finally{\n                    this.bc.close();\n                    this.close();\n                }\n            });\n            this.open().then(()=>{\n                loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(`opened window ${this.bc.name}`);\n                // Opened window. yay.  let the bc events do their job\n                return undefined;\n            }).catch((err)=>{\n                loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(err, \"something went wrong while opening window\");\n                reject(err);\n            });\n        });\n    }\n    /**\n   * Use this if we have to send large payloads which don't fit in query/hash params.\n   * Waits for ack that popup window is ready to receive data.\n   * Receives the data from popup window and closes the window\n   * @param payload - The data to be sent to the popup window once we have ack that window is ready to receive data\n   * @param successExtraFn - Extra function to be called after the data is received\n   * @returns The data to be received\n   */ handleWithHandshake(payload, successExtraFn) {\n        return new Promise((resolve, reject)=>{\n            const closeListener = ()=>{\n                this.bc.close();\n                reject(new UserError(\"user closed popup\"));\n                this.removeListener(\"close\", closeListener);\n            };\n            this.on(\"close\", closeListener);\n            this.bc.addEventListener(\"message\", async (ev)=>{\n                try {\n                    loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(ev, `receiving data on channel: ${this.bc.name}`);\n                    const { error, data } = ev;\n                    if (error) {\n                        reject(new Error(error));\n                        return;\n                    }\n                    // Do handshake\n                    const { type = \"\" } = data;\n                    if (type === POPUP_LOADED) {\n                        // Hack with generic to use the same type for both send and receive\n                        await this.bc.postMessage({\n                            data: payload\n                        });\n                    } else if (type === POPUP_RESULT) {\n                        if (successExtraFn) await successExtraFn.call(this, data);\n                        resolve(data);\n                        // Must only close the bc after result is done\n                        this.bc.close();\n                        this.close();\n                    }\n                } catch (error) {\n                    reject(error);\n                    this.bc.close();\n                    this.close();\n                }\n            });\n            this.open().then(()=>{\n                loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(`opened window ${this.bc.name}`);\n                // Opened window. yay.  let the bc events do their job\n                return undefined;\n            }).catch((err)=>{\n                loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(err, \"something went wrong while opening window\");\n                reject(err);\n            });\n        });\n    }\n}\nclass RedirectHandler {\n    constructor(){\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"error\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"finalQueryParams\", {});\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"instanceParameters\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"hashParameters\", void 0);\n        const { hash } = window.location;\n        const queryParameters = new URLSearchParams(window.location.search);\n        queryParameters.forEach((value, key)=>{\n            this.finalQueryParams[key] = value;\n        });\n        const { error, instanceParameters, hashParameters } = handleRedirectParameters(hash, this.finalQueryParams);\n        this.error = error;\n        this.instanceParameters = instanceParameters;\n        this.hashParameters = hashParameters;\n    }\n    async handle() {\n        return new Promise((resolve, reject)=>{\n            const { finalQueryParams, instanceParameters, hashParameters, error } = this;\n            let bc;\n            try {\n                if (!finalQueryParams.windowId) {\n                    bc = new _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__.BroadcastChannel(`${BROADCAST_CHANNELS.REDIRECT_CHANNEL}_${instanceParameters.instanceId}`, broadcastChannelOptions);\n                    bc.addEventListener(\"message\", async (ev)=>{\n                        if (ev.error) {\n                            reject(ev.error);\n                            window.close();\n                        } else {\n                            resolve();\n                            bc.close();\n                            loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(\"posted\", {\n                                finalQueryParams,\n                                hashParameters,\n                                instanceParameters\n                            });\n                        }\n                    });\n                    bc.postMessage({\n                        data: {\n                            instanceParams: instanceParameters,\n                            hashParams: hashParameters,\n                            queryParams: finalQueryParams\n                        },\n                        error\n                    });\n                    setTimeout(()=>{\n                        resolve();\n                        window.location.href = window.location.origin + window.location.search + window.location.hash;\n                    }, 5000);\n                } else {\n                    bc = new _toruslabs_broadcast_channel__WEBPACK_IMPORTED_MODULE_12__.BroadcastChannel(`${finalQueryParams.windowId}`, broadcastChannelOptions);\n                    bc.addEventListener(\"message\", async (ev)=>{\n                        const { url, message } = ev.data;\n                        if (url) {\n                            resolve();\n                            window.location.href = url;\n                        } else if (message === SETUP_COMPLETE) {\n                            await bc.postMessage({\n                                data: {\n                                    windowId: finalQueryParams.windowId,\n                                    message: POPUP_LOADED\n                                }\n                            });\n                        }\n                        if (ev.error && ev.error !== \"\") {\n                            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(ev.error);\n                            resolve();\n                            bc.close();\n                        }\n                    });\n                }\n            } catch (err) {\n                loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(err, \"something went wrong\");\n                reject(err);\n                if (bc) bc.close();\n                window.close();\n            }\n        });\n    }\n}\nconst ACTIVITY_ACTION = {\n    ACTIVITY_ACTION_ALL: \"walletActivity.allTransactions\",\n    ACTIVITY_ACTION_SEND: \"walletActivity.send\",\n    ACTIVITY_ACTION_RECEIVE: \"walletActivity.receive\",\n    ACTIVITY_ACTION_TOPUP: \"walletActivity.topup\"\n};\nconst ACCOUNT_CATEGORY = {\n    NORMAL: \"normal\",\n    THRESHOLD: \"threshold\",\n    IMPORTED: \"imported\"\n};\n/**\n * Preferences controller state\n */ // By default, poll every 3 minutes\nconst DEFAULT_INTERVAL = 180 * 1000;\nconst DEFAULT_PREFERENCES = {\n    selectedCurrency: \"USD\",\n    theme: \"dark\",\n    locale: \"en-US\",\n    accountType: ACCOUNT_CATEGORY.NORMAL,\n    contacts: [],\n    jwtToken: \"\",\n    fetchedPastTx: [],\n    pastTransactions: [],\n    paymentTx: [],\n    defaultPublicAddress: \"\",\n    customTokens: [],\n    customNfts: [],\n    crashReport: true,\n    userInfo: {\n        aggregateVerifier: \"\",\n        email: \"\",\n        name: \"\",\n        profileImage: \"\",\n        typeOfLogin: LOGIN_PROVIDER.GOOGLE,\n        verifier: \"\",\n        verifierId: \"\"\n    }\n};\n/**\n * Controller that stores shared settings and exposes convenience methods\n */ class BasePreferencesController extends BaseController {\n    /**\n   * Creates a PreferencesController instance\n   *\n   * @param config - Initial options used to configure this controller\n   * @param state - Initial state to set on this controller\n   */ constructor(_ref){\n        let { config, state, defaultPreferences, signAuthMessage } = _ref;\n        super({\n            config,\n            state\n        });\n        /**\n     * Name of this controller used during composition\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"name\", \"PreferencesController\");\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"iframeOrigin\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"signAuthMessage\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"defaultPreferences\", void 0);\n        if (!config.api) {\n            throw new Error(\"PreferencesController - no api specified in config.\");\n        }\n        this.defaultState = {\n            identities: {},\n            selectedAddress: \"\",\n            lastErrorMessage: \"\",\n            lastSuccessMessage: \"\"\n        };\n        this.defaultConfig = {\n            api: config.api,\n            pollInterval: DEFAULT_INTERVAL\n        };\n        this.initialize();\n        this.defaultPreferences = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, DEFAULT_PREFERENCES), defaultPreferences);\n        this.signAuthMessage = signAuthMessage;\n    }\n    setIframeOrigin(origin) {\n        this.iframeOrigin = origin;\n    }\n    getAddressState(address) {\n        const selectedAddress = address || this.state.selectedAddress;\n        return this.state.identities[selectedAddress];\n    }\n    /**\n   * Sets selected address\n   *\n   * @param selectedAddress - casper account hash\n   */ setSelectedAddress(selectedAddress) {\n        this.update({\n            selectedAddress\n        });\n    }\n    async getUser(address) {\n        const user = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.get)(`${this.config.api}/user?fetchTx=false`, this.headers(address), {\n            useAPIKey: true\n        });\n        return user.data;\n    }\n    async createUser(params) {\n        const { selectedCurrency, theme, verifier, verifierId, locale, address, idToken } = params;\n        const userPayload = {\n            default_currency: selectedCurrency,\n            theme,\n            verifier,\n            verifier_id: verifierId,\n            locale,\n            idToken\n        };\n        await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.post)(`${this.config.api}/user`, userPayload, this.headers(address), {\n            useAPIKey: true\n        });\n        this.updateState({\n            theme,\n            defaultPublicAddress: address,\n            selectedCurrency,\n            locale\n        }, address);\n    }\n    async storeUserLogin(params) {\n        const { verifierId, verifier, options, address, idToken } = params;\n        if (!options.rehydrate) {\n            const browser = bowser__WEBPACK_IMPORTED_MODULE_8__[\"default\"].getParser(window.navigator.userAgent);\n            const specialBrowser = getCustomDeviceInfo();\n            const recordLoginPayload = {\n                os: browser.getOSName(),\n                os_version: browser.getOSVersion() || \"unidentified\",\n                browser: (specialBrowser === null || specialBrowser === void 0 ? void 0 : specialBrowser.browser) || browser.getBrowserName() || \"unidentified\",\n                browser_version: browser.getBrowserVersion() || \"unidentified\",\n                platform: browser.getPlatform().type || \"desktop\",\n                hostname: this.iframeOrigin,\n                verifier,\n                verifier_id: verifierId,\n                idToken\n            };\n            await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.post)(`${this.config.api}/user/recordLogin`, recordLoginPayload, this.headers(address), {\n                useAPIKey: true\n            });\n        }\n    }\n    async setCrashReport(isEnabled) {\n        var _this$getAddressState;\n        if (isEnabled === ((_this$getAddressState = this.getAddressState()) === null || _this$getAddressState === void 0 ? void 0 : _this$getAddressState.crashReport)) return true;\n        try {\n            await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.patch)(`${this.config.api}/user`, {\n                enable_crash_reporter: isEnabled\n            }, this.headers(), {\n                useAPIKey: true\n            });\n            this.updateState({\n                crashReport: isEnabled\n            });\n            return true;\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(error);\n            return false;\n        }\n    }\n    async setUserTheme(theme) {\n        var _this$getAddressState2;\n        if (theme === ((_this$getAddressState2 = this.getAddressState()) === null || _this$getAddressState2 === void 0 ? void 0 : _this$getAddressState2.theme)) return true;\n        try {\n            await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.patch)(`${this.config.api}/user`, {\n                theme\n            }, this.headers(), {\n                useAPIKey: true\n            });\n            this.updateState({\n                theme\n            });\n            return true;\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(error);\n            return false;\n        }\n    }\n    async setUserLocale(locale) {\n        var _this$getAddressState3;\n        if (locale === ((_this$getAddressState3 = this.getAddressState()) === null || _this$getAddressState3 === void 0 ? void 0 : _this$getAddressState3.locale)) return;\n        try {\n            await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.patch)(`${this.config.api}/user`, {\n                locale\n            }, this.headers(), {\n                useAPIKey: true\n            });\n            this.updateState({\n                locale\n            });\n            return true;\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(\"unable to set locale\", error);\n            return false;\n        }\n    }\n    async setSelectedCurrency(payload) {\n        var _this$getAddressState4;\n        if (payload.selectedCurrency === ((_this$getAddressState4 = this.getAddressState()) === null || _this$getAddressState4 === void 0 ? void 0 : _this$getAddressState4.selectedCurrency)) return true;\n        try {\n            await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.patch)(`${this.config.api}/user`, {\n                default_currency: payload.selectedCurrency\n            }, this.headers(), {\n                useAPIKey: true\n            });\n            this.updateState({\n                selectedCurrency: payload.selectedCurrency\n            });\n            return true;\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(error);\n            return false;\n        }\n    }\n    async addContact(contact) {\n        try {\n            var _this$getAddressState5;\n            const response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.post)(`${this.config.api}/contact`, contact, this.headers(), {\n                useAPIKey: true\n            });\n            this.updateState({\n                contacts: [\n                    ...((_this$getAddressState5 = this.getAddressState()) === null || _this$getAddressState5 === void 0 ? void 0 : _this$getAddressState5.contacts) || [],\n                    response.data\n                ]\n            });\n            return true;\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(\"unable to add contact\", error);\n            return false;\n        }\n    }\n    async deleteContact(contactId) {\n        try {\n            var _this$getAddressState6;\n            const response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.remove)(`${this.config.api}/contact/${contactId}`, {}, this.headers(), {\n                useAPIKey: true\n            });\n            const finalContacts = (_this$getAddressState6 = this.getAddressState()) === null || _this$getAddressState6 === void 0 ? void 0 : _this$getAddressState6.contacts.filter((contact)=>contact.id !== response.data.id);\n            if (finalContacts) this.updateState({\n                contacts: [\n                    ...finalContacts\n                ]\n            });\n            return true;\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(\"unable to delete contact\", error);\n            return false;\n        }\n    }\n    async revokeDiscord(idToken) {\n        try {\n            const resp = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.post)(`${this.config.api}/revoke/discord`, {\n                token: idToken\n            }, this.headers(), {\n                useAPIKey: true\n            });\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(resp);\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(error);\n        }\n    }\n    async patchPastTx(body, address) {\n        try {\n            const response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.patch)(`${this.config.api}/transaction`, body, this.headers(address), {\n                useAPIKey: true\n            });\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(\"successfully patched\", response);\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(\"unable to patch tx\", error);\n        }\n    }\n    async postPastTx(tx, address) {\n        try {\n            const response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.post)(`${this.config.api}/transaction`, tx, this.headers(address), {\n                useAPIKey: true\n            });\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().info(\"successfully posted tx\", response);\n            return response;\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(error, \"unable to insert transaction\");\n        }\n    }\n    async getWalletOrders(address) {\n        try {\n            const response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.get)(`${this.config.api}/transaction`, this.headers(address), {\n                useAPIKey: true\n            });\n            return response.success ? response.data ? response.data : [] : [];\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(\"unable to get wallet orders tx\", error);\n            return [];\n        }\n    }\n    async getTopUpOrders(address) {\n        try {\n            const response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.get)(`${this.config.commonApiHost}/transaction`, this.headers(address), {\n                useAPIKey: true\n            });\n            return response.data || [];\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(\"unable to fetch past Top up orders\", error);\n        }\n    }\n    async getBillBoardData() {\n        try {\n            const response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.get)(`${this.config.api}/billboard`, this.headers(), {\n                useAPIKey: true\n            });\n            return response.success ? response.data : [];\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(\"unable to get billboard data\", error);\n            return [];\n        }\n    }\n    async getMessageForSigning(publicAddress) {\n        const response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.post)(`${this.config.api}/auth/message`, {\n            public_address: publicAddress\n        }, {}, {\n            useAPIKey: true\n        });\n        return response.message;\n    }\n    async getTwitterId(payload) {\n        const res = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.get)(`${this.config.api}/twitter?screen_name=${payload.nick}`, this.headers(), {\n            useAPIKey: true\n        });\n        return `${payload.typeOfLogin.toLowerCase()}|${res.data.toString()}`;\n    }\n    async sendEmail(payload) {\n        return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.post)(`${this.config.api}/transaction/sendemail`, payload.emailObject, this.headers(), {\n            useAPIKey: true\n        });\n    }\n    async refreshJwt() {\n        const address = this.state.selectedAddress;\n        const messageToSign = await this.getMessageForSigning(address);\n        if (!messageToSign.startsWith(this.config.signInPrefix)) throw new Error(\"Cannot sign on invalid message\");\n        const signedMessage = await this.signAuthMessage(address, messageToSign);\n        const response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.post)(`${this.config.api}/auth/verify`, {\n            public_address: address,\n            signed_message: signedMessage\n        }, {}, {\n            useAPIKey: true\n        });\n        this.updateState({\n            jwtToken: response.token\n        }, address);\n    }\n    async getDappList() {\n        try {\n            const response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.get)(`${this.config.api}/dapps`, this.headers(), {\n                useAPIKey: true\n            });\n            return response.success ? response.data : [];\n        } catch (error) {\n            loglevel__WEBPACK_IMPORTED_MODULE_6___default().error(\"unable to get billboard data\", error);\n            return [];\n        }\n    }\n    async init(address, userInfo, jwtToken) {\n        let metadata = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        let type = arguments.length > 4 ? arguments[4] : undefined;\n        let response = {\n            token: jwtToken\n        };\n        if (this.getAddressState(address)) return;\n        if (!jwtToken) {\n            const messageToSign = await this.getMessageForSigning(address);\n            if (!messageToSign.startsWith(this.config.signInPrefix)) throw new Error(\"Cannot sign on invalid message\");\n            const signedMessage = await this.signAuthMessage(address, messageToSign);\n            response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.post)(`${this.config.api}/auth/verify`, _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({\n                public_address: address,\n                signed_message: signedMessage,\n                verifier: userInfo.aggregateVerifier || userInfo.verifier,\n                verifier_id: userInfo.verifierId\n            }, metadata), {}, {\n                useAPIKey: true\n            });\n        }\n        this.updateState({\n            jwtToken: response.token,\n            userInfo,\n            accountType: type !== null && type !== void 0 ? type : this.defaultPreferences.accountType\n        }, address);\n    }\n    updateState(preferences, address) {\n        const selectedAddress = address || this.state.selectedAddress;\n        const currentState = this.getAddressState(selectedAddress) || lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_9___default()(this.defaultPreferences);\n        const mergedState = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, currentState), preferences);\n        this.update({\n            identities: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, this.state.identities), {}, {\n                [selectedAddress]: mergedState\n            })\n        });\n        return mergedState;\n    }\n    headers(address) {\n        var _this$getAddressState7;\n        const selectedAddress = address || this.state.selectedAddress;\n        return getHeaders(((_this$getAddressState7 = this.getAddressState(selectedAddress)) === null || _this$getAddressState7 === void 0 ? void 0 : _this$getAddressState7.jwtToken) || \"\");\n    }\n}\n/**\n * The status of the transaction. Each status represents the state of the transaction internally\n * in the wallet. Some of these correspond with the state of the transaction on the network, but\n * some are wallet-specific.\n */ let TransactionStatus = /*#__PURE__*/ function(TransactionStatus) {\n    TransactionStatus[\"approved\"] = \"approved\";\n    TransactionStatus[\"cancelled\"] = \"cancelled\";\n    TransactionStatus[\"cancelling\"] = \"cancelling\";\n    TransactionStatus[\"confirmed\"] = \"confirmed\";\n    TransactionStatus[\"failed\"] = \"failed\";\n    TransactionStatus[\"finalized\"] = \"finalized\";\n    TransactionStatus[\"processed\"] = \"processed\";\n    TransactionStatus[\"rejected\"] = \"rejected\";\n    TransactionStatus[\"signed\"] = \"signed\";\n    TransactionStatus[\"submitted\"] = \"submitted\";\n    TransactionStatus[\"unapproved\"] = \"unapproved\";\n    TransactionStatus[\"dropped\"] = \"dropped\";\n    TransactionStatus[\"expired\"] = \"expired\";\n    TransactionStatus[\"pending\"] = \"pending\";\n    return TransactionStatus;\n}({});\nconst TRANSACTION_TYPES = {\n    CANCEL: \"cancel\",\n    RETRY: \"retry\",\n    CONTRACT_INTERACTION: \"contractInteraction\",\n    DEPLOY_CONTRACT: \"contractDeployment\",\n    WASM_BASED_DEPLOY: \"wasmBasedDeploy\",\n    STANDARD_TRANSACTION: \"transaction\",\n    STANDARD_PAYMENT_TRANSACTION: \"payment_transaction\",\n    // specific to chains like solana and casper\n    SENT_ETHER: \"sentEther\",\n    TOKEN_METHOD_TRANSFER: \"transfer\",\n    TOKEN_METHOD_TRANSFER_FROM: \"transferFrom\",\n    TOKEN_METHOD_APPROVE: \"approve\",\n    COLLECTIBLE_METHOD_SAFE_TRANSFER_FROM: \"safeTransferFrom\",\n    SET_APPROVAL_FOR_ALL: \"setApprovalForAll\"\n};\nconst TX_EVENTS = {\n    TX_WARNING: \"tx:warning\",\n    TX_ERROR: \"tx:error\",\n    TX_FAILED: \"tx:failed\",\n    TX_CONFIRMED: \"tx:confirmed\",\n    TX_DROPPED: \"tx:dropped\",\n    TX_EXPIRED: \"tx:expired\",\n    TX_STATUS_UPDATE: \"tx:status_update\",\n    TX_UNAPPROVED: \"tx:unapproved\",\n    TX_RETRY: \"tx:retry\",\n    TX_BLOCK_UPDATE: \"tx:block_update\"\n};\n/**\n * Transaction controller configuration\n */ /**\n * Transaction controller state\n */ /**\n * Result\n *\n * result - Promise resolving to a new transaction hash\n * transactionMeta - Meta information about this new transaction\n */ class BaseTransactionStateManager extends BaseController {\n    constructor(_ref){\n        let { config, state, getCurrentChainId } = _ref;\n        super({\n            config,\n            state\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"getCurrentChainId\", void 0);\n        this.defaultConfig = {\n            txHistoryLimit: 40\n        };\n        this.defaultState = {\n            transactions: {},\n            unapprovedTxs: {},\n            currentNetworkTxsList: []\n        };\n        this.initialize();\n        this.getCurrentChainId = getCurrentChainId;\n    }\n    getUnapprovedTxList() {\n        const chainId = this.getCurrentChainId();\n        return lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default()(this.state.transactions, (transaction)=>transaction.status === TransactionStatus.unapproved && transactionMatchesNetwork(transaction, chainId));\n    }\n    getTransaction(txId) {\n        const { transactions } = this.state;\n        return transactions[txId];\n    }\n    updateTransaction(txMeta) {\n        // commit txMeta to state\n        const txId = txMeta.id;\n        txMeta.updated_at = new Date().toISOString();\n        this.update({\n            transactions: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, this.state.transactions), {}, {\n                [txId]: txMeta\n            })\n        });\n    }\n    setTxStatusRejected(txId) {\n        this._setTransactionStatus(txId, TransactionStatus.rejected);\n        this._deleteTransaction(txId);\n    }\n    /**\n   * The implementing controller can override this functionality and add custom logic + call super.()\n   */ setTxStatusUnapproved(txId) {\n        this._setTransactionStatus(txId, TransactionStatus.unapproved);\n    }\n    setTxStatusApproved(txId) {\n        this._setTransactionStatus(txId, TransactionStatus.approved);\n    }\n    setTxStatusSigned(txId, isFinalStep) {\n        this._setTransactionStatus(txId, TransactionStatus.signed, isFinalStep);\n    }\n    setTxStatusSubmitted(txId) {\n        this._setTransactionStatus(txId, TransactionStatus.submitted);\n    }\n    setTxStatusDropped(txId) {\n        this._setTransactionStatus(txId, TransactionStatus.dropped);\n    }\n    setTxStatusExpired(txId) {\n        this._setTransactionStatus(txId, TransactionStatus.expired);\n    }\n    setTxStatusConfirmed(txId) {\n        this._setTransactionStatus(txId, TransactionStatus.confirmed);\n    }\n    setTxStatusFailed(txId, error_) {\n        const error = !error_ ? new Error(\"Internal torus failure\") : error_;\n        const txMeta = this.getTransaction(txId);\n        txMeta.error = error;\n        this.updateTransaction(txMeta);\n        this._setTransactionStatus(txId, TransactionStatus.failed);\n    }\n    /**\n   * Method to determine if the transaction is in a final state\n   * @param status - Transaction status\n   * @returns boolean if the transaction is in a final state\n   */ isFinalState(status) {\n        return status === TransactionStatus.rejected || status === TransactionStatus.submitted || status === TransactionStatus.confirmed || status === TransactionStatus.failed || status === TransactionStatus.cancelled || status === TransactionStatus.expired;\n    }\n    /**\n   * Filters out the unapproved transactions from state\n   */ clearUnapprovedTxs() {\n        this.update({\n            transactions: lodash_omitBy__WEBPACK_IMPORTED_MODULE_11___default()(this.state.transactions, (transaction)=>transaction.status === TransactionStatus.unapproved)\n        });\n    }\n    /**\n   * will append new transactions to old txns.\n   */ _addTransactionsToState(transactions) {\n        this.update({\n            transactions: transactions.reduce((result, newTx)=>{\n                result[newTx.id] = newTx;\n                return result;\n            }, this.state.transactions)\n        });\n    }\n    /**\n   * will set new txns, override existing if any in state.\n   */ _setTransactionsToState(transactions) {\n        this.update({\n            transactions: transactions.reduce((result, newTx)=>{\n                result[newTx.id] = newTx;\n                return result;\n            }, {})\n        });\n    }\n    _deleteTransaction(targetTransactionId) {\n        const { transactions } = this.state;\n        delete transactions[targetTransactionId];\n        this.update({\n            transactions\n        });\n    }\n    _deleteTransactions(targetTransactionIds) {\n        const { transactions } = this.state;\n        targetTransactionIds.forEach((transactionId)=>{\n            delete transactions[transactionId];\n        });\n        this.update({\n            transactions\n        });\n    }\n    _setTransactionStatus(txId, status, isFinalStep) {\n        const txMeta = this.getTransaction(txId);\n        if (!txMeta) {\n            return;\n        }\n        txMeta.status = status;\n        // only updating status so no validation required on txn.\n        this.updateTransaction(txMeta);\n        this.emit(TX_EVENTS.TX_STATUS_UPDATE, {\n            txId,\n            status\n        });\n        if (this.isFinalState(status) || isFinalStep) {\n            this.emit(`${txMeta.id}:finished`, txMeta);\n        } else {\n            this.emit(`${txMeta.id}:${status}`, txId);\n        }\n    }\n}\n //# sourceMappingURL=baseControllers.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL2Rpc3QvYmFzZUNvbnRyb2xsZXJzLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUU7QUFDRztBQUMyRjtBQUNDO0FBQ3ZIO0FBQ1E7QUFDdEI7QUFDcUM7QUFDRztBQUN2QztBQUN1QjtBQUFBO0FBQUE7QUFFbkQ7O0NBRUMsR0FDRCxNQUFNNkIsdUJBQXVCM0IsdUVBQWdCQTtJQUMzQzs7Ozs7O0dBTUMsR0FDRDRCLFlBQVlDLElBQUksQ0FBRTtRQUNoQixJQUFJLEVBQ0ZDLFNBQVMsQ0FBQyxDQUFDLEVBQ1hDLFFBQVEsQ0FBQyxDQUFDLEVBQ1gsR0FBR0Y7UUFDSixLQUFLO1FBQ0wsa0VBQWtFO1FBQ2xFOztLQUVDLEdBQ0Q5Qiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLENBQUM7UUFDeEM7O0tBRUMsR0FDREEsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGdCQUFnQixDQUFDO1FBQ3ZDOztLQUVDLEdBQ0RBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxZQUFZO1FBQ2xDOztLQUVDLEdBQ0RBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxRQUFRO1FBQzlCQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLEtBQUs7UUFDNUNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxnQkFBZ0IsS0FBSztRQUMzQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGtCQUFrQixJQUFJLENBQUNpQyxhQUFhO1FBQzFEakMsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGlCQUFpQixJQUFJLENBQUNrQyxZQUFZO1FBQ3hELElBQUksQ0FBQ0MsWUFBWSxHQUFHSDtRQUNwQixJQUFJLENBQUNJLGFBQWEsR0FBR0w7SUFD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QyxTQUFTLENBQUMsRUFBRTZQO1FBQ3JDLE9BQU87WUFDTCxJQUFJLENBQUM3b0IsSUFBSSxDQUFDLENBQUMsRUFBRTZvQixPQUFPN1AsRUFBRSxDQUFDLENBQUMsRUFBRVosT0FBTyxDQUFDLEVBQUV1UTtRQUN0QztJQUNGO0FBQ0Y7QUFFNjJELENBQzcyRCwrQ0FBK0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvYmFzZS1jb250cm9sbGVycy9kaXN0L2Jhc2VDb250cm9sbGVycy5lc20uanM/ZDk0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDInO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCB7IFNhZmVFdmVudEVtaXR0ZXIsIGNyZWF0ZUFzeW5jTWlkZGxld2FyZSwgbWVyZ2VNaWRkbGV3YXJlLCBjcmVhdGVTY2FmZm9sZE1pZGRsZXdhcmUsIEpSUENFbmdpbmUsIHByb3ZpZGVyRnJvbUVuZ2luZSB9IGZyb20gJ0B0b3J1c2xhYnMvb3BlbmxvZ2luLWpycGMnO1xuaW1wb3J0IHsgZnJvbVNpZ25lZCwgYnl0ZXNUb0JpZ0ludCwgdG9VbnNpZ25lZCwgc3RyaXBIZXhQcmVmaXgsIGJpZ0ludFRvSGV4LCBhZGRIZXhQcmVmaXgsIGhhc2hQZXJzb25hbE1lc3NhZ2UsIGVjc2lnbiwgYmlnSW50VG9CeXRlcyB9IGZyb20gJ0BldGhlcmV1bWpzL3V0aWwnO1xuaW1wb3J0IHsgQmlnTnVtYmVyIH0gZnJvbSAnYmlnbnVtYmVyLmpzJztcbmltcG9ydCB7IHJwY0Vycm9ycyB9IGZyb20gJ0BtZXRhbWFzay9ycGMtZXJyb3JzJztcbmltcG9ydCBsb2cgZnJvbSAnbG9nbGV2ZWwnO1xuaW1wb3J0IHsgQnJvYWRjYXN0Q2hhbm5lbCB9IGZyb20gJ0B0b3J1c2xhYnMvYnJvYWRjYXN0LWNoYW5uZWwnO1xuaW1wb3J0IHsgZ2V0LCBwb3N0LCBwYXRjaCwgcmVtb3ZlIH0gZnJvbSAnQHRvcnVzbGFicy9odHRwLWhlbHBlcnMnO1xuaW1wb3J0IGJvd3NlciBmcm9tICdib3dzZXInO1xuaW1wb3J0IHsgY2xvbmVEZWVwLCBwaWNrQnksIG9taXRCeSB9IGZyb20gJ2xvZGFzaCc7XG5cbi8qKlxuICogQ29udHJvbGxlciBjbGFzcyB0aGF0IHByb3ZpZGVzIGNvbmZpZ3VyYXRpb24sIHN0YXRlIG1hbmFnZW1lbnQsIGFuZCBzdWJzY3JpcHRpb25zXG4gKi9cbmNsYXNzIEJhc2VDb250cm9sbGVyIGV4dGVuZHMgU2FmZUV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgQmFzZUNvbnRyb2xsZXIgaW5zdGFuY2UuIEJvdGggaW5pdGlhbCBzdGF0ZSBhbmQgaW5pdGlhbFxuICAgKiBjb25maWd1cmF0aW9uIG9wdGlvbnMgYXJlIG1lcmdlZCB3aXRoIGRlZmF1bHRzIHVwb24gaW5pdGlhbGl6YXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWcgLSBJbml0aWFsIG9wdGlvbnMgdXNlZCB0byBjb25maWd1cmUgdGhpcyBjb250cm9sbGVyXG4gICAqIEBwYXJhbSBzdGF0ZSAtIEluaXRpYWwgc3RhdGUgdG8gc2V0IG9uIHRoaXMgY29udHJvbGxlclxuICAgKi9cbiAgY29uc3RydWN0b3IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBjb25maWcgPSB7fSxcbiAgICAgIHN0YXRlID0ge31cbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcigpO1xuICAgIC8vIFVzZSBhc3NpZ24gc2luY2UgZ2VuZXJpY3MgY2FuJ3QgYmUgc3ByZWFkOiBodHRwczovL2dpdC5pby92cFJoWVxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgb3B0aW9ucyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGlzIGNvbnRyb2xsZXJcbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZWZhdWx0Q29uZmlnXCIsIHt9KTtcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHN0YXRlIHNldCBvbiB0aGlzIGNvbnRyb2xsZXJcbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZWZhdWx0U3RhdGVcIiwge30pO1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgbGlzdGVuZXJzIGFyZSBub3RpZmllZCBvZiBzdGF0ZSBjaGFuZ2VzXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhpcyBjb250cm9sbGVyIHVzZWQgZHVyaW5nIGNvbXBvc2l0aW9uXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCBcIkJhc2VDb250cm9sbGVyXCIpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaXRpYWxDb25maWdcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0aWFsU3RhdGVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnRlcm5hbENvbmZpZ1wiLCB0aGlzLmRlZmF1bHRDb25maWcpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImludGVybmFsU3RhdGVcIiwgdGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgIHRoaXMuaW5pdGlhbFN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5pbml0aWFsQ29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBjdXJyZW50IGNvbnRyb2xsZXIgY29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAqXG4gICAqIEByZXR1cm5zIC0gQ3VycmVudCBjb25maWd1cmF0aW9uXG4gICAqL1xuICBnZXQgY29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLmludGVybmFsQ29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBjdXJyZW50IGNvbnRyb2xsZXIgc3RhdGVcbiAgICpcbiAgICogQHJldHVybnMgLSBDdXJyZW50IHN0YXRlXG4gICAqL1xuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxTdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGNvbnRyb2xsZXIgY29uZmlndXJhdGlvblxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnIC0gTmV3IGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3ZlcndyaXRlIC0gT3ZlcndyaXRlIGNvbmZpZyBpbnN0ZWFkIG9mIG1lcmdpbmdcbiAgICogQHBhcmFtIGZ1bGxVcGRhdGUgLSBCb29sZWFuIHRoYXQgZGVmaW5lcyBpZiB0aGUgdXBkYXRlIGlzIHBhcnRpYWwgb3Igbm90XG4gICAqL1xuICBjb25maWd1cmUoY29uZmlnKSB7XG4gICAgbGV0IG92ZXJ3cml0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgbGV0IGZ1bGxVcGRhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7XG4gICAgaWYgKGZ1bGxVcGRhdGUpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxDb25maWcgPSBvdmVyd3JpdGUgPyBjb25maWcgOiBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJuYWxDb25maWcsIGNvbmZpZyk7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmludGVybmFsQ29uZmlnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5pbnRlcm5hbENvbmZpZ1trZXldICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICB0aGlzW2tleV0gPSB0aGlzLmludGVybmFsQ29uZmlnW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5pbnRlcm5hbENvbmZpZ1trZXldICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbENvbmZpZ1trZXldID0gY29uZmlnW2tleV07XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICB0aGlzW2tleV0gPSBjb25maWdba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGNvbnRyb2xsZXIgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHN0YXRlIC0gTmV3IHN0YXRlXG4gICAqIEBwYXJhbSBvdmVyd3JpdGUgLSBPdmVyd3JpdGUgc3RhdGUgaW5zdGVhZCBvZiBtZXJnaW5nXG4gICAqL1xuICB1cGRhdGUoc3RhdGUpIHtcbiAgICBsZXQgb3ZlcndyaXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICB0aGlzLmludGVybmFsU3RhdGUgPSBvdmVyd3JpdGUgPyBfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSkgOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuaW50ZXJuYWxTdGF0ZSksIHN0YXRlKTtcbiAgICB0aGlzLmVtaXQoXCJzdG9yZVwiLCB0aGlzLmludGVybmFsU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGhlIGNvbnRyb2xsZXIuIFRoaXMgc2V0cyBlYWNoIGNvbmZpZyBvcHRpb24gYXMgYSBtZW1iZXJcbiAgICogdmFyaWFibGUgb24gdGhpcyBpbnN0YW5jZSBhbmQgdHJpZ2dlcnMgYW55IGRlZmluZWQgc2V0dGVycy4gVGhpc1xuICAgKiBhbHNvIHNldHMgaW5pdGlhbCBzdGF0ZSBhbmQgdHJpZ2dlcnMgYW55IGxpc3RlbmVycy5cbiAgICpcbiAgICogQHJldHVybnMgLSBUaGlzIGNvbnRyb2xsZXIgaW5zdGFuY2VcbiAgICovXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlID0gdGhpcy5kZWZhdWx0U3RhdGU7XG4gICAgdGhpcy5pbnRlcm5hbENvbmZpZyA9IHRoaXMuZGVmYXVsdENvbmZpZztcbiAgICB0aGlzLmNvbmZpZ3VyZSh0aGlzLmluaXRpYWxDb25maWcpO1xuICAgIHRoaXMudXBkYXRlKHRoaXMuaW5pdGlhbFN0YXRlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5jb25zdCBzZWMgPSAxMDAwO1xuY29uc3QgY2FsY3VsYXRlU3VtID0gKGFjY3VtdWxhdG9yLCBjdXJyZW50VmFsdWUpID0+IGFjY3VtdWxhdG9yICsgY3VycmVudFZhbHVlO1xuY29uc3QgYmxvY2tUcmFja2VyRXZlbnRzID0gW1wic3luY1wiLCBcImxhdGVzdFwiXTtcbmNsYXNzIEJhc2VCbG9ja1RyYWNrZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgY29uZmlnID0ge30sXG4gICAgICBzdGF0ZSA9IHt9XG4gICAgfSA9IF9yZWY7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnLFxuICAgICAgc3RhdGVcbiAgICB9KTtcblxuICAgIC8vIGNvbmZpZ1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwgXCJCYXNlQmxvY2tUcmFja2VyXCIpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ibG9ja1Jlc2V0VGltZW91dFwiLCB2b2lkIDApO1xuICAgIHRoaXMuZGVmYXVsdFN0YXRlID0ge1xuICAgICAgX2N1cnJlbnRCbG9jazoge1xuICAgICAgICBpZGVtcG90ZW5jeUtleTogXCJcIlxuICAgICAgfSxcbiAgICAgIF9pc1J1bm5pbmc6IGZhbHNlXG4gICAgfTtcbiAgICB0aGlzLmRlZmF1bHRDb25maWcgPSB7XG4gICAgICBibG9ja1Jlc2V0RHVyYXRpb246IDIwICogc2VjXG4gICAgfTtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcblxuICAgIC8vIGJpbmQgZnVuY3Rpb25zIGZvciBpbnRlcm5hbCB1c2VcbiAgICB0aGlzLl9vbk5ld0xpc3RlbmVyID0gdGhpcy5fb25OZXdMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uUmVtb3ZlTGlzdGVuZXIgPSB0aGlzLl9vblJlbW92ZUxpc3RlbmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVzZXRDdXJyZW50QmxvY2sgPSB0aGlzLl9yZXNldEN1cnJlbnRCbG9jay5iaW5kKHRoaXMpO1xuXG4gICAgLy8gbGlzdGVuIGZvciBoYW5kbGVyIGNoYW5nZXNcbiAgICB0aGlzLl9zZXR1cEludGVybmFsRXZlbnRzKCk7XG4gIH1cbiAgaXNSdW5uaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLl9pc1J1bm5pbmc7XG4gIH1cbiAgZ2V0Q3VycmVudEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLl9jdXJyZW50QmxvY2s7XG4gIH1cbiAgYXN5bmMgZ2V0TGF0ZXN0QmxvY2soKSB7XG4gICAgLy8gcmV0dXJuIGlmIGF2YWlsYWJsZVxuICAgIGlmICh0aGlzLnN0YXRlLl9jdXJyZW50QmxvY2suaWRlbXBvdGVuY3lLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9jdXJyZW50QmxvY2s7XG4gICAgfVxuICAgIC8vIHdhaXQgZm9yIGEgbmV3IGxhdGVzdCBibG9ja1xuICAgIGNvbnN0IGxhdGVzdEJsb2NrID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLm9uY2UoXCJsYXRlc3RcIiwgYmxvY2sgPT4ge1xuICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICByZXNvbHZlKGJsb2NrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8gcmV0dXJuIG5ld2x5IHNldCBjdXJyZW50IGJsb2NrXG4gICAgcmV0dXJuIGxhdGVzdEJsb2NrO1xuICB9XG5cbiAgLy8gZG9udCBhbGxvdyBtb2R1bGUgY29uc3VtZXIgdG8gcmVtb3ZlIG91ciBpbnRlcm5hbCBldmVudCBsaXN0ZW5lcnNcbiAgcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50TmFtZSkge1xuICAgIGlmIChldmVudE5hbWUpIHtcbiAgICAgIHN1cGVyLnJlbW92ZUFsbExpc3RlbmVycyhldmVudE5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXBlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgLy8gcmUtYWRkIGludGVybmFsIGV2ZW50c1xuICAgIHRoaXMuX3NldHVwSW50ZXJuYWxFdmVudHMoKTtcbiAgICAvLyB0cmlnZ2VyIHN0b3AgY2hlY2sganVzdCBpbiBjYXNlXG4gICAgdGhpcy5fb25SZW1vdmVMaXN0ZW5lcigpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzLlxuICAgKi9cbiAgX3N0YXJ0KCkge1xuICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgaXMgbm9vcFxuICB9XG5cbiAgLyoqXG4gICAqIFRvIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzLlxuICAgKi9cbiAgX2VuZCgpIHtcbiAgICAvLyBkZWZhdWx0IGJlaGF2aW9yIGlzIG5vb3BcbiAgfVxuICBfbmV3UG90ZW50aWFsTGF0ZXN0KG5ld0Jsb2NrKSB7XG4gICAgY29uc3QgY3VycmVudEJsb2NrID0gdGhpcy5zdGF0ZS5fY3VycmVudEJsb2NrO1xuICAgIC8vIG9ubHkgdXBkYXRlIGlmIGJsb2NrIG51bWJlciBpcyBoaWdoZXJcbiAgICBpZiAoY3VycmVudEJsb2NrICYmIG5ld0Jsb2NrLmlkZW1wb3RlbmN5S2V5ID09PSBjdXJyZW50QmxvY2suaWRlbXBvdGVuY3lLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fc2V0Q3VycmVudEJsb2NrKG5ld0Jsb2NrKTtcbiAgfVxuICBfc2V0dXBJbnRlcm5hbEV2ZW50cygpIHtcbiAgICAvLyBmaXJzdCByZW1vdmUgbGlzdGVuZXJzIGZvciBpZGVtcG90ZW5jeVxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJuZXdMaXN0ZW5lclwiLCB0aGlzLl9vbk5ld0xpc3RlbmVyKTtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKFwicmVtb3ZlTGlzdGVuZXJcIiwgdGhpcy5fb25SZW1vdmVMaXN0ZW5lcik7XG4gICAgLy8gdGhlbiBhZGQgdGhlbVxuICAgIHRoaXMub24oXCJyZW1vdmVMaXN0ZW5lclwiLCB0aGlzLl9vblJlbW92ZUxpc3RlbmVyKTtcbiAgICB0aGlzLm9uKFwibmV3TGlzdGVuZXJcIiwgdGhpcy5fb25OZXdMaXN0ZW5lcik7XG4gIH1cbiAgX29uTmV3TGlzdGVuZXIoKSB7XG4gICAgdGhpcy5fbWF5YmVTdGFydCgpO1xuICB9XG4gIF9vblJlbW92ZUxpc3RlbmVyKCkge1xuICAgIC8vIGByZW1vdmVMaXN0ZW5lcmAgaXMgY2FsbGVkICphZnRlciogdGhlIGxpc3RlbmVyIGlzIHJlbW92ZWRcbiAgICBpZiAodGhpcy5fZ2V0QmxvY2tUcmFja2VyRXZlbnRDb3VudCgpID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tYXliZUVuZCgpO1xuICB9XG4gIF9tYXliZVN0YXJ0KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLl9pc1J1bm5pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5faXNSdW5uaW5nID0gdHJ1ZTtcbiAgICAvLyBjYW5jZWwgc2V0dGluZyBsYXRlc3QgYmxvY2sgdG8gc3RhbGVcbiAgICB0aGlzLl9jYW5jZWxCbG9ja1Jlc2V0VGltZW91dCgpO1xuICAgIHRoaXMuX3N0YXJ0KCk7XG4gIH1cbiAgX21heWJlRW5kKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5faXNSdW5uaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuX2lzUnVubmluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3NldHVwQmxvY2tSZXNldFRpbWVvdXQoKTtcbiAgICB0aGlzLl9lbmQoKTtcbiAgfVxuICBfZ2V0QmxvY2tUcmFja2VyRXZlbnRDb3VudCgpIHtcbiAgICByZXR1cm4gYmxvY2tUcmFja2VyRXZlbnRzLm1hcChldmVudE5hbWUgPT4gdGhpcy5saXN0ZW5lckNvdW50KGV2ZW50TmFtZSkpLnJlZHVjZShjYWxjdWxhdGVTdW0pO1xuICB9XG4gIF9zZXRDdXJyZW50QmxvY2sobmV3QmxvY2spIHtcbiAgICBjb25zdCBvbGRCbG9jayA9IHRoaXMuc3RhdGUuX2N1cnJlbnRCbG9jaztcbiAgICB0aGlzLnVwZGF0ZSh7XG4gICAgICBfY3VycmVudEJsb2NrOiBuZXdCbG9ja1xuICAgIH0pO1xuICAgIHRoaXMuZW1pdChcImxhdGVzdFwiLCBuZXdCbG9jayk7XG4gICAgdGhpcy5lbWl0KFwic3luY1wiLCB7XG4gICAgICBvbGRCbG9jayxcbiAgICAgIG5ld0Jsb2NrXG4gICAgfSk7XG4gIH1cbiAgX3NldHVwQmxvY2tSZXNldFRpbWVvdXQoKSB7XG4gICAgLy8gY2xlYXIgYW55IGV4aXN0aW5nIHRpbWVvdXRcbiAgICB0aGlzLl9jYW5jZWxCbG9ja1Jlc2V0VGltZW91dCgpO1xuICAgIC8vIGNsZWFyIGxhdGVzdCBibG9jayB3aGVuIHN0YWxlXG4gICAgdGhpcy5fYmxvY2tSZXNldFRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX3Jlc2V0Q3VycmVudEJsb2NrLCB0aGlzLmNvbmZpZy5ibG9ja1Jlc2V0RHVyYXRpb24pO1xuXG4gICAgLy8gbm9kZWpzIC0gZG9udCBob2xkIHByb2Nlc3Mgb3BlblxuICAgIGlmICh0aGlzLl9ibG9ja1Jlc2V0VGltZW91dC51bnJlZikge1xuICAgICAgdGhpcy5fYmxvY2tSZXNldFRpbWVvdXQudW5yZWYoKTtcbiAgICB9XG4gIH1cbiAgX2NhbmNlbEJsb2NrUmVzZXRUaW1lb3V0KCkge1xuICAgIGlmICh0aGlzLl9ibG9ja1Jlc2V0VGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2Jsb2NrUmVzZXRUaW1lb3V0KTtcbiAgICB9XG4gIH1cbiAgX3Jlc2V0Q3VycmVudEJsb2NrKCkge1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIF9jdXJyZW50QmxvY2s6IHtcbiAgICAgICAgaWRlbXBvdGVuY3lLZXk6IFwiXCJcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBmaWx0ZXJOb29wID0gKCkgPT4gdHJ1ZTtcbmNvbnN0IGludGVybmFsRXZlbnRzID0gW1wibmV3TGlzdGVuZXJcIiwgXCJyZW1vdmVMaXN0ZW5lclwiXTtcbmNvbnN0IGV4dGVybmFsRXZlbnRGaWx0ZXIgPSBuYW1lID0+ICFpbnRlcm5hbEV2ZW50cy5pbmNsdWRlcyhuYW1lKTtcbmZ1bmN0aW9uIGdldFJhd0xpc3RlbmVycyhldmVudEVtaXR0ZXIsIG5hbWUpIHtcbiAgLy8gcHJlZmVyIG5hdGl2ZVxuICByZXR1cm4gdHlwZW9mIGV2ZW50RW1pdHRlci5yYXdMaXN0ZW5lcnMgIT09IFwidW5kZWZpbmVkXCIgPyBldmVudEVtaXR0ZXIucmF3TGlzdGVuZXJzKG5hbWUpIDogZXZlbnRFbWl0dGVyLmxpc3RlbmVycyhuYW1lKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50RW1pdHRlclByb3h5KGluaXRpYWxUYXJnZXQsIG9wdHMpIHtcbiAgLy8gcGFyc2Ugb3B0aW9uc1xuICBjb25zdCBmaW5hbE9wdHMgPSBvcHRzIHx8IHt9O1xuICBsZXQgZXZlbnRGaWx0ZXIgPSBmaW5hbE9wdHMuZXZlbnRGaWx0ZXIgfHwgZmlsdGVyTm9vcDtcbiAgaWYgKHR5cGVvZiBldmVudEZpbHRlciA9PT0gXCJzdHJpbmdcIiAmJiBldmVudEZpbHRlciA9PT0gXCJza2lwSW50ZXJuYWxcIikgZXZlbnRGaWx0ZXIgPSBleHRlcm5hbEV2ZW50RmlsdGVyO1xuICBpZiAodHlwZW9mIGV2ZW50RmlsdGVyICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihcImNyZWF0ZUV2ZW50RW1pdHRlclByb3h5IC0gSW52YWxpZCBldmVudEZpbHRlclwiKTtcbiAgbGV0IHRhcmdldCA9IGluaXRpYWxUYXJnZXQ7XG4gIGxldCBzZXRUYXJnZXQgPSBuZXdUYXJnZXQgPT4ge1xuICAgIGNvbnN0IG9sZFRhcmdldCA9IHRhcmdldDtcbiAgICB0YXJnZXQgPSBuZXdUYXJnZXQ7XG4gICAgb2xkVGFyZ2V0LmV2ZW50TmFtZXMoKS5maWx0ZXIoZXZlbnRGaWx0ZXIpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgZ2V0UmF3TGlzdGVuZXJzKG9sZFRhcmdldCwgbmFtZSkuZm9yRWFjaChoYW5kbGVyID0+IG5ld1RhcmdldC5vbihuYW1lLCBoYW5kbGVyKSk7XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgb2xkIGxpc3RlbmVyc1xuICAgIG9sZFRhcmdldC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfTtcbiAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoe30sIHtcbiAgICBnZXQ6IChfLCBuYW1lKSA9PiB7XG4gICAgICAvLyBvdmVycmlkZSBgc2V0VGFyZ2V0YCBhY2Nlc3NcbiAgICAgIGlmIChuYW1lID09PSBcInNldFRhcmdldFwiKSByZXR1cm4gc2V0VGFyZ2V0O1xuICAgICAgcmV0dXJuIHRhcmdldFtuYW1lXTtcbiAgICB9LFxuICAgIHNldDogKF8sIG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAvLyBhbGxvdyBgc2V0VGFyZ2V0YCBvdmVycmlkZXNcbiAgICAgIGlmIChuYW1lID09PSBcInNldFRhcmdldFwiKSB7XG4gICAgICAgIHNldFRhcmdldCA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHByb3h5O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTd2FwcGFibGVQcm94eShpbml0aWFsVGFyZ2V0KSB7XG4gIGxldCB0YXJnZXQgPSBpbml0aWFsVGFyZ2V0O1xuICBsZXQgc2V0VGFyZ2V0ID0gbmV3VGFyZ2V0ID0+IHtcbiAgICB0YXJnZXQgPSBuZXdUYXJnZXQ7XG4gIH07XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHt9LCB7XG4gICAgZ2V0OiAoXywgbmFtZSkgPT4ge1xuICAgICAgLy8gb3ZlcnJpZGUgYHNldFRhcmdldGAgYWNjZXNzXG4gICAgICBpZiAobmFtZSA9PT0gXCJzZXRUYXJnZXRcIikgcmV0dXJuIHNldFRhcmdldDtcbiAgICAgIHJldHVybiB0YXJnZXRbbmFtZV07XG4gICAgfSxcbiAgICBzZXQ6IChfLCBuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgLy8gYWxsb3cgYHNldFRhcmdldGAgb3ZlcnJpZGVzXG4gICAgICBpZiAobmFtZSA9PT0gXCJzZXRUYXJnZXRcIikge1xuICAgICAgICBzZXRUYXJnZXQgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB0YXJnZXRbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBwcm94eTtcbn1cblxuLy8gZXZlcnkgdGVuIG1pbnV0ZXNcbmNvbnN0IFBPTExJTkdfSU5URVJWQUwgPSA2MDAwMDA7XG5jbGFzcyBCYXNlQ3VycmVuY3lDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgbGV0IHtcbiAgICAgIGNvbmZpZyA9IHt9LFxuICAgICAgc3RhdGVcbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcih7XG4gICAgICBjb25maWcsXG4gICAgICBzdGF0ZVxuICAgIH0pO1xuICAgIHRoaXMuZGVmYXVsdFN0YXRlID0ge1xuICAgICAgY3VycmVudEN1cnJlbmN5OiBcInVzZFwiLFxuICAgICAgY29udmVyc2lvblJhdGU6IDAsXG4gICAgICBjb252ZXJzaW9uRGF0ZTogXCJOL0FcIixcbiAgICAgIG5hdGl2ZUN1cnJlbmN5OiBcIkVUSFwiXG4gICAgfTtcbiAgICB0aGlzLmRlZmF1bHRDb25maWcgPSB7XG4gICAgICBwb2xsSW50ZXJ2YWw6IFBPTExJTkdfSU5URVJWQUxcbiAgICB9O1xuICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLy9cbiAgLy8gUFVCTElDIE1FVEhPRFNcbiAgLy9cblxuICBnZXROYXRpdmVDdXJyZW5jeSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5uYXRpdmVDdXJyZW5jeTtcbiAgfVxuICBzZXROYXRpdmVDdXJyZW5jeShuYXRpdmVDdXJyZW5jeSkge1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIG5hdGl2ZUN1cnJlbmN5LFxuICAgICAgdGlja2VyOiBuYXRpdmVDdXJyZW5jeVxuICAgIH0pO1xuICB9XG4gIGdldEN1cnJlbnRDdXJyZW5jeSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50Q3VycmVuY3k7XG4gIH1cbiAgc2V0Q3VycmVudEN1cnJlbmN5KGN1cnJlbnRDdXJyZW5jeSkge1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIGN1cnJlbnRDdXJyZW5jeVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgZ2V0dGVyIGZvciB0aGUgY29udmVyc2lvblJhdGUgcHJvcGVydHlcbiAgICpcbiAgICogQHJldHVybnMgVGhlIGNvbnZlcnNpb24gcmF0ZSBmcm9tIEVUSCB0byB0aGUgc2VsZWN0ZWQgY3VycmVuY3kuXG4gICAqXG4gICAqL1xuICBnZXRDb252ZXJzaW9uUmF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jb252ZXJzaW9uUmF0ZTtcbiAgfVxuICBzZXRDb252ZXJzaW9uUmF0ZShjb252ZXJzaW9uUmF0ZSkge1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIGNvbnZlcnNpb25SYXRlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQSBnZXR0ZXIgZm9yIHRoZSBjb252ZXJzaW9uRGF0ZSBwcm9wZXJ0eVxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgZGF0ZSBhdCB3aGljaCB0aGUgY29udmVyc2lvbiByYXRlIHdhcyBzZXQuIEV4cHJlc3NlZCBpbiBtaWxsaXNlY29uZHMgc2luY2UgbWlkbmlnaHQgb2ZcbiAgICogSmFudWFyeSAxLCAxOTcwXG4gICAqXG4gICAqL1xuICBnZXRDb252ZXJzaW9uRGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jb252ZXJzaW9uRGF0ZTtcbiAgfVxuICBzZXRDb252ZXJzaW9uRGF0ZShjb252ZXJzaW9uRGF0ZSkge1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIGNvbnZlcnNpb25EYXRlXG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgRkVBVFVSRVNfUFJPVklERVJfQ0hBTkdFX1dJTkRPVyA9IHtcbiAgaGVpZ2h0OiA2NjAsXG4gIHdpZHRoOiAzNzVcbn07XG5jb25zdCBGRUFUVVJFU19ERUZBVUxUX1dBTExFVF9XSU5ET1cgPSB7XG4gIGhlaWdodDogNzQwLFxuICB3aWR0aDogMTMxNVxufTtcbmNvbnN0IEZFQVRVUkVTX0RFRkFVTFRfUE9QVVBfV0lORE9XID0ge1xuICBoZWlnaHQ6IDcwMCxcbiAgd2lkdGg6IDEyMDBcbn07XG5jb25zdCBGRUFUVVJFU19DT05GSVJNX1dJTkRPVyA9IHtcbiAgaGVpZ2h0OiA3MDAsXG4gIHdpZHRoOiA0NTBcbn07XG5jb25zdCBQT1BVUF9MT0FERUQgPSBcInBvcHVwX2xvYWRlZFwiO1xuY29uc3QgUE9QVVBfUkVTVUxUID0gXCJwb3B1cF9yZXN1bHRcIjtcbmNvbnN0IFNFVFVQX0NPTVBMRVRFID0gXCJzZXR1cF9jb21wbGV0ZVwiO1xuY29uc3QgQUNUSVZJVFlfQUNUSU9OX0FMTCA9IFwid2FsbGV0QWN0aXZpdHkuYWxsVHJhbnNhY3Rpb25zXCI7XG5jb25zdCBBQ1RJVklUWV9BQ1RJT05fU0VORCA9IFwid2FsbGV0QWN0aXZpdHkuc2VuZFwiO1xuY29uc3QgQUNUSVZJVFlfQUNUSU9OX0JVUk4gPSBcIndhbGxldEFjdGl2aXR5LmJ1cm5cIjtcbmNvbnN0IEFDVElWSVRZX0FDVElPTl9SRUNFSVZFID0gXCJ3YWxsZXRBY3Rpdml0eS5yZWNlaXZlXCI7XG5jb25zdCBBQ1RJVklUWV9BQ1RJT05fVE9QVVAgPSBcIndhbGxldEFjdGl2aXR5LnRvcHVwXCI7XG5jb25zdCBBQ1RJVklUWV9BQ1RJT05fQ1JFQVRFX1RSVVNUTElORSA9IFwid2FsbGV0QWN0aXZpdHkuY3JlYXRlVHJ1c3RsaW5lXCI7XG5jb25zdCBBQ1RJVklUWV9BQ1RJT05fUkVNT1ZFX1RSVVNUTElORSA9IFwid2FsbGV0QWN0aXZpdHkucmVtb3ZlVHJ1c3RsaW5lXCI7XG5jb25zdCBBQ1RJVklUWV9BQ1RJT05fQ1JFQVRFX05GVF9PRkZFUiA9IFwid2FsbGV0QWN0aXZpdHkuY3JlYXRlTmZ0T2ZmZXJcIjtcbmNvbnN0IEFDVElWSVRZX0FDVElPTl9BQ0NFUFRfTkZUX09GRkVSID0gXCJ3YWxsZXRBY3Rpdml0eS5hY2NlcHROZnRPZmZlclwiO1xuY29uc3QgQUNUSVZJVFlfQUNUSU9OX0NBTkNFTF9ORlRfT0ZGRVIgPSBcIndhbGxldEFjdGl2aXR5LmNhbmNlbE5mdE9mZmVyXCI7XG5jb25zdCBBQ1RJVklUWV9QRVJJT0RfQUxMID0gXCJ3YWxsZXRBY3Rpdml0eS5hbGxcIjtcbmNvbnN0IEFDVElWSVRZX1BFUklPRF9XRUVLX09ORSA9IFwid2FsbGV0QWN0aXZpdHkubGFzdE9uZVdlZWtcIjtcbmNvbnN0IEFDVElWSVRZX1BFUklPRF9NT05USF9PTkUgPSBcIndhbGxldEFjdGl2aXR5Lmxhc3RPbmVNb250aFwiO1xuY29uc3QgQUNUSVZJVFlfUEVSSU9EX01PTlRIX1NJWCA9IFwid2FsbGV0QWN0aXZpdHkubGFzdFNpeE1vbnRzXCI7XG5jb25zdCBBQ1RJVklUWV9TVEFUVVNfU1VDQ0VTU0ZVTCA9IFwid2FsbGV0QWN0aXZpdHkuc3VjY2Vzc2Z1bFwiO1xuY29uc3QgQUNUSVZJVFlfU1RBVFVTX1VOU1VDQ0VTU0ZVTCA9IFwid2FsbGV0QWN0aXZpdHkudW5zdWNjZXNzZnVsXCI7XG5jb25zdCBBQ1RJVklUWV9TVEFUVVNfUEVORElORyA9IFwid2FsbGV0QWN0aXZpdHkucGVuZGluZ1wiO1xuY29uc3QgQUNUSVZJVFlfU1RBVFVTX0NBTkNFTExFRCA9IFwid2FsbGV0QWN0aXZpdHkuY2FuY2VsbGVkXCI7XG5jb25zdCBBQ1RJVklUWV9TVEFUVVNfQ0FOQ0VMTElORyA9IFwid2FsbGV0QWN0aXZpdHkuY2FuY2VsbGluZ1wiO1xuY29uc3QgQ09NTVVOSUNBVElPTl9OT1RJRklDQVRJT05TID0ge1xuICBJRlJBTUVfU1RBVFVTOiBcImlmcmFtZV9zdGF0dXNcIixcbiAgLy8gVGVsbCBlbWJlZCB0byBjcmVhdGUgdGhlIHdpbmRvd1xuICBDUkVBVEVfV0lORE9XOiBcImNyZWF0ZV93aW5kb3dcIixcbiAgLy8gVGVsbCBlbWJlZCB0byBjbG9zZSB0aGUgd2luZG93XG4gIENMT1NFX1dJTkRPVzogXCJjbG9zZV93aW5kb3dcIixcbiAgVVNFUl9MT0dHRURfSU46IFwidXNlcl9sb2dnZWRfaW5cIixcbiAgVVNFUl9MT0dHRURfT1VUOiBcInVzZXJfbG9nZ2VkX291dFwiXG59O1xuY29uc3QgQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMgPSB7XG4gIExPR09VVDogXCJsb2dvdXRcIixcbiAgV0FMTEVUX0lOU1RBTkNFX0lEOiBcIndhbGxldF9pbnN0YW5jZV9pZFwiLFxuICBVU0VSX0lORk86IFwidXNlcl9pbmZvXCIsXG4gIFNFVF9QUk9WSURFUjogXCJzZXRfcHJvdmlkZXJcIixcbiAgVE9QVVA6IFwidG9wdXBcIixcbiAgSUZSQU1FX1NUQVRVUzogXCJpZnJhbWVfc3RhdHVzXCIsXG4gIC8vIGVtYmVkIGhhcyBvcGVuZWQgdGhlIHdpbmRvdyBhcyByZXF1ZXN0ZWRcbiAgT1BFTkVEX1dJTkRPVzogXCJvcGVuZWRfd2luZG93XCIsXG4gIC8vIHVzZXIgaGFzIGNsb3NlZCB0aGUgd2luZG93IGZyb20gZW1iZWQncyBzaWRlXG4gIENMT1NFRF9XSU5ET1c6IFwiY2xvc2VkX3dpbmRvd1wiLFxuICBXSU5ET1dfQkxPQ0tFRDogXCJ3aW5kb3dfYmxvY2tlZFwiLFxuICBHRVRfUFJPVklERVJfU1RBVEU6IFwiZ2V0X3Byb3ZpZGVyX3N0YXRlXCIsXG4gIExPR0lOX1dJVEhfUFJJVkFURV9LRVk6IFwibG9naW5fd2l0aF9wcml2YXRlX2tleVwiLFxuICBTSE9XX1dBTExFVF9DT05ORUNUOiBcInNob3dfd2FsbGV0X2Nvbm5lY3RcIixcbiAgU0hPV19DSEVDS09VVDogXCJzaG93X2NoZWNrb3V0XCIsXG4gIFNIT1dfV0FMTEVUX1VJOiBcInNob3dfd2FsbGV0X3VpXCJcbn07XG5jb25zdCBQUk9WSURFUl9KUlBDX01FVEhPRFMgPSB7XG4gIEdFVF9QUk9WSURFUl9TVEFURTogXCJ3YWxsZXRfZ2V0X3Byb3ZpZGVyX3N0YXRlXCJcbn07XG5jb25zdCBQUk9WSURFUl9OT1RJRklDQVRJT05TID0ge1xuICBBQ0NPVU5UU19DSEFOR0VEOiBcIndhbGxldF9hY2NvdW50c19jaGFuZ2VkXCIsXG4gIENIQUlOX0NIQU5HRUQ6IFwid2FsbGV0X2NoYWluX2NoYW5nZWRcIixcbiAgVU5MT0NLX1NUQVRFX0NIQU5HRUQ6IFwid2FsbGV0X3VubG9ja19zdGF0ZV9jaGFuZ2VkXCJcbn07XG5jb25zdCBCUk9BRENBU1RfQ0hBTk5FTFMgPSB7XG4gIFJFRElSRUNUX0NIQU5ORUw6IFwicmVkaXJlY3RfY2hhbm5lbFwiLFxuICBQUk9WSURFUl9DSEFOR0VfQ0hBTk5FTDogXCJ0b3J1c19wcm92aWRlcl9jaGFuZ2VfY2hhbm5lbFwiLFxuICBUUkFOU0FDVElPTl9DSEFOTkVMOiBcInRvcnVzX2NoYW5uZWxcIixcbiAgTUVTU0FHRV9DSEFOTkVMOiBcInRvcnVzX21lc3NhZ2VfY2hhbm5lbFwiLFxuICBXQUxMRVRfTE9HT1VUX0NIQU5ORUw6IFwid2FsbGV0X2xvZ291dF9jaGFubmVsXCIsXG4gIFdBTExFVF9TRUxFQ1RFRF9BRERSRVNTX0NIQU5ORUw6IFwid2FsbGV0X3NlbGVjdGVkX2FkZHJlc3NfY2hhbm5lbFwiLFxuICBXQUxMRVRfTkVUV09SS19DSEFOR0VfQ0hBTk5FTDogXCJ3YWxsZXRfbmV0d29ya19jaGFuZ2VfY2hhbm5lbFwiLFxuICBXQUxMRVRfQUNDT1VOVF9JTVBPUlRfQ0hBTk5FTDogXCJ3YWxsZXRfYWNjb3VudF9pbXBvcnRfY2hhbm5lbFwiLFxuICBUSEVNRV9DSEFOR0U6IFwidGhlbWVfY2hhbmdlX2NoYW5uZWxcIixcbiAgVE9QX1VQX0NIQU5ORUw6IFwidG9wX3VwX2NoYW5uZWxcIlxufTtcbmNvbnN0IEJST0FEQ0FTVF9DSEFOTkVMU19NU0dTID0ge1xuICBMT0dPVVQ6IFwibG9nb3V0XCIsXG4gIEFDQ09VTlRfSU1QT1JURUQ6IFwiYWNjb3VudF9pbXBvcnRlZFwiLFxuICBTRUxFQ1RFRF9BRERSRVNTX0NIQU5HRTogXCJzZWxlY3RlZF9hZGRyZXNzX2NoYW5nZVwiLFxuICBORVRXT1JLX0NIQU5HRTogXCJuZXR3b3JrX2NoYW5nZVwiLFxuICBTRVRfVEhFTUU6IFwic2V0X3RoZW1lXCJcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUNoYW5nZVByb3ZpZGVyTWlkZGxld2FyZU1pZGRsZXdhcmUoX3JlZikge1xuICBsZXQge1xuICAgIGNoYW5nZVByb3ZpZGVyXG4gIH0gPSBfcmVmO1xuICByZXR1cm4gY3JlYXRlQXN5bmNNaWRkbGV3YXJlKGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG1ldGhvZFxuICAgIH0gPSByZXF1ZXN0O1xuICAgIGlmIChtZXRob2QgIT09IENPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTLlNFVF9QUk9WSURFUikgcmV0dXJuIG5leHQoKTtcbiAgICBpZiAoIWNoYW5nZVByb3ZpZGVyKSB0aHJvdyBuZXcgRXJyb3IoXCJDb21tdW5pY2F0aW9uTWlkZGxld2FyZSAtIG9wdHMuY2hhbmdlUHJvdmlkZXIgbm90IHByb3ZpZGVkXCIpO1xuICAgIHJlc3BvbnNlLnJlc3VsdCA9IGF3YWl0IGNoYW5nZVByb3ZpZGVyKHJlcXVlc3QpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRvcHVwTWlkZGxld2FyZShfcmVmMikge1xuICBsZXQge1xuICAgIHRvcHVwXG4gIH0gPSBfcmVmMjtcbiAgcmV0dXJuIGNyZWF0ZUFzeW5jTWlkZGxld2FyZShhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBtZXRob2RcbiAgICB9ID0gcmVxdWVzdDtcbiAgICBpZiAobWV0aG9kICE9PSBDT01NVU5JQ0FUSU9OX0pSUENfTUVUSE9EUy5UT1BVUCkgcmV0dXJuIG5leHQoKTtcbiAgICBpZiAoIXRvcHVwKSB0aHJvdyBuZXcgRXJyb3IoXCJDb21tdW5pY2F0aW9uTWlkZGxld2FyZSAtIG9wdHMudG9wdXAgbm90IHByb3ZpZGVkXCIpO1xuICAgIHJlc3BvbnNlLnJlc3VsdCA9IGF3YWl0IHRvcHVwKHJlcXVlc3QpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUdlbmVyaWNKUlBDTWlkZGxld2FyZSh0YXJnZXRNZXRob2QsIGhhbmRsZXIpIHtcbiAgcmV0dXJuIGNyZWF0ZUFzeW5jTWlkZGxld2FyZShhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBtZXRob2RcbiAgICB9ID0gcmVxdWVzdDtcbiAgICBpZiAobWV0aG9kICE9PSB0YXJnZXRNZXRob2QpIHJldHVybiBuZXh0KCk7XG4gICAgaWYgKCFoYW5kbGVyKSB0aHJvdyBuZXcgRXJyb3IoYENvbW11bmljYXRpb25NaWRkbGV3YXJlIC0gJHt0YXJnZXRNZXRob2R9IG5vdCBwcm92aWRlZGApO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZXIocmVxdWVzdCk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuICAgIHJlc3BvbnNlLnJlc3VsdCA9IHJlc3VsdDtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbW11bmljYXRpb25NaWRkbGV3YXJlKHByb3ZpZGVySGFuZGxlcnMpIHtcbiAgY29uc3Qge1xuICAgIGdldFVzZXJJbmZvLFxuICAgIGdldFdhbGxldEluc3RhbmNlSWQsXG4gICAgdG9wdXAsXG4gICAgbG9nb3V0LFxuICAgIGNoYW5nZVByb3ZpZGVyLFxuICAgIHNldElGcmFtZVN0YXR1cyxcbiAgICBoYW5kbGVXaW5kb3dScGMsXG4gICAgZ2V0UHJvdmlkZXJTdGF0ZSxcbiAgICBsb2dpbldpdGhQcml2YXRlS2V5LFxuICAgIHNob3dXYWxsZXRDb25uZWN0LFxuICAgIHNob3dDaGVja291dCxcbiAgICBzaG93V2FsbGV0VWksXG4gICAgc2hvd1dpbmRvd0Jsb2NrQWxlcnRcbiAgfSA9IHByb3ZpZGVySGFuZGxlcnM7XG4gIHJldHVybiBtZXJnZU1pZGRsZXdhcmUoW2NyZWF0ZUNoYW5nZVByb3ZpZGVyTWlkZGxld2FyZU1pZGRsZXdhcmUoe1xuICAgIGNoYW5nZVByb3ZpZGVyXG4gIH0pLCBjcmVhdGVUb3B1cE1pZGRsZXdhcmUoe1xuICAgIHRvcHVwXG4gIH0pLCBjcmVhdGVTY2FmZm9sZE1pZGRsZXdhcmUoe1xuICAgIFtDT01NVU5JQ0FUSU9OX0pSUENfTUVUSE9EUy5MT0dPVVRdOiBsb2dvdXQsXG4gICAgW0NPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTLldBTExFVF9JTlNUQU5DRV9JRF06IGdldFdhbGxldEluc3RhbmNlSWQsXG4gICAgW0NPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTLlVTRVJfSU5GT106IGdldFVzZXJJbmZvLFxuICAgIFtDT01NVU5JQ0FUSU9OX0pSUENfTUVUSE9EUy5JRlJBTUVfU1RBVFVTXTogc2V0SUZyYW1lU3RhdHVzLFxuICAgIC8vIERvIHRoaXMgaW4gdGhlIG9yY2hlc3RyYXRvciBiZWNhdXNlIGNvbW11bmljYXRpb25XaW5kb3dNYW5hZ2VyIG5lZWRzIHRvIGJlIHBhc3NlZCBpbnRvIFBvcHVwSGFuZGxlcnNcbiAgICBbQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMuT1BFTkVEX1dJTkRPV106IGhhbmRsZVdpbmRvd1JwYyxcbiAgICBbQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMuQ0xPU0VEX1dJTkRPV106IGhhbmRsZVdpbmRvd1JwYyxcbiAgICBbQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMuR0VUX1BST1ZJREVSX1NUQVRFXTogZ2V0UHJvdmlkZXJTdGF0ZSxcbiAgICBbQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMuU0hPV19XQUxMRVRfQ09OTkVDVF06IHNob3dXYWxsZXRDb25uZWN0LFxuICAgIFtDT01NVU5JQ0FUSU9OX0pSUENfTUVUSE9EUy5TSE9XX0NIRUNLT1VUXTogc2hvd0NoZWNrb3V0LFxuICAgIFtDT01NVU5JQ0FUSU9OX0pSUENfTUVUSE9EUy5TSE9XX1dBTExFVF9VSV06IHNob3dXYWxsZXRVaSxcbiAgICBbQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMuV0lORE9XX0JMT0NLRURdOiBzaG93V2luZG93QmxvY2tBbGVydFxuICB9KSwgY3JlYXRlR2VuZXJpY0pSUENNaWRkbGV3YXJlKENPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTLkxPR0lOX1dJVEhfUFJJVkFURV9LRVksIGxvZ2luV2l0aFByaXZhdGVLZXkpXSk7XG59XG5cbmNsYXNzIEJhc2VFbWJlZENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgY29uZmlnID0ge30sXG4gICAgICBzdGF0ZVxuICAgIH0gPSBfcmVmO1xuICAgIHN1cGVyKHtcbiAgICAgIGNvbmZpZyxcbiAgICAgIHN0YXRlXG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NvbW11bmljYXRpb25Qcm92aWRlclByb3h5XCIsIHZvaWQgMCk7XG4gICAgdGhpcy5kZWZhdWx0U3RhdGUgPSB7XG4gICAgICBidXR0b25Qb3NpdGlvbjogXCJib3R0b20tcmlnaHRcIixcbiAgICAgIGlzSUZyYW1lRnVsbFNjcmVlbjogdHJ1ZSxcbiAgICAgIGFwaUtleTogXCJ0b3J1cy1kZWZhdWx0XCIsXG4gICAgICBvYXV0aE1vZGFsVmlzaWJpbGl0eTogZmFsc2UsXG4gICAgICBsb2dpbkluUHJvZ3Jlc3M6IGZhbHNlLFxuICAgICAgZGFwcE1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGljb246IFwiXCJcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBieSBvcmNoZXN0cmF0b3Igb25jZSB3aGlsZSBpbml0aWFsaXppbmcgdGhlIGNsYXNzXG4gICAqIEBwYXJhbSBoYW5kbGVycyAtIEpSUEMgaGFuZGxlcnMgZm9yIHByb3ZpZGVyXG4gICAqIEByZXR1cm5zIC0gcHJvdmlkZXIgLSBSZXR1cm5zIHRoZSBwcm92aWRlclByb3h5XG4gICAqL1xuICBpbml0aWFsaXplUHJvdmlkZXIoaGFuZGxlcnMpIHtcbiAgICBjb25zdCBlbmdpbmUgPSBuZXcgSlJQQ0VuZ2luZSgpO1xuICAgIGNvbnN0IGNvbW11bmljYXRpb25NaWRkbGV3YXJlID0gY3JlYXRlQ29tbXVuaWNhdGlvbk1pZGRsZXdhcmUoaGFuZGxlcnMpO1xuICAgIGVuZ2luZS5wdXNoKGNvbW11bmljYXRpb25NaWRkbGV3YXJlKTtcbiAgICBjb25zdCBjb21tdW5pY2F0aW9uUHJvdmlkZXIgPSBwcm92aWRlckZyb21FbmdpbmUoZW5naW5lKTtcbiAgICB0aGlzLnNldENvbW11bmljYXRpb25Qcm92aWRlcihjb21tdW5pY2F0aW9uUHJvdmlkZXIpO1xuICB9XG4gIHNldENvbW11bmljYXRpb25Qcm92aWRlcihjb21tdW5pY2F0aW9uUHJvdmlkZXIpIHtcbiAgICBpZiAodGhpcy5fY29tbXVuaWNhdGlvblByb3ZpZGVyUHJveHkpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHRoaXMuX2NvbW11bmljYXRpb25Qcm92aWRlclByb3h5LnNldFRhcmdldChjb21tdW5pY2F0aW9uUHJvdmlkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb21tdW5pY2F0aW9uUHJvdmlkZXJQcm94eSA9IGNyZWF0ZVN3YXBwYWJsZVByb3h5KGNvbW11bmljYXRpb25Qcm92aWRlcik7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIENvbW11bmljYXRpb25XaW5kb3dNYW5hZ2VyIGV4dGVuZHMgU2FmZUV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaGFuZGxlV2luZG93UnBjXCIsIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCwgZW5kKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcGFyYW1zXG4gICAgICB9ID0gcmVxdWVzdDtcbiAgICAgIGlmIChtZXRob2QgPT09IENPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTLk9QRU5FRF9XSU5ET1cpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHdpbmRvd0lkXG4gICAgICAgIH0gPSBwYXJhbXM7XG4gICAgICAgIC8vIEkndmUgYmVlbiBpbmZvcm1lZCB0aGF0IGEgd2luZG93IGhhcyBiZWVuIG9wZW5lZFxuICAgICAgICB0aGlzLmVtaXQoYCR7d2luZG93SWR9Om9wZW5lZGApO1xuICAgICAgICByZXNwb25zZS5yZXN1bHQgPSB0cnVlO1xuICAgICAgICBlbmQoKTtcbiAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSBDT01NVU5JQ0FUSU9OX0pSUENfTUVUSE9EUy5DTE9TRURfV0lORE9XKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB3aW5kb3dJZFxuICAgICAgICB9ID0gcGFyYW1zO1xuICAgICAgICAvLyBJJ3ZlIGJlZW4gaW5mb3JtZWQgdGhhdCBhIHdpbmRvdyBoYXMgYmVlbiBjbG9zZWRcbiAgICAgICAgdGhpcy5lbWl0KGAke3dpbmRvd0lkfTpjbG9zZWRgKTtcbiAgICAgICAgcmVzcG9uc2UucmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgZW5kKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTdGF0ZSBjaGFuZ2UgY2FsbGJhY2tzXG4gKi9cblxuLyoqXG4gKiBCYXNlIGNvbnRyb2xsZXIgY29uZmlndXJhdGlvblxuICovXG5cbi8qKlxuICogQmFzZSBzdGF0ZSByZXByZXNlbnRhdGlvblxuICovXG5cbmNvbnN0IExPR0lOX1BST1ZJREVSID0ge1xuICBHT09HTEU6IFwiZ29vZ2xlXCIsXG4gIEZBQ0VCT09LOiBcImZhY2Vib29rXCIsXG4gIFJFRERJVDogXCJyZWRkaXRcIixcbiAgRElTQ09SRDogXCJkaXNjb3JkXCIsXG4gIFRXSVRDSDogXCJ0d2l0Y2hcIixcbiAgQVBQTEU6IFwiYXBwbGVcIixcbiAgTElORTogXCJsaW5lXCIsXG4gIEdJVEhVQjogXCJnaXRodWJcIixcbiAgS0FLQU86IFwia2FrYW9cIixcbiAgTElOS0VESU46IFwibGlua2VkaW5cIixcbiAgVFdJVFRFUjogXCJ0d2l0dGVyXCIsXG4gIFdFSUJPOiBcIndlaWJvXCIsXG4gIFdFQ0hBVDogXCJ3ZWNoYXRcIixcbiAgRU1BSUxfUEFTU1dPUkRMRVNTOiBcImVtYWlsX3Bhc3N3b3JkbGVzc1wiXG59O1xuLyoqXG4gKiB7QGxhYmVsIGxvZ2luUHJvdmlkZXJUeXBlfVxuICovXG5cbmNvbnN0IFBBWU1FTlRfUFJPVklERVIgPSB7XG4gIE1PT05QQVk6IFwibW9vbnBheVwiLFxuICBXWVJFOiBcInd5cmVcIixcbiAgUkFNUE5FVFdPUks6IFwicmFtcG5ldHdvcmtcIixcbiAgWEFOUE9PTDogXCJ4YW5wb29sXCIsXG4gIE1FUkNVUllPOiBcIm1lcmN1cnlvXCIsXG4gIFRSQU5TQUs6IFwidHJhbnNha1wiXG59O1xuXG5jb25zdCBnZXRUeFN0YXR1c1RleHQgPSB0eFN0YXR1cyA9PiB7XG4gIHN3aXRjaCAodHhTdGF0dXMpIHtcbiAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICBjYXNlIFwidW5hcHByb3ZlZFwiOlxuICAgIGNhc2UgXCJmYWlsZWRcIjpcbiAgICAgIHJldHVybiBBQ1RJVklUWV9TVEFUVVNfVU5TVUNDRVNTRlVMO1xuICAgIGNhc2UgXCJjb25maXJtZWRcIjpcbiAgICAgIHJldHVybiBBQ1RJVklUWV9TVEFUVVNfU1VDQ0VTU0ZVTDtcbiAgICBjYXNlIFwic3VibWl0dGVkXCI6XG4gICAgICByZXR1cm4gQUNUSVZJVFlfU1RBVFVTX1BFTkRJTkc7XG4gICAgY2FzZSBcImNhbmNlbGxlZFwiOlxuICAgICAgcmV0dXJuIEFDVElWSVRZX1NUQVRVU19DQU5DRUxMRUQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcIlwiO1xuICB9XG59O1xuXG4vKipcbiAqIEdlbmVyYWwgdXRpbGl0eSBmdW5jdGlvbnNcbiAqL1xuXG5mdW5jdGlvbiBpbnRUb0hleChpKSB7XG4gIGNvbnN0IGhleCA9IGkudG9TdHJpbmcoMTYpO1xuICByZXR1cm4gYDB4JHtoZXh9YDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcmFuZG9tIG51bWJlci4gRG9uJ3QgdXNlIGZvciBjcnlwdG9ncmFwaGljIHB1cnBvc2VzLlxuICogQHJldHVybnMgYSByYW5kb20gbnVtYmVyXG4gKi9cbmNvbnN0IHJhbmRvbUlkID0gKCkgPT4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG5cbi8qKlxuICogUGFkcyB0aGUgZnJvbnQgb2YgdGhlIGdpdmVuIGhleCBzdHJpbmcgd2l0aCB6ZXJvZXMgdW50aWwgaXQgcmVhY2hlcyB0aGVcbiAqIHRhcmdldCBsZW5ndGguIElmIHRoZSBpbnB1dCBzdHJpbmcgaXMgYWxyZWFkeSBsb25nZXIgdGhhbiBvciBlcXVhbCB0byB0aGVcbiAqIHRhcmdldCBsZW5ndGgsIGl0IGlzIHJldHVybmVkIHVubW9kaWZpZWQuXG4gKlxuICogSWYgdGhlIGlucHV0IHN0cmluZyBpcyBcIjB4XCItcHJlZml4ZWQgb3Igbm90IGEgaGV4IHN0cmluZywgYW4gZXJyb3Igd2lsbCBiZVxuICogdGhyb3duLlxuICpcbiAqIEBwYXJhbSBoZXhTdHJpbmcgLSBUaGUgaGV4YWRlY2ltYWwgc3RyaW5nIHRvIHBhZCB3aXRoIHplcm9lcy5cbiAqIEBwYXJhbSB0YXJnZXRMZW5ndGggLSBUaGUgdGFyZ2V0IGxlbmd0aCBvZiB0aGUgaGV4YWRlY2ltYWwgc3RyaW5nLlxuICogQHJldHVybnMgVGhlIGlucHV0IHN0cmluZyBmcm9udC1wYWRkZWQgd2l0aCB6ZXJvZXMsIG9yIHRoZSBvcmlnaW5hbCBzdHJpbmdcbiAqIGlmIGl0IHdhcyBhbHJlYWR5IGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0byB0aGUgdGFyZ2V0IGxlbmd0aC5cbiAqL1xuZnVuY3Rpb24gcGFkV2l0aFplcm9lcyhoZXhTdHJpbmcsIHRhcmdldExlbmd0aCkge1xuICBpZiAoaGV4U3RyaW5nICE9PSBcIlwiICYmICEvXlthLWYwLTldKyQvaXUudGVzdChoZXhTdHJpbmcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhbiB1bnByZWZpeGVkIGhleCBzdHJpbmcuIFJlY2VpdmVkOiAke2hleFN0cmluZ31gKTtcbiAgfVxuICBpZiAodGFyZ2V0TGVuZ3RoIDwgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYSBub24tbmVnYXRpdmUgaW50ZWdlciB0YXJnZXQgbGVuZ3RoLiBSZWNlaXZlZDogJHt0YXJnZXRMZW5ndGh9YCk7XG4gIH1cbiAgcmV0dXJuIFN0cmluZy5wcm90b3R5cGUucGFkU3RhcnQuY2FsbChoZXhTdHJpbmcsIHRhcmdldExlbmd0aCwgXCIwXCIpO1xufVxuLyoqXG4gKiBDb25jYXRlbmF0ZSBhbiBleHRlbmRlZCBFQ0RTQSBzaWduYXR1cmUgaW50byBhIGhleCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHYgLSBUaGUgJ3YnIHBvcnRpb24gb2YgdGhlIHNpZ25hdHVyZS5cbiAqIEBwYXJhbSByIC0gVGhlICdyJyBwb3J0aW9uIG9mIHRoZSBzaWduYXR1cmUuXG4gKiBAcGFyYW0gcyAtIFRoZSAncycgcG9ydGlvbiBvZiB0aGUgc2lnbmF0dXJlLlxuICogQHJldHVybnMgVGhlIGNvbmNhdGVuYXRlZCBFQ0RTQSBzaWduYXR1cmUuXG4gKi9cbmZ1bmN0aW9uIGNvbmNhdFNpZyh2LCByLCBzKSB7XG4gIGNvbnN0IHJTaWcgPSBmcm9tU2lnbmVkKHIpO1xuICBjb25zdCBzU2lnID0gZnJvbVNpZ25lZChzKTtcbiAgY29uc3QgdlNpZyA9IGJ5dGVzVG9CaWdJbnQodik7XG4gIGNvbnN0IHJTdHIgPSBwYWRXaXRoWmVyb2VzKEJ1ZmZlci5mcm9tKHRvVW5zaWduZWQoclNpZykpLnRvU3RyaW5nKFwiaGV4XCIpLCA2NCk7XG4gIGNvbnN0IHNTdHIgPSBwYWRXaXRoWmVyb2VzKEJ1ZmZlci5mcm9tKHRvVW5zaWduZWQoc1NpZykpLnRvU3RyaW5nKFwiaGV4XCIpLCA2NCk7XG4gIGNvbnN0IHZTdHIgPSBzdHJpcEhleFByZWZpeChiaWdJbnRUb0hleCh2U2lnKSk7XG4gIHJldHVybiBhZGRIZXhQcmVmaXgoclN0ci5jb25jYXQoc1N0ciwgdlN0cikpO1xufVxuZnVuY3Rpb24gdGltZW91dCQxKGR1cmF0aW9uKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjb25zdCB0aW1lb3V0UmVmID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0UmVmKTtcbiAgICB9LCBkdXJhdGlvbik7XG4gIH0pO1xufVxuY29uc3QgZ2V0SGVhZGVycyA9IGp3dCA9PiB7XG4gIHJldHVybiB7XG4gICAgaGVhZGVyczoge1xuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2p3dH1gLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCJcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIFRleHQvbnVtYmVyIGZvcm1hdHRpbmcgdXRpbGl0aWVzXG4gKi9cbmNvbnN0IGZvcm1hdFNtYWxsTnVtYmVycyA9IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgbGV0IGN1cnJlbmN5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBcInVzZFwiO1xuICBsZXQgbm9UaWxkZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG4gIGNvbnN0IGZpbmFsTnVtYmVyID0gQmlnTnVtYmVyLmlzQmlnTnVtYmVyKG51bWJlcikgPyBudW1iZXIudG9OdW1iZXIoKSA6IG51bWJlcjtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZmluYWxOdW1iZXIpKSByZXR1cm4gXCJcIjtcbiAgY29uc3QgdmFsdWUgPSBjdXJyZW5jeS50b0xvd2VyQ2FzZSgpID09PSBcInVzZFwiID8gcGFyc2VGbG9hdChOdW1iZXIoZmluYWxOdW1iZXIpLnRvRml4ZWQoMikpIDogcGFyc2VGbG9hdChOdW1iZXIoZmluYWxOdW1iZXIpLnRvRml4ZWQoNSkpO1xuICBjb25zdCB0aWxkZSA9IHZhbHVlID4gMCA/IFwifiBcIiA6IFwiXCI7XG4gIHJldHVybiBgJHtjdXJyZW5jeS50b0xvd2VyQ2FzZSgpID09PSBcInVzZFwiIHx8IG5vVGlsZGUgPyBcIlwiIDogdGlsZGV9JHtOdW1iZXIodmFsdWUpfSAke2N1cnJlbmN5LnRvVXBwZXJDYXNlKCl9YDtcbn07XG5jb25zdCBhZGRyZXNzU2xpY2VyID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgbGV0IHNsaWNlTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiA1O1xuICBpZiAoIWFkZHJlc3MpIHJldHVybiBcIlwiO1xuICBpZiAoYWRkcmVzcy5sZW5ndGggPCAxMSkge1xuICAgIHJldHVybiBhZGRyZXNzO1xuICB9XG4gIGlmICh0eXBlb2YgYWRkcmVzcyAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIFwiXCI7XG4gIHJldHVybiBgJHthZGRyZXNzLnNsaWNlKDAsIHNsaWNlTGVuZ3RoKX0uLi4ke2FkZHJlc3Muc2xpY2UoLXNsaWNlTGVuZ3RoKX1gO1xufTtcbmNvbnN0IHNpZ25pZmljYW50RGlnaXRzID0gZnVuY3Rpb24gKG51bWJlcikge1xuICBsZXQgcGVyYyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gIGxldCBsZW5ndGhfID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAyO1xuICBsZXQgaW5wdXQgPSAhQmlnTnVtYmVyLmlzQmlnTnVtYmVyKG51bWJlcikgPyBuZXcgQmlnTnVtYmVyKG51bWJlcikgOiBudW1iZXI7XG4gIGlmIChpbnB1dC5pc1plcm8oKSkgcmV0dXJuIGlucHV0O1xuICBpZiAocGVyYykge1xuICAgIGlucHV0ID0gaW5wdXQudGltZXMobmV3IEJpZ051bWJlcigxMDApKTtcbiAgfVxuICBsZXQgZGVwdGg7XG4gIGlmIChpbnB1dC5ndGUobmV3IEJpZ051bWJlcigxKSkpIHtcbiAgICBkZXB0aCA9IGxlbmd0aF87XG4gIH0gZWxzZSB7XG4gICAgZGVwdGggPSBsZW5ndGhfIC0gMSArIE1hdGguY2VpbChNYXRoLmxvZzEwKG5ldyBCaWdOdW1iZXIoXCIxXCIpLmRpdihpbnB1dCkudG9OdW1iZXIoKSkpO1xuICB9XG4gIGNvbnN0IHNoaWZ0ID0gbmV3IEJpZ051bWJlcigxMCkucG93KG5ldyBCaWdOdW1iZXIoZGVwdGgpKTtcbiAgY29uc3Qgcm91bmRlZE51bWJlciA9IE1hdGgucm91bmQoc2hpZnQudGltZXMoaW5wdXQpLnRvTnVtYmVyKCkpIC8gc2hpZnQudG9OdW1iZXIoKTtcbiAgcmV0dXJuIHJvdW5kZWROdW1iZXI7XG59O1xuY29uc3QgZm9ybWF0RGF0ZSA9IGlucHV0RGF0ZSA9PiB7XG4gIGNvbnN0IG1vbnRoTGlzdCA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGlucHV0RGF0ZSk7XG4gIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICBjb25zdCBtb250aCA9IG1vbnRoTGlzdFtkYXRlLmdldE1vbnRoKCldO1xuICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICByZXR1cm4gYCR7ZGF5fSAke21vbnRofSAke3llYXJ9YDtcbn07XG5jb25zdCBmb3JtYXRUaW1lID0gdGltZSA9PiB7XG4gIHJldHVybiBuZXcgRGF0ZSh0aW1lKS50b1RpbWVTdHJpbmcoKS5zbGljZSgwLCA4KTtcbn07XG5cbi8qKlxuICogTmV0d29yayB1dGlsaXRpZXNcbiAqL1xuY29uc3QgdHJhbnNhY3Rpb25NYXRjaGVzTmV0d29yayA9ICh0cmFuc2FjdGlvbiwgY2hhaW5JZCkgPT4ge1xuICBpZiAodHlwZW9mIHRyYW5zYWN0aW9uLmNoYWluSWQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb24uY2hhaW5JZCA9PT0gY2hhaW5JZDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFNpZ25pbmcgdXRpbHNcbiAqL1xuY29uc3QgaGFzaE1lc3NhZ2UgPSBtZXNzYWdlID0+IHtcbiAgY29uc3QgYnVmZmVyZWRNZXNzYWdlID0gQnVmZmVyLmZyb20obWVzc2FnZSwgXCJ1dGY4XCIpO1xuICBjb25zdCBlbCA9IGhhc2hQZXJzb25hbE1lc3NhZ2UoYnVmZmVyZWRNZXNzYWdlKTtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGVsKTtcbn07XG5jb25zdCBzaWduTWVzc2FnZSA9IGFzeW5jIChwcml2YXRlS2V5LCBkYXRhKSA9PiB7XG4gIGNvbnN0IHByaXZLZXkgPSBCdWZmZXIuZnJvbShwcml2YXRlS2V5LCBcImhleFwiKTtcbiAgY29uc3QgbWVzc2FnZSA9IHN0cmlwSGV4UHJlZml4KGRhdGEpO1xuICBjb25zdCBtc2dTaWcgPSBlY3NpZ24oQnVmZmVyLmZyb20obWVzc2FnZSwgXCJoZXhcIiksIHByaXZLZXkpO1xuICBjb25zdCByYXdNc2dTaWcgPSBjb25jYXRTaWcoQnVmZmVyLmZyb20oYmlnSW50VG9CeXRlcyhtc2dTaWcudikpLCBCdWZmZXIuZnJvbShtc2dTaWcuciksIEJ1ZmZlci5mcm9tKG1zZ1NpZy5zKSk7XG4gIHJldHVybiByYXdNc2dTaWc7XG59O1xuXG4vKipcbiAqIHBvcHVwIGhhbmRsZXIgdXRpbHNcbiAqL1xuZnVuY3Rpb24gZ2V0UG9wdXBGZWF0dXJlcyhfcmVmKSB7XG4gIGxldCB7XG4gICAgd2lkdGg6IHcsXG4gICAgaGVpZ2h0OiBoXG4gIH0gPSBfcmVmO1xuICAvLyBGaXhlcyBkdWFsLXNjcmVlbiBwb3NpdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9zdCBicm93c2VycyAgICAgIEZpcmVmb3hcbiAgY29uc3QgZHVhbFNjcmVlbkxlZnQgPSB3aW5kb3cuc2NyZWVuTGVmdCAhPT0gdW5kZWZpbmVkID8gd2luZG93LnNjcmVlbkxlZnQgOiB3aW5kb3cuc2NyZWVuWDtcbiAgY29uc3QgZHVhbFNjcmVlblRvcCA9IHdpbmRvdy5zY3JlZW5Ub3AgIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JlZW5Ub3AgOiB3aW5kb3cuc2NyZWVuWTtcbiAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCA/IHdpbmRvdy5pbm5lcldpZHRoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogd2luZG93LnNjcmVlbi53aWR0aDtcbiAgY29uc3QgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ID8gd2luZG93LmlubmVySGVpZ2h0IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgY29uc3Qgc3lzdGVtWm9vbSA9IDE7IC8vIE5vIHJlbGlhYmxlIGVzdGltYXRlXG5cbiAgY29uc3QgbGVmdCA9IE1hdGguYWJzKCh3aWR0aCAtIHcpIC8gMiAvIHN5c3RlbVpvb20gKyBkdWFsU2NyZWVuTGVmdCk7XG4gIGNvbnN0IHRvcCA9IE1hdGguYWJzKChoZWlnaHQgLSBoKSAvIDIgLyBzeXN0ZW1ab29tICsgZHVhbFNjcmVlblRvcCk7XG4gIGNvbnN0IGZlYXR1cmVzID0gYHRpdGxlYmFyPTAsdG9vbGJhcj0wLHN0YXR1cz0wLGxvY2F0aW9uPTAsbWVudWJhcj0wLGhlaWdodD0ke2ggLyBzeXN0ZW1ab29tfSx3aWR0aD0ke3cgLyBzeXN0ZW1ab29tfSx0b3A9JHt0b3B9LGxlZnQ9JHtsZWZ0fWA7XG4gIHJldHVybiBmZWF0dXJlcztcbn1cbmNvbnN0IGJyb2FkY2FzdENoYW5uZWxPcHRpb25zID0ge1xuICB0eXBlOiBcInNlcnZlclwiLFxuICAvLyB0eXBlOiAnbG9jYWxzdG9yYWdlJywgLy8gKG9wdGlvbmFsKSBlbmZvcmNlIGEgdHlwZSwgb25lT2ZbJ25hdGl2ZScsICdpZGInLCAnbG9jYWxzdG9yYWdlJywgJ25vZGUnXVxuICB3ZWJXb3JrZXJTdXBwb3J0OiBmYWxzZSAvLyAob3B0aW9uYWwpIHNldCB0aGlzIHRvIGZhbHNlIGlmIHlvdSBrbm93IHRoYXQgeW91ciBjaGFubmVsIHdpbGwgbmV2ZXIgYmUgdXNlZCBpbiBhIFdlYldvcmtlciAoaW5jcmVhc2VzIHBlcmZvcm1hbmNlKVxufTtcbmZ1bmN0aW9uIGdldEN1c3RvbURldmljZUluZm8oKSB7XG4gIHZhciBfbmF2aWdhdG9yO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBpZiAoKF9uYXZpZ2F0b3IgPSBuYXZpZ2F0b3IpICE9PSBudWxsICYmIF9uYXZpZ2F0b3IgIT09IHZvaWQgMCAmJiBfbmF2aWdhdG9yLmJyYXZlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJyb3dzZXI6IFwiQnJhdmVcIlxuICAgIH07XG4gIH1cbn1cbmNsYXNzIFVzZXJFcnJvciBleHRlbmRzIEVycm9yIHt9XG5jb25zdCBoYW5kbGVSZWRpcmVjdFBhcmFtZXRlcnMgPSAoaGFzaCwgcXVlcnlQYXJhbWV0ZXJzKSA9PiB7XG4gIGNvbnN0IGhhc2hQYXJhbWV0ZXJzID0ge307XG4gIGNvbnN0IGhhc2hVcmwgPSBuZXcgVVJMKGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59Lz8ke2hhc2guc2xpY2UoMSl9YCk7XG4gIGhhc2hVcmwuc2VhcmNoUGFyYW1zLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICBoYXNoUGFyYW1ldGVyc1trZXldID0gdmFsdWU7XG4gIH0pO1xuICBsZXQgaW5zdGFuY2VQYXJhbWV0ZXJzID0ge307XG4gIGxldCBlcnJvciA9IFwiXCI7XG4gIGlmICghcXVlcnlQYXJhbWV0ZXJzLndpbmRvd0lkKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKGhhc2hQYXJhbWV0ZXJzKS5sZW5ndGggPiAwICYmIGhhc2hQYXJhbWV0ZXJzLnN0YXRlKSB7XG4gICAgICBpbnN0YW5jZVBhcmFtZXRlcnMgPSBKU09OLnBhcnNlKHdpbmRvdy5hdG9iKGRlY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQoaGFzaFBhcmFtZXRlcnMuc3RhdGUpKSkpIHx8IHt9O1xuICAgICAgZXJyb3IgPSBoYXNoUGFyYW1ldGVycy5lcnJvcl9kZXNjcmlwdGlvbiB8fCBoYXNoUGFyYW1ldGVycy5lcnJvciB8fCBlcnJvcjtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5rZXlzKHF1ZXJ5UGFyYW1ldGVycykubGVuZ3RoID4gMCAmJiBxdWVyeVBhcmFtZXRlcnMuc3RhdGUpIHtcbiAgICAgIGluc3RhbmNlUGFyYW1ldGVycyA9IEpTT04ucGFyc2Uod2luZG93LmF0b2IoZGVjb2RlVVJJQ29tcG9uZW50KGRlY29kZVVSSUNvbXBvbmVudChxdWVyeVBhcmFtZXRlcnMuc3RhdGUpKSkpIHx8IHt9O1xuICAgICAgaWYgKHF1ZXJ5UGFyYW1ldGVycy5lcnJvcikgZXJyb3IgPSBxdWVyeVBhcmFtZXRlcnMuZXJyb3I7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgZXJyb3IsXG4gICAgaW5zdGFuY2VQYXJhbWV0ZXJzLFxuICAgIGhhc2hQYXJhbWV0ZXJzXG4gIH07XG59O1xuZnVuY3Rpb24gc2xlZXAobXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpO1xuICB9KTtcbn1cblxuY2xhc3MgQmFzZUtleXJpbmdDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgdmFyIF9zdGF0ZSR3YWxsZXRzO1xuICAgIGxldCB7XG4gICAgICBjb25maWcgPSB7fSxcbiAgICAgIHN0YXRlXG4gICAgfSA9IF9yZWY7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnLFxuICAgICAgc3RhdGVcbiAgICB9KTtcbiAgICB0aGlzLmRlZmF1bHRTdGF0ZSA9IHtcbiAgICAgIHdhbGxldHM6IChfc3RhdGUkd2FsbGV0cyA9IHN0YXRlLndhbGxldHMpICE9PSBudWxsICYmIF9zdGF0ZSR3YWxsZXRzICE9PSB2b2lkIDAgPyBfc3RhdGUkd2FsbGV0cyA6IFtdXG4gICAgfTtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuXG4gIC8vIGZvciBzaWduaW5nIGF1dGggbWVzc2FnZVxuICBhc3luYyBzaWduQXV0aE1lc3NhZ2UoYWRkcmVzcywgbWVzc2FnZSkge1xuICAgIGNvbnN0IGtleXJpbmcgPSB0aGlzLnN0YXRlLndhbGxldHMuZmluZCh4ID0+IHguYWRkcmVzcyA9PT0gYWRkcmVzcyk7XG4gICAgaWYgKCFrZXlyaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJrZXkgZG9lcyBub3QgZXhpc3RcIik7XG4gICAgfVxuICAgIGNvbnN0IGhhc2hlZE1lc3NhZ2UgPSBoYXNoTWVzc2FnZShtZXNzYWdlKS50b1N0cmluZyhcImhleFwiKTtcbiAgICBjb25zdCByYXdNZXNzYWdlU2lnID0gYXdhaXQgc2lnbk1lc3NhZ2Uoa2V5cmluZy5wcml2YXRlS2V5LCBoYXNoZWRNZXNzYWdlKTtcbiAgICByZXR1cm4gcmF3TWVzc2FnZVNpZztcbiAgfVxufVxuXG5jb25zdCBSRVRSSUFCTEVfRVJST1JTID0gW1xuLy8gaWdub3JlIHNlcnZlciBvdmVybG9hZCBlcnJvcnNcblwiR2F0ZXdheSB0aW1lb3V0XCIsIFwiRVRJTUVET1VUXCIsXG4vLyBpZ25vcmUgc2VydmVyIHNlbnQgaHRtbCBlcnJvciBwYWdlc1xuLy8gb3IgdHJ1bmNhdGVkIGpzb24gcmVzcG9uc2VzXG5cImZhaWxlZCB0byBwYXJzZSByZXNwb25zZSBib2R5XCIsXG4vLyBpZ25vcmUgZXJyb3JzIHdoZXJlIGh0dHAgcmVxIGZhaWxlZCB0byBlc3RhYmxpc2hcblwiRmFpbGVkIHRvIGZldGNoXCJdO1xuZnVuY3Rpb24gY2hlY2tGb3JIdHRwRXJyb3JzKGZldGNoUmVzKSB7XG4gIC8vIGNoZWNrIGZvciBlcnJvcnNcbiAgc3dpdGNoIChmZXRjaFJlcy5zdGF0dXMpIHtcbiAgICBjYXNlIDQwNTpcbiAgICAgIHRocm93IHJwY0Vycm9ycy5tZXRob2ROb3RGb3VuZCgpO1xuICAgIGNhc2UgNDE4OlxuICAgICAgdGhyb3cgcnBjRXJyb3JzLmludGVybmFsKHtcbiAgICAgICAgbWVzc2FnZTogYFJlcXVlc3QgaXMgYmVpbmcgcmF0ZSBsaW1pdGVkLmBcbiAgICAgIH0pO1xuICAgIGNhc2UgNTAzOlxuICAgIGNhc2UgNTA0OlxuICAgICAgdGhyb3cgcnBjRXJyb3JzLmludGVybmFsKHtcbiAgICAgICAgbWVzc2FnZTogYEdhdGV3YXkgdGltZW91dC4gVGhlIHJlcXVlc3QgdG9vayB0b28gbG9uZyB0byBwcm9jZXNzLmAgKyBgVGhpcyBjYW4gaGFwcGVuIHdoZW4gcXVlcnlpbmcgb3ZlciB0b28gd2lkZSBhIGJsb2NrIHJhbmdlLmBcbiAgICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiB0aW1lb3V0KGR1cmF0aW9uKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBzZXRUaW1lb3V0KHJlc29sdmUsIGR1cmF0aW9uKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZVJlc3BvbnNlKGZldGNoUmVzLCBib2R5KSB7XG4gIC8vIGNoZWNrIGZvciBlcnJvciBjb2RlXG4gIGlmIChmZXRjaFJlcy5zdGF0dXMgIT09IDIwMCkge1xuICAgIHRocm93IHJwY0Vycm9ycy5pbnRlcm5hbCh7XG4gICAgICBtZXNzYWdlOiBgTm9uLTIwMCBzdGF0dXMgY29kZTogJyR7ZmV0Y2hSZXMuc3RhdHVzfSdgLFxuICAgICAgZGF0YTogYm9keVxuICAgIH0pO1xuICB9XG4gIC8vIGNoZWNrIGZvciBycGMgZXJyb3JcbiAgaWYgKGJvZHkuZXJyb3IpIHtcbiAgICB0aHJvdyBycGNFcnJvcnMuaW50ZXJuYWwoe1xuICAgICAgZGF0YTogYm9keS5lcnJvclxuICAgIH0pO1xuICB9XG4gIC8vIHJldHVybiBzdWNjZXNzZnVsIHJlc3VsdFxuICByZXR1cm4gYm9keS5yZXN1bHQ7XG59XG5mdW5jdGlvbiBjcmVhdGVGZXRjaENvbmZpZ0Zyb21SZXEoX3JlZikge1xuICBsZXQge1xuICAgIHJlcSxcbiAgICBycGNUYXJnZXQsXG4gICAgb3JpZ2luSHR0cEhlYWRlcktleVxuICB9ID0gX3JlZjtcbiAgY29uc3QgcGFyc2VkVXJsID0gbmV3IFVSTChycGNUYXJnZXQpO1xuXG4gIC8vIHByZXBhcmUgcGF5bG9hZFxuICAvLyBjb3B5IG9ubHkgY2Fub25pY2FsIGpzb24gcnBjIHByb3BlcnRpZXNcbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBpZDogcmVxLmlkLFxuICAgIGpzb25ycGM6IHJlcS5qc29ucnBjLFxuICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICBwYXJhbXM6IHJlcS5wYXJhbXNcbiAgfTtcblxuICAvLyBleHRyYWN0ICdvcmlnaW4nIHBhcmFtZXRlciBmcm9tIHJlcXVlc3RcbiAgY29uc3Qgb3JpZ2luRG9tYWluID0gcmVxLm9yaWdpbjtcblxuICAvLyBzZXJpYWxpemUgcmVxdWVzdCBib2R5XG4gIGNvbnN0IHNlcmlhbGl6ZWRQYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCk7XG5cbiAgLy8gY29uZmlndXJlIGZldGNoIHBhcmFtc1xuICBjb25zdCBmZXRjaFBhcmFtcyA9IHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH0sXG4gICAgYm9keTogc2VyaWFsaXplZFBheWxvYWRcbiAgfTtcblxuICAvLyBvcHRpb25hbDogYWRkIHJlcXVlc3Qgb3JpZ2luIGFzIGhlYWRlclxuICBpZiAob3JpZ2luSHR0cEhlYWRlcktleSAmJiBvcmlnaW5Eb21haW4pIHtcbiAgICBmZXRjaFBhcmFtcy5oZWFkZXJzW29yaWdpbkh0dHBIZWFkZXJLZXldID0gb3JpZ2luRG9tYWluO1xuICB9XG4gIHJldHVybiB7XG4gICAgZmV0Y2hVcmw6IHBhcnNlZFVybC5ocmVmLFxuICAgIGZldGNoUGFyYW1zXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVGZXRjaE1pZGRsZXdhcmUoX3JlZjIpIHtcbiAgbGV0IHtcbiAgICBycGNUYXJnZXQsXG4gICAgb3JpZ2luSHR0cEhlYWRlcktleVxuICB9ID0gX3JlZjI7XG4gIHJldHVybiBjcmVhdGVBc3luY01pZGRsZXdhcmUoYXN5bmMgKHJlcSwgcmVzLCBfbmV4dCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGZldGNoVXJsLFxuICAgICAgZmV0Y2hQYXJhbXNcbiAgICB9ID0gY3JlYXRlRmV0Y2hDb25maWdGcm9tUmVxKHtcbiAgICAgIHJlcSxcbiAgICAgIHJwY1RhcmdldCxcbiAgICAgIG9yaWdpbkh0dHBIZWFkZXJLZXlcbiAgICB9KTtcblxuICAgIC8vIGF0dGVtcHQgcmVxdWVzdCBtdWx0aXBsZSB0aW1lc1xuICAgIGNvbnN0IG1heEF0dGVtcHRzID0gNTtcbiAgICBjb25zdCByZXRyeUludGVydmFsID0gMTAwMDtcbiAgICBmb3IgKGxldCBhdHRlbXB0ID0gMDsgYXR0ZW1wdCA8IG1heEF0dGVtcHRzOyBhdHRlbXB0KyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZldGNoUmVzID0gYXdhaXQgZmV0Y2goZmV0Y2hVcmwsIGZldGNoUGFyYW1zKTtcbiAgICAgICAgLy8gY2hlY2sgZm9yIGh0dHAgZXJycm9yc1xuICAgICAgICBjaGVja0Zvckh0dHBFcnJvcnMoZmV0Y2hSZXMpO1xuICAgICAgICAvLyBwYXJzZSByZXNwb25zZSBib2R5XG4gICAgICAgIGNvbnN0IGZldGNoQm9keSA9IGF3YWl0IGZldGNoUmVzLmpzb24oKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VSZXNwb25zZShmZXRjaFJlcywgZmV0Y2hCb2R5KTtcbiAgICAgICAgLy8gc2V0IHJlc3VsdCBhbmQgZXhpdCByZXRyeSBsb29wXG4gICAgICAgIHJlcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zdCBlcnJNc2cgPSBlcnIudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgaXNSZXRyaWFibGUgPSBSRVRSSUFCTEVfRVJST1JTLnNvbWUocGhyYXNlID0+IGVyck1zZy5pbmNsdWRlcyhwaHJhc2UpKTtcbiAgICAgICAgLy8gcmUtdGhyb3cgZXJyb3IgaWYgbm90IHJldHJpYWJsZVxuICAgICAgICBpZiAoIWlzUmV0cmlhYmxlKSB7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBkZWxheSBiZWZvcmUgcmV0cnlpbmdcbiAgICAgIGF3YWl0IHRpbWVvdXQocmV0cnlJbnRlcnZhbCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9nZ2VyTWlkZGxld2FyZShvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbiBsb2dnZXJNaWRkbGV3YXJlKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSB7XG4gICAgbmV4dChjYWxsYmFjayA9PiB7XG4gICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgbG9nLndhcm4oXCJFcnJvciBpbiBSUEMgcmVzcG9uc2U6XFxuXCIsIHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXF1ZXN0LmlzVG9ydXNJbnRlcm5hbCkgcmV0dXJuO1xuICAgICAgbG9nLmluZm8oYFJQQyAoJHtvcHRpb25zLm9yaWdpbn0pOmAsIHJlcXVlc3QsIFwiLT5cIiwgcmVzcG9uc2UpO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlT3JpZ2luTWlkZGxld2FyZShvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbiBvcmlnaW5NaWRkbGV3YXJlKHJlcXVlc3QsIF8sIG5leHQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJlcXVlc3Qub3JpZ2luID0gb3B0aW9ucy5vcmlnaW47XG4gICAgbmV4dCgpO1xuICB9O1xufVxuXG5jb25zdCBjcmVhdGVSYW5kb21JZCA9ICgpID0+IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtcblxuLyoqXG4gKiBDdXN0b20gbmV0d29yayBwcm9wZXJ0aWVzXG4gKiBAZXhhbXBsZSBpc0VJUDE1NTlDb21wYXRpYmxlOiB0cnVlIGV0Yy5cbiAqL1xuXG4vKipcbiAqXG4gKi9cblxuY2xhc3MgQnJvYWRjYXN0Q2hhbm5lbEhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihjaGFubmVsUHJlZml4KSB7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiYmNcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGFubmVsXCIsIHZvaWQgMCk7XG4gICAgY29uc3QgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICBjb25zdCBpbnN0YW5jZUlkID0gcXVlcnlQYXJhbWV0ZXJzLmdldChcImluc3RhbmNlSWRcIik7XG4gICAgdGhpcy5jaGFubmVsID0gYCR7Y2hhbm5lbFByZWZpeH1fJHtpbnN0YW5jZUlkfWA7XG4gICAgdGhpcy5iYyA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKHRoaXMuY2hhbm5lbCwgYnJvYWRjYXN0Q2hhbm5lbE9wdGlvbnMpO1xuICB9XG4gIGdldE1lc3NhZ2VGcm9tQ2hhbm5lbCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5iYy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBhc3luYyBldiA9PiB7XG4gICAgICAgIHRoaXMuYmMuY2xvc2UoKTtcbiAgICAgICAgaWYgKGV2LmVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGV2LmVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKGV2LmRhdGEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuYmMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdHlwZTogUE9QVVBfTE9BREVEXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmNsYXNzIFN0cmVhbVdpbmRvdyBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBjb25maWcsXG4gICAgICBzdGF0ZSA9IHt9XG4gICAgfSA9IF9yZWY7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnLFxuICAgICAgc3RhdGVcbiAgICB9KTtcbiAgICAvLyBpZiB3aW5kb3cgaGFzIGJlZW4gY2xvc2VkIGJ5IHVzZXJzXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xvc2VkXCIsIGZhbHNlKTtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuICBhc3luYyBvcGVuKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNvbW11bmljYXRpb25FbmdpbmUsXG4gICAgICAgIGNvbW11bmljYXRpb25XaW5kb3dNYW5hZ2VyXG4gICAgICB9ID0gdGhpcy5jb25maWc7XG4gICAgICBsZXQgcG9wdXBTdWNjZXNzID0gZmFsc2U7XG4gICAgICBjb21tdW5pY2F0aW9uV2luZG93TWFuYWdlci5vbmNlKGAke3RoaXMuc3RhdGUud2luZG93SWR9OmNsb3NlZGAsICgpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFdpbmRvdyBpcyBub3Qgb3BlbiB5ZXRcbiAgICAgIGlmICghdGhpcy5zdGF0ZS53aW5kb3dJZCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgd2luZG93SWQ6IHJhbmRvbUlkKClcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbW11bmljYXRpb25XaW5kb3dNYW5hZ2VyLm9uY2UoYCR7dGhpcy5zdGF0ZS53aW5kb3dJZH06b3BlbmVkYCwgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRlbGwgdGhlIG90aGVyIHBhcnR5IHRvIGNyZWF0ZSBhIHdpbmRvdyBieSBwcm9tcHRpbmcgdGhlIHVzZXIgdG8gY2xpY2sgb24gc29tZXRoaW5nXG4gICAgICAgIGNvbW11bmljYXRpb25FbmdpbmUuZW1pdChcIm5vdGlmaWNhdGlvblwiLCB7XG4gICAgICAgICAgbWV0aG9kOiBDT01NVU5JQ0FUSU9OX05PVElGSUNBVElPTlMuQ1JFQVRFX1dJTkRPVyxcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIHdpbmRvd0lkOiB0aGlzLnN0YXRlLndpbmRvd0lkLFxuICAgICAgICAgICAgdXJsOiB0aGlzLnN0YXRlLnVybC5ocmVmXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNlbmQgdGhpcyB3aW5kb3cgd2l0aCBgd2luZG93SWRgIHRoZSB1cmwgdG8gb3BlbiB2aWEgYmNcbiAgICAgICAgY29uc3QgYmMgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbCh0aGlzLnN0YXRlLndpbmRvd0lkLCBicm9hZGNhc3RDaGFubmVsT3B0aW9ucyk7XG4gICAgICAgIGJjLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGFzeW5jIGV2ID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9nLmluZm8oZXYsIGByZWNlaXZpbmcgZGF0YSBvbiBjaGFubmVsOiAke2JjLm5hbWV9YCk7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICB9ID0gZXY7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgLy8gUG9wdXAgc2F5cyBzb21lIGVycm9yLiBzbywgd2Ugc2F5IGl0J3Mgbm90IHJlYWxseSBvcGVuZWRcbiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvcikpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgIH0gPSBldi5kYXRhO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UgPT09IFBPUFVQX0xPQURFRCkge1xuICAgICAgICAgICAgICBwb3B1cFN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICBhd2FpdCBiYy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgdXJsOiB0aGlzLnN0YXRlLnVybC5ocmVmLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJcIiAvLyBObyBuZWVkIG9mIGEgbXNnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgYmMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIGJjLmNsb3NlKCk7XG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZy4gc28sIHdlIGNsb3NlIHRoYXQgd2luZG93XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBXZSBkb24ndCBrbm93IGlmIHRoZSBvdGhlciBlbmQgaXMgcmVhZHkgdG8gcmVjZWl2ZSB0aGlzIG1zZy4gU28sIHdlIGtlZXAgd3JpdGluZyB1bnRpbCBpdCByZWNlaXZlcyBhbmQgc2VuZHMgYmFjayBzb21ldGhpbmdcbiAgICAgICAgLy8gd2UgbmVlZCBiYWNrb2ZmIHN0cmF0ZWd5XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gd2FpdCBmb3IgZmlyc3QgYXR0ZW1wdCB0byBzdWNjZWVkL2ZhaWwgdW50aWwgdGhlIHNlY29uZCBhdHRlbXB0XG4gICAgICAgIC8vIElmIHdlIGdldCA0MjksIHdlIG5lZWQgdG8gd2FpdCBmb3IgYSB3aGlsZSBhbmQgdGhlbiB0cnkgYWdhaW5cblxuICAgICAgICBjb25zdCBwb3N0TXNnID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIC8vIHRoaXMgbmV2ZXIgdGhyb3dzXG4gICAgICAgICAgY29uc3QgbG9jYWxSZXNwb25zZSA9IGF3YWl0IGJjLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogU0VUVVBfQ09NUExFVEVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbG9jYWxSZXNwb25zZTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGN1cnJlbnREZWxheSA9IGJjLnR5cGUgPT09IFwic2VydmVyXCIgPyAxMDAwIDogMjAwO1xuICAgICAgICBjb25zdCByZWN1cnNpdmVGbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBpZiAoIXBvcHVwU3VjY2VzcyAmJiAhdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsUmVzcG9uc2UgPSBhd2FpdCBwb3N0TXNnKCk7XG4gICAgICAgICAgICBpZiAoYmMudHlwZSA9PT0gXCJzZXJ2ZXJcIikge1xuICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJSZXNwb25zZSA9IGxvY2FsUmVzcG9uc2U7XG4gICAgICAgICAgICAgIGlmIChzZXJ2ZXJSZXNwb25zZS5zdGF0dXMgPj0gNDAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB3YWl0IGZvciBhIHdoaWxlIGFuZCB0aGVuIHRyeSBhZ2FpblxuICAgICAgICAgICAgICAgIGN1cnJlbnREZWxheSA9IE1hdGgucm91bmQoY3VycmVudERlbGF5ICogMS41KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoY3VycmVudERlbGF5KTtcbiAgICAgICAgICAgIGF3YWl0IHJlY3Vyc2l2ZUZuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZWN1cnNpdmVGbigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbW11bmljYXRpb25FbmdpbmVcbiAgICB9ID0gdGhpcy5jb25maWc7XG4gICAgY29tbXVuaWNhdGlvbkVuZ2luZS5lbWl0KFwibm90aWZpY2F0aW9uXCIsIHtcbiAgICAgIG1ldGhvZDogQ09NTVVOSUNBVElPTl9OT1RJRklDQVRJT05TLkNMT1NFX1dJTkRPVyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICB3aW5kb3dJZDogdGhpcy5zdGF0ZS53aW5kb3dJZFxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qXG5TY2VuYXJpb3M6XG4xLiBPcGVuIGEgbm9ybWFsIHBvcHVwIHdpbmRvdyBhbmQgbm8gY29tbXVuaWNhdGlvbiB3aXRoIGl0IC0gVXNlIFBvcHVwSGFuZGxlclxuMi4gT3BlbiBhIHBvcHVwIHdpbmRvdyBhbmQgY29tbXVuaWNhdGUgd2l0aCBpdCAtIFVzZSBQb3B1cFdpdGhCY0hhbmRsZXIgKGNhbiBpbml0aWF0ZSBjb21tdW5pY2F0aW9uIGJ5IHdhaXRpbmcgZm9yIHdpbmRvdyB0byBvcGVuIG9yIG5vdClcblxuMy4gSWYgd2luZG93IGlzIGFscmVhZHkgb3BlbmVkLCBwYXNzIGluIHdpbmRvd0lkIHRvIHRoZSBwb3B1cCBoYW5kbGVyLiBcbiAgIFRoaXMgd2lsbCBlc3RhYmxpc2ggY29tbXVuaWNhdGlvbiB3aXRoIHRoZSBwb3B1cCB3aW5kb3cgYW5kIHNlbmRzIGl0IGEgbmV3IHVybCB0byByZWRpcmVjdCB0b1xuXG5cbklmIHlvdSdyZSB0cnlpbmcgdG8gb3BlbiBhIHdpbmRvdyBhbmQgaXQgZ2V0cyBibG9ja2VkIChoYXBwZW5zIGlmIHlvdSdyZSBpbiBpZnJhbWUgb3IgZGVsYXkgYi93IGNsaWNrIGFuZCBvcGVuaW5nIHdpbmRvdyksXG5TdHJlYW1XaW5kb3cgaXMgaW52b2tlZCBhbmQgaXQgd3JpdGVzIGluIGEgY2hhbm5lbCB0byBkaXNwbGF5IGEgbWVzc2FnZSB0byB0aGUgdXNlclxuXG5PbmNlIHVzZXIgY2xpY2tzIG9uIHRoYXQgbW9kYWwvZGlhbG9nLCB3ZSBwcmUtb3BlbiB0aGUgd2luZG93IGFuZCBwYXNzIGluIHRoZSB3aW5kb3dJZCAoZ29lcyB0byAzKVxuKi9cblxuLyoqXG4gKiBIYW5kbGVzIHBvcHVwIHdpbmRvdyBtYW5hZ2VtZW50LlxuICogRm9yIGJyb2FkY2FzdCBjaGFubmVsIGNvbW11bmljYXRpb24sIHVzZSB1cmwgd2l0aCBgaW5zdGFuY2VJZGAgY29kZWQgaW50byBzdGF0ZSBwYXJhbWV0ZXIuXG4gKiBUaGlzIHN0YXRlIHBhcmFtZXRlciB3aWxsIGJlIHBhc3NlZCBhY3Jvc3MgcmVkaXJlY3RzIGFjY29yZGluZyB0byBPQXV0aCBzcGVjLlxuICovXG5jbGFzcyBQb3B1cEhhbmRsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgY29uZmlnLFxuICAgICAgc3RhdGVcbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcih7XG4gICAgICBjb25maWcsXG4gICAgICBzdGF0ZVxuICAgIH0pO1xuICAgIC8vIHRoaXMuaWQgPSByYW5kb21JZCgpXG4gICAgLy8gQWRkIGluIGRhcHAgc3RvcmFnZSBrZXkgdG8gYWxsIHBvcHVwcyBhcyBhIGhhc2ggcGFyYW1ldGVyXG4gICAgdGhpcy5kZWZhdWx0Q29uZmlnID0ge1xuICAgICAgZGFwcFN0b3JhZ2VLZXk6IFwiXCIsXG4gICAgICBmZWF0dXJlczogZ2V0UG9wdXBGZWF0dXJlcyhGRUFUVVJFU19ERUZBVUxUX1BPUFVQX1dJTkRPVyksXG4gICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICBjb21tdW5pY2F0aW9uRW5naW5lOiBudWxsLFxuICAgICAgY29tbXVuaWNhdGlvbldpbmRvd01hbmFnZXI6IG51bGwsXG4gICAgICB0aW1lb3V0OiAzMDAwMFxuICAgIH07XG4gICAgdGhpcy5kZWZhdWx0U3RhdGUgPSB7XG4gICAgICB3aW5kb3dUaW1lcjogbnVsbCxcbiAgICAgIHdpbmRvdzogbnVsbCxcbiAgICAgIGlDbG9zZWRXaW5kb3c6IGZhbHNlLFxuICAgICAgd2luZG93SWQ6IFwiXCIsXG4gICAgICB1cmw6IHN0YXRlLnVybFxuICAgIH07XG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgdGhpcy5fc2V0dXBUaW1lcigpO1xuICB9XG4gIGFzeW5jIG9wZW4oKSB7XG4gICAgLy8gaWYgd2luZG93IGlzIGFscmVhZHkgb3BlblxuICAgIGNvbnN0IHtcbiAgICAgIHRhcmdldCxcbiAgICAgIGZlYXR1cmVzLFxuICAgICAgZGFwcFN0b3JhZ2VLZXksXG4gICAgICBjb21tdW5pY2F0aW9uRW5naW5lLFxuICAgICAgY29tbXVuaWNhdGlvbldpbmRvd01hbmFnZXJcbiAgICB9ID0gdGhpcy5jb25maWc7XG4gICAgY29uc3Qge1xuICAgICAgd2luZG93SWQsXG4gICAgICB1cmxcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoZGFwcFN0b3JhZ2VLZXkpIHtcbiAgICAgIGNvbnN0IHVybEhhc2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHVybC5oYXNoLnNsaWNlKDEpKTtcbiAgICAgIHVybEhhc2hQYXJhbXMuYXBwZW5kKFwiZGFwcFN0b3JhZ2VLZXlcIiwgZGFwcFN0b3JhZ2VLZXkpO1xuICAgICAgdXJsLmhhc2ggPSB1cmxIYXNoUGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICB0aGlzLnVwZGF0ZSh7XG4gICAgICAgIHVybFxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIE5vIHdpbmRvdyBoYXMgYmVlbiBwcmUtb3BlbmVkXG4gICAgaWYgKCF3aW5kb3dJZCkge1xuICAgICAgLy8gdHJ5IHRvIG9wZW4gYSB3aW5kb3cgZmlyc3RcbiAgICAgIGxldCBsb2NhbFdpbmRvdyA9IHdpbmRvdy5vcGVuKHVybC5ocmVmLCB0YXJnZXQsIGZlYXR1cmVzKTtcbiAgICAgIGlmICghbG9jYWxXaW5kb3cpIHtcbiAgICAgICAgLy8gaWYgaXQncyBibG9ja2VkLCBvcGVuIFN0cmVhbVdpbmRvd1xuICAgICAgICBsb2NhbFdpbmRvdyA9IG5ldyBTdHJlYW1XaW5kb3coe1xuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgY29tbXVuaWNhdGlvbkVuZ2luZSxcbiAgICAgICAgICAgIGNvbW11bmljYXRpb25XaW5kb3dNYW5hZ2VyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgdXJsXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbG9jYWxXaW5kb3cub3BlbigpO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGUoe1xuICAgICAgICB3aW5kb3c6IGxvY2FsV2luZG93XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gQSB3aW5kb3cgaGFzIGJlZW4gcHJlLW9wZW5lZCB3aXRoIGEgcXVlcnkgcGFyYW1ldGVyIGB3aW5kb3dJZGBcbiAgICBjb25zdCBsb2NhbFdpbmRvdyA9IG5ldyBTdHJlYW1XaW5kb3coe1xuICAgICAgY29uZmlnOiB7XG4gICAgICAgIGNvbW11bmljYXRpb25FbmdpbmUsXG4gICAgICAgIGNvbW11bmljYXRpb25XaW5kb3dNYW5hZ2VyXG4gICAgICB9LFxuICAgICAgc3RhdGU6IHtcbiAgICAgICAgdXJsLFxuICAgICAgICB3aW5kb3dJZFxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIHdpbmRvdzogbG9jYWxXaW5kb3dcbiAgICB9KTtcbiAgICBhd2FpdCBsb2NhbFdpbmRvdy5vcGVuKCk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy51cGRhdGUoe1xuICAgICAgaUNsb3NlZFdpbmRvdzogdHJ1ZVxuICAgIH0pO1xuICAgIGNvbnN0IHtcbiAgICAgIHdpbmRvd1xuICAgIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmICh3aW5kb3cpIHdpbmRvdy5jbG9zZSgpO1xuICB9XG4gIF9zZXR1cFRpbWVyKCkge1xuICAgIGNvbnN0IHRpbWVyID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgd2luZG93LFxuICAgICAgICB3aW5kb3dUaW1lcixcbiAgICAgICAgaUNsb3NlZFdpbmRvd1xuICAgICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgICBpZiAod2luZG93ICYmIHdpbmRvdy5jbG9zZWQpIHtcbiAgICAgICAgaWYgKHdpbmRvd1RpbWVyKSBjbGVhckludGVydmFsKHdpbmRvd1RpbWVyKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKCFpQ2xvc2VkV2luZG93KSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJjbG9zZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy51cGRhdGUoe1xuICAgICAgICAgICAgaUNsb3NlZFdpbmRvdzogZmFsc2UsXG4gICAgICAgICAgICB3aW5kb3c6IG51bGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdGhpcy5jb25maWcudGltZW91dCk7XG4gICAgICB9XG4gICAgICBpZiAod2luZG93ID09PSBudWxsICYmIHdpbmRvd1RpbWVyKSBjbGVhckludGVydmFsKHdpbmRvd1RpbWVyKTtcbiAgICB9LCA1MDApO1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIHdpbmRvd1RpbWVyOiB0aW1lclxuICAgIH0pO1xuICB9XG59XG5cbmNsYXNzIFBvcHVwU3RvcmVDaGFubmVsIHtcbiAgY29uc3RydWN0b3IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBpbnN0YW5jZUlkLFxuICAgICAgaGFuZGxlTG9nb3V0LFxuICAgICAgaGFuZGxlQWNjb3VudEltcG9ydCxcbiAgICAgIGhhbmRsZU5ldHdvcmtDaGFuZ2UsXG4gICAgICBoYW5kbGVTZWxlY3RlZEFkZHJlc3NDaGFuZ2UsXG4gICAgICBoYW5kbGVUaGVtZUNoYW5nZVxuICAgIH0gPSBfcmVmO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhhbmRsZUxvZ291dFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhhbmRsZUFjY291bnRJbXBvcnRcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJoYW5kbGVOZXR3b3JrQ2hhbmdlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaGFuZGxlVGhlbWVDaGFuZ2VcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJoYW5kbGVTZWxlY3RlZEFkZHJlc3NDaGFuZ2VcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnN0YW5jZUlkXCIsIHZvaWQgMCk7XG4gICAgdGhpcy5pbnN0YW5jZUlkID0gaW5zdGFuY2VJZDtcbiAgICB0aGlzLmhhbmRsZUxvZ291dCA9IGhhbmRsZUxvZ291dDtcbiAgICB0aGlzLmhhbmRsZUFjY291bnRJbXBvcnQgPSBoYW5kbGVBY2NvdW50SW1wb3J0O1xuICAgIHRoaXMuaGFuZGxlTmV0d29ya0NoYW5nZSA9IGhhbmRsZU5ldHdvcmtDaGFuZ2U7XG4gICAgdGhpcy5oYW5kbGVTZWxlY3RlZEFkZHJlc3NDaGFuZ2UgPSBoYW5kbGVTZWxlY3RlZEFkZHJlc3NDaGFuZ2U7XG4gICAgdGhpcy5oYW5kbGVUaGVtZUNoYW5nZSA9IGhhbmRsZVRoZW1lQ2hhbmdlO1xuICB9XG4gIHNldHVwU3RvcmVDaGFubmVscygpIHtcbiAgICB0aGlzLmxvZ291dENoYW5uZWwoKTtcbiAgICB0aGlzLmltcG9ydEFjY291bnRDaGFubmVsKCk7XG4gICAgdGhpcy5uZXR3b3JrQ2hhbmdlQ2hhbm5lbCgpO1xuICAgIHRoaXMuc2VsZWN0ZWRBZGRyZXNzQ2hhbmdlQ2hhbm5lbCgpO1xuICAgIHRoaXMudGhlbWVDaGFuZ2VkQ2hhbm5lbCgpO1xuICB9XG4gIGxvZ291dENoYW5uZWwoKSB7XG4gICAgY29uc3QgbG9nb3V0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKGAke0JST0FEQ0FTVF9DSEFOTkVMUy5XQUxMRVRfTE9HT1VUX0NIQU5ORUx9XyR7dGhpcy5pbnN0YW5jZUlkfWAsIGJyb2FkY2FzdENoYW5uZWxPcHRpb25zKTtcbiAgICBsb2dvdXRDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGV2ID0+IHtcbiAgICAgIHZhciBfZXYkZGF0YTtcbiAgICAgIGxvZy5pbmZvKFwicmVjZWl2ZWQgbG9nb3V0IG1lc3NhZ2VcIiwgZXYpO1xuICAgICAgaWYgKCFldi5lcnJvciAmJiAoKF9ldiRkYXRhID0gZXYuZGF0YSkgPT09IG51bGwgfHwgX2V2JGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldiRkYXRhLnR5cGUpID09PSBCUk9BRENBU1RfQ0hBTk5FTFNfTVNHUy5MT0dPVVQpIHtcbiAgICAgICAgbG9nLmluZm8oXCJMb2dnaW5nIE91dFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVMb2dvdXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpbXBvcnRBY2NvdW50Q2hhbm5lbCgpIHtcbiAgICBjb25zdCB3YWxsZXRBY2NvdW50SW1wb3J0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKGAke0JST0FEQ0FTVF9DSEFOTkVMUy5XQUxMRVRfQUNDT1VOVF9JTVBPUlRfQ0hBTk5FTH1fJHt0aGlzLmluc3RhbmNlSWR9YCwgYnJvYWRjYXN0Q2hhbm5lbE9wdGlvbnMpO1xuICAgIHdhbGxldEFjY291bnRJbXBvcnRDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGV2ID0+IHtcbiAgICAgIHZhciBfZXYkZGF0YTI7XG4gICAgICBpZiAoIWV2LmVycm9yICYmICgoX2V2JGRhdGEyID0gZXYuZGF0YSkgPT09IG51bGwgfHwgX2V2JGRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXYkZGF0YTIudHlwZSkgPT09IEJST0FEQ0FTVF9DSEFOTkVMU19NU0dTLkFDQ09VTlRfSU1QT1JURUQpIHtcbiAgICAgICAgdmFyIF9ldiRkYXRhMztcbiAgICAgICAgdGhpcy5oYW5kbGVBY2NvdW50SW1wb3J0KChfZXYkZGF0YTMgPSBldi5kYXRhKSA9PT0gbnVsbCB8fCBfZXYkZGF0YTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldiRkYXRhMy5wcml2S2V5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBuZXR3b3JrQ2hhbmdlQ2hhbm5lbCgpIHtcbiAgICBjb25zdCB3YWxsZXRBY2NvdW50SW1wb3J0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKGAke0JST0FEQ0FTVF9DSEFOTkVMUy5XQUxMRVRfTkVUV09SS19DSEFOR0VfQ0hBTk5FTH1fJHt0aGlzLmluc3RhbmNlSWR9YCwgYnJvYWRjYXN0Q2hhbm5lbE9wdGlvbnMpO1xuICAgIHdhbGxldEFjY291bnRJbXBvcnRDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGV2ID0+IHtcbiAgICAgIHZhciBfZXYkZGF0YTQ7XG4gICAgICBpZiAoIWV2LmVycm9yICYmICgoX2V2JGRhdGE0ID0gZXYuZGF0YSkgPT09IG51bGwgfHwgX2V2JGRhdGE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXYkZGF0YTQudHlwZSkgPT09IEJST0FEQ0FTVF9DSEFOTkVMU19NU0dTLk5FVFdPUktfQ0hBTkdFKSB7XG4gICAgICAgIHZhciBfZXYkZGF0YTU7XG4gICAgICAgIHRoaXMuaGFuZGxlTmV0d29ya0NoYW5nZSgoX2V2JGRhdGE1ID0gZXYuZGF0YSkgPT09IG51bGwgfHwgX2V2JGRhdGE1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXYkZGF0YTUubmV0d29yayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdGhlbWVDaGFuZ2VkQ2hhbm5lbCgpIHtcbiAgICBjb25zdCB3YWxsZXRBY2NvdW50SW1wb3J0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKGAke0JST0FEQ0FTVF9DSEFOTkVMUy5USEVNRV9DSEFOR0V9XyR7dGhpcy5pbnN0YW5jZUlkfWAsIGJyb2FkY2FzdENoYW5uZWxPcHRpb25zKTtcbiAgICB3YWxsZXRBY2NvdW50SW1wb3J0Q2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBldiA9PiB7XG4gICAgICB2YXIgX2V2JGRhdGE2O1xuICAgICAgbG9nLmluZm8oe1xuICAgICAgICBldlxuICAgICAgfSk7XG4gICAgICBpZiAoIWV2LmVycm9yICYmICgoX2V2JGRhdGE2ID0gZXYuZGF0YSkgPT09IG51bGwgfHwgX2V2JGRhdGE2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXYkZGF0YTYudHlwZSkgPT09IEJST0FEQ0FTVF9DSEFOTkVMU19NU0dTLlNFVF9USEVNRSkge1xuICAgICAgICB2YXIgX2V2JGRhdGE3O1xuICAgICAgICB0aGlzLmhhbmRsZVRoZW1lQ2hhbmdlKChfZXYkZGF0YTcgPSBldi5kYXRhKSA9PT0gbnVsbCB8fCBfZXYkZGF0YTcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldiRkYXRhNy50aGVtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgc2VsZWN0ZWRBZGRyZXNzQ2hhbmdlQ2hhbm5lbCgpIHtcbiAgICBjb25zdCB3YWxsZXRBY2NvdW50SW1wb3J0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKGAke0JST0FEQ0FTVF9DSEFOTkVMUy5XQUxMRVRfU0VMRUNURURfQUREUkVTU19DSEFOTkVMfV8ke3RoaXMuaW5zdGFuY2VJZH1gLCBicm9hZGNhc3RDaGFubmVsT3B0aW9ucyk7XG4gICAgd2FsbGV0QWNjb3VudEltcG9ydENoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZXYgPT4ge1xuICAgICAgdmFyIF9ldiRkYXRhODtcbiAgICAgIGlmICghZXYuZXJyb3IgJiYgKChfZXYkZGF0YTggPSBldi5kYXRhKSA9PT0gbnVsbCB8fCBfZXYkZGF0YTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldiRkYXRhOC50eXBlKSA9PT0gQlJPQURDQVNUX0NIQU5ORUxTX01TR1MuU0VMRUNURURfQUREUkVTU19DSEFOR0UpIHtcbiAgICAgICAgdmFyIF9ldiRkYXRhOTtcbiAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3RlZEFkZHJlc3NDaGFuZ2UoKF9ldiRkYXRhOSA9IGV2LmRhdGEpID09PSBudWxsIHx8IF9ldiRkYXRhOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2JGRhdGE5LnNlbGVjdGVkQWRkcmVzcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBQb3B1cFdpdGhCY0hhbmRsZXIgaXMgYSBQb3B1cEhhbmRsZXIgd2hpY2ggdXNlcyBicm9hZGNhc3QgY2hhbm5lbCB0byBjb21tdW5pY2F0ZSB3aXRoIHRoZSBwb3B1cCB3aW5kb3cuXG4gKi9cbmNsYXNzIFBvcHVwV2l0aEJjSGFuZGxlciBleHRlbmRzIFBvcHVwSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgY29uZmlnLFxuICAgICAgc3RhdGUsXG4gICAgICBpbnN0YW5jZUlkXG4gICAgfSA9IF9yZWY7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnLFxuICAgICAgc3RhdGVcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJiY1wiLCB2b2lkIDApO1xuICAgIHRoaXMuYmMgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbChpbnN0YW5jZUlkLCBicm9hZGNhc3RDaGFubmVsT3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogUmVjZWl2ZXMgdGhlIGRhdGEgZnJvbSBwb3B1cCB3aW5kb3cgYW5kIGNsb3NlcyB0aGUgd2luZG93XG4gICAqIEBwYXJhbSBzdWNjZXNzRXh0cmFGbiAtIEV4dHJhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBhZnRlciB0aGUgZGF0YSBpcyByZWNlaXZlZFxuICAgKiBAcmV0dXJucyBUaGUgZGF0YSB0byBiZSByZWNlaXZlZFxuICAgKi9cbiAgaGFuZGxlKHN1Y2Nlc3NFeHRyYUZuKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGNsb3NlTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuYmMuY2xvc2UoKTtcbiAgICAgICAgcmVqZWN0KG5ldyBVc2VyRXJyb3IoXCJ1c2VyIGNsb3NlZCBwb3B1cFwiKSk7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLCBjbG9zZUxpc3RlbmVyKTtcbiAgICAgIH07XG4gICAgICB0aGlzLm9uKFwiY2xvc2VcIiwgY2xvc2VMaXN0ZW5lcik7XG4gICAgICB0aGlzLmJjLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGFzeW5jIGV2ID0+IHtcbiAgICAgICAgbG9nLmluZm8oZXYsIGByZWNlaXZpbmcgZGF0YSBvbiBjaGFubmVsOiAke3RoaXMuYmMubmFtZX1gKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIGRhdGFcbiAgICAgICAgICB9ID0gZXY7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGVycm9yKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdWNjZXNzRXh0cmFGbikgYXdhaXQgc3VjY2Vzc0V4dHJhRm4uY2FsbCh0aGlzLCBkYXRhKTtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgdGhpcy5iYy5jbG9zZSgpO1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm9wZW4oKS50aGVuKCgpID0+IHtcbiAgICAgICAgbG9nLmluZm8oYG9wZW5lZCB3aW5kb3cgJHt0aGlzLmJjLm5hbWV9YCk7XG4gICAgICAgIC8vIE9wZW5lZCB3aW5kb3cuIHlheS4gIGxldCB0aGUgYmMgZXZlbnRzIGRvIHRoZWlyIGpvYlxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgbG9nLmVycm9yKGVyciwgXCJzb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBvcGVuaW5nIHdpbmRvd1wiKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2UgdGhpcyBpZiB3ZSBoYXZlIHRvIHNlbmQgbGFyZ2UgcGF5bG9hZHMgd2hpY2ggZG9uJ3QgZml0IGluIHF1ZXJ5L2hhc2ggcGFyYW1zLlxuICAgKiBXYWl0cyBmb3IgYWNrIHRoYXQgcG9wdXAgd2luZG93IGlzIHJlYWR5IHRvIHJlY2VpdmUgZGF0YS5cbiAgICogUmVjZWl2ZXMgdGhlIGRhdGEgZnJvbSBwb3B1cCB3aW5kb3cgYW5kIGNsb3NlcyB0aGUgd2luZG93XG4gICAqIEBwYXJhbSBwYXlsb2FkIC0gVGhlIGRhdGEgdG8gYmUgc2VudCB0byB0aGUgcG9wdXAgd2luZG93IG9uY2Ugd2UgaGF2ZSBhY2sgdGhhdCB3aW5kb3cgaXMgcmVhZHkgdG8gcmVjZWl2ZSBkYXRhXG4gICAqIEBwYXJhbSBzdWNjZXNzRXh0cmFGbiAtIEV4dHJhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBhZnRlciB0aGUgZGF0YSBpcyByZWNlaXZlZFxuICAgKiBAcmV0dXJucyBUaGUgZGF0YSB0byBiZSByZWNlaXZlZFxuICAgKi9cbiAgaGFuZGxlV2l0aEhhbmRzaGFrZShwYXlsb2FkLCBzdWNjZXNzRXh0cmFGbikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBjbG9zZUxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmJjLmNsb3NlKCk7XG4gICAgICAgIHJlamVjdChuZXcgVXNlckVycm9yKFwidXNlciBjbG9zZWQgcG9wdXBcIikpO1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIiwgY2xvc2VMaXN0ZW5lcik7XG4gICAgICB9O1xuICAgICAgdGhpcy5vbihcImNsb3NlXCIsIGNsb3NlTGlzdGVuZXIpO1xuICAgICAgdGhpcy5iYy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBhc3luYyBldiA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbG9nLmluZm8oZXYsIGByZWNlaXZpbmcgZGF0YSBvbiBjaGFubmVsOiAke3RoaXMuYmMubmFtZX1gKTtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIGRhdGFcbiAgICAgICAgICB9ID0gZXY7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGVycm9yKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIERvIGhhbmRzaGFrZVxuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHR5cGUgPSBcIlwiXG4gICAgICAgICAgfSA9IGRhdGE7XG4gICAgICAgICAgaWYgKHR5cGUgPT09IFBPUFVQX0xPQURFRCkge1xuICAgICAgICAgICAgLy8gSGFjayB3aXRoIGdlbmVyaWMgdG8gdXNlIHRoZSBzYW1lIHR5cGUgZm9yIGJvdGggc2VuZCBhbmQgcmVjZWl2ZVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5iYy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gUE9QVVBfUkVTVUxUKSB7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc0V4dHJhRm4pIGF3YWl0IHN1Y2Nlc3NFeHRyYUZuLmNhbGwodGhpcywgZGF0YSk7XG4gICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgLy8gTXVzdCBvbmx5IGNsb3NlIHRoZSBiYyBhZnRlciByZXN1bHQgaXMgZG9uZVxuICAgICAgICAgICAgdGhpcy5iYy5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIHRoaXMuYmMuY2xvc2UoKTtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5vcGVuKCkudGhlbigoKSA9PiB7XG4gICAgICAgIGxvZy5pbmZvKGBvcGVuZWQgd2luZG93ICR7dGhpcy5iYy5uYW1lfWApO1xuICAgICAgICAvLyBPcGVuZWQgd2luZG93LiB5YXkuICBsZXQgdGhlIGJjIGV2ZW50cyBkbyB0aGVpciBqb2JcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGxvZy5lcnJvcihlcnIsIFwic29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgb3BlbmluZyB3aW5kb3dcIik7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuY2xhc3MgUmVkaXJlY3RIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZXJyb3JcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJmaW5hbFF1ZXJ5UGFyYW1zXCIsIHt9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnN0YW5jZVBhcmFtZXRlcnNcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJoYXNoUGFyYW1ldGVyc1wiLCB2b2lkIDApO1xuICAgIGNvbnN0IHtcbiAgICAgIGhhc2hcbiAgICB9ID0gd2luZG93LmxvY2F0aW9uO1xuICAgIGNvbnN0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgcXVlcnlQYXJhbWV0ZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIHRoaXMuZmluYWxRdWVyeVBhcmFtc1trZXldID0gdmFsdWU7XG4gICAgfSk7XG4gICAgY29uc3Qge1xuICAgICAgZXJyb3IsXG4gICAgICBpbnN0YW5jZVBhcmFtZXRlcnMsXG4gICAgICBoYXNoUGFyYW1ldGVyc1xuICAgIH0gPSBoYW5kbGVSZWRpcmVjdFBhcmFtZXRlcnMoaGFzaCwgdGhpcy5maW5hbFF1ZXJ5UGFyYW1zKTtcbiAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgdGhpcy5pbnN0YW5jZVBhcmFtZXRlcnMgPSBpbnN0YW5jZVBhcmFtZXRlcnM7XG4gICAgdGhpcy5oYXNoUGFyYW1ldGVycyA9IGhhc2hQYXJhbWV0ZXJzO1xuICB9XG4gIGFzeW5jIGhhbmRsZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmaW5hbFF1ZXJ5UGFyYW1zLFxuICAgICAgICBpbnN0YW5jZVBhcmFtZXRlcnMsXG4gICAgICAgIGhhc2hQYXJhbWV0ZXJzLFxuICAgICAgICBlcnJvclxuICAgICAgfSA9IHRoaXM7XG4gICAgICBsZXQgYmM7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWZpbmFsUXVlcnlQYXJhbXMud2luZG93SWQpIHtcbiAgICAgICAgICBiYyA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKGAke0JST0FEQ0FTVF9DSEFOTkVMUy5SRURJUkVDVF9DSEFOTkVMfV8ke2luc3RhbmNlUGFyYW1ldGVycy5pbnN0YW5jZUlkfWAsIGJyb2FkY2FzdENoYW5uZWxPcHRpb25zKTtcbiAgICAgICAgICBiYy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBhc3luYyBldiA9PiB7XG4gICAgICAgICAgICBpZiAoZXYuZXJyb3IpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGV2LmVycm9yKTtcbiAgICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIGJjLmNsb3NlKCk7XG4gICAgICAgICAgICAgIGxvZy5pbmZvKFwicG9zdGVkXCIsIHtcbiAgICAgICAgICAgICAgICBmaW5hbFF1ZXJ5UGFyYW1zLFxuICAgICAgICAgICAgICAgIGhhc2hQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlUGFyYW1ldGVyc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBiYy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluc3RhbmNlUGFyYW1zOiBpbnN0YW5jZVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgIGhhc2hQYXJhbXM6IGhhc2hQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICBxdWVyeVBhcmFtczogZmluYWxRdWVyeVBhcmFtc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmMgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbChgJHtmaW5hbFF1ZXJ5UGFyYW1zLndpbmRvd0lkfWAsIGJyb2FkY2FzdENoYW5uZWxPcHRpb25zKTtcbiAgICAgICAgICBiYy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBhc3luYyBldiA9PiB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgfSA9IGV2LmRhdGE7XG4gICAgICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgPT09IFNFVFVQX0NPTVBMRVRFKSB7XG4gICAgICAgICAgICAgIGF3YWl0IGJjLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICB3aW5kb3dJZDogZmluYWxRdWVyeVBhcmFtcy53aW5kb3dJZCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFBPUFVQX0xPQURFRFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXYuZXJyb3IgJiYgZXYuZXJyb3IgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgbG9nLmVycm9yKGV2LmVycm9yKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICBiYy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nLmluZm8oZXJyLCBcInNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgaWYgKGJjKSBiYy5jbG9zZSgpO1xuICAgICAgICB3aW5kb3cuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBBQ1RJVklUWV9BQ1RJT04gPSB7XG4gIEFDVElWSVRZX0FDVElPTl9BTEw6IFwid2FsbGV0QWN0aXZpdHkuYWxsVHJhbnNhY3Rpb25zXCIsXG4gIEFDVElWSVRZX0FDVElPTl9TRU5EOiBcIndhbGxldEFjdGl2aXR5LnNlbmRcIixcbiAgQUNUSVZJVFlfQUNUSU9OX1JFQ0VJVkU6IFwid2FsbGV0QWN0aXZpdHkucmVjZWl2ZVwiLFxuICBBQ1RJVklUWV9BQ1RJT05fVE9QVVA6IFwid2FsbGV0QWN0aXZpdHkudG9wdXBcIlxufTtcbmNvbnN0IEFDQ09VTlRfQ0FURUdPUlkgPSB7XG4gIE5PUk1BTDogXCJub3JtYWxcIixcbiAgVEhSRVNIT0xEOiBcInRocmVzaG9sZFwiLFxuICBJTVBPUlRFRDogXCJpbXBvcnRlZFwiXG59O1xuXG4vKipcbiAqIFByZWZlcmVuY2VzIGNvbnRyb2xsZXIgc3RhdGVcbiAqL1xuXG4vLyBCeSBkZWZhdWx0LCBwb2xsIGV2ZXJ5IDMgbWludXRlc1xuY29uc3QgREVGQVVMVF9JTlRFUlZBTCA9IDE4MCAqIDEwMDA7XG5jb25zdCBERUZBVUxUX1BSRUZFUkVOQ0VTID0ge1xuICBzZWxlY3RlZEN1cnJlbmN5OiBcIlVTRFwiLFxuICB0aGVtZTogXCJkYXJrXCIsXG4gIGxvY2FsZTogXCJlbi1VU1wiLFxuICBhY2NvdW50VHlwZTogQUNDT1VOVF9DQVRFR09SWS5OT1JNQUwsXG4gIGNvbnRhY3RzOiBbXSxcbiAgand0VG9rZW46IFwiXCIsXG4gIGZldGNoZWRQYXN0VHg6IFtdLFxuICBwYXN0VHJhbnNhY3Rpb25zOiBbXSxcbiAgcGF5bWVudFR4OiBbXSxcbiAgZGVmYXVsdFB1YmxpY0FkZHJlc3M6IFwiXCIsXG4gIGN1c3RvbVRva2VuczogW10sXG4gIGN1c3RvbU5mdHM6IFtdLFxuICBjcmFzaFJlcG9ydDogdHJ1ZSxcbiAgdXNlckluZm86IHtcbiAgICBhZ2dyZWdhdGVWZXJpZmllcjogXCJcIixcbiAgICBlbWFpbDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIHByb2ZpbGVJbWFnZTogXCJcIixcbiAgICB0eXBlT2ZMb2dpbjogTE9HSU5fUFJPVklERVIuR09PR0xFLFxuICAgIHZlcmlmaWVyOiBcIlwiLFxuICAgIHZlcmlmaWVySWQ6IFwiXCJcbiAgfVxufTtcblxuLyoqXG4gKiBDb250cm9sbGVyIHRoYXQgc3RvcmVzIHNoYXJlZCBzZXR0aW5ncyBhbmQgZXhwb3NlcyBjb252ZW5pZW5jZSBtZXRob2RzXG4gKi9cbmNsYXNzIEJhc2VQcmVmZXJlbmNlc0NvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgUHJlZmVyZW5jZXNDb250cm9sbGVyIGluc3RhbmNlXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWcgLSBJbml0aWFsIG9wdGlvbnMgdXNlZCB0byBjb25maWd1cmUgdGhpcyBjb250cm9sbGVyXG4gICAqIEBwYXJhbSBzdGF0ZSAtIEluaXRpYWwgc3RhdGUgdG8gc2V0IG9uIHRoaXMgY29udHJvbGxlclxuICAgKi9cbiAgY29uc3RydWN0b3IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBjb25maWcsXG4gICAgICBzdGF0ZSxcbiAgICAgIGRlZmF1bHRQcmVmZXJlbmNlcyxcbiAgICAgIHNpZ25BdXRoTWVzc2FnZVxuICAgIH0gPSBfcmVmO1xuICAgIHN1cGVyKHtcbiAgICAgIGNvbmZpZyxcbiAgICAgIHN0YXRlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGlzIGNvbnRyb2xsZXIgdXNlZCBkdXJpbmcgY29tcG9zaXRpb25cbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIFwiUHJlZmVyZW5jZXNDb250cm9sbGVyXCIpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlmcmFtZU9yaWdpblwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNpZ25BdXRoTWVzc2FnZVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlZmF1bHRQcmVmZXJlbmNlc1wiLCB2b2lkIDApO1xuICAgIGlmICghY29uZmlnLmFwaSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJlZmVyZW5jZXNDb250cm9sbGVyIC0gbm8gYXBpIHNwZWNpZmllZCBpbiBjb25maWcuXCIpO1xuICAgIH1cbiAgICB0aGlzLmRlZmF1bHRTdGF0ZSA9IHtcbiAgICAgIGlkZW50aXRpZXM6IHt9LFxuICAgICAgc2VsZWN0ZWRBZGRyZXNzOiBcIlwiLFxuICAgICAgbGFzdEVycm9yTWVzc2FnZTogXCJcIixcbiAgICAgIGxhc3RTdWNjZXNzTWVzc2FnZTogXCJcIlxuICAgIH07XG4gICAgdGhpcy5kZWZhdWx0Q29uZmlnID0ge1xuICAgICAgYXBpOiBjb25maWcuYXBpLFxuICAgICAgcG9sbEludGVydmFsOiBERUZBVUxUX0lOVEVSVkFMXG4gICAgfTtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB0aGlzLmRlZmF1bHRQcmVmZXJlbmNlcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgREVGQVVMVF9QUkVGRVJFTkNFUyksIGRlZmF1bHRQcmVmZXJlbmNlcyk7XG4gICAgdGhpcy5zaWduQXV0aE1lc3NhZ2UgPSBzaWduQXV0aE1lc3NhZ2U7XG4gIH1cbiAgc2V0SWZyYW1lT3JpZ2luKG9yaWdpbikge1xuICAgIHRoaXMuaWZyYW1lT3JpZ2luID0gb3JpZ2luO1xuICB9XG4gIGdldEFkZHJlc3NTdGF0ZShhZGRyZXNzKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRBZGRyZXNzID0gYWRkcmVzcyB8fCB0aGlzLnN0YXRlLnNlbGVjdGVkQWRkcmVzcztcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5pZGVudGl0aWVzW3NlbGVjdGVkQWRkcmVzc107XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBzZWxlY3RlZCBhZGRyZXNzXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RlZEFkZHJlc3MgLSBjYXNwZXIgYWNjb3VudCBoYXNoXG4gICAqL1xuICBzZXRTZWxlY3RlZEFkZHJlc3Moc2VsZWN0ZWRBZGRyZXNzKSB7XG4gICAgdGhpcy51cGRhdGUoe1xuICAgICAgc2VsZWN0ZWRBZGRyZXNzXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgZ2V0VXNlcihhZGRyZXNzKSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGdldChgJHt0aGlzLmNvbmZpZy5hcGl9L3VzZXI/ZmV0Y2hUeD1mYWxzZWAsIHRoaXMuaGVhZGVycyhhZGRyZXNzKSwge1xuICAgICAgdXNlQVBJS2V5OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHVzZXIuZGF0YTtcbiAgfVxuICBhc3luYyBjcmVhdGVVc2VyKHBhcmFtcykge1xuICAgIGNvbnN0IHtcbiAgICAgIHNlbGVjdGVkQ3VycmVuY3ksXG4gICAgICB0aGVtZSxcbiAgICAgIHZlcmlmaWVyLFxuICAgICAgdmVyaWZpZXJJZCxcbiAgICAgIGxvY2FsZSxcbiAgICAgIGFkZHJlc3MsXG4gICAgICBpZFRva2VuXG4gICAgfSA9IHBhcmFtcztcbiAgICBjb25zdCB1c2VyUGF5bG9hZCA9IHtcbiAgICAgIGRlZmF1bHRfY3VycmVuY3k6IHNlbGVjdGVkQ3VycmVuY3ksXG4gICAgICB0aGVtZSxcbiAgICAgIHZlcmlmaWVyLFxuICAgICAgdmVyaWZpZXJfaWQ6IHZlcmlmaWVySWQsXG4gICAgICBsb2NhbGUsXG4gICAgICBpZFRva2VuXG4gICAgfTtcbiAgICBhd2FpdCBwb3N0KGAke3RoaXMuY29uZmlnLmFwaX0vdXNlcmAsIHVzZXJQYXlsb2FkLCB0aGlzLmhlYWRlcnMoYWRkcmVzcyksIHtcbiAgICAgIHVzZUFQSUtleTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlU3RhdGUoe1xuICAgICAgdGhlbWUsXG4gICAgICBkZWZhdWx0UHVibGljQWRkcmVzczogYWRkcmVzcyxcbiAgICAgIHNlbGVjdGVkQ3VycmVuY3ksXG4gICAgICBsb2NhbGVcbiAgICB9LCBhZGRyZXNzKTtcbiAgfVxuICBhc3luYyBzdG9yZVVzZXJMb2dpbihwYXJhbXMpIHtcbiAgICBjb25zdCB7XG4gICAgICB2ZXJpZmllcklkLFxuICAgICAgdmVyaWZpZXIsXG4gICAgICBvcHRpb25zLFxuICAgICAgYWRkcmVzcyxcbiAgICAgIGlkVG9rZW5cbiAgICB9ID0gcGFyYW1zO1xuICAgIGlmICghb3B0aW9ucy5yZWh5ZHJhdGUpIHtcbiAgICAgIGNvbnN0IGJyb3dzZXIgPSBib3dzZXIuZ2V0UGFyc2VyKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgIGNvbnN0IHNwZWNpYWxCcm93c2VyID0gZ2V0Q3VzdG9tRGV2aWNlSW5mbygpO1xuICAgICAgY29uc3QgcmVjb3JkTG9naW5QYXlsb2FkID0ge1xuICAgICAgICBvczogYnJvd3Nlci5nZXRPU05hbWUoKSxcbiAgICAgICAgb3NfdmVyc2lvbjogYnJvd3Nlci5nZXRPU1ZlcnNpb24oKSB8fCBcInVuaWRlbnRpZmllZFwiLFxuICAgICAgICBicm93c2VyOiAoc3BlY2lhbEJyb3dzZXIgPT09IG51bGwgfHwgc3BlY2lhbEJyb3dzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNwZWNpYWxCcm93c2VyLmJyb3dzZXIpIHx8IGJyb3dzZXIuZ2V0QnJvd3Nlck5hbWUoKSB8fCBcInVuaWRlbnRpZmllZFwiLFxuICAgICAgICBicm93c2VyX3ZlcnNpb246IGJyb3dzZXIuZ2V0QnJvd3NlclZlcnNpb24oKSB8fCBcInVuaWRlbnRpZmllZFwiLFxuICAgICAgICBwbGF0Zm9ybTogYnJvd3Nlci5nZXRQbGF0Zm9ybSgpLnR5cGUgfHwgXCJkZXNrdG9wXCIsXG4gICAgICAgIGhvc3RuYW1lOiB0aGlzLmlmcmFtZU9yaWdpbixcbiAgICAgICAgdmVyaWZpZXIsXG4gICAgICAgIHZlcmlmaWVyX2lkOiB2ZXJpZmllcklkLFxuICAgICAgICBpZFRva2VuXG4gICAgICB9O1xuICAgICAgYXdhaXQgcG9zdChgJHt0aGlzLmNvbmZpZy5hcGl9L3VzZXIvcmVjb3JkTG9naW5gLCByZWNvcmRMb2dpblBheWxvYWQsIHRoaXMuaGVhZGVycyhhZGRyZXNzKSwge1xuICAgICAgICB1c2VBUElLZXk6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBhc3luYyBzZXRDcmFzaFJlcG9ydChpc0VuYWJsZWQpIHtcbiAgICB2YXIgX3RoaXMkZ2V0QWRkcmVzc1N0YXRlO1xuICAgIGlmIChpc0VuYWJsZWQgPT09ICgoX3RoaXMkZ2V0QWRkcmVzc1N0YXRlID0gdGhpcy5nZXRBZGRyZXNzU3RhdGUoKSkgPT09IG51bGwgfHwgX3RoaXMkZ2V0QWRkcmVzc1N0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRnZXRBZGRyZXNzU3RhdGUuY3Jhc2hSZXBvcnQpKSByZXR1cm4gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcGF0Y2goYCR7dGhpcy5jb25maWcuYXBpfS91c2VyYCwge1xuICAgICAgICBlbmFibGVfY3Jhc2hfcmVwb3J0ZXI6IGlzRW5hYmxlZFxuICAgICAgfSwgdGhpcy5oZWFkZXJzKCksIHtcbiAgICAgICAgdXNlQVBJS2V5OiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHRoaXMudXBkYXRlU3RhdGUoe1xuICAgICAgICBjcmFzaFJlcG9ydDogaXNFbmFibGVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2cuZXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBhc3luYyBzZXRVc2VyVGhlbWUodGhlbWUpIHtcbiAgICB2YXIgX3RoaXMkZ2V0QWRkcmVzc1N0YXRlMjtcbiAgICBpZiAodGhlbWUgPT09ICgoX3RoaXMkZ2V0QWRkcmVzc1N0YXRlMiA9IHRoaXMuZ2V0QWRkcmVzc1N0YXRlKCkpID09PSBudWxsIHx8IF90aGlzJGdldEFkZHJlc3NTdGF0ZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGdldEFkZHJlc3NTdGF0ZTIudGhlbWUpKSByZXR1cm4gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcGF0Y2goYCR7dGhpcy5jb25maWcuYXBpfS91c2VyYCwge1xuICAgICAgICB0aGVtZVxuICAgICAgfSwgdGhpcy5oZWFkZXJzKCksIHtcbiAgICAgICAgdXNlQVBJS2V5OiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHRoaXMudXBkYXRlU3RhdGUoe1xuICAgICAgICB0aGVtZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgc2V0VXNlckxvY2FsZShsb2NhbGUpIHtcbiAgICB2YXIgX3RoaXMkZ2V0QWRkcmVzc1N0YXRlMztcbiAgICBpZiAobG9jYWxlID09PSAoKF90aGlzJGdldEFkZHJlc3NTdGF0ZTMgPSB0aGlzLmdldEFkZHJlc3NTdGF0ZSgpKSA9PT0gbnVsbCB8fCBfdGhpcyRnZXRBZGRyZXNzU3RhdGUzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRnZXRBZGRyZXNzU3RhdGUzLmxvY2FsZSkpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcGF0Y2goYCR7dGhpcy5jb25maWcuYXBpfS91c2VyYCwge1xuICAgICAgICBsb2NhbGVcbiAgICAgIH0sIHRoaXMuaGVhZGVycygpLCB7XG4gICAgICAgIHVzZUFQSUtleTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLnVwZGF0ZVN0YXRlKHtcbiAgICAgICAgbG9jYWxlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2cuZXJyb3IoXCJ1bmFibGUgdG8gc2V0IGxvY2FsZVwiLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGFzeW5jIHNldFNlbGVjdGVkQ3VycmVuY3kocGF5bG9hZCkge1xuICAgIHZhciBfdGhpcyRnZXRBZGRyZXNzU3RhdGU0O1xuICAgIGlmIChwYXlsb2FkLnNlbGVjdGVkQ3VycmVuY3kgPT09ICgoX3RoaXMkZ2V0QWRkcmVzc1N0YXRlNCA9IHRoaXMuZ2V0QWRkcmVzc1N0YXRlKCkpID09PSBudWxsIHx8IF90aGlzJGdldEFkZHJlc3NTdGF0ZTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGdldEFkZHJlc3NTdGF0ZTQuc2VsZWN0ZWRDdXJyZW5jeSkpIHJldHVybiB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwYXRjaChgJHt0aGlzLmNvbmZpZy5hcGl9L3VzZXJgLCB7XG4gICAgICAgIGRlZmF1bHRfY3VycmVuY3k6IHBheWxvYWQuc2VsZWN0ZWRDdXJyZW5jeVxuICAgICAgfSwgdGhpcy5oZWFkZXJzKCksIHtcbiAgICAgICAgdXNlQVBJS2V5OiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHRoaXMudXBkYXRlU3RhdGUoe1xuICAgICAgICBzZWxlY3RlZEN1cnJlbmN5OiBwYXlsb2FkLnNlbGVjdGVkQ3VycmVuY3lcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZy5lcnJvcihlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGFzeW5jIGFkZENvbnRhY3QoY29udGFjdCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0QWRkcmVzc1N0YXRlNTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdChgJHt0aGlzLmNvbmZpZy5hcGl9L2NvbnRhY3RgLCBjb250YWN0LCB0aGlzLmhlYWRlcnMoKSwge1xuICAgICAgICB1c2VBUElLZXk6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy51cGRhdGVTdGF0ZSh7XG4gICAgICAgIGNvbnRhY3RzOiBbLi4uKCgoX3RoaXMkZ2V0QWRkcmVzc1N0YXRlNSA9IHRoaXMuZ2V0QWRkcmVzc1N0YXRlKCkpID09PSBudWxsIHx8IF90aGlzJGdldEFkZHJlc3NTdGF0ZTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGdldEFkZHJlc3NTdGF0ZTUuY29udGFjdHMpIHx8IFtdKSwgcmVzcG9uc2UuZGF0YV1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZy5lcnJvcihcInVuYWJsZSB0byBhZGQgY29udGFjdFwiLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGFzeW5jIGRlbGV0ZUNvbnRhY3QoY29udGFjdElkKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBfdGhpcyRnZXRBZGRyZXNzU3RhdGU2O1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZW1vdmUoYCR7dGhpcy5jb25maWcuYXBpfS9jb250YWN0LyR7Y29udGFjdElkfWAsIHt9LCB0aGlzLmhlYWRlcnMoKSwge1xuICAgICAgICB1c2VBUElLZXk6IHRydWVcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZmluYWxDb250YWN0cyA9IChfdGhpcyRnZXRBZGRyZXNzU3RhdGU2ID0gdGhpcy5nZXRBZGRyZXNzU3RhdGUoKSkgPT09IG51bGwgfHwgX3RoaXMkZ2V0QWRkcmVzc1N0YXRlNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZ2V0QWRkcmVzc1N0YXRlNi5jb250YWN0cy5maWx0ZXIoY29udGFjdCA9PiBjb250YWN0LmlkICE9PSByZXNwb25zZS5kYXRhLmlkKTtcbiAgICAgIGlmIChmaW5hbENvbnRhY3RzKSB0aGlzLnVwZGF0ZVN0YXRlKHtcbiAgICAgICAgY29udGFjdHM6IFsuLi5maW5hbENvbnRhY3RzXVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKFwidW5hYmxlIHRvIGRlbGV0ZSBjb250YWN0XCIsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgcmV2b2tlRGlzY29yZChpZFRva2VuKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBwb3N0KGAke3RoaXMuY29uZmlnLmFwaX0vcmV2b2tlL2Rpc2NvcmRgLCB7XG4gICAgICAgIHRva2VuOiBpZFRva2VuXG4gICAgICB9LCB0aGlzLmhlYWRlcnMoKSwge1xuICAgICAgICB1c2VBUElLZXk6IHRydWVcbiAgICAgIH0pO1xuICAgICAgbG9nLmluZm8ocmVzcCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZy5lcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG4gIGFzeW5jIHBhdGNoUGFzdFR4KGJvZHksIGFkZHJlc3MpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwYXRjaChgJHt0aGlzLmNvbmZpZy5hcGl9L3RyYW5zYWN0aW9uYCwgYm9keSwgdGhpcy5oZWFkZXJzKGFkZHJlc3MpLCB7XG4gICAgICAgIHVzZUFQSUtleTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBsb2cuaW5mbyhcInN1Y2Nlc3NmdWxseSBwYXRjaGVkXCIsIHJlc3BvbnNlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKFwidW5hYmxlIHRvIHBhdGNoIHR4XCIsIGVycm9yKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgcG9zdFBhc3RUeCh0eCwgYWRkcmVzcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHBvc3QoYCR7dGhpcy5jb25maWcuYXBpfS90cmFuc2FjdGlvbmAsIHR4LCB0aGlzLmhlYWRlcnMoYWRkcmVzcyksIHtcbiAgICAgICAgdXNlQVBJS2V5OiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGxvZy5pbmZvKFwic3VjY2Vzc2Z1bGx5IHBvc3RlZCB0eFwiLCByZXNwb25zZSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZy5lcnJvcihlcnJvciwgXCJ1bmFibGUgdG8gaW5zZXJ0IHRyYW5zYWN0aW9uXCIpO1xuICAgIH1cbiAgfVxuICBhc3luYyBnZXRXYWxsZXRPcmRlcnMoYWRkcmVzcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldChgJHt0aGlzLmNvbmZpZy5hcGl9L3RyYW5zYWN0aW9uYCwgdGhpcy5oZWFkZXJzKGFkZHJlc3MpLCB7XG4gICAgICAgIHVzZUFQSUtleTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc3VjY2VzcyA/IHJlc3BvbnNlLmRhdGEgPyByZXNwb25zZS5kYXRhIDogW10gOiBbXTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKFwidW5hYmxlIHRvIGdldCB3YWxsZXQgb3JkZXJzIHR4XCIsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZ2V0VG9wVXBPcmRlcnMoYWRkcmVzcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldChgJHt0aGlzLmNvbmZpZy5jb21tb25BcGlIb3N0fS90cmFuc2FjdGlvbmAsIHRoaXMuaGVhZGVycyhhZGRyZXNzKSwge1xuICAgICAgICB1c2VBUElLZXk6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEgfHwgW107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZy5lcnJvcihcInVuYWJsZSB0byBmZXRjaCBwYXN0IFRvcCB1cCBvcmRlcnNcIiwgZXJyb3IpO1xuICAgIH1cbiAgfVxuICBhc3luYyBnZXRCaWxsQm9hcmREYXRhKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldChgJHt0aGlzLmNvbmZpZy5hcGl9L2JpbGxib2FyZGAsIHRoaXMuaGVhZGVycygpLCB7XG4gICAgICAgIHVzZUFQSUtleTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc3VjY2VzcyA/IHJlc3BvbnNlLmRhdGEgOiBbXTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKFwidW5hYmxlIHRvIGdldCBiaWxsYm9hcmQgZGF0YVwiLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG4gIGFzeW5jIGdldE1lc3NhZ2VGb3JTaWduaW5nKHB1YmxpY0FkZHJlc3MpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHBvc3QoYCR7dGhpcy5jb25maWcuYXBpfS9hdXRoL21lc3NhZ2VgLCB7XG4gICAgICBwdWJsaWNfYWRkcmVzczogcHVibGljQWRkcmVzc1xuICAgIH0sIHt9LCB7XG4gICAgICB1c2VBUElLZXk6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2UubWVzc2FnZTtcbiAgfVxuICBhc3luYyBnZXRUd2l0dGVySWQocGF5bG9hZCkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldChgJHt0aGlzLmNvbmZpZy5hcGl9L3R3aXR0ZXI/c2NyZWVuX25hbWU9JHtwYXlsb2FkLm5pY2t9YCwgdGhpcy5oZWFkZXJzKCksIHtcbiAgICAgIHVzZUFQSUtleTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBgJHtwYXlsb2FkLnR5cGVPZkxvZ2luLnRvTG93ZXJDYXNlKCl9fCR7cmVzLmRhdGEudG9TdHJpbmcoKX1gO1xuICB9XG4gIGFzeW5jIHNlbmRFbWFpbChwYXlsb2FkKSB7XG4gICAgcmV0dXJuIHBvc3QoYCR7dGhpcy5jb25maWcuYXBpfS90cmFuc2FjdGlvbi9zZW5kZW1haWxgLCBwYXlsb2FkLmVtYWlsT2JqZWN0LCB0aGlzLmhlYWRlcnMoKSwge1xuICAgICAgdXNlQVBJS2V5OiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgcmVmcmVzaEp3dCgpIHtcbiAgICBjb25zdCBhZGRyZXNzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEFkZHJlc3M7XG4gICAgY29uc3QgbWVzc2FnZVRvU2lnbiA9IGF3YWl0IHRoaXMuZ2V0TWVzc2FnZUZvclNpZ25pbmcoYWRkcmVzcyk7XG4gICAgaWYgKCFtZXNzYWdlVG9TaWduLnN0YXJ0c1dpdGgodGhpcy5jb25maWcuc2lnbkluUHJlZml4KSkgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNpZ24gb24gaW52YWxpZCBtZXNzYWdlXCIpO1xuICAgIGNvbnN0IHNpZ25lZE1lc3NhZ2UgPSBhd2FpdCB0aGlzLnNpZ25BdXRoTWVzc2FnZShhZGRyZXNzLCBtZXNzYWdlVG9TaWduKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHBvc3QoYCR7dGhpcy5jb25maWcuYXBpfS9hdXRoL3ZlcmlmeWAsIHtcbiAgICAgIHB1YmxpY19hZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgc2lnbmVkX21lc3NhZ2U6IHNpZ25lZE1lc3NhZ2VcbiAgICB9LCB7fSwge1xuICAgICAgdXNlQVBJS2V5OiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVTdGF0ZSh7XG4gICAgICBqd3RUb2tlbjogcmVzcG9uc2UudG9rZW5cbiAgICB9LCBhZGRyZXNzKTtcbiAgfVxuICBhc3luYyBnZXREYXBwTGlzdCgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXQoYCR7dGhpcy5jb25maWcuYXBpfS9kYXBwc2AsIHRoaXMuaGVhZGVycygpLCB7XG4gICAgICAgIHVzZUFQSUtleTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc3VjY2VzcyA/IHJlc3BvbnNlLmRhdGEgOiBbXTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKFwidW5hYmxlIHRvIGdldCBiaWxsYm9hcmQgZGF0YVwiLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG4gIGFzeW5jIGluaXQoYWRkcmVzcywgdXNlckluZm8sIGp3dFRva2VuKSB7XG4gICAgbGV0IG1ldGFkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICBsZXQgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogdW5kZWZpbmVkO1xuICAgIGxldCByZXNwb25zZSA9IHtcbiAgICAgIHRva2VuOiBqd3RUb2tlblxuICAgIH07XG4gICAgaWYgKHRoaXMuZ2V0QWRkcmVzc1N0YXRlKGFkZHJlc3MpKSByZXR1cm47XG4gICAgaWYgKCFqd3RUb2tlbikge1xuICAgICAgY29uc3QgbWVzc2FnZVRvU2lnbiA9IGF3YWl0IHRoaXMuZ2V0TWVzc2FnZUZvclNpZ25pbmcoYWRkcmVzcyk7XG4gICAgICBpZiAoIW1lc3NhZ2VUb1NpZ24uc3RhcnRzV2l0aCh0aGlzLmNvbmZpZy5zaWduSW5QcmVmaXgpKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2lnbiBvbiBpbnZhbGlkIG1lc3NhZ2VcIik7XG4gICAgICBjb25zdCBzaWduZWRNZXNzYWdlID0gYXdhaXQgdGhpcy5zaWduQXV0aE1lc3NhZ2UoYWRkcmVzcywgbWVzc2FnZVRvU2lnbik7XG4gICAgICByZXNwb25zZSA9IGF3YWl0IHBvc3QoYCR7dGhpcy5jb25maWcuYXBpfS9hdXRoL3ZlcmlmeWAsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBwdWJsaWNfYWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgc2lnbmVkX21lc3NhZ2U6IHNpZ25lZE1lc3NhZ2UsXG4gICAgICAgIHZlcmlmaWVyOiB1c2VySW5mby5hZ2dyZWdhdGVWZXJpZmllciB8fCB1c2VySW5mby52ZXJpZmllcixcbiAgICAgICAgdmVyaWZpZXJfaWQ6IHVzZXJJbmZvLnZlcmlmaWVySWRcbiAgICAgIH0sIG1ldGFkYXRhKSwge30sIHtcbiAgICAgICAgdXNlQVBJS2V5OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVTdGF0ZSh7XG4gICAgICBqd3RUb2tlbjogcmVzcG9uc2UudG9rZW4sXG4gICAgICB1c2VySW5mbyxcbiAgICAgIGFjY291bnRUeXBlOiB0eXBlICE9PSBudWxsICYmIHR5cGUgIT09IHZvaWQgMCA/IHR5cGUgOiB0aGlzLmRlZmF1bHRQcmVmZXJlbmNlcy5hY2NvdW50VHlwZVxuICAgIH0sIGFkZHJlc3MpO1xuICB9XG4gIHVwZGF0ZVN0YXRlKHByZWZlcmVuY2VzLCBhZGRyZXNzKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRBZGRyZXNzID0gYWRkcmVzcyB8fCB0aGlzLnN0YXRlLnNlbGVjdGVkQWRkcmVzcztcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLmdldEFkZHJlc3NTdGF0ZShzZWxlY3RlZEFkZHJlc3MpIHx8IGNsb25lRGVlcCh0aGlzLmRlZmF1bHRQcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgbWVyZ2VkU3RhdGUgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGN1cnJlbnRTdGF0ZSksIHByZWZlcmVuY2VzKTtcbiAgICB0aGlzLnVwZGF0ZSh7XG4gICAgICBpZGVudGl0aWVzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuc3RhdGUuaWRlbnRpdGllcyksIHt9LCB7XG4gICAgICAgIFtzZWxlY3RlZEFkZHJlc3NdOiBtZXJnZWRTdGF0ZVxuICAgICAgfSlcbiAgICB9KTtcbiAgICByZXR1cm4gbWVyZ2VkU3RhdGU7XG4gIH1cbiAgaGVhZGVycyhhZGRyZXNzKSB7XG4gICAgdmFyIF90aGlzJGdldEFkZHJlc3NTdGF0ZTc7XG4gICAgY29uc3Qgc2VsZWN0ZWRBZGRyZXNzID0gYWRkcmVzcyB8fCB0aGlzLnN0YXRlLnNlbGVjdGVkQWRkcmVzcztcbiAgICByZXR1cm4gZ2V0SGVhZGVycygoKF90aGlzJGdldEFkZHJlc3NTdGF0ZTcgPSB0aGlzLmdldEFkZHJlc3NTdGF0ZShzZWxlY3RlZEFkZHJlc3MpKSA9PT0gbnVsbCB8fCBfdGhpcyRnZXRBZGRyZXNzU3RhdGU3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRnZXRBZGRyZXNzU3RhdGU3Lmp3dFRva2VuKSB8fCBcIlwiKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBzdGF0dXMgb2YgdGhlIHRyYW5zYWN0aW9uLiBFYWNoIHN0YXR1cyByZXByZXNlbnRzIHRoZSBzdGF0ZSBvZiB0aGUgdHJhbnNhY3Rpb24gaW50ZXJuYWxseVxuICogaW4gdGhlIHdhbGxldC4gU29tZSBvZiB0aGVzZSBjb3JyZXNwb25kIHdpdGggdGhlIHN0YXRlIG9mIHRoZSB0cmFuc2FjdGlvbiBvbiB0aGUgbmV0d29yaywgYnV0XG4gKiBzb21lIGFyZSB3YWxsZXQtc3BlY2lmaWMuXG4gKi9cblxubGV0IFRyYW5zYWN0aW9uU3RhdHVzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChUcmFuc2FjdGlvblN0YXR1cykge1xuICBUcmFuc2FjdGlvblN0YXR1c1tcImFwcHJvdmVkXCJdID0gXCJhcHByb3ZlZFwiO1xuICBUcmFuc2FjdGlvblN0YXR1c1tcImNhbmNlbGxlZFwiXSA9IFwiY2FuY2VsbGVkXCI7XG4gIFRyYW5zYWN0aW9uU3RhdHVzW1wiY2FuY2VsbGluZ1wiXSA9IFwiY2FuY2VsbGluZ1wiO1xuICBUcmFuc2FjdGlvblN0YXR1c1tcImNvbmZpcm1lZFwiXSA9IFwiY29uZmlybWVkXCI7XG4gIFRyYW5zYWN0aW9uU3RhdHVzW1wiZmFpbGVkXCJdID0gXCJmYWlsZWRcIjtcbiAgVHJhbnNhY3Rpb25TdGF0dXNbXCJmaW5hbGl6ZWRcIl0gPSBcImZpbmFsaXplZFwiO1xuICBUcmFuc2FjdGlvblN0YXR1c1tcInByb2Nlc3NlZFwiXSA9IFwicHJvY2Vzc2VkXCI7XG4gIFRyYW5zYWN0aW9uU3RhdHVzW1wicmVqZWN0ZWRcIl0gPSBcInJlamVjdGVkXCI7XG4gIFRyYW5zYWN0aW9uU3RhdHVzW1wic2lnbmVkXCJdID0gXCJzaWduZWRcIjtcbiAgVHJhbnNhY3Rpb25TdGF0dXNbXCJzdWJtaXR0ZWRcIl0gPSBcInN1Ym1pdHRlZFwiO1xuICBUcmFuc2FjdGlvblN0YXR1c1tcInVuYXBwcm92ZWRcIl0gPSBcInVuYXBwcm92ZWRcIjtcbiAgVHJhbnNhY3Rpb25TdGF0dXNbXCJkcm9wcGVkXCJdID0gXCJkcm9wcGVkXCI7XG4gIFRyYW5zYWN0aW9uU3RhdHVzW1wiZXhwaXJlZFwiXSA9IFwiZXhwaXJlZFwiO1xuICBUcmFuc2FjdGlvblN0YXR1c1tcInBlbmRpbmdcIl0gPSBcInBlbmRpbmdcIjtcbiAgcmV0dXJuIFRyYW5zYWN0aW9uU3RhdHVzO1xufSh7fSk7XG5jb25zdCBUUkFOU0FDVElPTl9UWVBFUyA9IHtcbiAgQ0FOQ0VMOiBcImNhbmNlbFwiLFxuICBSRVRSWTogXCJyZXRyeVwiLFxuICBDT05UUkFDVF9JTlRFUkFDVElPTjogXCJjb250cmFjdEludGVyYWN0aW9uXCIsXG4gIERFUExPWV9DT05UUkFDVDogXCJjb250cmFjdERlcGxveW1lbnRcIixcbiAgV0FTTV9CQVNFRF9ERVBMT1k6IFwid2FzbUJhc2VkRGVwbG95XCIsXG4gIFNUQU5EQVJEX1RSQU5TQUNUSU9OOiBcInRyYW5zYWN0aW9uXCIsXG4gIFNUQU5EQVJEX1BBWU1FTlRfVFJBTlNBQ1RJT046IFwicGF5bWVudF90cmFuc2FjdGlvblwiLFxuICAvLyBzcGVjaWZpYyB0byBjaGFpbnMgbGlrZSBzb2xhbmEgYW5kIGNhc3BlclxuICBTRU5UX0VUSEVSOiBcInNlbnRFdGhlclwiLFxuICBUT0tFTl9NRVRIT0RfVFJBTlNGRVI6IFwidHJhbnNmZXJcIixcbiAgVE9LRU5fTUVUSE9EX1RSQU5TRkVSX0ZST006IFwidHJhbnNmZXJGcm9tXCIsXG4gIFRPS0VOX01FVEhPRF9BUFBST1ZFOiBcImFwcHJvdmVcIixcbiAgQ09MTEVDVElCTEVfTUVUSE9EX1NBRkVfVFJBTlNGRVJfRlJPTTogXCJzYWZlVHJhbnNmZXJGcm9tXCIsXG4gIFNFVF9BUFBST1ZBTF9GT1JfQUxMOiBcInNldEFwcHJvdmFsRm9yQWxsXCJcbn07XG5jb25zdCBUWF9FVkVOVFMgPSB7XG4gIFRYX1dBUk5JTkc6IFwidHg6d2FybmluZ1wiLFxuICBUWF9FUlJPUjogXCJ0eDplcnJvclwiLFxuICBUWF9GQUlMRUQ6IFwidHg6ZmFpbGVkXCIsXG4gIFRYX0NPTkZJUk1FRDogXCJ0eDpjb25maXJtZWRcIixcbiAgVFhfRFJPUFBFRDogXCJ0eDpkcm9wcGVkXCIsXG4gIFRYX0VYUElSRUQ6IFwidHg6ZXhwaXJlZFwiLFxuICBUWF9TVEFUVVNfVVBEQVRFOiBcInR4OnN0YXR1c191cGRhdGVcIixcbiAgVFhfVU5BUFBST1ZFRDogXCJ0eDp1bmFwcHJvdmVkXCIsXG4gIFRYX1JFVFJZOiBcInR4OnJldHJ5XCIsXG4gIFRYX0JMT0NLX1VQREFURTogXCJ0eDpibG9ja191cGRhdGVcIlxufTtcblxuLyoqXG4gKiBUcmFuc2FjdGlvbiBjb250cm9sbGVyIGNvbmZpZ3VyYXRpb25cbiAqL1xuXG4vKipcbiAqIFRyYW5zYWN0aW9uIGNvbnRyb2xsZXIgc3RhdGVcbiAqL1xuXG4vKipcbiAqIFJlc3VsdFxuICpcbiAqIHJlc3VsdCAtIFByb21pc2UgcmVzb2x2aW5nIHRvIGEgbmV3IHRyYW5zYWN0aW9uIGhhc2hcbiAqIHRyYW5zYWN0aW9uTWV0YSAtIE1ldGEgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBuZXcgdHJhbnNhY3Rpb25cbiAqL1xuXG5jbGFzcyBCYXNlVHJhbnNhY3Rpb25TdGF0ZU1hbmFnZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgY29uZmlnLFxuICAgICAgc3RhdGUsXG4gICAgICBnZXRDdXJyZW50Q2hhaW5JZFxuICAgIH0gPSBfcmVmO1xuICAgIHN1cGVyKHtcbiAgICAgIGNvbmZpZyxcbiAgICAgIHN0YXRlXG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0Q3VycmVudENoYWluSWRcIiwgdm9pZCAwKTtcbiAgICB0aGlzLmRlZmF1bHRDb25maWcgPSB7XG4gICAgICB0eEhpc3RvcnlMaW1pdDogNDBcbiAgICB9O1xuICAgIHRoaXMuZGVmYXVsdFN0YXRlID0ge1xuICAgICAgdHJhbnNhY3Rpb25zOiB7fSxcbiAgICAgIHVuYXBwcm92ZWRUeHM6IHt9LFxuICAgICAgY3VycmVudE5ldHdvcmtUeHNMaXN0OiBbXVxuICAgIH07XG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgdGhpcy5nZXRDdXJyZW50Q2hhaW5JZCA9IGdldEN1cnJlbnRDaGFpbklkO1xuICB9XG4gIGdldFVuYXBwcm92ZWRUeExpc3QoKSB7XG4gICAgY29uc3QgY2hhaW5JZCA9IHRoaXMuZ2V0Q3VycmVudENoYWluSWQoKTtcbiAgICByZXR1cm4gcGlja0J5KHRoaXMuc3RhdGUudHJhbnNhY3Rpb25zLCB0cmFuc2FjdGlvbiA9PiB0cmFuc2FjdGlvbi5zdGF0dXMgPT09IFRyYW5zYWN0aW9uU3RhdHVzLnVuYXBwcm92ZWQgJiYgdHJhbnNhY3Rpb25NYXRjaGVzTmV0d29yayh0cmFuc2FjdGlvbiwgY2hhaW5JZCkpO1xuICB9XG4gIGdldFRyYW5zYWN0aW9uKHR4SWQpIHtcbiAgICBjb25zdCB7XG4gICAgICB0cmFuc2FjdGlvbnNcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25zW3R4SWRdO1xuICB9XG4gIHVwZGF0ZVRyYW5zYWN0aW9uKHR4TWV0YSkge1xuICAgIC8vIGNvbW1pdCB0eE1ldGEgdG8gc3RhdGVcbiAgICBjb25zdCB0eElkID0gdHhNZXRhLmlkO1xuICAgIHR4TWV0YS51cGRhdGVkX2F0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIHRyYW5zYWN0aW9uczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnN0YXRlLnRyYW5zYWN0aW9ucyksIHt9LCB7XG4gICAgICAgIFt0eElkXTogdHhNZXRhXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIHNldFR4U3RhdHVzUmVqZWN0ZWQodHhJZCkge1xuICAgIHRoaXMuX3NldFRyYW5zYWN0aW9uU3RhdHVzKHR4SWQsIFRyYW5zYWN0aW9uU3RhdHVzLnJlamVjdGVkKTtcbiAgICB0aGlzLl9kZWxldGVUcmFuc2FjdGlvbih0eElkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaW1wbGVtZW50aW5nIGNvbnRyb2xsZXIgY2FuIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb25hbGl0eSBhbmQgYWRkIGN1c3RvbSBsb2dpYyArIGNhbGwgc3VwZXIuKClcbiAgICovXG4gIHNldFR4U3RhdHVzVW5hcHByb3ZlZCh0eElkKSB7XG4gICAgdGhpcy5fc2V0VHJhbnNhY3Rpb25TdGF0dXModHhJZCwgVHJhbnNhY3Rpb25TdGF0dXMudW5hcHByb3ZlZCk7XG4gIH1cbiAgc2V0VHhTdGF0dXNBcHByb3ZlZCh0eElkKSB7XG4gICAgdGhpcy5fc2V0VHJhbnNhY3Rpb25TdGF0dXModHhJZCwgVHJhbnNhY3Rpb25TdGF0dXMuYXBwcm92ZWQpO1xuICB9XG4gIHNldFR4U3RhdHVzU2lnbmVkKHR4SWQsIGlzRmluYWxTdGVwKSB7XG4gICAgdGhpcy5fc2V0VHJhbnNhY3Rpb25TdGF0dXModHhJZCwgVHJhbnNhY3Rpb25TdGF0dXMuc2lnbmVkLCBpc0ZpbmFsU3RlcCk7XG4gIH1cbiAgc2V0VHhTdGF0dXNTdWJtaXR0ZWQodHhJZCkge1xuICAgIHRoaXMuX3NldFRyYW5zYWN0aW9uU3RhdHVzKHR4SWQsIFRyYW5zYWN0aW9uU3RhdHVzLnN1Ym1pdHRlZCk7XG4gIH1cbiAgc2V0VHhTdGF0dXNEcm9wcGVkKHR4SWQpIHtcbiAgICB0aGlzLl9zZXRUcmFuc2FjdGlvblN0YXR1cyh0eElkLCBUcmFuc2FjdGlvblN0YXR1cy5kcm9wcGVkKTtcbiAgfVxuICBzZXRUeFN0YXR1c0V4cGlyZWQodHhJZCkge1xuICAgIHRoaXMuX3NldFRyYW5zYWN0aW9uU3RhdHVzKHR4SWQsIFRyYW5zYWN0aW9uU3RhdHVzLmV4cGlyZWQpO1xuICB9XG4gIHNldFR4U3RhdHVzQ29uZmlybWVkKHR4SWQpIHtcbiAgICB0aGlzLl9zZXRUcmFuc2FjdGlvblN0YXR1cyh0eElkLCBUcmFuc2FjdGlvblN0YXR1cy5jb25maXJtZWQpO1xuICB9XG4gIHNldFR4U3RhdHVzRmFpbGVkKHR4SWQsIGVycm9yXykge1xuICAgIGNvbnN0IGVycm9yID0gIWVycm9yXyA/IG5ldyBFcnJvcihcIkludGVybmFsIHRvcnVzIGZhaWx1cmVcIikgOiBlcnJvcl87XG4gICAgY29uc3QgdHhNZXRhID0gdGhpcy5nZXRUcmFuc2FjdGlvbih0eElkKTtcbiAgICB0eE1ldGEuZXJyb3IgPSBlcnJvcjtcbiAgICB0aGlzLnVwZGF0ZVRyYW5zYWN0aW9uKHR4TWV0YSk7XG4gICAgdGhpcy5fc2V0VHJhbnNhY3Rpb25TdGF0dXModHhJZCwgVHJhbnNhY3Rpb25TdGF0dXMuZmFpbGVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRob2QgdG8gZGV0ZXJtaW5lIGlmIHRoZSB0cmFuc2FjdGlvbiBpcyBpbiBhIGZpbmFsIHN0YXRlXG4gICAqIEBwYXJhbSBzdGF0dXMgLSBUcmFuc2FjdGlvbiBzdGF0dXNcbiAgICogQHJldHVybnMgYm9vbGVhbiBpZiB0aGUgdHJhbnNhY3Rpb24gaXMgaW4gYSBmaW5hbCBzdGF0ZVxuICAgKi9cbiAgaXNGaW5hbFN0YXRlKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPT09IFRyYW5zYWN0aW9uU3RhdHVzLnJlamVjdGVkIHx8IHN0YXR1cyA9PT0gVHJhbnNhY3Rpb25TdGF0dXMuc3VibWl0dGVkIHx8IHN0YXR1cyA9PT0gVHJhbnNhY3Rpb25TdGF0dXMuY29uZmlybWVkIHx8IHN0YXR1cyA9PT0gVHJhbnNhY3Rpb25TdGF0dXMuZmFpbGVkIHx8IHN0YXR1cyA9PT0gVHJhbnNhY3Rpb25TdGF0dXMuY2FuY2VsbGVkIHx8IHN0YXR1cyA9PT0gVHJhbnNhY3Rpb25TdGF0dXMuZXhwaXJlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWx0ZXJzIG91dCB0aGUgdW5hcHByb3ZlZCB0cmFuc2FjdGlvbnMgZnJvbSBzdGF0ZVxuICAgKi9cbiAgY2xlYXJVbmFwcHJvdmVkVHhzKCkge1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIHRyYW5zYWN0aW9uczogb21pdEJ5KHRoaXMuc3RhdGUudHJhbnNhY3Rpb25zLCB0cmFuc2FjdGlvbiA9PiB0cmFuc2FjdGlvbi5zdGF0dXMgPT09IFRyYW5zYWN0aW9uU3RhdHVzLnVuYXBwcm92ZWQpXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogd2lsbCBhcHBlbmQgbmV3IHRyYW5zYWN0aW9ucyB0byBvbGQgdHhucy5cbiAgICovXG4gIF9hZGRUcmFuc2FjdGlvbnNUb1N0YXRlKHRyYW5zYWN0aW9ucykge1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIHRyYW5zYWN0aW9uczogdHJhbnNhY3Rpb25zLnJlZHVjZSgocmVzdWx0LCBuZXdUeCkgPT4ge1xuICAgICAgICByZXN1bHRbbmV3VHguaWRdID0gbmV3VHg7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCB0aGlzLnN0YXRlLnRyYW5zYWN0aW9ucylcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiB3aWxsIHNldCBuZXcgdHhucywgb3ZlcnJpZGUgZXhpc3RpbmcgaWYgYW55IGluIHN0YXRlLlxuICAgKi9cbiAgX3NldFRyYW5zYWN0aW9uc1RvU3RhdGUodHJhbnNhY3Rpb25zKSB7XG4gICAgdGhpcy51cGRhdGUoe1xuICAgICAgdHJhbnNhY3Rpb25zOiB0cmFuc2FjdGlvbnMucmVkdWNlKChyZXN1bHQsIG5ld1R4KSA9PiB7XG4gICAgICAgIHJlc3VsdFtuZXdUeC5pZF0gPSBuZXdUeDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sIHt9KVxuICAgIH0pO1xuICB9XG4gIF9kZWxldGVUcmFuc2FjdGlvbih0YXJnZXRUcmFuc2FjdGlvbklkKSB7XG4gICAgY29uc3Qge1xuICAgICAgdHJhbnNhY3Rpb25zXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgZGVsZXRlIHRyYW5zYWN0aW9uc1t0YXJnZXRUcmFuc2FjdGlvbklkXTtcbiAgICB0aGlzLnVwZGF0ZSh7XG4gICAgICB0cmFuc2FjdGlvbnNcbiAgICB9KTtcbiAgfVxuICBfZGVsZXRlVHJhbnNhY3Rpb25zKHRhcmdldFRyYW5zYWN0aW9uSWRzKSB7XG4gICAgY29uc3Qge1xuICAgICAgdHJhbnNhY3Rpb25zXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgdGFyZ2V0VHJhbnNhY3Rpb25JZHMuZm9yRWFjaCh0cmFuc2FjdGlvbklkID0+IHtcbiAgICAgIGRlbGV0ZSB0cmFuc2FjdGlvbnNbdHJhbnNhY3Rpb25JZF07XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGUoe1xuICAgICAgdHJhbnNhY3Rpb25zXG4gICAgfSk7XG4gIH1cbiAgX3NldFRyYW5zYWN0aW9uU3RhdHVzKHR4SWQsIHN0YXR1cywgaXNGaW5hbFN0ZXApIHtcbiAgICBjb25zdCB0eE1ldGEgPSB0aGlzLmdldFRyYW5zYWN0aW9uKHR4SWQpO1xuICAgIGlmICghdHhNZXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHR4TWV0YS5zdGF0dXMgPSBzdGF0dXM7XG4gICAgLy8gb25seSB1cGRhdGluZyBzdGF0dXMgc28gbm8gdmFsaWRhdGlvbiByZXF1aXJlZCBvbiB0eG4uXG4gICAgdGhpcy51cGRhdGVUcmFuc2FjdGlvbih0eE1ldGEpO1xuICAgIHRoaXMuZW1pdChUWF9FVkVOVFMuVFhfU1RBVFVTX1VQREFURSwge1xuICAgICAgdHhJZCxcbiAgICAgIHN0YXR1c1xuICAgIH0pO1xuICAgIGlmICh0aGlzLmlzRmluYWxTdGF0ZShzdGF0dXMpIHx8IGlzRmluYWxTdGVwKSB7XG4gICAgICB0aGlzLmVtaXQoYCR7dHhNZXRhLmlkfTpmaW5pc2hlZGAsIHR4TWV0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW1pdChgJHt0eE1ldGEuaWR9OiR7c3RhdHVzfWAsIHR4SWQpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBBQ0NPVU5UX0NBVEVHT1JZLCBBQ1RJVklUWV9BQ1RJT04sIEFDVElWSVRZX0FDVElPTl9BQ0NFUFRfTkZUX09GRkVSLCBBQ1RJVklUWV9BQ1RJT05fQUxMLCBBQ1RJVklUWV9BQ1RJT05fQlVSTiwgQUNUSVZJVFlfQUNUSU9OX0NBTkNFTF9ORlRfT0ZGRVIsIEFDVElWSVRZX0FDVElPTl9DUkVBVEVfTkZUX09GRkVSLCBBQ1RJVklUWV9BQ1RJT05fQ1JFQVRFX1RSVVNUTElORSwgQUNUSVZJVFlfQUNUSU9OX1JFQ0VJVkUsIEFDVElWSVRZX0FDVElPTl9SRU1PVkVfVFJVU1RMSU5FLCBBQ1RJVklUWV9BQ1RJT05fU0VORCwgQUNUSVZJVFlfQUNUSU9OX1RPUFVQLCBBQ1RJVklUWV9QRVJJT0RfQUxMLCBBQ1RJVklUWV9QRVJJT0RfTU9OVEhfT05FLCBBQ1RJVklUWV9QRVJJT0RfTU9OVEhfU0lYLCBBQ1RJVklUWV9QRVJJT0RfV0VFS19PTkUsIEFDVElWSVRZX1NUQVRVU19DQU5DRUxMRUQsIEFDVElWSVRZX1NUQVRVU19DQU5DRUxMSU5HLCBBQ1RJVklUWV9TVEFUVVNfUEVORElORywgQUNUSVZJVFlfU1RBVFVTX1NVQ0NFU1NGVUwsIEFDVElWSVRZX1NUQVRVU19VTlNVQ0NFU1NGVUwsIEJST0FEQ0FTVF9DSEFOTkVMUywgQlJPQURDQVNUX0NIQU5ORUxTX01TR1MsIEJhc2VCbG9ja1RyYWNrZXIsIEJhc2VDb250cm9sbGVyLCBCYXNlQ3VycmVuY3lDb250cm9sbGVyLCBCYXNlRW1iZWRDb250cm9sbGVyLCBCYXNlS2V5cmluZ0NvbnRyb2xsZXIsIEJhc2VQcmVmZXJlbmNlc0NvbnRyb2xsZXIsIEJhc2VUcmFuc2FjdGlvblN0YXRlTWFuYWdlciwgQnJvYWRjYXN0Q2hhbm5lbEhhbmRsZXIsIENPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTLCBDT01NVU5JQ0FUSU9OX05PVElGSUNBVElPTlMsIENvbW11bmljYXRpb25XaW5kb3dNYW5hZ2VyLCBERUZBVUxUX1BSRUZFUkVOQ0VTLCBGRUFUVVJFU19DT05GSVJNX1dJTkRPVywgRkVBVFVSRVNfREVGQVVMVF9QT1BVUF9XSU5ET1csIEZFQVRVUkVTX0RFRkFVTFRfV0FMTEVUX1dJTkRPVywgRkVBVFVSRVNfUFJPVklERVJfQ0hBTkdFX1dJTkRPVywgTE9HSU5fUFJPVklERVIsIFBBWU1FTlRfUFJPVklERVIsIFBPUFVQX0xPQURFRCwgUE9QVVBfUkVTVUxULCBQUk9WSURFUl9KUlBDX01FVEhPRFMsIFBST1ZJREVSX05PVElGSUNBVElPTlMsIFBvcHVwSGFuZGxlciwgUG9wdXBTdG9yZUNoYW5uZWwsIFBvcHVwV2l0aEJjSGFuZGxlciwgUmVkaXJlY3RIYW5kbGVyLCBTRVRVUF9DT01QTEVURSwgU3RyZWFtV2luZG93LCBUUkFOU0FDVElPTl9UWVBFUywgVFhfRVZFTlRTLCBUcmFuc2FjdGlvblN0YXR1cywgVXNlckVycm9yLCBhZGRyZXNzU2xpY2VyLCBicm9hZGNhc3RDaGFubmVsT3B0aW9ucywgY29uY2F0U2lnLCBjcmVhdGVDaGFuZ2VQcm92aWRlck1pZGRsZXdhcmVNaWRkbGV3YXJlLCBjcmVhdGVDb21tdW5pY2F0aW9uTWlkZGxld2FyZSwgY3JlYXRlRXZlbnRFbWl0dGVyUHJveHksIGNyZWF0ZUZldGNoQ29uZmlnRnJvbVJlcSwgY3JlYXRlRmV0Y2hNaWRkbGV3YXJlLCBjcmVhdGVHZW5lcmljSlJQQ01pZGRsZXdhcmUsIGNyZWF0ZUxvZ2dlck1pZGRsZXdhcmUsIGNyZWF0ZU9yaWdpbk1pZGRsZXdhcmUsIGNyZWF0ZVJhbmRvbUlkLCBjcmVhdGVTd2FwcGFibGVQcm94eSwgY3JlYXRlVG9wdXBNaWRkbGV3YXJlLCBmb3JtYXREYXRlLCBmb3JtYXRTbWFsbE51bWJlcnMsIGZvcm1hdFRpbWUsIGdldEN1c3RvbURldmljZUluZm8sIGdldEhlYWRlcnMsIGdldFBvcHVwRmVhdHVyZXMsIGdldFR4U3RhdHVzVGV4dCwgaGFuZGxlUmVkaXJlY3RQYXJhbWV0ZXJzLCBoYXNoTWVzc2FnZSwgaW50VG9IZXgsIHBhZFdpdGhaZXJvZXMsIHJhbmRvbUlkLCBzaWduTWVzc2FnZSwgc2lnbmlmaWNhbnREaWdpdHMsIHNsZWVwLCB0aW1lb3V0JDEgYXMgdGltZW91dCwgdHJhbnNhY3Rpb25NYXRjaGVzTmV0d29yayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZUNvbnRyb2xsZXJzLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfb2JqZWN0U3ByZWFkIiwiX2RlZmluZVByb3BlcnR5IiwiU2FmZUV2ZW50RW1pdHRlciIsImNyZWF0ZUFzeW5jTWlkZGxld2FyZSIsIm1lcmdlTWlkZGxld2FyZSIsImNyZWF0ZVNjYWZmb2xkTWlkZGxld2FyZSIsIkpSUENFbmdpbmUiLCJwcm92aWRlckZyb21FbmdpbmUiLCJmcm9tU2lnbmVkIiwiYnl0ZXNUb0JpZ0ludCIsInRvVW5zaWduZWQiLCJzdHJpcEhleFByZWZpeCIsImJpZ0ludFRvSGV4IiwiYWRkSGV4UHJlZml4IiwiaGFzaFBlcnNvbmFsTWVzc2FnZSIsImVjc2lnbiIsImJpZ0ludFRvQnl0ZXMiLCJCaWdOdW1iZXIiLCJycGNFcnJvcnMiLCJsb2ciLCJCcm9hZGNhc3RDaGFubmVsIiwiZ2V0IiwicG9zdCIsInBhdGNoIiwicmVtb3ZlIiwiYm93c2VyIiwiY2xvbmVEZWVwIiwicGlja0J5Iiwib21pdEJ5IiwiQmFzZUNvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjb25maWciLCJzdGF0ZSIsImRlZmF1bHRDb25maWciLCJkZWZhdWx0U3RhdGUiLCJpbml0aWFsU3RhdGUiLCJpbml0aWFsQ29uZmlnIiwiaW50ZXJuYWxDb25maWciLCJpbnRlcm5hbFN0YXRlIiwiY29uZmlndXJlIiwib3ZlcndyaXRlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZnVsbFVwZGF0ZSIsIk9iamVjdCIsImFzc2lnbiIsImtleSIsInVwZGF0ZSIsImVtaXQiLCJpbml0aWFsaXplIiwic2VjIiwiY2FsY3VsYXRlU3VtIiwiYWNjdW11bGF0b3IiLCJjdXJyZW50VmFsdWUiLCJibG9ja1RyYWNrZXJFdmVudHMiLCJCYXNlQmxvY2tUcmFja2VyIiwiX2N1cnJlbnRCbG9jayIsImlkZW1wb3RlbmN5S2V5IiwiX2lzUnVubmluZyIsImJsb2NrUmVzZXREdXJhdGlvbiIsIl9vbk5ld0xpc3RlbmVyIiwiYmluZCIsIl9vblJlbW92ZUxpc3RlbmVyIiwiX3Jlc2V0Q3VycmVudEJsb2NrIiwiX3NldHVwSW50ZXJuYWxFdmVudHMiLCJpc1J1bm5pbmciLCJnZXRDdXJyZW50QmxvY2siLCJnZXRMYXRlc3RCbG9jayIsImxhdGVzdEJsb2NrIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvbmNlIiwiYmxvY2siLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJldmVudE5hbWUiLCJfc3RhcnQiLCJfZW5kIiwiX25ld1BvdGVudGlhbExhdGVzdCIsIm5ld0Jsb2NrIiwiY3VycmVudEJsb2NrIiwiX3NldEN1cnJlbnRCbG9jayIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJfbWF5YmVTdGFydCIsIl9nZXRCbG9ja1RyYWNrZXJFdmVudENvdW50IiwiX21heWJlRW5kIiwiX2NhbmNlbEJsb2NrUmVzZXRUaW1lb3V0IiwiX3NldHVwQmxvY2tSZXNldFRpbWVvdXQiLCJtYXAiLCJsaXN0ZW5lckNvdW50IiwicmVkdWNlIiwib2xkQmxvY2siLCJfYmxvY2tSZXNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidW5yZWYiLCJjbGVhclRpbWVvdXQiLCJmaWx0ZXJOb29wIiwiaW50ZXJuYWxFdmVudHMiLCJleHRlcm5hbEV2ZW50RmlsdGVyIiwibmFtZSIsImluY2x1ZGVzIiwiZ2V0UmF3TGlzdGVuZXJzIiwiZXZlbnRFbWl0dGVyIiwicmF3TGlzdGVuZXJzIiwibGlzdGVuZXJzIiwiY3JlYXRlRXZlbnRFbWl0dGVyUHJveHkiLCJpbml0aWFsVGFyZ2V0Iiwib3B0cyIsImZpbmFsT3B0cyIsImV2ZW50RmlsdGVyIiwiRXJyb3IiLCJ0YXJnZXQiLCJzZXRUYXJnZXQiLCJuZXdUYXJnZXQiLCJvbGRUYXJnZXQiLCJldmVudE5hbWVzIiwiZmlsdGVyIiwiZm9yRWFjaCIsImhhbmRsZXIiLCJwcm94eSIsIlByb3h5IiwiXyIsInNldCIsInZhbHVlIiwiY3JlYXRlU3dhcHBhYmxlUHJveHkiLCJQT0xMSU5HX0lOVEVSVkFMIiwiQmFzZUN1cnJlbmN5Q29udHJvbGxlciIsImN1cnJlbnRDdXJyZW5jeSIsImNvbnZlcnNpb25SYXRlIiwiY29udmVyc2lvbkRhdGUiLCJuYXRpdmVDdXJyZW5jeSIsInBvbGxJbnRlcnZhbCIsImdldE5hdGl2ZUN1cnJlbmN5Iiwic2V0TmF0aXZlQ3VycmVuY3kiLCJ0aWNrZXIiLCJnZXRDdXJyZW50Q3VycmVuY3kiLCJzZXRDdXJyZW50Q3VycmVuY3kiLCJnZXRDb252ZXJzaW9uUmF0ZSIsInNldENvbnZlcnNpb25SYXRlIiwiZ2V0Q29udmVyc2lvbkRhdGUiLCJzZXRDb252ZXJzaW9uRGF0ZSIsIkZFQVRVUkVTX1BST1ZJREVSX0NIQU5HRV9XSU5ET1ciLCJoZWlnaHQiLCJ3aWR0aCIsIkZFQVRVUkVTX0RFRkFVTFRfV0FMTEVUX1dJTkRPVyIsIkZFQVRVUkVTX0RFRkFVTFRfUE9QVVBfV0lORE9XIiwiRkVBVFVSRVNfQ09ORklSTV9XSU5ET1ciLCJQT1BVUF9MT0FERUQiLCJQT1BVUF9SRVNVTFQiLCJTRVRVUF9DT01QTEVURSIsIkFDVElWSVRZX0FDVElPTl9BTEwiLCJBQ1RJVklUWV9BQ1RJT05fU0VORCIsIkFDVElWSVRZX0FDVElPTl9CVVJOIiwiQUNUSVZJVFlfQUNUSU9OX1JFQ0VJVkUiLCJBQ1RJVklUWV9BQ1RJT05fVE9QVVAiLCJBQ1RJVklUWV9BQ1RJT05fQ1JFQVRFX1RSVVNUTElORSIsIkFDVElWSVRZX0FDVElPTl9SRU1PVkVfVFJVU1RMSU5FIiwiQUNUSVZJVFlfQUNUSU9OX0NSRUFURV9ORlRfT0ZGRVIiLCJBQ1RJVklUWV9BQ1RJT05fQUNDRVBUX05GVF9PRkZFUiIsIkFDVElWSVRZX0FDVElPTl9DQU5DRUxfTkZUX09GRkVSIiwiQUNUSVZJVFlfUEVSSU9EX0FMTCIsIkFDVElWSVRZX1BFUklPRF9XRUVLX09ORSIsIkFDVElWSVRZX1BFUklPRF9NT05USF9PTkUiLCJBQ1RJVklUWV9QRVJJT0RfTU9OVEhfU0lYIiwiQUNUSVZJVFlfU1RBVFVTX1NVQ0NFU1NGVUwiLCJBQ1RJVklUWV9TVEFUVVNfVU5TVUNDRVNTRlVMIiwiQUNUSVZJVFlfU1RBVFVTX1BFTkRJTkciLCJBQ1RJVklUWV9TVEFUVVNfQ0FOQ0VMTEVEIiwiQUNUSVZJVFlfU1RBVFVTX0NBTkNFTExJTkciLCJDT01NVU5JQ0FUSU9OX05PVElGSUNBVElPTlMiLCJJRlJBTUVfU1RBVFVTIiwiQ1JFQVRFX1dJTkRPVyIsIkNMT1NFX1dJTkRPVyIsIlVTRVJfTE9HR0VEX0lOIiwiVVNFUl9MT0dHRURfT1VUIiwiQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMiLCJMT0dPVVQiLCJXQUxMRVRfSU5TVEFOQ0VfSUQiLCJVU0VSX0lORk8iLCJTRVRfUFJPVklERVIiLCJUT1BVUCIsIk9QRU5FRF9XSU5ET1ciLCJDTE9TRURfV0lORE9XIiwiV0lORE9XX0JMT0NLRUQiLCJHRVRfUFJPVklERVJfU1RBVEUiLCJMT0dJTl9XSVRIX1BSSVZBVEVfS0VZIiwiU0hPV19XQUxMRVRfQ09OTkVDVCIsIlNIT1dfQ0hFQ0tPVVQiLCJTSE9XX1dBTExFVF9VSSIsIlBST1ZJREVSX0pSUENfTUVUSE9EUyIsIlBST1ZJREVSX05PVElGSUNBVElPTlMiLCJBQ0NPVU5UU19DSEFOR0VEIiwiQ0hBSU5fQ0hBTkdFRCIsIlVOTE9DS19TVEFURV9DSEFOR0VEIiwiQlJPQURDQVNUX0NIQU5ORUxTIiwiUkVESVJFQ1RfQ0hBTk5FTCIsIlBST1ZJREVSX0NIQU5HRV9DSEFOTkVMIiwiVFJBTlNBQ1RJT05fQ0hBTk5FTCIsIk1FU1NBR0VfQ0hBTk5FTCIsIldBTExFVF9MT0dPVVRfQ0hBTk5FTCIsIldBTExFVF9TRUxFQ1RFRF9BRERSRVNTX0NIQU5ORUwiLCJXQUxMRVRfTkVUV09SS19DSEFOR0VfQ0hBTk5FTCIsIldBTExFVF9BQ0NPVU5UX0lNUE9SVF9DSEFOTkVMIiwiVEhFTUVfQ0hBTkdFIiwiVE9QX1VQX0NIQU5ORUwiLCJCUk9BRENBU1RfQ0hBTk5FTFNfTVNHUyIsIkFDQ09VTlRfSU1QT1JURUQiLCJTRUxFQ1RFRF9BRERSRVNTX0NIQU5HRSIsIk5FVFdPUktfQ0hBTkdFIiwiU0VUX1RIRU1FIiwiY3JlYXRlQ2hhbmdlUHJvdmlkZXJNaWRkbGV3YXJlTWlkZGxld2FyZSIsImNoYW5nZVByb3ZpZGVyIiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsIm1ldGhvZCIsInJlc3VsdCIsImNyZWF0ZVRvcHVwTWlkZGxld2FyZSIsIl9yZWYyIiwidG9wdXAiLCJjcmVhdGVHZW5lcmljSlJQQ01pZGRsZXdhcmUiLCJ0YXJnZXRNZXRob2QiLCJjcmVhdGVDb21tdW5pY2F0aW9uTWlkZGxld2FyZSIsInByb3ZpZGVySGFuZGxlcnMiLCJnZXRVc2VySW5mbyIsImdldFdhbGxldEluc3RhbmNlSWQiLCJsb2dvdXQiLCJzZXRJRnJhbWVTdGF0dXMiLCJoYW5kbGVXaW5kb3dScGMiLCJnZXRQcm92aWRlclN0YXRlIiwibG9naW5XaXRoUHJpdmF0ZUtleSIsInNob3dXYWxsZXRDb25uZWN0Iiwic2hvd0NoZWNrb3V0Iiwic2hvd1dhbGxldFVpIiwic2hvd1dpbmRvd0Jsb2NrQWxlcnQiLCJCYXNlRW1iZWRDb250cm9sbGVyIiwiYnV0dG9uUG9zaXRpb24iLCJpc0lGcmFtZUZ1bGxTY3JlZW4iLCJhcGlLZXkiLCJvYXV0aE1vZGFsVmlzaWJpbGl0eSIsImxvZ2luSW5Qcm9ncmVzcyIsImRhcHBNZXRhZGF0YSIsImljb24iLCJpbml0aWFsaXplUHJvdmlkZXIiLCJoYW5kbGVycyIsImVuZ2luZSIsImNvbW11bmljYXRpb25NaWRkbGV3YXJlIiwicHVzaCIsImNvbW11bmljYXRpb25Qcm92aWRlciIsInNldENvbW11bmljYXRpb25Qcm92aWRlciIsIl9jb21tdW5pY2F0aW9uUHJvdmlkZXJQcm94eSIsIkNvbW11bmljYXRpb25XaW5kb3dNYW5hZ2VyIiwiZW5kIiwicGFyYW1zIiwid2luZG93SWQiLCJMT0dJTl9QUk9WSURFUiIsIkdPT0dMRSIsIkZBQ0VCT09LIiwiUkVERElUIiwiRElTQ09SRCIsIlRXSVRDSCIsIkFQUExFIiwiTElORSIsIkdJVEhVQiIsIktBS0FPIiwiTElOS0VESU4iLCJUV0lUVEVSIiwiV0VJQk8iLCJXRUNIQVQiLCJFTUFJTF9QQVNTV09SRExFU1MiLCJQQVlNRU5UX1BST1ZJREVSIiwiTU9PTlBBWSIsIldZUkUiLCJSQU1QTkVUV09SSyIsIlhBTlBPT0wiLCJNRVJDVVJZTyIsIlRSQU5TQUsiLCJnZXRUeFN0YXR1c1RleHQiLCJ0eFN0YXR1cyIsImludFRvSGV4IiwiaSIsImhleCIsInRvU3RyaW5nIiwicmFuZG9tSWQiLCJNYXRoIiwicmFuZG9tIiwic2xpY2UiLCJwYWRXaXRoWmVyb2VzIiwiaGV4U3RyaW5nIiwidGFyZ2V0TGVuZ3RoIiwidGVzdCIsIlN0cmluZyIsInByb3RvdHlwZSIsInBhZFN0YXJ0IiwiY2FsbCIsImNvbmNhdFNpZyIsInYiLCJyIiwicyIsInJTaWciLCJzU2lnIiwidlNpZyIsInJTdHIiLCJCdWZmZXIiLCJmcm9tIiwic1N0ciIsInZTdHIiLCJjb25jYXQiLCJ0aW1lb3V0JDEiLCJkdXJhdGlvbiIsInRpbWVvdXRSZWYiLCJ3aW5kb3ciLCJnZXRIZWFkZXJzIiwiand0IiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJmb3JtYXRTbWFsbE51bWJlcnMiLCJudW1iZXIiLCJjdXJyZW5jeSIsIm5vVGlsZGUiLCJmaW5hbE51bWJlciIsImlzQmlnTnVtYmVyIiwidG9OdW1iZXIiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsInRvTG93ZXJDYXNlIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJ0aWxkZSIsInRvVXBwZXJDYXNlIiwiYWRkcmVzc1NsaWNlciIsImFkZHJlc3MiLCJzbGljZUxlbmd0aCIsInNpZ25pZmljYW50RGlnaXRzIiwicGVyYyIsImxlbmd0aF8iLCJpbnB1dCIsImlzWmVybyIsInRpbWVzIiwiZGVwdGgiLCJndGUiLCJjZWlsIiwibG9nMTAiLCJkaXYiLCJzaGlmdCIsInBvdyIsInJvdW5kZWROdW1iZXIiLCJyb3VuZCIsImZvcm1hdERhdGUiLCJpbnB1dERhdGUiLCJtb250aExpc3QiLCJkYXRlIiwiRGF0ZSIsImRheSIsImdldERhdGUiLCJtb250aCIsImdldE1vbnRoIiwieWVhciIsImdldEZ1bGxZZWFyIiwiZm9ybWF0VGltZSIsInRpbWUiLCJ0b1RpbWVTdHJpbmciLCJ0cmFuc2FjdGlvbk1hdGNoZXNOZXR3b3JrIiwidHJhbnNhY3Rpb24iLCJjaGFpbklkIiwiaGFzaE1lc3NhZ2UiLCJtZXNzYWdlIiwiYnVmZmVyZWRNZXNzYWdlIiwiZWwiLCJzaWduTWVzc2FnZSIsInByaXZhdGVLZXkiLCJkYXRhIiwicHJpdktleSIsIm1zZ1NpZyIsInJhd01zZ1NpZyIsImdldFBvcHVwRmVhdHVyZXMiLCJ3IiwiaCIsImR1YWxTY3JlZW5MZWZ0Iiwic2NyZWVuTGVmdCIsInNjcmVlblgiLCJkdWFsU2NyZWVuVG9wIiwic2NyZWVuVG9wIiwic2NyZWVuWSIsImlubmVyV2lkdGgiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwic2NyZWVuIiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJzeXN0ZW1ab29tIiwibGVmdCIsImFicyIsInRvcCIsImZlYXR1cmVzIiwiYnJvYWRjYXN0Q2hhbm5lbE9wdGlvbnMiLCJ0eXBlIiwid2ViV29ya2VyU3VwcG9ydCIsImdldEN1c3RvbURldmljZUluZm8iLCJfbmF2aWdhdG9yIiwibmF2aWdhdG9yIiwiYnJhdmUiLCJicm93c2VyIiwiVXNlckVycm9yIiwiaGFuZGxlUmVkaXJlY3RQYXJhbWV0ZXJzIiwiaGFzaCIsInF1ZXJ5UGFyYW1ldGVycyIsImhhc2hQYXJhbWV0ZXJzIiwiaGFzaFVybCIsIlVSTCIsImxvY2F0aW9uIiwib3JpZ2luIiwic2VhcmNoUGFyYW1zIiwiaW5zdGFuY2VQYXJhbWV0ZXJzIiwiZXJyb3IiLCJrZXlzIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsImRlY29kZVVSSUNvbXBvbmVudCIsImVycm9yX2Rlc2NyaXB0aW9uIiwic2xlZXAiLCJtcyIsIkJhc2VLZXlyaW5nQ29udHJvbGxlciIsIl9zdGF0ZSR3YWxsZXRzIiwid2FsbGV0cyIsInNpZ25BdXRoTWVzc2FnZSIsImtleXJpbmciLCJmaW5kIiwieCIsImhhc2hlZE1lc3NhZ2UiLCJyYXdNZXNzYWdlU2lnIiwiUkVUUklBQkxFX0VSUk9SUyIsImNoZWNrRm9ySHR0cEVycm9ycyIsImZldGNoUmVzIiwic3RhdHVzIiwibWV0aG9kTm90Rm91bmQiLCJpbnRlcm5hbCIsInRpbWVvdXQiLCJwYXJzZVJlc3BvbnNlIiwiYm9keSIsImNyZWF0ZUZldGNoQ29uZmlnRnJvbVJlcSIsInJlcSIsInJwY1RhcmdldCIsIm9yaWdpbkh0dHBIZWFkZXJLZXkiLCJwYXJzZWRVcmwiLCJwYXlsb2FkIiwiaWQiLCJqc29ucnBjIiwib3JpZ2luRG9tYWluIiwic2VyaWFsaXplZFBheWxvYWQiLCJzdHJpbmdpZnkiLCJmZXRjaFBhcmFtcyIsIkFjY2VwdCIsImZldGNoVXJsIiwiaHJlZiIsImNyZWF0ZUZldGNoTWlkZGxld2FyZSIsInJlcyIsIl9uZXh0IiwibWF4QXR0ZW1wdHMiLCJyZXRyeUludGVydmFsIiwiYXR0ZW1wdCIsImZldGNoIiwiZmV0Y2hCb2R5IiwianNvbiIsImVyciIsImVyck1zZyIsImlzUmV0cmlhYmxlIiwic29tZSIsInBocmFzZSIsImNyZWF0ZUxvZ2dlck1pZGRsZXdhcmUiLCJvcHRpb25zIiwibG9nZ2VyTWlkZGxld2FyZSIsImNhbGxiYWNrIiwid2FybiIsImlzVG9ydXNJbnRlcm5hbCIsImluZm8iLCJjcmVhdGVPcmlnaW5NaWRkbGV3YXJlIiwib3JpZ2luTWlkZGxld2FyZSIsImNyZWF0ZVJhbmRvbUlkIiwic3Vic3RyaW5nIiwiQnJvYWRjYXN0Q2hhbm5lbEhhbmRsZXIiLCJjaGFubmVsUHJlZml4IiwiVVJMU2VhcmNoUGFyYW1zIiwic2VhcmNoIiwiaW5zdGFuY2VJZCIsImNoYW5uZWwiLCJiYyIsImdldE1lc3NhZ2VGcm9tQ2hhbm5lbCIsInJlamVjdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsImNsb3NlIiwicG9zdE1lc3NhZ2UiLCJTdHJlYW1XaW5kb3ciLCJvcGVuIiwiY29tbXVuaWNhdGlvbkVuZ2luZSIsImNvbW11bmljYXRpb25XaW5kb3dNYW5hZ2VyIiwicG9wdXBTdWNjZXNzIiwiY2xvc2VkIiwidXJsIiwicG9zdE1zZyIsImxvY2FsUmVzcG9uc2UiLCJjdXJyZW50RGVsYXkiLCJyZWN1cnNpdmVGbiIsInNlcnZlclJlc3BvbnNlIiwiUG9wdXBIYW5kbGVyIiwiZGFwcFN0b3JhZ2VLZXkiLCJ3aW5kb3dUaW1lciIsImlDbG9zZWRXaW5kb3ciLCJfc2V0dXBUaW1lciIsInVybEhhc2hQYXJhbXMiLCJhcHBlbmQiLCJsb2NhbFdpbmRvdyIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiUG9wdXBTdG9yZUNoYW5uZWwiLCJoYW5kbGVMb2dvdXQiLCJoYW5kbGVBY2NvdW50SW1wb3J0IiwiaGFuZGxlTmV0d29ya0NoYW5nZSIsImhhbmRsZVNlbGVjdGVkQWRkcmVzc0NoYW5nZSIsImhhbmRsZVRoZW1lQ2hhbmdlIiwic2V0dXBTdG9yZUNoYW5uZWxzIiwibG9nb3V0Q2hhbm5lbCIsImltcG9ydEFjY291bnRDaGFubmVsIiwibmV0d29ya0NoYW5nZUNoYW5uZWwiLCJzZWxlY3RlZEFkZHJlc3NDaGFuZ2VDaGFubmVsIiwidGhlbWVDaGFuZ2VkQ2hhbm5lbCIsIl9ldiRkYXRhIiwid2FsbGV0QWNjb3VudEltcG9ydENoYW5uZWwiLCJfZXYkZGF0YTIiLCJfZXYkZGF0YTMiLCJfZXYkZGF0YTQiLCJfZXYkZGF0YTUiLCJuZXR3b3JrIiwiX2V2JGRhdGE2IiwiX2V2JGRhdGE3IiwidGhlbWUiLCJfZXYkZGF0YTgiLCJfZXYkZGF0YTkiLCJzZWxlY3RlZEFkZHJlc3MiLCJQb3B1cFdpdGhCY0hhbmRsZXIiLCJoYW5kbGUiLCJzdWNjZXNzRXh0cmFGbiIsImNsb3NlTGlzdGVuZXIiLCJ0aGVuIiwiY2F0Y2giLCJoYW5kbGVXaXRoSGFuZHNoYWtlIiwiUmVkaXJlY3RIYW5kbGVyIiwiZmluYWxRdWVyeVBhcmFtcyIsImluc3RhbmNlUGFyYW1zIiwiaGFzaFBhcmFtcyIsInF1ZXJ5UGFyYW1zIiwiQUNUSVZJVFlfQUNUSU9OIiwiQUNDT1VOVF9DQVRFR09SWSIsIk5PUk1BTCIsIlRIUkVTSE9MRCIsIklNUE9SVEVEIiwiREVGQVVMVF9JTlRFUlZBTCIsIkRFRkFVTFRfUFJFRkVSRU5DRVMiLCJzZWxlY3RlZEN1cnJlbmN5IiwibG9jYWxlIiwiYWNjb3VudFR5cGUiLCJjb250YWN0cyIsImp3dFRva2VuIiwiZmV0Y2hlZFBhc3RUeCIsInBhc3RUcmFuc2FjdGlvbnMiLCJwYXltZW50VHgiLCJkZWZhdWx0UHVibGljQWRkcmVzcyIsImN1c3RvbVRva2VucyIsImN1c3RvbU5mdHMiLCJjcmFzaFJlcG9ydCIsInVzZXJJbmZvIiwiYWdncmVnYXRlVmVyaWZpZXIiLCJlbWFpbCIsInByb2ZpbGVJbWFnZSIsInR5cGVPZkxvZ2luIiwidmVyaWZpZXIiLCJ2ZXJpZmllcklkIiwiQmFzZVByZWZlcmVuY2VzQ29udHJvbGxlciIsImRlZmF1bHRQcmVmZXJlbmNlcyIsImFwaSIsImlkZW50aXRpZXMiLCJsYXN0RXJyb3JNZXNzYWdlIiwibGFzdFN1Y2Nlc3NNZXNzYWdlIiwic2V0SWZyYW1lT3JpZ2luIiwiaWZyYW1lT3JpZ2luIiwiZ2V0QWRkcmVzc1N0YXRlIiwic2V0U2VsZWN0ZWRBZGRyZXNzIiwiZ2V0VXNlciIsInVzZXIiLCJ1c2VBUElLZXkiLCJjcmVhdGVVc2VyIiwiaWRUb2tlbiIsInVzZXJQYXlsb2FkIiwiZGVmYXVsdF9jdXJyZW5jeSIsInZlcmlmaWVyX2lkIiwidXBkYXRlU3RhdGUiLCJzdG9yZVVzZXJMb2dpbiIsInJlaHlkcmF0ZSIsImdldFBhcnNlciIsInVzZXJBZ2VudCIsInNwZWNpYWxCcm93c2VyIiwicmVjb3JkTG9naW5QYXlsb2FkIiwib3MiLCJnZXRPU05hbWUiLCJvc192ZXJzaW9uIiwiZ2V0T1NWZXJzaW9uIiwiZ2V0QnJvd3Nlck5hbWUiLCJicm93c2VyX3ZlcnNpb24iLCJnZXRCcm93c2VyVmVyc2lvbiIsInBsYXRmb3JtIiwiZ2V0UGxhdGZvcm0iLCJob3N0bmFtZSIsInNldENyYXNoUmVwb3J0IiwiaXNFbmFibGVkIiwiX3RoaXMkZ2V0QWRkcmVzc1N0YXRlIiwiZW5hYmxlX2NyYXNoX3JlcG9ydGVyIiwic2V0VXNlclRoZW1lIiwiX3RoaXMkZ2V0QWRkcmVzc1N0YXRlMiIsInNldFVzZXJMb2NhbGUiLCJfdGhpcyRnZXRBZGRyZXNzU3RhdGUzIiwic2V0U2VsZWN0ZWRDdXJyZW5jeSIsIl90aGlzJGdldEFkZHJlc3NTdGF0ZTQiLCJhZGRDb250YWN0IiwiY29udGFjdCIsIl90aGlzJGdldEFkZHJlc3NTdGF0ZTUiLCJkZWxldGVDb250YWN0IiwiY29udGFjdElkIiwiX3RoaXMkZ2V0QWRkcmVzc1N0YXRlNiIsImZpbmFsQ29udGFjdHMiLCJyZXZva2VEaXNjb3JkIiwicmVzcCIsInRva2VuIiwicGF0Y2hQYXN0VHgiLCJwb3N0UGFzdFR4IiwidHgiLCJnZXRXYWxsZXRPcmRlcnMiLCJzdWNjZXNzIiwiZ2V0VG9wVXBPcmRlcnMiLCJjb21tb25BcGlIb3N0IiwiZ2V0QmlsbEJvYXJkRGF0YSIsImdldE1lc3NhZ2VGb3JTaWduaW5nIiwicHVibGljQWRkcmVzcyIsInB1YmxpY19hZGRyZXNzIiwiZ2V0VHdpdHRlcklkIiwibmljayIsInNlbmRFbWFpbCIsImVtYWlsT2JqZWN0IiwicmVmcmVzaEp3dCIsIm1lc3NhZ2VUb1NpZ24iLCJzdGFydHNXaXRoIiwic2lnbkluUHJlZml4Iiwic2lnbmVkTWVzc2FnZSIsInNpZ25lZF9tZXNzYWdlIiwiZ2V0RGFwcExpc3QiLCJpbml0IiwibWV0YWRhdGEiLCJwcmVmZXJlbmNlcyIsImN1cnJlbnRTdGF0ZSIsIm1lcmdlZFN0YXRlIiwiX3RoaXMkZ2V0QWRkcmVzc1N0YXRlNyIsIlRyYW5zYWN0aW9uU3RhdHVzIiwiVFJBTlNBQ1RJT05fVFlQRVMiLCJDQU5DRUwiLCJSRVRSWSIsIkNPTlRSQUNUX0lOVEVSQUNUSU9OIiwiREVQTE9ZX0NPTlRSQUNUIiwiV0FTTV9CQVNFRF9ERVBMT1kiLCJTVEFOREFSRF9UUkFOU0FDVElPTiIsIlNUQU5EQVJEX1BBWU1FTlRfVFJBTlNBQ1RJT04iLCJTRU5UX0VUSEVSIiwiVE9LRU5fTUVUSE9EX1RSQU5TRkVSIiwiVE9LRU5fTUVUSE9EX1RSQU5TRkVSX0ZST00iLCJUT0tFTl9NRVRIT0RfQVBQUk9WRSIsIkNPTExFQ1RJQkxFX01FVEhPRF9TQUZFX1RSQU5TRkVSX0ZST00iLCJTRVRfQVBQUk9WQUxfRk9SX0FMTCIsIlRYX0VWRU5UUyIsIlRYX1dBUk5JTkciLCJUWF9FUlJPUiIsIlRYX0ZBSUxFRCIsIlRYX0NPTkZJUk1FRCIsIlRYX0RST1BQRUQiLCJUWF9FWFBJUkVEIiwiVFhfU1RBVFVTX1VQREFURSIsIlRYX1VOQVBQUk9WRUQiLCJUWF9SRVRSWSIsIlRYX0JMT0NLX1VQREFURSIsIkJhc2VUcmFuc2FjdGlvblN0YXRlTWFuYWdlciIsImdldEN1cnJlbnRDaGFpbklkIiwidHhIaXN0b3J5TGltaXQiLCJ0cmFuc2FjdGlvbnMiLCJ1bmFwcHJvdmVkVHhzIiwiY3VycmVudE5ldHdvcmtUeHNMaXN0IiwiZ2V0VW5hcHByb3ZlZFR4TGlzdCIsInVuYXBwcm92ZWQiLCJnZXRUcmFuc2FjdGlvbiIsInR4SWQiLCJ1cGRhdGVUcmFuc2FjdGlvbiIsInR4TWV0YSIsInVwZGF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsInNldFR4U3RhdHVzUmVqZWN0ZWQiLCJfc2V0VHJhbnNhY3Rpb25TdGF0dXMiLCJyZWplY3RlZCIsIl9kZWxldGVUcmFuc2FjdGlvbiIsInNldFR4U3RhdHVzVW5hcHByb3ZlZCIsInNldFR4U3RhdHVzQXBwcm92ZWQiLCJhcHByb3ZlZCIsInNldFR4U3RhdHVzU2lnbmVkIiwiaXNGaW5hbFN0ZXAiLCJzaWduZWQiLCJzZXRUeFN0YXR1c1N1Ym1pdHRlZCIsInN1Ym1pdHRlZCIsInNldFR4U3RhdHVzRHJvcHBlZCIsImRyb3BwZWQiLCJzZXRUeFN0YXR1c0V4cGlyZWQiLCJleHBpcmVkIiwic2V0VHhTdGF0dXNDb25maXJtZWQiLCJjb25maXJtZWQiLCJzZXRUeFN0YXR1c0ZhaWxlZCIsImVycm9yXyIsImZhaWxlZCIsImlzRmluYWxTdGF0ZSIsImNhbmNlbGxlZCIsImNsZWFyVW5hcHByb3ZlZFR4cyIsIl9hZGRUcmFuc2FjdGlvbnNUb1N0YXRlIiwibmV3VHgiLCJfc2V0VHJhbnNhY3Rpb25zVG9TdGF0ZSIsInRhcmdldFRyYW5zYWN0aW9uSWQiLCJfZGVsZXRlVHJhbnNhY3Rpb25zIiwidGFyZ2V0VHJhbnNhY3Rpb25JZHMiLCJ0cmFuc2FjdGlvbklkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/dist/baseControllers.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-session-manager/dist/baseSessionManager.esm.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-session-manager/dist/baseSessionManager.esm.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseSessionManager: () => (/* binding */ BaseSessionManager)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @toruslabs/http-helpers */ \"(ssr)/./node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js\");\n\n\nclass BaseSessionManager {\n    constructor(){\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionId\", void 0);\n    }\n    checkSessionParams() {\n        if (!this.sessionId) throw new Error(\"Session id is required\");\n        this.sessionId = this.sessionId.padStart(64, \"0\");\n    }\n    /**\n   * Common handler method for making an http request.\n   *\n   * Note: Embed all the query parameters in the path itself.\n   */ request(_ref) {\n        let { method = \"GET\", url, data = {}, headers = {} } = _ref;\n        const options = {\n            headers\n        };\n        switch(method){\n            case \"GET\":\n                return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_1__.get)(url, options);\n            case \"POST\":\n                return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_1__.post)(url, data, options);\n            case \"PUT\":\n                return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_1__.put)(url, data, options);\n            case \"PATCH\":\n                return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_1__.patch)(url, data, options);\n        }\n        throw new Error(\"Invalid method type\");\n    }\n}\n //# sourceMappingURL=baseSessionManager.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLXNlc3Npb24tbWFuYWdlci9kaXN0L2Jhc2VTZXNzaW9uTWFuYWdlci5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRTtBQUNKO0FBRWhFLE1BQU1LO0lBQ0pDLGFBQWM7UUFDWk4sNEVBQWVBLENBQUMsSUFBSSxFQUFFLGFBQWEsS0FBSztJQUMxQztJQUNBTyxxQkFBcUI7UUFDbkIsSUFBSSxDQUFDLElBQUksQ0FBQ0MsU0FBUyxFQUFFLE1BQU0sSUFBSUMsTUFBTTtRQUNyQyxJQUFJLENBQUNELFNBQVMsR0FBRyxJQUFJLENBQUNBLFNBQVMsQ0FBQ0UsUUFBUSxDQUFDLElBQUk7SUFDL0M7SUFFQTs7OztHQUlDLEdBQ0RDLFFBQVFDLElBQUksRUFBRTtRQUNaLElBQUksRUFDRkMsU0FBUyxLQUFLLEVBQ2RDLEdBQUcsRUFDSEMsT0FBTyxDQUFDLENBQUMsRUFDVEMsVUFBVSxDQUFDLENBQUMsRUFDYixHQUFHSjtRQUNKLE1BQU1LLFVBQVU7WUFDZEQ7UUFDRjtRQUNBLE9BQVFIO1lBQ04sS0FBSztnQkFDSCxPQUFPVCw0REFBR0EsQ0FBQ1UsS0FBS0c7WUFDbEIsS0FBSztnQkFDSCxPQUFPZCw2REFBSUEsQ0FBQ1csS0FBS0MsTUFBTUU7WUFDekIsS0FBSztnQkFDSCxPQUFPZiw0REFBR0EsQ0FBQ1ksS0FBS0MsTUFBTUU7WUFDeEIsS0FBSztnQkFDSCxPQUFPaEIsOERBQUtBLENBQUNhLEtBQUtDLE1BQU1FO1FBQzVCO1FBQ0EsTUFBTSxJQUFJUixNQUFNO0lBQ2xCO0FBQ0Y7QUFFOEIsQ0FDOUIsa0RBQWtEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2Utc2Vzc2lvbi1tYW5hZ2VyL2Rpc3QvYmFzZVNlc3Npb25NYW5hZ2VyLmVzbS5qcz8yYmFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgeyBwYXRjaCwgcHV0LCBwb3N0LCBnZXQgfSBmcm9tICdAdG9ydXNsYWJzL2h0dHAtaGVscGVycyc7XG5cbmNsYXNzIEJhc2VTZXNzaW9uTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlc3Npb25JZFwiLCB2b2lkIDApO1xuICB9XG4gIGNoZWNrU2Vzc2lvblBhcmFtcygpIHtcbiAgICBpZiAoIXRoaXMuc2Vzc2lvbklkKSB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGlkIGlzIHJlcXVpcmVkXCIpO1xuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5zZXNzaW9uSWQucGFkU3RhcnQoNjQsIFwiMFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21tb24gaGFuZGxlciBtZXRob2QgZm9yIG1ha2luZyBhbiBodHRwIHJlcXVlc3QuXG4gICAqXG4gICAqIE5vdGU6IEVtYmVkIGFsbCB0aGUgcXVlcnkgcGFyYW1ldGVycyBpbiB0aGUgcGF0aCBpdHNlbGYuXG4gICAqL1xuICByZXF1ZXN0KF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgbWV0aG9kID0gXCJHRVRcIixcbiAgICAgIHVybCxcbiAgICAgIGRhdGEgPSB7fSxcbiAgICAgIGhlYWRlcnMgPSB7fVxuICAgIH0gPSBfcmVmO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBoZWFkZXJzXG4gICAgfTtcbiAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgY2FzZSBcIkdFVFwiOlxuICAgICAgICByZXR1cm4gZ2V0KHVybCwgb3B0aW9ucyk7XG4gICAgICBjYXNlIFwiUE9TVFwiOlxuICAgICAgICByZXR1cm4gcG9zdCh1cmwsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgY2FzZSBcIlBVVFwiOlxuICAgICAgICByZXR1cm4gcHV0KHVybCwgZGF0YSwgb3B0aW9ucyk7XG4gICAgICBjYXNlIFwiUEFUQ0hcIjpcbiAgICAgICAgcmV0dXJuIHBhdGNoKHVybCwgZGF0YSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbWV0aG9kIHR5cGVcIik7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmFzZVNlc3Npb25NYW5hZ2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlU2Vzc2lvbk1hbmFnZXIuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9kZWZpbmVQcm9wZXJ0eSIsInBhdGNoIiwicHV0IiwicG9zdCIsImdldCIsIkJhc2VTZXNzaW9uTWFuYWdlciIsImNvbnN0cnVjdG9yIiwiY2hlY2tTZXNzaW9uUGFyYW1zIiwic2Vzc2lvbklkIiwiRXJyb3IiLCJwYWRTdGFydCIsInJlcXVlc3QiLCJfcmVmIiwibWV0aG9kIiwidXJsIiwiZGF0YSIsImhlYWRlcnMiLCJvcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-session-manager/dist/baseSessionManager.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/broadcast-channel.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@toruslabs/broadcast-channel/dist/esnode/broadcast-channel.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BroadcastChannel: () => (/* binding */ BroadcastChannel),\n/* harmony export */   OPEN_BROADCAST_CHANNELS: () => (/* binding */ OPEN_BROADCAST_CHANNELS),\n/* harmony export */   enforceOptions: () => (/* binding */ enforceOptions)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/util.js\");\n/* harmony import */ var _method_chooser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./method-chooser.js */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/method-chooser.js\");\n/* harmony import */ var _options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./options.js */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/options.js\");\n\n\n\n/**\n * Contains all open channels,\n * used in tests to ensure everything is closed.\n */ var OPEN_BROADCAST_CHANNELS = new Set();\nvar lastId = 0;\nvar BroadcastChannel = function BroadcastChannel(name, options) {\n    // identifier of the channel to debug stuff\n    this.id = lastId++;\n    OPEN_BROADCAST_CHANNELS.add(this);\n    this.name = name;\n    if (ENFORCED_OPTIONS) {\n        options = ENFORCED_OPTIONS;\n    }\n    this.options = (0,_options_js__WEBPACK_IMPORTED_MODULE_0__.fillOptionsWithDefaults)(options);\n    this.method = (0,_method_chooser_js__WEBPACK_IMPORTED_MODULE_1__.chooseMethod)(this.options);\n    // isListening\n    this._iL = false;\n    /**\n   * _onMessageListener\n   * setting onmessage twice,\n   * will overwrite the first listener\n   */ this._onML = null;\n    /**\n   * _addEventListeners\n   */ this._addEL = {\n        message: [],\n        internal: []\n    };\n    /**\n   * Unsend message promises\n   * where the sending is still in progress\n   * @type {Set<Promise>}\n   */ this._uMP = new Set();\n    /**\n   * _beforeClose\n   * array of promises that will be awaited\n   * before the channel is closed\n   */ this._befC = [];\n    /**\n   * _preparePromise\n   */ this._prepP = null;\n    _prepareChannel(this);\n};\n// STATICS\n/**\n * used to identify if someone overwrites\n * window.BroadcastChannel with this\n * See methods/native.js\n */ BroadcastChannel._pubkey = true;\n/**\n * if set, this method is enforced,\n * no mather what the options are\n */ var ENFORCED_OPTIONS;\nfunction enforceOptions(options) {\n    ENFORCED_OPTIONS = options;\n}\n// PROTOTYPE\nBroadcastChannel.prototype = {\n    postMessage: function postMessage(msg) {\n        if (this.closed) {\n            throw new Error(\"BroadcastChannel.postMessage(): \" + \"Cannot post message after channel has closed \" + /**\n       * In the past when this error appeared, it was realy hard to debug.\n       * So now we log the msg together with the error so it at least\n       * gives some clue about where in your application this happens.\n       */ JSON.stringify(msg));\n        }\n        return _post(this, \"message\", msg);\n    },\n    postInternal: function postInternal(msg) {\n        return _post(this, \"internal\", msg);\n    },\n    set onmessage (fn){\n        var time = this.method.microSeconds();\n        var listenObj = {\n            time: time,\n            fn: fn\n        };\n        _removeListenerObject(this, \"message\", this._onML);\n        if (fn && typeof fn === \"function\") {\n            this._onML = listenObj;\n            _addListenerObject(this, \"message\", listenObj);\n        } else {\n            this._onML = null;\n        }\n    },\n    addEventListener: function addEventListener(type, fn1) {\n        var time = this.method.microSeconds();\n        var listenObj = {\n            time: time,\n            fn: fn1\n        };\n        _addListenerObject(this, type, listenObj);\n    },\n    removeEventListener: function removeEventListener(type, fn1) {\n        var obj = this._addEL[type].find(function(obj) {\n            return obj.fn === fn1;\n        });\n        _removeListenerObject(this, type, obj);\n    },\n    close: function close() {\n        var _this = this;\n        if (this.closed) {\n            return;\n        }\n        OPEN_BROADCAST_CHANNELS[\"delete\"](this);\n        this.closed = true;\n        var awaitPrepare = this._prepP ? this._prepP : _util_js__WEBPACK_IMPORTED_MODULE_2__.PROMISE_RESOLVED_VOID;\n        this._onML = null;\n        this._addEL.message = [];\n        return awaitPrepare// wait until all current sending are processed\n        .then(function() {\n            return Promise.all(Array.from(_this._uMP));\n        })// run before-close hooks\n        .then(function() {\n            return Promise.all(_this._befC.map(function(fn1) {\n                return fn1();\n            }));\n        })// close the channel\n        .then(function() {\n            return _this.method.close(_this._state);\n        });\n    },\n    get type () {\n        return this.method.type;\n    },\n    get isClosed () {\n        return this.closed;\n    }\n};\n/**\n * Post a message over the channel\n * @returns {Promise} that resolved when the message sending is done\n */ function _post(broadcastChannel, type, msg) {\n    var time = broadcastChannel.method.microSeconds();\n    var msgObj = {\n        time: time,\n        type: type,\n        data: msg\n    };\n    var awaitPrepare = broadcastChannel._prepP ? broadcastChannel._prepP : _util_js__WEBPACK_IMPORTED_MODULE_2__.PROMISE_RESOLVED_VOID;\n    return awaitPrepare.then(function() {\n        var sendPromise = broadcastChannel.method.postMessage(broadcastChannel._state, msgObj);\n        // add/remove to unsend messages list\n        broadcastChannel._uMP.add(sendPromise);\n        sendPromise[\"catch\"]().then(function() {\n            return broadcastChannel._uMP[\"delete\"](sendPromise);\n        });\n        return sendPromise;\n    });\n}\nfunction _prepareChannel(channel) {\n    var maybePromise = channel.method.create(channel.name, channel.options);\n    if ((0,_util_js__WEBPACK_IMPORTED_MODULE_2__.isPromise)(maybePromise)) {\n        channel._prepP = maybePromise;\n        maybePromise.then(function(s) {\n            // used in tests to simulate slow runtime\n            /*if (channel.options.prepareDelay) {\n           await new Promise(res => setTimeout(res, this.options.prepareDelay));\n      }*/ channel._state = s;\n        });\n    } else {\n        channel._state = maybePromise;\n    }\n}\nfunction _hasMessageListeners(channel) {\n    if (channel._addEL.message.length > 0) return true;\n    if (channel._addEL.internal.length > 0) return true;\n    return false;\n}\nfunction _addListenerObject(channel, type, obj) {\n    channel._addEL[type].push(obj);\n    _startListening(channel);\n}\nfunction _removeListenerObject(channel, type, obj) {\n    channel._addEL[type] = channel._addEL[type].filter(function(o) {\n        return o !== obj;\n    });\n    _stopListening(channel);\n}\nfunction _startListening(channel) {\n    if (!channel._iL && _hasMessageListeners(channel)) {\n        // someone is listening, start subscribing\n        var listenerFn = function listenerFn(msgObj) {\n            channel._addEL[msgObj.type].forEach(function(listenerObject) {\n                /**\n         * Getting the current time in JavaScript has no good precision.\n         * So instead of only listening to events that happend 'after' the listener\n         * was added, we also listen to events that happended 100ms before it.\n         * This ensures that when another process, like a WebWorker, sends events\n         * we do not miss them out because their timestamp is a bit off compared to the main process.\n         * Not doing this would make messages missing when we send data directly after subscribing and awaiting a response.\n         * @link https://johnresig.com/blog/accuracy-of-javascript-time/\n         */ var hundredMsInMicro = 100 * 1000;\n                var minMessageTime = listenerObject.time - hundredMsInMicro;\n                if (msgObj.time >= minMessageTime) {\n                    listenerObject.fn(msgObj.data);\n                } else if (channel.method.type === \"server\") {\n                    // server msg might lag based on connection.\n                    listenerObject.fn(msgObj.data);\n                }\n            });\n        };\n        var time = channel.method.microSeconds();\n        if (channel._prepP) {\n            channel._prepP.then(function() {\n                channel._iL = true;\n                channel.method.onMessage(channel._state, listenerFn, time);\n            });\n        } else {\n            channel._iL = true;\n            channel.method.onMessage(channel._state, listenerFn, time);\n        }\n    }\n}\nfunction _stopListening(channel) {\n    if (channel._iL && !_hasMessageListeners(channel)) {\n        // noone is listening, stop subscribing\n        channel._iL = false;\n        var time = channel.method.microSeconds();\n        channel.method.onMessage(channel._state, null, time);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9icm9hZGNhc3QtY2hhbm5lbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNkQ7QUFDVjtBQUNJO0FBRXZEOzs7Q0FHQyxHQUNNLElBQUlJLDBCQUEwQixJQUFJQyxNQUFNO0FBQy9DLElBQUlDLFNBQVM7QUFDTixJQUFJQyxtQkFBbUIsU0FBU0EsaUJBQWlCQyxJQUFJLEVBQUVDLE9BQU87SUFDbkUsMkNBQTJDO0lBQzNDLElBQUksQ0FBQ0MsRUFBRSxHQUFHSjtJQUNWRix3QkFBd0JPLEdBQUcsQ0FBQyxJQUFJO0lBQ2hDLElBQUksQ0FBQ0gsSUFBSSxHQUFHQTtJQUNaLElBQUlJLGtCQUFrQjtRQUNwQkgsVUFBVUc7SUFDWjtJQUNBLElBQUksQ0FBQ0gsT0FBTyxHQUFHTixvRUFBdUJBLENBQUNNO0lBQ3ZDLElBQUksQ0FBQ0ksTUFBTSxHQUFHWCxnRUFBWUEsQ0FBQyxJQUFJLENBQUNPLE9BQU87SUFFdkMsY0FBYztJQUNkLElBQUksQ0FBQ0ssR0FBRyxHQUFHO0lBRVg7Ozs7R0FJQyxHQUNELElBQUksQ0FBQ0MsS0FBSyxHQUFHO0lBRWI7O0dBRUMsR0FDRCxJQUFJLENBQUNDLE1BQU0sR0FBRztRQUNaQyxTQUFTLEVBQUU7UUFDWEMsVUFBVSxFQUFFO0lBQ2Q7SUFFQTs7OztHQUlDLEdBQ0QsSUFBSSxDQUFDQyxJQUFJLEdBQUcsSUFBSWQ7SUFFaEI7Ozs7R0FJQyxHQUNELElBQUksQ0FBQ2UsS0FBSyxHQUFHLEVBQUU7SUFFZjs7R0FFQyxHQUNELElBQUksQ0FBQ0MsTUFBTSxHQUFHO0lBQ2RDLGdCQUFnQixJQUFJO0FBQ3RCLEVBQUU7QUFFRixVQUFVO0FBRVY7Ozs7Q0FJQyxHQUNEZixpQkFBaUJnQixPQUFPLEdBQUc7QUFFM0I7OztDQUdDLEdBQ0QsSUFBSVg7QUFDRyxTQUFTWSxlQUFlZixPQUFPO0lBQ3BDRyxtQkFBbUJIO0FBQ3JC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QUFRL0MsR0FBRyxHQUFHO1lBQ2QrQyxRQUFRaEQsTUFBTSxDQUFDZ0UsU0FBUyxDQUFDaEIsUUFBUU4sTUFBTSxFQUFFaUIsWUFBWXBDO1FBQ3ZEO0lBQ0Y7QUFDRjtBQUNBLFNBQVNtQyxlQUFlVixPQUFPO0lBQzdCLElBQUlBLFFBQVEvQyxHQUFHLElBQUksQ0FBQ21ELHFCQUFxQkosVUFBVTtRQUNqRCx1Q0FBdUM7UUFDdkNBLFFBQVEvQyxHQUFHLEdBQUc7UUFDZCxJQUFJc0IsT0FBT3lCLFFBQVFoRCxNQUFNLENBQUN3QixZQUFZO1FBQ3RDd0IsUUFBUWhELE1BQU0sQ0FBQ2dFLFNBQVMsQ0FBQ2hCLFFBQVFOLE1BQU0sRUFBRSxNQUFNbkI7SUFDakQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BvY2tldGgvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9icm9hZGNhc3QtY2hhbm5lbC5qcz8xMWQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzUHJvbWlzZSwgUFJPTUlTRV9SRVNPTFZFRF9WT0lEIH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7IGNob29zZU1ldGhvZCB9IGZyb20gJy4vbWV0aG9kLWNob29zZXIuanMnO1xuaW1wb3J0IHsgZmlsbE9wdGlvbnNXaXRoRGVmYXVsdHMgfSBmcm9tICcuL29wdGlvbnMuanMnO1xuXG4vKipcbiAqIENvbnRhaW5zIGFsbCBvcGVuIGNoYW5uZWxzLFxuICogdXNlZCBpbiB0ZXN0cyB0byBlbnN1cmUgZXZlcnl0aGluZyBpcyBjbG9zZWQuXG4gKi9cbmV4cG9ydCB2YXIgT1BFTl9CUk9BRENBU1RfQ0hBTk5FTFMgPSBuZXcgU2V0KCk7XG52YXIgbGFzdElkID0gMDtcbmV4cG9ydCB2YXIgQnJvYWRjYXN0Q2hhbm5lbCA9IGZ1bmN0aW9uIEJyb2FkY2FzdENoYW5uZWwobmFtZSwgb3B0aW9ucykge1xuICAvLyBpZGVudGlmaWVyIG9mIHRoZSBjaGFubmVsIHRvIGRlYnVnIHN0dWZmXG4gIHRoaXMuaWQgPSBsYXN0SWQrKztcbiAgT1BFTl9CUk9BRENBU1RfQ0hBTk5FTFMuYWRkKHRoaXMpO1xuICB0aGlzLm5hbWUgPSBuYW1lO1xuICBpZiAoRU5GT1JDRURfT1BUSU9OUykge1xuICAgIG9wdGlvbnMgPSBFTkZPUkNFRF9PUFRJT05TO1xuICB9XG4gIHRoaXMub3B0aW9ucyA9IGZpbGxPcHRpb25zV2l0aERlZmF1bHRzKG9wdGlvbnMpO1xuICB0aGlzLm1ldGhvZCA9IGNob29zZU1ldGhvZCh0aGlzLm9wdGlvbnMpO1xuXG4gIC8vIGlzTGlzdGVuaW5nXG4gIHRoaXMuX2lMID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIF9vbk1lc3NhZ2VMaXN0ZW5lclxuICAgKiBzZXR0aW5nIG9ubWVzc2FnZSB0d2ljZSxcbiAgICogd2lsbCBvdmVyd3JpdGUgdGhlIGZpcnN0IGxpc3RlbmVyXG4gICAqL1xuICB0aGlzLl9vbk1MID0gbnVsbDtcblxuICAvKipcbiAgICogX2FkZEV2ZW50TGlzdGVuZXJzXG4gICAqL1xuICB0aGlzLl9hZGRFTCA9IHtcbiAgICBtZXNzYWdlOiBbXSxcbiAgICBpbnRlcm5hbDogW11cbiAgfTtcblxuICAvKipcbiAgICogVW5zZW5kIG1lc3NhZ2UgcHJvbWlzZXNcbiAgICogd2hlcmUgdGhlIHNlbmRpbmcgaXMgc3RpbGwgaW4gcHJvZ3Jlc3NcbiAgICogQHR5cGUge1NldDxQcm9taXNlPn1cbiAgICovXG4gIHRoaXMuX3VNUCA9IG5ldyBTZXQoKTtcblxuICAvKipcbiAgICogX2JlZm9yZUNsb3NlXG4gICAqIGFycmF5IG9mIHByb21pc2VzIHRoYXQgd2lsbCBiZSBhd2FpdGVkXG4gICAqIGJlZm9yZSB0aGUgY2hhbm5lbCBpcyBjbG9zZWRcbiAgICovXG4gIHRoaXMuX2JlZkMgPSBbXTtcblxuICAvKipcbiAgICogX3ByZXBhcmVQcm9taXNlXG4gICAqL1xuICB0aGlzLl9wcmVwUCA9IG51bGw7XG4gIF9wcmVwYXJlQ2hhbm5lbCh0aGlzKTtcbn07XG5cbi8vIFNUQVRJQ1NcblxuLyoqXG4gKiB1c2VkIHRvIGlkZW50aWZ5IGlmIHNvbWVvbmUgb3ZlcndyaXRlc1xuICogd2luZG93LkJyb2FkY2FzdENoYW5uZWwgd2l0aCB0aGlzXG4gKiBTZWUgbWV0aG9kcy9uYXRpdmUuanNcbiAqL1xuQnJvYWRjYXN0Q2hhbm5lbC5fcHVia2V5ID0gdHJ1ZTtcblxuLyoqXG4gKiBpZiBzZXQsIHRoaXMgbWV0aG9kIGlzIGVuZm9yY2VkLFxuICogbm8gbWF0aGVyIHdoYXQgdGhlIG9wdGlvbnMgYXJlXG4gKi9cbnZhciBFTkZPUkNFRF9PUFRJT05TO1xuZXhwb3J0IGZ1bmN0aW9uIGVuZm9yY2VPcHRpb25zKG9wdGlvbnMpIHtcbiAgRU5GT1JDRURfT1BUSU9OUyA9IG9wdGlvbnM7XG59XG5cbi8vIFBST1RPVFlQRVxuQnJvYWRjYXN0Q2hhbm5lbC5wcm90b3R5cGUgPSB7XG4gIHBvc3RNZXNzYWdlOiBmdW5jdGlvbiBwb3N0TWVzc2FnZShtc2cpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQnJvYWRjYXN0Q2hhbm5lbC5wb3N0TWVzc2FnZSgpOiAnICsgJ0Nhbm5vdCBwb3N0IG1lc3NhZ2UgYWZ0ZXIgY2hhbm5lbCBoYXMgY2xvc2VkICcgK1xuICAgICAgLyoqXG4gICAgICAgKiBJbiB0aGUgcGFzdCB3aGVuIHRoaXMgZXJyb3IgYXBwZWFyZWQsIGl0IHdhcyByZWFseSBoYXJkIHRvIGRlYnVnLlxuICAgICAgICogU28gbm93IHdlIGxvZyB0aGUgbXNnIHRvZ2V0aGVyIHdpdGggdGhlIGVycm9yIHNvIGl0IGF0IGxlYXN0XG4gICAgICAgKiBnaXZlcyBzb21lIGNsdWUgYWJvdXQgd2hlcmUgaW4geW91ciBhcHBsaWNhdGlvbiB0aGlzIGhhcHBlbnMuXG4gICAgICAgKi9cbiAgICAgIEpTT04uc3RyaW5naWZ5KG1zZykpO1xuICAgIH1cbiAgICByZXR1cm4gX3Bvc3QodGhpcywgJ21lc3NhZ2UnLCBtc2cpO1xuICB9LFxuICBwb3N0SW50ZXJuYWw6IGZ1bmN0aW9uIHBvc3RJbnRlcm5hbChtc2cpIHtcbiAgICByZXR1cm4gX3Bvc3QodGhpcywgJ2ludGVybmFsJywgbXNnKTtcbiAgfSxcbiAgc2V0IG9ubWVzc2FnZShmbikge1xuICAgIHZhciB0aW1lID0gdGhpcy5tZXRob2QubWljcm9TZWNvbmRzKCk7XG4gICAgdmFyIGxpc3Rlbk9iaiA9IHtcbiAgICAgIHRpbWU6IHRpbWUsXG4gICAgICBmbjogZm5cbiAgICB9O1xuICAgIF9yZW1vdmVMaXN0ZW5lck9iamVjdCh0aGlzLCAnbWVzc2FnZScsIHRoaXMuX29uTUwpO1xuICAgIGlmIChmbiAmJiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX29uTUwgPSBsaXN0ZW5PYmo7XG4gICAgICBfYWRkTGlzdGVuZXJPYmplY3QodGhpcywgJ21lc3NhZ2UnLCBsaXN0ZW5PYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9vbk1MID0gbnVsbDtcbiAgICB9XG4gIH0sXG4gIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4pIHtcbiAgICB2YXIgdGltZSA9IHRoaXMubWV0aG9kLm1pY3JvU2Vjb25kcygpO1xuICAgIHZhciBsaXN0ZW5PYmogPSB7XG4gICAgICB0aW1lOiB0aW1lLFxuICAgICAgZm46IGZuXG4gICAgfTtcbiAgICBfYWRkTGlzdGVuZXJPYmplY3QodGhpcywgdHlwZSwgbGlzdGVuT2JqKTtcbiAgfSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbikge1xuICAgIHZhciBvYmogPSB0aGlzLl9hZGRFTFt0eXBlXS5maW5kKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiBvYmouZm4gPT09IGZuO1xuICAgIH0pO1xuICAgIF9yZW1vdmVMaXN0ZW5lck9iamVjdCh0aGlzLCB0eXBlLCBvYmopO1xuICB9LFxuICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT1BFTl9CUk9BRENBU1RfQ0hBTk5FTFNbXCJkZWxldGVcIl0odGhpcyk7XG4gICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgIHZhciBhd2FpdFByZXBhcmUgPSB0aGlzLl9wcmVwUCA/IHRoaXMuX3ByZXBQIDogUFJPTUlTRV9SRVNPTFZFRF9WT0lEO1xuICAgIHRoaXMuX29uTUwgPSBudWxsO1xuICAgIHRoaXMuX2FkZEVMLm1lc3NhZ2UgPSBbXTtcbiAgICByZXR1cm4gYXdhaXRQcmVwYXJlXG4gICAgLy8gd2FpdCB1bnRpbCBhbGwgY3VycmVudCBzZW5kaW5nIGFyZSBwcm9jZXNzZWRcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoQXJyYXkuZnJvbShfdGhpcy5fdU1QKSk7XG4gICAgfSlcbiAgICAvLyBydW4gYmVmb3JlLWNsb3NlIGhvb2tzXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKF90aGlzLl9iZWZDLm1hcChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICB9KSk7XG4gICAgfSlcbiAgICAvLyBjbG9zZSB0aGUgY2hhbm5lbFxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5tZXRob2QuY2xvc2UoX3RoaXMuX3N0YXRlKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kLnR5cGU7XG4gIH0sXG4gIGdldCBpc0Nsb3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9zZWQ7XG4gIH1cbn07XG5cbi8qKlxuICogUG9zdCBhIG1lc3NhZ2Ugb3ZlciB0aGUgY2hhbm5lbFxuICogQHJldHVybnMge1Byb21pc2V9IHRoYXQgcmVzb2x2ZWQgd2hlbiB0aGUgbWVzc2FnZSBzZW5kaW5nIGlzIGRvbmVcbiAqL1xuZnVuY3Rpb24gX3Bvc3QoYnJvYWRjYXN0Q2hhbm5lbCwgdHlwZSwgbXNnKSB7XG4gIHZhciB0aW1lID0gYnJvYWRjYXN0Q2hhbm5lbC5tZXRob2QubWljcm9TZWNvbmRzKCk7XG4gIHZhciBtc2dPYmogPSB7XG4gICAgdGltZTogdGltZSxcbiAgICB0eXBlOiB0eXBlLFxuICAgIGRhdGE6IG1zZ1xuICB9O1xuICB2YXIgYXdhaXRQcmVwYXJlID0gYnJvYWRjYXN0Q2hhbm5lbC5fcHJlcFAgPyBicm9hZGNhc3RDaGFubmVsLl9wcmVwUCA6IFBST01JU0VfUkVTT0xWRURfVk9JRDtcbiAgcmV0dXJuIGF3YWl0UHJlcGFyZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VuZFByb21pc2UgPSBicm9hZGNhc3RDaGFubmVsLm1ldGhvZC5wb3N0TWVzc2FnZShicm9hZGNhc3RDaGFubmVsLl9zdGF0ZSwgbXNnT2JqKTtcblxuICAgIC8vIGFkZC9yZW1vdmUgdG8gdW5zZW5kIG1lc3NhZ2VzIGxpc3RcbiAgICBicm9hZGNhc3RDaGFubmVsLl91TVAuYWRkKHNlbmRQcm9taXNlKTtcbiAgICBzZW5kUHJvbWlzZVtcImNhdGNoXCJdKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYnJvYWRjYXN0Q2hhbm5lbC5fdU1QW1wiZGVsZXRlXCJdKHNlbmRQcm9taXNlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2VuZFByb21pc2U7XG4gIH0pO1xufVxuZnVuY3Rpb24gX3ByZXBhcmVDaGFubmVsKGNoYW5uZWwpIHtcbiAgdmFyIG1heWJlUHJvbWlzZSA9IGNoYW5uZWwubWV0aG9kLmNyZWF0ZShjaGFubmVsLm5hbWUsIGNoYW5uZWwub3B0aW9ucyk7XG4gIGlmIChpc1Byb21pc2UobWF5YmVQcm9taXNlKSkge1xuICAgIGNoYW5uZWwuX3ByZXBQID0gbWF5YmVQcm9taXNlO1xuICAgIG1heWJlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzKSB7XG4gICAgICAvLyB1c2VkIGluIHRlc3RzIHRvIHNpbXVsYXRlIHNsb3cgcnVudGltZVxuICAgICAgLyppZiAoY2hhbm5lbC5vcHRpb25zLnByZXBhcmVEZWxheSkge1xuICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIHRoaXMub3B0aW9ucy5wcmVwYXJlRGVsYXkpKTtcbiAgICAgIH0qL1xuICAgICAgY2hhbm5lbC5fc3RhdGUgPSBzO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNoYW5uZWwuX3N0YXRlID0gbWF5YmVQcm9taXNlO1xuICB9XG59XG5mdW5jdGlvbiBfaGFzTWVzc2FnZUxpc3RlbmVycyhjaGFubmVsKSB7XG4gIGlmIChjaGFubmVsLl9hZGRFTC5tZXNzYWdlLmxlbmd0aCA+IDApIHJldHVybiB0cnVlO1xuICBpZiAoY2hhbm5lbC5fYWRkRUwuaW50ZXJuYWwubGVuZ3RoID4gMCkgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lck9iamVjdChjaGFubmVsLCB0eXBlLCBvYmopIHtcbiAgY2hhbm5lbC5fYWRkRUxbdHlwZV0ucHVzaChvYmopO1xuICBfc3RhcnRMaXN0ZW5pbmcoY2hhbm5lbCk7XG59XG5mdW5jdGlvbiBfcmVtb3ZlTGlzdGVuZXJPYmplY3QoY2hhbm5lbCwgdHlwZSwgb2JqKSB7XG4gIGNoYW5uZWwuX2FkZEVMW3R5cGVdID0gY2hhbm5lbC5fYWRkRUxbdHlwZV0uZmlsdGVyKGZ1bmN0aW9uIChvKSB7XG4gICAgcmV0dXJuIG8gIT09IG9iajtcbiAgfSk7XG4gIF9zdG9wTGlzdGVuaW5nKGNoYW5uZWwpO1xufVxuZnVuY3Rpb24gX3N0YXJ0TGlzdGVuaW5nKGNoYW5uZWwpIHtcbiAgaWYgKCFjaGFubmVsLl9pTCAmJiBfaGFzTWVzc2FnZUxpc3RlbmVycyhjaGFubmVsKSkge1xuICAgIC8vIHNvbWVvbmUgaXMgbGlzdGVuaW5nLCBzdGFydCBzdWJzY3JpYmluZ1xuXG4gICAgdmFyIGxpc3RlbmVyRm4gPSBmdW5jdGlvbiBsaXN0ZW5lckZuKG1zZ09iaikge1xuICAgICAgY2hhbm5lbC5fYWRkRUxbbXNnT2JqLnR5cGVdLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyT2JqZWN0KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXR0aW5nIHRoZSBjdXJyZW50IHRpbWUgaW4gSmF2YVNjcmlwdCBoYXMgbm8gZ29vZCBwcmVjaXNpb24uXG4gICAgICAgICAqIFNvIGluc3RlYWQgb2Ygb25seSBsaXN0ZW5pbmcgdG8gZXZlbnRzIHRoYXQgaGFwcGVuZCAnYWZ0ZXInIHRoZSBsaXN0ZW5lclxuICAgICAgICAgKiB3YXMgYWRkZWQsIHdlIGFsc28gbGlzdGVuIHRvIGV2ZW50cyB0aGF0IGhhcHBlbmRlZCAxMDBtcyBiZWZvcmUgaXQuXG4gICAgICAgICAqIFRoaXMgZW5zdXJlcyB0aGF0IHdoZW4gYW5vdGhlciBwcm9jZXNzLCBsaWtlIGEgV2ViV29ya2VyLCBzZW5kcyBldmVudHNcbiAgICAgICAgICogd2UgZG8gbm90IG1pc3MgdGhlbSBvdXQgYmVjYXVzZSB0aGVpciB0aW1lc3RhbXAgaXMgYSBiaXQgb2ZmIGNvbXBhcmVkIHRvIHRoZSBtYWluIHByb2Nlc3MuXG4gICAgICAgICAqIE5vdCBkb2luZyB0aGlzIHdvdWxkIG1ha2UgbWVzc2FnZXMgbWlzc2luZyB3aGVuIHdlIHNlbmQgZGF0YSBkaXJlY3RseSBhZnRlciBzdWJzY3JpYmluZyBhbmQgYXdhaXRpbmcgYSByZXNwb25zZS5cbiAgICAgICAgICogQGxpbmsgaHR0cHM6Ly9qb2hucmVzaWcuY29tL2Jsb2cvYWNjdXJhY3ktb2YtamF2YXNjcmlwdC10aW1lL1xuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGh1bmRyZWRNc0luTWljcm8gPSAxMDAgKiAxMDAwO1xuICAgICAgICB2YXIgbWluTWVzc2FnZVRpbWUgPSBsaXN0ZW5lck9iamVjdC50aW1lIC0gaHVuZHJlZE1zSW5NaWNybztcbiAgICAgICAgaWYgKG1zZ09iai50aW1lID49IG1pbk1lc3NhZ2VUaW1lKSB7XG4gICAgICAgICAgbGlzdGVuZXJPYmplY3QuZm4obXNnT2JqLmRhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWwubWV0aG9kLnR5cGUgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgLy8gc2VydmVyIG1zZyBtaWdodCBsYWcgYmFzZWQgb24gY29ubmVjdGlvbi5cbiAgICAgICAgICBsaXN0ZW5lck9iamVjdC5mbihtc2dPYmouZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIHRpbWUgPSBjaGFubmVsLm1ldGhvZC5taWNyb1NlY29uZHMoKTtcbiAgICBpZiAoY2hhbm5lbC5fcHJlcFApIHtcbiAgICAgIGNoYW5uZWwuX3ByZXBQLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFubmVsLl9pTCA9IHRydWU7XG4gICAgICAgIGNoYW5uZWwubWV0aG9kLm9uTWVzc2FnZShjaGFubmVsLl9zdGF0ZSwgbGlzdGVuZXJGbiwgdGltZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hhbm5lbC5faUwgPSB0cnVlO1xuICAgICAgY2hhbm5lbC5tZXRob2Qub25NZXNzYWdlKGNoYW5uZWwuX3N0YXRlLCBsaXN0ZW5lckZuLCB0aW1lKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIF9zdG9wTGlzdGVuaW5nKGNoYW5uZWwpIHtcbiAgaWYgKGNoYW5uZWwuX2lMICYmICFfaGFzTWVzc2FnZUxpc3RlbmVycyhjaGFubmVsKSkge1xuICAgIC8vIG5vb25lIGlzIGxpc3RlbmluZywgc3RvcCBzdWJzY3JpYmluZ1xuICAgIGNoYW5uZWwuX2lMID0gZmFsc2U7XG4gICAgdmFyIHRpbWUgPSBjaGFubmVsLm1ldGhvZC5taWNyb1NlY29uZHMoKTtcbiAgICBjaGFubmVsLm1ldGhvZC5vbk1lc3NhZ2UoY2hhbm5lbC5fc3RhdGUsIG51bGwsIHRpbWUpO1xuICB9XG59Il0sIm5hbWVzIjpbImlzUHJvbWlzZSIsIlBST01JU0VfUkVTT0xWRURfVk9JRCIsImNob29zZU1ldGhvZCIsImZpbGxPcHRpb25zV2l0aERlZmF1bHRzIiwiT1BFTl9CUk9BRENBU1RfQ0hBTk5FTFMiLCJTZXQiLCJsYXN0SWQiLCJCcm9hZGNhc3RDaGFubmVsIiwibmFtZSIsIm9wdGlvbnMiLCJpZCIsImFkZCIsIkVORk9SQ0VEX09QVElPTlMiLCJtZXRob2QiLCJfaUwiLCJfb25NTCIsIl9hZGRFTCIsIm1lc3NhZ2UiLCJpbnRlcm5hbCIsIl91TVAiLCJfYmVmQyIsIl9wcmVwUCIsIl9wcmVwYXJlQ2hhbm5lbCIsIl9wdWJrZXkiLCJlbmZvcmNlT3B0aW9ucyIsInByb3RvdHlwZSIsInBvc3RNZXNzYWdlIiwibXNnIiwiY2xvc2VkIiwiRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiX3Bvc3QiLCJwb3N0SW50ZXJuYWwiLCJvbm1lc3NhZ2UiLCJmbiIsInRpbWUiLCJtaWNyb1NlY29uZHMiLCJsaXN0ZW5PYmoiLCJfcmVtb3ZlTGlzdGVuZXJPYmplY3QiLCJfYWRkTGlzdGVuZXJPYmplY3QiLCJhZGRFdmVudExpc3RlbmVyIiwidHlwZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvYmoiLCJmaW5kIiwiY2xvc2UiLCJfdGhpcyIsImF3YWl0UHJlcGFyZSIsInRoZW4iLCJQcm9taXNlIiwiYWxsIiwiQXJyYXkiLCJmcm9tIiwibWFwIiwiX3N0YXRlIiwiaXNDbG9zZWQiLCJicm9hZGNhc3RDaGFubmVsIiwibXNnT2JqIiwiZGF0YSIsInNlbmRQcm9taXNlIiwiY2hhbm5lbCIsIm1heWJlUHJvbWlzZSIsImNyZWF0ZSIsInMiLCJfaGFzTWVzc2FnZUxpc3RlbmVycyIsImxlbmd0aCIsInB1c2giLCJfc3RhcnRMaXN0ZW5pbmciLCJmaWx0ZXIiLCJvIiwiX3N0b3BMaXN0ZW5pbmciLCJsaXN0ZW5lckZuIiwiZm9yRWFjaCIsImxpc3RlbmVyT2JqZWN0IiwiaHVuZHJlZE1zSW5NaWNybyIsIm1pbk1lc3NhZ2VUaW1lIiwib25NZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/broadcast-channel.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/method-chooser.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@toruslabs/broadcast-channel/dist/esnode/method-chooser.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chooseMethod: () => (/* binding */ chooseMethod)\n/* harmony export */ });\n/* harmony import */ var _methods_native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./methods/native.js */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/native.js\");\n/* harmony import */ var _methods_indexed_db_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./methods/indexed-db.js */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/indexed-db.js\");\n/* harmony import */ var _methods_localstorage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./methods/localstorage.js */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/localstorage.js\");\n/* harmony import */ var _methods_server_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./methods/server.js */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/server.js\");\n/* harmony import */ var _methods_simulate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./methods/simulate.js */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/simulate.js\");\n\n\n\n\n\n// order is important\nvar METHODS = [\n    _methods_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    // fastest\n    _methods_indexed_db_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _methods_localstorage_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    _methods_server_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n];\nfunction chooseMethod(options) {\n    var chooseMethods = [].concat(options.methods, METHODS).filter(Boolean);\n    // directly chosen\n    if (options.type) {\n        if (options.type === \"simulate\") {\n            // only use simulate-method if directly chosen\n            return _methods_simulate_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n        }\n        var ret = chooseMethods.find(function(m) {\n            return m.type === options.type;\n        });\n        if (!ret) throw new Error(\"method-type \" + options.type + \" not found\");\n        else return ret;\n    }\n    /**\n   * if no webworker support is needed,\n   * remove idb from the list so that localstorage is been chosen\n   */ if (!options.webWorkerSupport) {\n        chooseMethods = chooseMethods.filter(function(m) {\n            return m.type !== \"idb\";\n        });\n    }\n    var useMethod = chooseMethods.find(function(method) {\n        return method.canBeUsed(options);\n    });\n    if (!useMethod) throw new Error(\"No useable method found in \" + JSON.stringify(METHODS.map(function(m) {\n        return m.type;\n    })));\n    else return useMethod;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9tZXRob2QtY2hvb3Nlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBK0M7QUFDTTtBQUNNO0FBQ1o7QUFDSTtBQUVuRCxxQkFBcUI7QUFDckIsSUFBSUssVUFBVTtJQUFDTCwwREFBWUE7SUFDM0IsVUFBVTtJQUNWQyw4REFBY0E7SUFBRUMsZ0VBQWtCQTtJQUFFQywwREFBWUE7Q0FBQztBQUMxQyxTQUFTRyxhQUFhQyxPQUFPO0lBQ2xDLElBQUlDLGdCQUFnQixFQUFFLENBQUNDLE1BQU0sQ0FBQ0YsUUFBUUcsT0FBTyxFQUFFTCxTQUFTTSxNQUFNLENBQUNDO0lBRS9ELGtCQUFrQjtJQUNsQixJQUFJTCxRQUFRTSxJQUFJLEVBQUU7UUFDaEIsSUFBSU4sUUFBUU0sSUFBSSxLQUFLLFlBQVk7WUFDL0IsOENBQThDO1lBQzlDLE9BQU9ULDREQUFjQTtRQUN2QjtRQUNBLElBQUlVLE1BQU1OLGNBQWNPLElBQUksQ0FBQyxTQUFVQyxDQUFDO1lBQ3RDLE9BQU9BLEVBQUVILElBQUksS0FBS04sUUFBUU0sSUFBSTtRQUNoQztRQUNBLElBQUksQ0FBQ0MsS0FBSyxNQUFNLElBQUlHLE1BQU0saUJBQWlCVixRQUFRTSxJQUFJLEdBQUc7YUFBbUIsT0FBT0M7SUFDdEY7SUFFQTs7O0dBR0MsR0FDRCxJQUFJLENBQUNQLFFBQVFXLGdCQUFnQixFQUFFO1FBQzdCVixnQkFBZ0JBLGNBQWNHLE1BQU0sQ0FBQyxTQUFVSyxDQUFDO1lBQzlDLE9BQU9BLEVBQUVILElBQUksS0FBSztRQUNwQjtJQUNGO0lBQ0EsSUFBSU0sWUFBWVgsY0FBY08sSUFBSSxDQUFDLFNBQVVLLE1BQU07UUFDakQsT0FBT0EsT0FBT0MsU0FBUyxDQUFDZDtJQUMxQjtJQUNBLElBQUksQ0FBQ1ksV0FBVyxNQUFNLElBQUlGLE1BQU0sZ0NBQWdDSyxLQUFLQyxTQUFTLENBQUNsQixRQUFRbUIsR0FBRyxDQUFDLFNBQVVSLENBQUM7UUFDcEcsT0FBT0EsRUFBRUgsSUFBSTtJQUNmO1NBQVUsT0FBT007QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvYnJvYWRjYXN0LWNoYW5uZWwvZGlzdC9lc25vZGUvbWV0aG9kLWNob29zZXIuanM/MzY4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmF0aXZlTWV0aG9kIGZyb20gJy4vbWV0aG9kcy9uYXRpdmUuanMnO1xuaW1wb3J0IEluZGV4ZURiTWV0aG9kIGZyb20gJy4vbWV0aG9kcy9pbmRleGVkLWRiLmpzJztcbmltcG9ydCBMb2NhbHN0b3JhZ2VNZXRob2QgZnJvbSAnLi9tZXRob2RzL2xvY2Fsc3RvcmFnZS5qcyc7XG5pbXBvcnQgU2VydmVyTWV0aG9kIGZyb20gJy4vbWV0aG9kcy9zZXJ2ZXIuanMnO1xuaW1wb3J0IFNpbXVsYXRlTWV0aG9kIGZyb20gJy4vbWV0aG9kcy9zaW11bGF0ZS5qcyc7XG5cbi8vIG9yZGVyIGlzIGltcG9ydGFudFxudmFyIE1FVEhPRFMgPSBbTmF0aXZlTWV0aG9kLFxuLy8gZmFzdGVzdFxuSW5kZXhlRGJNZXRob2QsIExvY2Fsc3RvcmFnZU1ldGhvZCwgU2VydmVyTWV0aG9kXTtcbmV4cG9ydCBmdW5jdGlvbiBjaG9vc2VNZXRob2Qob3B0aW9ucykge1xuICB2YXIgY2hvb3NlTWV0aG9kcyA9IFtdLmNvbmNhdChvcHRpb25zLm1ldGhvZHMsIE1FVEhPRFMpLmZpbHRlcihCb29sZWFuKTtcblxuICAvLyBkaXJlY3RseSBjaG9zZW5cbiAgaWYgKG9wdGlvbnMudHlwZSkge1xuICAgIGlmIChvcHRpb25zLnR5cGUgPT09ICdzaW11bGF0ZScpIHtcbiAgICAgIC8vIG9ubHkgdXNlIHNpbXVsYXRlLW1ldGhvZCBpZiBkaXJlY3RseSBjaG9zZW5cbiAgICAgIHJldHVybiBTaW11bGF0ZU1ldGhvZDtcbiAgICB9XG4gICAgdmFyIHJldCA9IGNob29zZU1ldGhvZHMuZmluZChmdW5jdGlvbiAobSkge1xuICAgICAgcmV0dXJuIG0udHlwZSA9PT0gb3B0aW9ucy50eXBlO1xuICAgIH0pO1xuICAgIGlmICghcmV0KSB0aHJvdyBuZXcgRXJyb3IoJ21ldGhvZC10eXBlICcgKyBvcHRpb25zLnR5cGUgKyAnIG5vdCBmb3VuZCcpO2Vsc2UgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBpZiBubyB3ZWJ3b3JrZXIgc3VwcG9ydCBpcyBuZWVkZWQsXG4gICAqIHJlbW92ZSBpZGIgZnJvbSB0aGUgbGlzdCBzbyB0aGF0IGxvY2Fsc3RvcmFnZSBpcyBiZWVuIGNob3NlblxuICAgKi9cbiAgaWYgKCFvcHRpb25zLndlYldvcmtlclN1cHBvcnQpIHtcbiAgICBjaG9vc2VNZXRob2RzID0gY2hvb3NlTWV0aG9kcy5maWx0ZXIoZnVuY3Rpb24gKG0pIHtcbiAgICAgIHJldHVybiBtLnR5cGUgIT09ICdpZGInO1xuICAgIH0pO1xuICB9XG4gIHZhciB1c2VNZXRob2QgPSBjaG9vc2VNZXRob2RzLmZpbmQoZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgIHJldHVybiBtZXRob2QuY2FuQmVVc2VkKG9wdGlvbnMpO1xuICB9KTtcbiAgaWYgKCF1c2VNZXRob2QpIHRocm93IG5ldyBFcnJvcihcIk5vIHVzZWFibGUgbWV0aG9kIGZvdW5kIGluIFwiICsgSlNPTi5zdHJpbmdpZnkoTUVUSE9EUy5tYXAoZnVuY3Rpb24gKG0pIHtcbiAgICByZXR1cm4gbS50eXBlO1xuICB9KSkpO2Vsc2UgcmV0dXJuIHVzZU1ldGhvZDtcbn0iXSwibmFtZXMiOlsiTmF0aXZlTWV0aG9kIiwiSW5kZXhlRGJNZXRob2QiLCJMb2NhbHN0b3JhZ2VNZXRob2QiLCJTZXJ2ZXJNZXRob2QiLCJTaW11bGF0ZU1ldGhvZCIsIk1FVEhPRFMiLCJjaG9vc2VNZXRob2QiLCJvcHRpb25zIiwiY2hvb3NlTWV0aG9kcyIsImNvbmNhdCIsIm1ldGhvZHMiLCJmaWx0ZXIiLCJCb29sZWFuIiwidHlwZSIsInJldCIsImZpbmQiLCJtIiwiRXJyb3IiLCJ3ZWJXb3JrZXJTdXBwb3J0IiwidXNlTWV0aG9kIiwibWV0aG9kIiwiY2FuQmVVc2VkIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/method-chooser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/indexed-db.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/indexed-db.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TRANSACTION_SETTINGS: () => (/* binding */ TRANSACTION_SETTINGS),\n/* harmony export */   averageResponseTime: () => (/* binding */ averageResponseTime),\n/* harmony export */   canBeUsed: () => (/* binding */ canBeUsed),\n/* harmony export */   cleanOldMessages: () => (/* binding */ cleanOldMessages),\n/* harmony export */   close: () => (/* binding */ close),\n/* harmony export */   commitIndexedDBTransaction: () => (/* binding */ commitIndexedDBTransaction),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   createDatabase: () => (/* binding */ createDatabase),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getAllMessages: () => (/* binding */ getAllMessages),\n/* harmony export */   getIdb: () => (/* binding */ getIdb),\n/* harmony export */   getMessagesHigherThan: () => (/* binding */ getMessagesHigherThan),\n/* harmony export */   getOldMessages: () => (/* binding */ getOldMessages),\n/* harmony export */   microSeconds: () => (/* binding */ microSeconds),\n/* harmony export */   onMessage: () => (/* binding */ onMessage),\n/* harmony export */   postMessage: () => (/* binding */ postMessage),\n/* harmony export */   removeMessagesById: () => (/* binding */ removeMessagesById),\n/* harmony export */   type: () => (/* binding */ type),\n/* harmony export */   writeMessage: () => (/* binding */ writeMessage)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util.js */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/util.js\");\n/* harmony import */ var oblivious_set__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! oblivious-set */ \"(ssr)/./node_modules/oblivious-set/dist/es/index.js\");\n/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../options */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/options.js\");\n/**\n * this method uses indexeddb to store the messages\n * There is currently no observerAPI for idb\n * @link https://github.com/w3c/IndexedDB/issues/51\n *\n * When working on this, ensure to use these performance optimizations:\n * @link https://rxdb.info/slow-indexeddb.html\n */ \nvar microSeconds = _util_js__WEBPACK_IMPORTED_MODULE_0__.microSeconds;\n\n\nvar DB_PREFIX = \"pubkey.broadcast-channel-0-\";\nvar OBJECT_STORE_ID = \"messages\";\n/**\n * Use relaxed durability for faster performance on all transactions.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */ var TRANSACTION_SETTINGS = {\n    durability: \"relaxed\"\n};\nvar type = \"idb\";\nfunction getIdb() {\n    if (typeof indexedDB !== \"undefined\") return indexedDB;\n    if (false) {}\n    return false;\n}\n/**\n * If possible, we should explicitly commit IndexedDB transactions\n * for better performance.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */ function commitIndexedDBTransaction(tx) {\n    if (tx.commit) {\n        tx.commit();\n    }\n}\nfunction createDatabase(channelName) {\n    var IndexedDB = getIdb();\n    // create table\n    var dbName = DB_PREFIX + channelName;\n    /**\n   * All IndexedDB databases are opened without version\n   * because it is a bit faster, especially on firefox\n   * @link http://nparashuram.com/IndexedDB/perf/#Open%20Database%20with%20version\n   */ var openRequest = IndexedDB.open(dbName);\n    openRequest.onupgradeneeded = function(ev) {\n        var db = ev.target.result;\n        db.createObjectStore(OBJECT_STORE_ID, {\n            keyPath: \"id\",\n            autoIncrement: true\n        });\n    };\n    var dbPromise = new Promise(function(res, rej) {\n        openRequest.onerror = function(ev) {\n            return rej(ev);\n        };\n        openRequest.onsuccess = function() {\n            res(openRequest.result);\n        };\n    });\n    return dbPromise;\n}\n/**\n * writes the new message to the database\n * so other readers can find it\n */ function writeMessage(db, readerUuid, messageJson) {\n    var time = new Date().getTime();\n    var writeObject = {\n        uuid: readerUuid,\n        time: time,\n        data: messageJson\n    };\n    var tx = db.transaction([\n        OBJECT_STORE_ID\n    ], \"readwrite\", TRANSACTION_SETTINGS);\n    return new Promise(function(res, rej) {\n        tx.oncomplete = function() {\n            return res();\n        };\n        tx.onerror = function(ev) {\n            return rej(ev);\n        };\n        var objectStore = tx.objectStore(OBJECT_STORE_ID);\n        objectStore.add(writeObject);\n        commitIndexedDBTransaction(tx);\n    });\n}\nfunction getAllMessages(db) {\n    var tx = db.transaction(OBJECT_STORE_ID, \"readonly\", TRANSACTION_SETTINGS);\n    var objectStore = tx.objectStore(OBJECT_STORE_ID);\n    var ret = [];\n    return new Promise(function(res) {\n        objectStore.openCursor().onsuccess = function(ev) {\n            var cursor = ev.target.result;\n            if (cursor) {\n                ret.push(cursor.value);\n                //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n                cursor[\"continue\"]();\n            } else {\n                commitIndexedDBTransaction(tx);\n                res(ret);\n            }\n        };\n    });\n}\nfunction getMessagesHigherThan(db, lastCursorId) {\n    var tx = db.transaction(OBJECT_STORE_ID, \"readonly\", TRANSACTION_SETTINGS);\n    var objectStore = tx.objectStore(OBJECT_STORE_ID);\n    var ret = [];\n    var keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n    /**\n   * Optimization shortcut,\n   * if getAll() can be used, do not use a cursor.\n   * @link https://rxdb.info/slow-indexeddb.html\n   */ if (objectStore.getAll) {\n        var getAllRequest = objectStore.getAll(keyRangeValue);\n        return new Promise(function(res, rej) {\n            getAllRequest.onerror = function(err) {\n                return rej(err);\n            };\n            getAllRequest.onsuccess = function(e) {\n                res(e.target.result);\n            };\n        });\n    }\n    function openCursor() {\n        // Occasionally Safari will fail on IDBKeyRange.bound, this\n        // catches that error, having it open the cursor to the first\n        // item. When it gets data it will advance to the desired key.\n        try {\n            keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n            return objectStore.openCursor(keyRangeValue);\n        } catch (e) {\n            return objectStore.openCursor();\n        }\n    }\n    return new Promise(function(res, rej) {\n        var openCursorRequest = openCursor();\n        openCursorRequest.onerror = function(err) {\n            return rej(err);\n        };\n        openCursorRequest.onsuccess = function(ev) {\n            var cursor = ev.target.result;\n            if (cursor) {\n                if (cursor.value.id < lastCursorId + 1) {\n                    cursor[\"continue\"](lastCursorId + 1);\n                } else {\n                    ret.push(cursor.value);\n                    cursor[\"continue\"]();\n                }\n            } else {\n                commitIndexedDBTransaction(tx);\n                res(ret);\n            }\n        };\n    });\n}\nfunction removeMessagesById(db, ids) {\n    var tx = db.transaction([\n        OBJECT_STORE_ID\n    ], \"readwrite\", TRANSACTION_SETTINGS);\n    var objectStore = tx.objectStore(OBJECT_STORE_ID);\n    return Promise.all(ids.map(function(id) {\n        var deleteRequest = objectStore[\"delete\"](id);\n        return new Promise(function(res) {\n            deleteRequest.onsuccess = function() {\n                return res();\n            };\n        });\n    }));\n}\nfunction getOldMessages(db, ttl) {\n    var olderThen = new Date().getTime() - ttl;\n    var tx = db.transaction(OBJECT_STORE_ID, \"readonly\", TRANSACTION_SETTINGS);\n    var objectStore = tx.objectStore(OBJECT_STORE_ID);\n    var ret = [];\n    return new Promise(function(res) {\n        objectStore.openCursor().onsuccess = function(ev) {\n            var cursor = ev.target.result;\n            if (cursor) {\n                var msgObk = cursor.value;\n                if (msgObk.time < olderThen) {\n                    ret.push(msgObk);\n                    //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n                    cursor[\"continue\"]();\n                } else {\n                    // no more old messages,\n                    commitIndexedDBTransaction(tx);\n                    res(ret);\n                    return;\n                }\n            } else {\n                res(ret);\n            }\n        };\n    });\n}\nfunction cleanOldMessages(db, ttl) {\n    return getOldMessages(db, ttl).then(function(tooOld) {\n        return removeMessagesById(db, tooOld.map(function(msg) {\n            return msg.id;\n        }));\n    });\n}\nfunction create(channelName, options) {\n    options = (0,_options__WEBPACK_IMPORTED_MODULE_1__.fillOptionsWithDefaults)(options);\n    return createDatabase(channelName).then(function(db) {\n        var state = {\n            closed: false,\n            lastCursorId: 0,\n            channelName: channelName,\n            options: options,\n            uuid: (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.randomToken)(),\n            /**\n       * emittedMessagesIds\n       * contains all messages that have been emitted before\n       * @type {ObliviousSet}\n       */ eMIs: new oblivious_set__WEBPACK_IMPORTED_MODULE_2__.ObliviousSet(options.idb.ttl * 2),\n            // ensures we do not read messages in parrallel\n            writeBlockPromise: _util_js__WEBPACK_IMPORTED_MODULE_0__.PROMISE_RESOLVED_VOID,\n            messagesCallback: null,\n            readQueuePromises: [],\n            db: db\n        };\n        /**\n     * Handle abrupt closes that do not originate from db.close().\n     * This could happen, for example, if the underlying storage is\n     * removed or if the user clears the database in the browser's\n     * history preferences.\n     */ db.onclose = function() {\n            state.closed = true;\n            if (options.idb.onclose) options.idb.onclose();\n        };\n        /**\n     * if service-workers are used,\n     * we have no 'storage'-event if they post a message,\n     * therefore we also have to set an interval\n     */ _readLoop(state);\n        return state;\n    });\n}\nfunction _readLoop(state) {\n    if (state.closed) return;\n    readNewMessages(state).then(function() {\n        return (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.sleep)(state.options.idb.fallbackInterval);\n    }).then(function() {\n        return _readLoop(state);\n    });\n}\nfunction _filterMessage(msgObj, state) {\n    if (msgObj.uuid === state.uuid) return false; // send by own\n    if (state.eMIs.has(msgObj.id)) return false; // already emitted\n    if (msgObj.data.time < state.messagesCallbackTime) return false; // older then onMessageCallback\n    return true;\n}\n/**\n * reads all new messages from the database and emits them\n */ function readNewMessages(state) {\n    // channel already closed\n    if (state.closed) return _util_js__WEBPACK_IMPORTED_MODULE_0__.PROMISE_RESOLVED_VOID;\n    // if no one is listening, we do not need to scan for new messages\n    if (!state.messagesCallback) return _util_js__WEBPACK_IMPORTED_MODULE_0__.PROMISE_RESOLVED_VOID;\n    return getMessagesHigherThan(state.db, state.lastCursorId).then(function(newerMessages) {\n        var useMessages = newerMessages/**\n     * there is a bug in iOS where the msgObj can be undefined some times\n     * so we filter them out\n     * @link https://github.com/pubkey/broadcast-channel/issues/19\n     */ .filter(function(msgObj) {\n            return !!msgObj;\n        }).map(function(msgObj) {\n            if (msgObj.id > state.lastCursorId) {\n                state.lastCursorId = msgObj.id;\n            }\n            return msgObj;\n        }).filter(function(msgObj) {\n            return _filterMessage(msgObj, state);\n        }).sort(function(msgObjA, msgObjB) {\n            return msgObjA.time - msgObjB.time;\n        }); // sort by time\n        useMessages.forEach(function(msgObj) {\n            if (state.messagesCallback) {\n                state.eMIs.add(msgObj.id);\n                state.messagesCallback(msgObj.data);\n            }\n        });\n        return _util_js__WEBPACK_IMPORTED_MODULE_0__.PROMISE_RESOLVED_VOID;\n    });\n}\nfunction close(channelState) {\n    channelState.closed = true;\n    channelState.db.close();\n}\nfunction postMessage(channelState, messageJson) {\n    channelState.writeBlockPromise = channelState.writeBlockPromise.then(function() {\n        return writeMessage(channelState.db, channelState.uuid, messageJson);\n    }).then(function() {\n        if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.randomInt)(0, 10) === 0) {\n            /* await (do not await) */ cleanOldMessages(channelState.db, channelState.options.idb.ttl);\n        }\n    });\n    return channelState.writeBlockPromise;\n}\nfunction onMessage(channelState, fn, time) {\n    channelState.messagesCallbackTime = time;\n    channelState.messagesCallback = fn;\n    readNewMessages(channelState);\n}\nfunction canBeUsed(options) {\n    if (!options.support3PC) return false;\n    var idb = getIdb();\n    if (!idb) return false;\n    return true;\n}\nfunction averageResponseTime(options) {\n    return options.idb.fallbackInterval * 2;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    create: create,\n    close: close,\n    onMessage: onMessage,\n    postMessage: postMessage,\n    canBeUsed: canBeUsed,\n    type: type,\n    averageResponseTime: averageResponseTime,\n    microSeconds: microSeconds\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9tZXRob2RzL2luZGV4ZWQtZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7O0NBT0MsR0FFd0c7QUFDbEcsSUFBSUcsZUFBZUMsa0RBQUtBLENBQUM7QUFDYTtBQUNRO0FBQ3JELElBQUlJLFlBQVk7QUFDaEIsSUFBSUMsa0JBQWtCO0FBRXRCOzs7Q0FHQyxHQUNNLElBQUlDLHVCQUF1QjtJQUNoQ0MsWUFBWTtBQUNkLEVBQUU7QUFDSyxJQUFJQyxPQUFPLE1BQU07QUFDakIsU0FBU0M7SUFDZCxJQUFJLE9BQU9DLGNBQWMsYUFBYSxPQUFPQTtJQUM3QyxJQUFJLEtBQWtCLEVBQWEsRUFJbEM7SUFDRCxPQUFPO0FBQ1Q7QUFFQTs7OztDQUlDLEdBQ00sU0FBU0ssMkJBQTJCQyxFQUFFO0lBQzNDLElBQUlBLEdBQUdDLE1BQU0sRUFBRTtRQUNiRCxHQUFHQyxNQUFNO0lBQ1g7QUFDRjtBQUNPLFNBQVNDLGVBQWVDLFdBQVc7SUFDeEMsSUFBSUMsWUFBWVg7SUFFaEIsZUFBZTtJQUNmLElBQUlZLFNBQVNqQixZQUFZZTtJQUV6Qjs7OztHQUlDLEdBQ0QsSUFBSUcsY0FBY0YsVUFBVUcsSUFBSSxDQUFDRjtJQUNqQ0MsWUFBWUUsZUFBZSxHQUFHLFNBQVVDLEVBQUU7UUFDeEMsSUFBSUMsS0FBS0QsR0FBR0UsTUFBTSxDQUFDQyxNQUFNO1FBQ3pCRixHQUFHRyxpQkFBaUIsQ0FBQ3hCLGlCQUFpQjtZQUNwQ3lCLFNBQVM7WUFDVEMsZUFBZTtRQUNqQjtJQUNGO0lBQ0EsSUFBSUMsWUFBWSxJQUFJQyxRQUFRLFNBQVVDLEdBQUcsRUFBRUMsR0FBRztRQUM1Q2IsWUFBWWMsT0FBTyxHQUFHLFNBQVVYLEVBQUU7WUFDaEMsT0FBT1UsSUFBSVY7UUFDYjtRQUNBSCxZQUFZZSxTQUFTLEdBQUc7WUFDdEJILElBQUla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cENrRSxhQUFhbEIsZ0JBQWdCLEdBQUdxQjtJQUNoQ2pCLGdCQUFnQmM7QUFDbEI7QUFDTyxTQUFTSSxVQUFVNUIsT0FBTztJQUMvQixJQUFJLENBQUNBLFFBQVE2QixVQUFVLEVBQUUsT0FBTztJQUNoQyxJQUFJekIsTUFBTTlFO0lBQ1YsSUFBSSxDQUFDOEUsS0FBSyxPQUFPO0lBQ2pCLE9BQU87QUFDVDtBQUNPLFNBQVMwQixvQkFBb0I5QixPQUFPO0lBQ3pDLE9BQU9BLFFBQVFJLEdBQUcsQ0FBQ08sZ0JBQWdCLEdBQUc7QUFDeEM7QUFDQSxpRUFBZTtJQUNiWixRQUFRQTtJQUNSd0IsT0FBT0E7SUFDUEcsV0FBV0E7SUFDWEQsYUFBYUE7SUFDYkcsV0FBV0E7SUFDWHZHLE1BQU1BO0lBQ055RyxxQkFBcUJBO0lBQ3JCbEgsY0FBY0E7QUFDaEIsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jyb2FkY2FzdC1jaGFubmVsL2Rpc3QvZXNub2RlL21ldGhvZHMvaW5kZXhlZC1kYi5qcz9kZjNkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogdGhpcyBtZXRob2QgdXNlcyBpbmRleGVkZGIgdG8gc3RvcmUgdGhlIG1lc3NhZ2VzXG4gKiBUaGVyZSBpcyBjdXJyZW50bHkgbm8gb2JzZXJ2ZXJBUEkgZm9yIGlkYlxuICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3czYy9JbmRleGVkREIvaXNzdWVzLzUxXG4gKlxuICogV2hlbiB3b3JraW5nIG9uIHRoaXMsIGVuc3VyZSB0byB1c2UgdGhlc2UgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uczpcbiAqIEBsaW5rIGh0dHBzOi8vcnhkYi5pbmZvL3Nsb3ctaW5kZXhlZGRiLmh0bWxcbiAqL1xuXG5pbXBvcnQgeyBzbGVlcCwgcmFuZG9tSW50LCByYW5kb21Ub2tlbiwgbWljcm9TZWNvbmRzIGFzIG1pY3JvLCBQUk9NSVNFX1JFU09MVkVEX1ZPSUQgfSBmcm9tICcuLi91dGlsLmpzJztcbmV4cG9ydCB2YXIgbWljcm9TZWNvbmRzID0gbWljcm87XG5pbXBvcnQgeyBPYmxpdmlvdXNTZXQgfSBmcm9tICdvYmxpdmlvdXMtc2V0JztcbmltcG9ydCB7IGZpbGxPcHRpb25zV2l0aERlZmF1bHRzIH0gZnJvbSAnLi4vb3B0aW9ucyc7XG52YXIgREJfUFJFRklYID0gJ3B1YmtleS5icm9hZGNhc3QtY2hhbm5lbC0wLSc7XG52YXIgT0JKRUNUX1NUT1JFX0lEID0gJ21lc3NhZ2VzJztcblxuLyoqXG4gKiBVc2UgcmVsYXhlZCBkdXJhYmlsaXR5IGZvciBmYXN0ZXIgcGVyZm9ybWFuY2Ugb24gYWxsIHRyYW5zYWN0aW9ucy5cbiAqIEBsaW5rIGh0dHBzOi8vbm9sYW5sYXdzb24uY29tLzIwMjEvMDgvMjIvc3BlZWRpbmctdXAtaW5kZXhlZGRiLXJlYWRzLWFuZC13cml0ZXMvXG4gKi9cbmV4cG9ydCB2YXIgVFJBTlNBQ1RJT05fU0VUVElOR1MgPSB7XG4gIGR1cmFiaWxpdHk6ICdyZWxheGVkJ1xufTtcbmV4cG9ydCB2YXIgdHlwZSA9ICdpZGInO1xuZXhwb3J0IGZ1bmN0aW9uIGdldElkYigpIHtcbiAgaWYgKHR5cGVvZiBpbmRleGVkREIgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gaW5kZXhlZERCO1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5tb3pJbmRleGVkREIgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gd2luZG93Lm1vekluZGV4ZWREQjtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy53ZWJraXRJbmRleGVkREIgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gd2luZG93LndlYmtpdEluZGV4ZWREQjtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5tc0luZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiB3aW5kb3cubXNJbmRleGVkREI7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIElmIHBvc3NpYmxlLCB3ZSBzaG91bGQgZXhwbGljaXRseSBjb21taXQgSW5kZXhlZERCIHRyYW5zYWN0aW9uc1xuICogZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAqIEBsaW5rIGh0dHBzOi8vbm9sYW5sYXdzb24uY29tLzIwMjEvMDgvMjIvc3BlZWRpbmctdXAtaW5kZXhlZGRiLXJlYWRzLWFuZC13cml0ZXMvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21taXRJbmRleGVkREJUcmFuc2FjdGlvbih0eCkge1xuICBpZiAodHguY29tbWl0KSB7XG4gICAgdHguY29tbWl0KCk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEYXRhYmFzZShjaGFubmVsTmFtZSkge1xuICB2YXIgSW5kZXhlZERCID0gZ2V0SWRiKCk7XG5cbiAgLy8gY3JlYXRlIHRhYmxlXG4gIHZhciBkYk5hbWUgPSBEQl9QUkVGSVggKyBjaGFubmVsTmFtZTtcblxuICAvKipcbiAgICogQWxsIEluZGV4ZWREQiBkYXRhYmFzZXMgYXJlIG9wZW5lZCB3aXRob3V0IHZlcnNpb25cbiAgICogYmVjYXVzZSBpdCBpcyBhIGJpdCBmYXN0ZXIsIGVzcGVjaWFsbHkgb24gZmlyZWZveFxuICAgKiBAbGluayBodHRwOi8vbnBhcmFzaHVyYW0uY29tL0luZGV4ZWREQi9wZXJmLyNPcGVuJTIwRGF0YWJhc2UlMjB3aXRoJTIwdmVyc2lvblxuICAgKi9cbiAgdmFyIG9wZW5SZXF1ZXN0ID0gSW5kZXhlZERCLm9wZW4oZGJOYW1lKTtcbiAgb3BlblJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgdmFyIGRiID0gZXYudGFyZ2V0LnJlc3VsdDtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShPQkpFQ1RfU1RPUkVfSUQsIHtcbiAgICAgIGtleVBhdGg6ICdpZCcsXG4gICAgICBhdXRvSW5jcmVtZW50OiB0cnVlXG4gICAgfSk7XG4gIH07XG4gIHZhciBkYlByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICBvcGVuUmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICByZXR1cm4gcmVqKGV2KTtcbiAgICB9O1xuICAgIG9wZW5SZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlcyhvcGVuUmVxdWVzdC5yZXN1bHQpO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4gZGJQcm9taXNlO1xufVxuXG4vKipcbiAqIHdyaXRlcyB0aGUgbmV3IG1lc3NhZ2UgdG8gdGhlIGRhdGFiYXNlXG4gKiBzbyBvdGhlciByZWFkZXJzIGNhbiBmaW5kIGl0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZU1lc3NhZ2UoZGIsIHJlYWRlclV1aWQsIG1lc3NhZ2VKc29uKSB7XG4gIHZhciB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIHZhciB3cml0ZU9iamVjdCA9IHtcbiAgICB1dWlkOiByZWFkZXJVdWlkLFxuICAgIHRpbWU6IHRpbWUsXG4gICAgZGF0YTogbWVzc2FnZUpzb25cbiAgfTtcbiAgdmFyIHR4ID0gZGIudHJhbnNhY3Rpb24oW09CSkVDVF9TVE9SRV9JRF0sICdyZWFkd3JpdGUnLCBUUkFOU0FDVElPTl9TRVRUSU5HUyk7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICB0eC5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlcygpO1xuICAgIH07XG4gICAgdHgub25lcnJvciA9IGZ1bmN0aW9uIChldikge1xuICAgICAgcmV0dXJuIHJlaihldik7XG4gICAgfTtcbiAgICB2YXIgb2JqZWN0U3RvcmUgPSB0eC5vYmplY3RTdG9yZShPQkpFQ1RfU1RPUkVfSUQpO1xuICAgIG9iamVjdFN0b3JlLmFkZCh3cml0ZU9iamVjdCk7XG4gICAgY29tbWl0SW5kZXhlZERCVHJhbnNhY3Rpb24odHgpO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxNZXNzYWdlcyhkYikge1xuICB2YXIgdHggPSBkYi50cmFuc2FjdGlvbihPQkpFQ1RfU1RPUkVfSUQsICdyZWFkb25seScsIFRSQU5TQUNUSU9OX1NFVFRJTkdTKTtcbiAgdmFyIG9iamVjdFN0b3JlID0gdHgub2JqZWN0U3RvcmUoT0JKRUNUX1NUT1JFX0lEKTtcbiAgdmFyIHJldCA9IFtdO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcykge1xuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBldi50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICByZXQucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgICAvL2FsZXJ0KFwiTmFtZSBmb3IgU1NOIFwiICsgY3Vyc29yLmtleSArIFwiIGlzIFwiICsgY3Vyc29yLnZhbHVlLm5hbWUpO1xuICAgICAgICBjdXJzb3JbXCJjb250aW51ZVwiXSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tbWl0SW5kZXhlZERCVHJhbnNhY3Rpb24odHgpO1xuICAgICAgICByZXMocmV0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXNzYWdlc0hpZ2hlclRoYW4oZGIsIGxhc3RDdXJzb3JJZCkge1xuICB2YXIgdHggPSBkYi50cmFuc2FjdGlvbihPQkpFQ1RfU1RPUkVfSUQsICdyZWFkb25seScsIFRSQU5TQUNUSU9OX1NFVFRJTkdTKTtcbiAgdmFyIG9iamVjdFN0b3JlID0gdHgub2JqZWN0U3RvcmUoT0JKRUNUX1NUT1JFX0lEKTtcbiAgdmFyIHJldCA9IFtdO1xuICB2YXIga2V5UmFuZ2VWYWx1ZSA9IElEQktleVJhbmdlLmJvdW5kKGxhc3RDdXJzb3JJZCArIDEsIEluZmluaXR5KTtcblxuICAvKipcbiAgICogT3B0aW1pemF0aW9uIHNob3J0Y3V0LFxuICAgKiBpZiBnZXRBbGwoKSBjYW4gYmUgdXNlZCwgZG8gbm90IHVzZSBhIGN1cnNvci5cbiAgICogQGxpbmsgaHR0cHM6Ly9yeGRiLmluZm8vc2xvdy1pbmRleGVkZGIuaHRtbFxuICAgKi9cbiAgaWYgKG9iamVjdFN0b3JlLmdldEFsbCkge1xuICAgIHZhciBnZXRBbGxSZXF1ZXN0ID0gb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlVmFsdWUpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICAgIGdldEFsbFJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlaihlcnIpO1xuICAgICAgfTtcbiAgICAgIGdldEFsbFJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmVzKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIG9wZW5DdXJzb3IoKSB7XG4gICAgLy8gT2NjYXNpb25hbGx5IFNhZmFyaSB3aWxsIGZhaWwgb24gSURCS2V5UmFuZ2UuYm91bmQsIHRoaXNcbiAgICAvLyBjYXRjaGVzIHRoYXQgZXJyb3IsIGhhdmluZyBpdCBvcGVuIHRoZSBjdXJzb3IgdG8gdGhlIGZpcnN0XG4gICAgLy8gaXRlbS4gV2hlbiBpdCBnZXRzIGRhdGEgaXQgd2lsbCBhZHZhbmNlIHRvIHRoZSBkZXNpcmVkIGtleS5cbiAgICB0cnkge1xuICAgICAga2V5UmFuZ2VWYWx1ZSA9IElEQktleVJhbmdlLmJvdW5kKGxhc3RDdXJzb3JJZCArIDEsIEluZmluaXR5KTtcbiAgICAgIHJldHVybiBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlVmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICB2YXIgb3BlbkN1cnNvclJlcXVlc3QgPSBvcGVuQ3Vyc29yKCk7XG4gICAgb3BlbkN1cnNvclJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJldHVybiByZWooZXJyKTtcbiAgICB9O1xuICAgIG9wZW5DdXJzb3JSZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldikge1xuICAgICAgdmFyIGN1cnNvciA9IGV2LnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgIGlmIChjdXJzb3IudmFsdWUuaWQgPCBsYXN0Q3Vyc29ySWQgKyAxKSB7XG4gICAgICAgICAgY3Vyc29yW1wiY29udGludWVcIl0obGFzdEN1cnNvcklkICsgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0LnB1c2goY3Vyc29yLnZhbHVlKTtcbiAgICAgICAgICBjdXJzb3JbXCJjb250aW51ZVwiXSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21taXRJbmRleGVkREJUcmFuc2FjdGlvbih0eCk7XG4gICAgICAgIHJlcyhyZXQpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU1lc3NhZ2VzQnlJZChkYiwgaWRzKSB7XG4gIHZhciB0eCA9IGRiLnRyYW5zYWN0aW9uKFtPQkpFQ1RfU1RPUkVfSURdLCAncmVhZHdyaXRlJywgVFJBTlNBQ1RJT05fU0VUVElOR1MpO1xuICB2YXIgb2JqZWN0U3RvcmUgPSB0eC5vYmplY3RTdG9yZShPQkpFQ1RfU1RPUkVfSUQpO1xuICByZXR1cm4gUHJvbWlzZS5hbGwoaWRzLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICB2YXIgZGVsZXRlUmVxdWVzdCA9IG9iamVjdFN0b3JlW1wiZGVsZXRlXCJdKGlkKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcykge1xuICAgICAgZGVsZXRlUmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXMoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH0pKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRPbGRNZXNzYWdlcyhkYiwgdHRsKSB7XG4gIHZhciBvbGRlclRoZW4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHR0bDtcbiAgdmFyIHR4ID0gZGIudHJhbnNhY3Rpb24oT0JKRUNUX1NUT1JFX0lELCAncmVhZG9ubHknLCBUUkFOU0FDVElPTl9TRVRUSU5HUyk7XG4gIHZhciBvYmplY3RTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKE9CSkVDVF9TVE9SRV9JRCk7XG4gIHZhciByZXQgPSBbXTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMpIHtcbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXYudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1zZ09iayA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgaWYgKG1zZ09iay50aW1lIDwgb2xkZXJUaGVuKSB7XG4gICAgICAgICAgcmV0LnB1c2gobXNnT2JrKTtcbiAgICAgICAgICAvL2FsZXJ0KFwiTmFtZSBmb3IgU1NOIFwiICsgY3Vyc29yLmtleSArIFwiIGlzIFwiICsgY3Vyc29yLnZhbHVlLm5hbWUpO1xuICAgICAgICAgIGN1cnNvcltcImNvbnRpbnVlXCJdKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm8gbW9yZSBvbGQgbWVzc2FnZXMsXG4gICAgICAgICAgY29tbWl0SW5kZXhlZERCVHJhbnNhY3Rpb24odHgpO1xuICAgICAgICAgIHJlcyhyZXQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzKHJldCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYW5PbGRNZXNzYWdlcyhkYiwgdHRsKSB7XG4gIHJldHVybiBnZXRPbGRNZXNzYWdlcyhkYiwgdHRsKS50aGVuKGZ1bmN0aW9uICh0b29PbGQpIHtcbiAgICByZXR1cm4gcmVtb3ZlTWVzc2FnZXNCeUlkKGRiLCB0b29PbGQubWFwKGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgIHJldHVybiBtc2cuaWQ7XG4gICAgfSkpO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoY2hhbm5lbE5hbWUsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGZpbGxPcHRpb25zV2l0aERlZmF1bHRzKG9wdGlvbnMpO1xuICByZXR1cm4gY3JlYXRlRGF0YWJhc2UoY2hhbm5lbE5hbWUpLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgY2xvc2VkOiBmYWxzZSxcbiAgICAgIGxhc3RDdXJzb3JJZDogMCxcbiAgICAgIGNoYW5uZWxOYW1lOiBjaGFubmVsTmFtZSxcbiAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICB1dWlkOiByYW5kb21Ub2tlbigpLFxuICAgICAgLyoqXG4gICAgICAgKiBlbWl0dGVkTWVzc2FnZXNJZHNcbiAgICAgICAqIGNvbnRhaW5zIGFsbCBtZXNzYWdlcyB0aGF0IGhhdmUgYmVlbiBlbWl0dGVkIGJlZm9yZVxuICAgICAgICogQHR5cGUge09ibGl2aW91c1NldH1cbiAgICAgICAqL1xuICAgICAgZU1JczogbmV3IE9ibGl2aW91c1NldChvcHRpb25zLmlkYi50dGwgKiAyKSxcbiAgICAgIC8vIGVuc3VyZXMgd2UgZG8gbm90IHJlYWQgbWVzc2FnZXMgaW4gcGFycmFsbGVsXG4gICAgICB3cml0ZUJsb2NrUHJvbWlzZTogUFJPTUlTRV9SRVNPTFZFRF9WT0lELFxuICAgICAgbWVzc2FnZXNDYWxsYmFjazogbnVsbCxcbiAgICAgIHJlYWRRdWV1ZVByb21pc2VzOiBbXSxcbiAgICAgIGRiOiBkYlxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYWJydXB0IGNsb3NlcyB0aGF0IGRvIG5vdCBvcmlnaW5hdGUgZnJvbSBkYi5jbG9zZSgpLlxuICAgICAqIFRoaXMgY291bGQgaGFwcGVuLCBmb3IgZXhhbXBsZSwgaWYgdGhlIHVuZGVybHlpbmcgc3RvcmFnZSBpc1xuICAgICAqIHJlbW92ZWQgb3IgaWYgdGhlIHVzZXIgY2xlYXJzIHRoZSBkYXRhYmFzZSBpbiB0aGUgYnJvd3NlcidzXG4gICAgICogaGlzdG9yeSBwcmVmZXJlbmNlcy5cbiAgICAgKi9cbiAgICBkYi5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgc3RhdGUuY2xvc2VkID0gdHJ1ZTtcbiAgICAgIGlmIChvcHRpb25zLmlkYi5vbmNsb3NlKSBvcHRpb25zLmlkYi5vbmNsb3NlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGlmIHNlcnZpY2Utd29ya2VycyBhcmUgdXNlZCxcbiAgICAgKiB3ZSBoYXZlIG5vICdzdG9yYWdlJy1ldmVudCBpZiB0aGV5IHBvc3QgYSBtZXNzYWdlLFxuICAgICAqIHRoZXJlZm9yZSB3ZSBhbHNvIGhhdmUgdG8gc2V0IGFuIGludGVydmFsXG4gICAgICovXG4gICAgX3JlYWRMb29wKHN0YXRlKTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH0pO1xufVxuZnVuY3Rpb24gX3JlYWRMb29wKHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5jbG9zZWQpIHJldHVybjtcbiAgcmVhZE5ld01lc3NhZ2VzKHN0YXRlKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2xlZXAoc3RhdGUub3B0aW9ucy5pZGIuZmFsbGJhY2tJbnRlcnZhbCk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfcmVhZExvb3Aoc3RhdGUpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIF9maWx0ZXJNZXNzYWdlKG1zZ09iaiwgc3RhdGUpIHtcbiAgaWYgKG1zZ09iai51dWlkID09PSBzdGF0ZS51dWlkKSByZXR1cm4gZmFsc2U7IC8vIHNlbmQgYnkgb3duXG4gIGlmIChzdGF0ZS5lTUlzLmhhcyhtc2dPYmouaWQpKSByZXR1cm4gZmFsc2U7IC8vIGFscmVhZHkgZW1pdHRlZFxuICBpZiAobXNnT2JqLmRhdGEudGltZSA8IHN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2tUaW1lKSByZXR1cm4gZmFsc2U7IC8vIG9sZGVyIHRoZW4gb25NZXNzYWdlQ2FsbGJhY2tcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogcmVhZHMgYWxsIG5ldyBtZXNzYWdlcyBmcm9tIHRoZSBkYXRhYmFzZSBhbmQgZW1pdHMgdGhlbVxuICovXG5mdW5jdGlvbiByZWFkTmV3TWVzc2FnZXMoc3RhdGUpIHtcbiAgLy8gY2hhbm5lbCBhbHJlYWR5IGNsb3NlZFxuICBpZiAoc3RhdGUuY2xvc2VkKSByZXR1cm4gUFJPTUlTRV9SRVNPTFZFRF9WT0lEO1xuXG4gIC8vIGlmIG5vIG9uZSBpcyBsaXN0ZW5pbmcsIHdlIGRvIG5vdCBuZWVkIHRvIHNjYW4gZm9yIG5ldyBtZXNzYWdlc1xuICBpZiAoIXN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2spIHJldHVybiBQUk9NSVNFX1JFU09MVkVEX1ZPSUQ7XG4gIHJldHVybiBnZXRNZXNzYWdlc0hpZ2hlclRoYW4oc3RhdGUuZGIsIHN0YXRlLmxhc3RDdXJzb3JJZCkudGhlbihmdW5jdGlvbiAobmV3ZXJNZXNzYWdlcykge1xuICAgIHZhciB1c2VNZXNzYWdlcyA9IG5ld2VyTWVzc2FnZXNcbiAgICAvKipcbiAgICAgKiB0aGVyZSBpcyBhIGJ1ZyBpbiBpT1Mgd2hlcmUgdGhlIG1zZ09iaiBjYW4gYmUgdW5kZWZpbmVkIHNvbWUgdGltZXNcbiAgICAgKiBzbyB3ZSBmaWx0ZXIgdGhlbSBvdXRcbiAgICAgKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcHVia2V5L2Jyb2FkY2FzdC1jaGFubmVsL2lzc3Vlcy8xOVxuICAgICAqLy5maWx0ZXIoZnVuY3Rpb24gKG1zZ09iaikge1xuICAgICAgcmV0dXJuICEhbXNnT2JqO1xuICAgIH0pLm1hcChmdW5jdGlvbiAobXNnT2JqKSB7XG4gICAgICBpZiAobXNnT2JqLmlkID4gc3RhdGUubGFzdEN1cnNvcklkKSB7XG4gICAgICAgIHN0YXRlLmxhc3RDdXJzb3JJZCA9IG1zZ09iai5pZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtc2dPYmo7XG4gICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChtc2dPYmopIHtcbiAgICAgIHJldHVybiBfZmlsdGVyTWVzc2FnZShtc2dPYmosIHN0YXRlKTtcbiAgICB9KS5zb3J0KGZ1bmN0aW9uIChtc2dPYmpBLCBtc2dPYmpCKSB7XG4gICAgICByZXR1cm4gbXNnT2JqQS50aW1lIC0gbXNnT2JqQi50aW1lO1xuICAgIH0pOyAvLyBzb3J0IGJ5IHRpbWVcbiAgICB1c2VNZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChtc2dPYmopIHtcbiAgICAgIGlmIChzdGF0ZS5tZXNzYWdlc0NhbGxiYWNrKSB7XG4gICAgICAgIHN0YXRlLmVNSXMuYWRkKG1zZ09iai5pZCk7XG4gICAgICAgIHN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2sobXNnT2JqLmRhdGEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBQUk9NSVNFX1JFU09MVkVEX1ZPSUQ7XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlKGNoYW5uZWxTdGF0ZSkge1xuICBjaGFubmVsU3RhdGUuY2xvc2VkID0gdHJ1ZTtcbiAgY2hhbm5lbFN0YXRlLmRiLmNsb3NlKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcG9zdE1lc3NhZ2UoY2hhbm5lbFN0YXRlLCBtZXNzYWdlSnNvbikge1xuICBjaGFubmVsU3RhdGUud3JpdGVCbG9ja1Byb21pc2UgPSBjaGFubmVsU3RhdGUud3JpdGVCbG9ja1Byb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHdyaXRlTWVzc2FnZShjaGFubmVsU3RhdGUuZGIsIGNoYW5uZWxTdGF0ZS51dWlkLCBtZXNzYWdlSnNvbik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGlmIChyYW5kb21JbnQoMCwgMTApID09PSAwKSB7XG4gICAgICAvKiBhd2FpdCAoZG8gbm90IGF3YWl0KSAqL1xuICAgICAgY2xlYW5PbGRNZXNzYWdlcyhjaGFubmVsU3RhdGUuZGIsIGNoYW5uZWxTdGF0ZS5vcHRpb25zLmlkYi50dGwpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjaGFubmVsU3RhdGUud3JpdGVCbG9ja1Byb21pc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gb25NZXNzYWdlKGNoYW5uZWxTdGF0ZSwgZm4sIHRpbWUpIHtcbiAgY2hhbm5lbFN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2tUaW1lID0gdGltZTtcbiAgY2hhbm5lbFN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2sgPSBmbjtcbiAgcmVhZE5ld01lc3NhZ2VzKGNoYW5uZWxTdGF0ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FuQmVVc2VkKG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zLnN1cHBvcnQzUEMpIHJldHVybiBmYWxzZTtcbiAgdmFyIGlkYiA9IGdldElkYigpO1xuICBpZiAoIWlkYikgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhdmVyYWdlUmVzcG9uc2VUaW1lKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG9wdGlvbnMuaWRiLmZhbGxiYWNrSW50ZXJ2YWwgKiAyO1xufVxuZXhwb3J0IGRlZmF1bHQge1xuICBjcmVhdGU6IGNyZWF0ZSxcbiAgY2xvc2U6IGNsb3NlLFxuICBvbk1lc3NhZ2U6IG9uTWVzc2FnZSxcbiAgcG9zdE1lc3NhZ2U6IHBvc3RNZXNzYWdlLFxuICBjYW5CZVVzZWQ6IGNhbkJlVXNlZCxcbiAgdHlwZTogdHlwZSxcbiAgYXZlcmFnZVJlc3BvbnNlVGltZTogYXZlcmFnZVJlc3BvbnNlVGltZSxcbiAgbWljcm9TZWNvbmRzOiBtaWNyb1NlY29uZHNcbn07Il0sIm5hbWVzIjpbInNsZWVwIiwicmFuZG9tSW50IiwicmFuZG9tVG9rZW4iLCJtaWNyb1NlY29uZHMiLCJtaWNybyIsIlBST01JU0VfUkVTT0xWRURfVk9JRCIsIk9ibGl2aW91c1NldCIsImZpbGxPcHRpb25zV2l0aERlZmF1bHRzIiwiREJfUFJFRklYIiwiT0JKRUNUX1NUT1JFX0lEIiwiVFJBTlNBQ1RJT05fU0VUVElOR1MiLCJkdXJhYmlsaXR5IiwidHlwZSIsImdldElkYiIsImluZGV4ZWREQiIsIndpbmRvdyIsIm1vekluZGV4ZWREQiIsIndlYmtpdEluZGV4ZWREQiIsIm1zSW5kZXhlZERCIiwiY29tbWl0SW5kZXhlZERCVHJhbnNhY3Rpb24iLCJ0eCIsImNvbW1pdCIsImNyZWF0ZURhdGFiYXNlIiwiY2hhbm5lbE5hbWUiLCJJbmRleGVkREIiLCJkYk5hbWUiLCJvcGVuUmVxdWVzdCIsIm9wZW4iLCJvbnVwZ3JhZGVuZWVkZWQiLCJldiIsImRiIiwidGFyZ2V0IiwicmVzdWx0IiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiYXV0b0luY3JlbWVudCIsImRiUHJvbWlzZSIsIlByb21pc2UiLCJyZXMiLCJyZWoiLCJvbmVycm9yIiwib25zdWNjZXNzIiwid3JpdGVNZXNzYWdlIiwicmVhZGVyVXVpZCIsIm1lc3NhZ2VKc29uIiwidGltZSIsIkRhdGUiLCJnZXRUaW1lIiwid3JpdGVPYmplY3QiLCJ1dWlkIiwiZGF0YSIsInRyYW5zYWN0aW9uIiwib25jb21wbGV0ZSIsIm9iamVjdFN0b3JlIiwiYWRkIiwiZ2V0QWxsTWVzc2FnZXMiLCJyZXQiLCJvcGVuQ3Vyc29yIiwiY3Vyc29yIiwicHVzaCIsInZhbHVlIiwiZ2V0TWVzc2FnZXNIaWdoZXJUaGFuIiwibGFzdEN1cnNvcklkIiwia2V5UmFuZ2VWYWx1ZSIsIklEQktleVJhbmdlIiwiYm91bmQiLCJJbmZpbml0eSIsImdldEFsbCIsImdldEFsbFJlcXVlc3QiLCJlcnIiLCJlIiwib3BlbkN1cnNvclJlcXVlc3QiLCJpZCIsInJlbW92ZU1lc3NhZ2VzQnlJZCIsImlkcyIsImFsbCIsIm1hcCIsImRlbGV0ZVJlcXVlc3QiLCJnZXRPbGRNZXNzYWdlcyIsInR0bCIsIm9sZGVyVGhlbiIsIm1zZ09iayIsImNsZWFuT2xkTWVzc2FnZXMiLCJ0aGVuIiwidG9vT2xkIiwibXNnIiwiY3JlYXRlIiwib3B0aW9ucyIsInN0YXRlIiwiY2xvc2VkIiwiZU1JcyIsImlkYiIsIndyaXRlQmxvY2tQcm9taXNlIiwibWVzc2FnZXNDYWxsYmFjayIsInJlYWRRdWV1ZVByb21pc2VzIiwib25jbG9zZSIsIl9yZWFkTG9vcCIsInJlYWROZXdNZXNzYWdlcyIsImZhbGxiYWNrSW50ZXJ2YWwiLCJfZmlsdGVyTWVzc2FnZSIsIm1zZ09iaiIsImhhcyIsIm1lc3NhZ2VzQ2FsbGJhY2tUaW1lIiwibmV3ZXJNZXNzYWdlcyIsInVzZU1lc3NhZ2VzIiwiZmlsdGVyIiwic29ydCIsIm1zZ09iakEiLCJtc2dPYmpCIiwiZm9yRWFjaCIsImNsb3NlIiwiY2hhbm5lbFN0YXRlIiwicG9zdE1lc3NhZ2UiLCJvbk1lc3NhZ2UiLCJmbiIsImNhbkJlVXNlZCIsInN1cHBvcnQzUEMiLCJhdmVyYWdlUmVzcG9uc2VUaW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/indexed-db.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/localstorage.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/localstorage.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addStorageEventListener: () => (/* binding */ addStorageEventListener),\n/* harmony export */   averageResponseTime: () => (/* binding */ averageResponseTime),\n/* harmony export */   canBeUsed: () => (/* binding */ canBeUsed),\n/* harmony export */   close: () => (/* binding */ close),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getLocalStorage: () => (/* binding */ getLocalStorage),\n/* harmony export */   microSeconds: () => (/* binding */ microSeconds),\n/* harmony export */   onMessage: () => (/* binding */ onMessage),\n/* harmony export */   postMessage: () => (/* binding */ postMessage),\n/* harmony export */   removeStorageEventListener: () => (/* binding */ removeStorageEventListener),\n/* harmony export */   storageKey: () => (/* binding */ storageKey),\n/* harmony export */   type: () => (/* binding */ type)\n/* harmony export */ });\n/* harmony import */ var oblivious_set__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! oblivious-set */ \"(ssr)/./node_modules/oblivious-set/dist/es/index.js\");\n/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../options */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/options.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/util.js\");\n/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside of webworkers because they have no access to locastorage\n * This is basically implemented to support IE9 or your grandmothers toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */ \n\n\nvar microSeconds = _util__WEBPACK_IMPORTED_MODULE_0__.microSeconds;\nvar KEY_PREFIX = \"pubkey.broadcastChannel-\";\nvar type = \"localstorage\";\n/**\n * copied from crosstab\n * @link https://github.com/tejacques/crosstab/blob/master/src/crosstab.js#L32\n */ function getLocalStorage() {\n    var localStorage;\n    if (true) return null;\n    try {\n        localStorage = window.localStorage;\n        localStorage = window[\"ie8-eventlistener/storage\"] || window.localStorage;\n    } catch (e) {\n    // New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n    }\n    return localStorage;\n}\nfunction storageKey(channelName) {\n    return KEY_PREFIX + channelName;\n}\n/**\n * writes the new message to the storage\n * and fires the storage-event so other readers can find it\n */ function postMessage(channelState, messageJson) {\n    return new Promise(function(res) {\n        (0,_util__WEBPACK_IMPORTED_MODULE_0__.sleep)().then(function() {\n            var key = storageKey(channelState.channelName);\n            var writeObj = {\n                token: (0,_util__WEBPACK_IMPORTED_MODULE_0__.randomToken)(),\n                time: new Date().getTime(),\n                data: messageJson,\n                uuid: channelState.uuid\n            };\n            var value = JSON.stringify(writeObj);\n            getLocalStorage().setItem(key, value);\n            /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */ var ev = document.createEvent(\"Event\");\n            ev.initEvent(\"storage\", true, true);\n            ev.key = key;\n            ev.newValue = value;\n            window.dispatchEvent(ev);\n            res();\n        });\n    });\n}\nfunction addStorageEventListener(channelName, fn) {\n    var key = storageKey(channelName);\n    var listener = function listener(ev) {\n        if (ev.key === key) {\n            fn(JSON.parse(ev.newValue));\n        }\n    };\n    window.addEventListener(\"storage\", listener);\n    return listener;\n}\nfunction removeStorageEventListener(listener) {\n    window.removeEventListener(\"storage\", listener);\n}\nfunction create(channelName, options) {\n    options = (0,_options__WEBPACK_IMPORTED_MODULE_1__.fillOptionsWithDefaults)(options);\n    if (!canBeUsed(options)) {\n        throw new Error(\"BroadcastChannel: localstorage cannot be used\");\n    }\n    var uuid = (0,_util__WEBPACK_IMPORTED_MODULE_0__.randomToken)();\n    /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */ var eMIs = new oblivious_set__WEBPACK_IMPORTED_MODULE_2__.ObliviousSet(options.localstorage.removeTimeout);\n    var state = {\n        channelName: channelName,\n        uuid: uuid,\n        eMIs: eMIs // emittedMessagesIds\n    };\n    state.listener = addStorageEventListener(channelName, function(msgObj) {\n        if (!state.messagesCallback) return; // no listener\n        if (msgObj.uuid === uuid) return; // own message\n        if (!msgObj.token || eMIs.has(msgObj.token)) return; // already emitted\n        if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n        eMIs.add(msgObj.token);\n        state.messagesCallback(msgObj.data);\n    });\n    return state;\n}\nfunction close(channelState) {\n    removeStorageEventListener(channelState.listener);\n}\nfunction onMessage(channelState, fn, time) {\n    channelState.messagesCallbackTime = time;\n    channelState.messagesCallback = fn;\n}\nfunction canBeUsed(options) {\n    if (!options.support3PC) return false;\n    var ls = getLocalStorage();\n    if (!ls) return false;\n    try {\n        var key = \"__broadcastchannel_check\";\n        ls.setItem(key, \"works\");\n        ls.removeItem(key);\n    } catch (e) {\n        // Safari 10 in private mode will not allow write access to local\n        // storage and fail with a QuotaExceededError. See\n        // https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Private_Browsing_Incognito_modes\n        return false;\n    }\n    return true;\n}\nfunction averageResponseTime() {\n    var defaultTime = 120;\n    var userAgent = navigator.userAgent.toLowerCase();\n    if (userAgent.includes(\"safari\") && !userAgent.includes(\"chrome\")) {\n        // safari is much slower so this time is higher\n        return defaultTime * 2;\n    }\n    return defaultTime;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    create: create,\n    close: close,\n    onMessage: onMessage,\n    postMessage: postMessage,\n    canBeUsed: canBeUsed,\n    type: type,\n    averageResponseTime: averageResponseTime,\n    microSeconds: microSeconds\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9tZXRob2RzL2xvY2Fsc3RvcmFnZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztDQU1DLEdBRTRDO0FBQ1E7QUFDZTtBQUM3RCxJQUFJSSxlQUFlQywrQ0FBS0EsQ0FBQztBQUNoQyxJQUFJQyxhQUFhO0FBQ1YsSUFBSUMsT0FBTyxlQUFlO0FBRWpDOzs7Q0FHQyxHQUNNLFNBQVNDO0lBQ2QsSUFBSUM7SUFDSixJQUFJLElBQWtCLEVBQWEsT0FBTztJQUMxQyxJQUFJO1FBQ0ZBLGVBQWVDLE9BQU9ELFlBQVk7UUFDbENBLGVBQWVDLE1BQU0sQ0FBQyw0QkFBNEIsSUFBSUEsT0FBT0QsWUFBWTtJQUMzRSxFQUFFLE9BQU9FLEdBQUc7SUFDVixxREFBcUQ7SUFDckQsK0JBQStCO0lBQy9CLHVEQUF1RDtJQUN6RDtJQUNBLE9BQU9GO0FBQ1Q7QUFDTyxTQUFTRyxXQUFXQyxXQUFXO0lBQ3BDLE9BQU9QLGFBQWFPO0FBQ3RCO0FBRUE7OztDQUdDLEdBQ00sU0FBU0MsWUFBWUMsWUFBWSxFQUFFQyxXQUFXO0lBQ25ELE9BQU8sSUFBSUMsUUFBUSxTQUFVQyxHQUFHO1FBQzlCaEIsNENBQUtBLEdBQUdpQixJQUFJLENBQUM7WUFDWCxJQUFJQyxNQUFNUixXQUFXRyxhQUFhRixXQUFXO1lBQzdDLElBQUlRLFdBQVc7Z0JBQ2JDLE9BQU9uQixrREFBV0E7Z0JBQ2xCb0IsTUFBTSxJQUFJQyxPQUFPQyxPQUFPO2dCQUN4QkMsTUFBTVY7Z0JBQ05XLE1BQU1aLGFBQWFZLElBQUk7WUFDekI7WUFDQSxJQUFJQyxRQUFRQyxLQUFLQyxTQUFTLENBQUNUO1lBQzNCYixrQkFBa0J1QixPQUFPLENBQUNYLEtBQUtRO1lBRS9COzs7O09BSUMsR0FDRCxJQUFJSSxLQUFLQyxTQUFTQyxXQUFXLENBQUM7WUFDOUJGLEdBQUdHLFNBQVMsQ0FB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YUFBYUE7SUFDYmlDLFdBQVdBO0lBQ1h4QyxNQUFNQTtJQUNOd0QscUJBQXFCQTtJQUNyQjNELGNBQWNBO0FBQ2hCLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvY2tldGgvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9tZXRob2RzL2xvY2Fsc3RvcmFnZS5qcz9kZmQ5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBsb2NhbFN0b3JhZ2Utb25seSBtZXRob2Qgd2hpY2ggdXNlcyBsb2NhbHN0b3JhZ2UgYW5kIGl0cyAnc3RvcmFnZSctZXZlbnRcbiAqIFRoaXMgZG9lcyBub3Qgd29yayBpbnNpZGUgb2Ygd2Vid29ya2VycyBiZWNhdXNlIHRoZXkgaGF2ZSBubyBhY2Nlc3MgdG8gbG9jYXN0b3JhZ2VcbiAqIFRoaXMgaXMgYmFzaWNhbGx5IGltcGxlbWVudGVkIHRvIHN1cHBvcnQgSUU5IG9yIHlvdXIgZ3JhbmRtb3RoZXJzIHRvYXN0ZXIuXG4gKiBAbGluayBodHRwczovL2Nhbml1c2UuY29tLyNmZWF0PW5hbWV2YWx1ZS1zdG9yYWdlXG4gKiBAbGluayBodHRwczovL2Nhbml1c2UuY29tLyNmZWF0PWluZGV4ZWRkYlxuICovXG5cbmltcG9ydCB7IE9ibGl2aW91c1NldCB9IGZyb20gJ29ibGl2aW91cy1zZXQnO1xuaW1wb3J0IHsgZmlsbE9wdGlvbnNXaXRoRGVmYXVsdHMgfSBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IHNsZWVwLCByYW5kb21Ub2tlbiwgbWljcm9TZWNvbmRzIGFzIG1pY3JvIH0gZnJvbSAnLi4vdXRpbCc7XG5leHBvcnQgdmFyIG1pY3JvU2Vjb25kcyA9IG1pY3JvO1xudmFyIEtFWV9QUkVGSVggPSAncHVia2V5LmJyb2FkY2FzdENoYW5uZWwtJztcbmV4cG9ydCB2YXIgdHlwZSA9ICdsb2NhbHN0b3JhZ2UnO1xuXG4vKipcbiAqIGNvcGllZCBmcm9tIGNyb3NzdGFiXG4gKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vdGVqYWNxdWVzL2Nyb3NzdGFiL2Jsb2IvbWFzdGVyL3NyYy9jcm9zc3RhYi5qcyNMMzJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExvY2FsU3RvcmFnZSgpIHtcbiAgdmFyIGxvY2FsU3RvcmFnZTtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcbiAgdHJ5IHtcbiAgICBsb2NhbFN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICAgIGxvY2FsU3RvcmFnZSA9IHdpbmRvd1snaWU4LWV2ZW50bGlzdGVuZXIvc3RvcmFnZSddIHx8IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBOZXcgdmVyc2lvbnMgb2YgRmlyZWZveCB0aHJvdyBhIFNlY3VyaXR5IGV4Y2VwdGlvblxuICAgIC8vIGlmIGNvb2tpZXMgYXJlIGRpc2FibGVkLiBTZWVcbiAgICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDI4MTUzXG4gIH1cbiAgcmV0dXJuIGxvY2FsU3RvcmFnZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdG9yYWdlS2V5KGNoYW5uZWxOYW1lKSB7XG4gIHJldHVybiBLRVlfUFJFRklYICsgY2hhbm5lbE5hbWU7XG59XG5cbi8qKlxuICogd3JpdGVzIHRoZSBuZXcgbWVzc2FnZSB0byB0aGUgc3RvcmFnZVxuICogYW5kIGZpcmVzIHRoZSBzdG9yYWdlLWV2ZW50IHNvIG90aGVyIHJlYWRlcnMgY2FuIGZpbmQgaXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvc3RNZXNzYWdlKGNoYW5uZWxTdGF0ZSwgbWVzc2FnZUpzb24pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMpIHtcbiAgICBzbGVlcCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGtleSA9IHN0b3JhZ2VLZXkoY2hhbm5lbFN0YXRlLmNoYW5uZWxOYW1lKTtcbiAgICAgIHZhciB3cml0ZU9iaiA9IHtcbiAgICAgICAgdG9rZW46IHJhbmRvbVRva2VuKCksXG4gICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICBkYXRhOiBtZXNzYWdlSnNvbixcbiAgICAgICAgdXVpZDogY2hhbm5lbFN0YXRlLnV1aWRcbiAgICAgIH07XG4gICAgICB2YXIgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh3cml0ZU9iaik7XG4gICAgICBnZXRMb2NhbFN0b3JhZ2UoKS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuXG4gICAgICAvKipcbiAgICAgICAqIFN0b3JhZ2VFdmVudCBkb2VzIG5vdCBmaXJlIHRoZSAnc3RvcmFnZScgZXZlbnRcbiAgICAgICAqIGluIHRoZSB3aW5kb3cgdGhhdCBjaGFuZ2VzIHRoZSBzdGF0ZSBvZiB0aGUgbG9jYWwgc3RvcmFnZS5cbiAgICAgICAqIFNvIHdlIGZpcmUgaXQgbWFudWFsbHlcbiAgICAgICAqL1xuICAgICAgdmFyIGV2ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICBldi5pbml0RXZlbnQoJ3N0b3JhZ2UnLCB0cnVlLCB0cnVlKTtcbiAgICAgIGV2LmtleSA9IGtleTtcbiAgICAgIGV2Lm5ld1ZhbHVlID0gdmFsdWU7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldik7XG4gICAgICByZXMoKTtcbiAgICB9KTtcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkU3RvcmFnZUV2ZW50TGlzdGVuZXIoY2hhbm5lbE5hbWUsIGZuKSB7XG4gIHZhciBrZXkgPSBzdG9yYWdlS2V5KGNoYW5uZWxOYW1lKTtcbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGlzdGVuZXIoZXYpIHtcbiAgICBpZiAoZXYua2V5ID09PSBrZXkpIHtcbiAgICAgIGZuKEpTT04ucGFyc2UoZXYubmV3VmFsdWUpKTtcbiAgICB9XG4gIH07XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgbGlzdGVuZXIpO1xuICByZXR1cm4gbGlzdGVuZXI7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU3RvcmFnZUV2ZW50TGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCBsaXN0ZW5lcik7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGNoYW5uZWxOYW1lLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBmaWxsT3B0aW9uc1dpdGhEZWZhdWx0cyhvcHRpb25zKTtcbiAgaWYgKCFjYW5CZVVzZWQob3B0aW9ucykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jyb2FkY2FzdENoYW5uZWw6IGxvY2Fsc3RvcmFnZSBjYW5ub3QgYmUgdXNlZCcpO1xuICB9XG4gIHZhciB1dWlkID0gcmFuZG9tVG9rZW4oKTtcblxuICAvKipcbiAgICogZU1Jc1xuICAgKiBjb250YWlucyBhbGwgbWVzc2FnZXMgdGhhdCBoYXZlIGJlZW4gZW1pdHRlZCBiZWZvcmVcbiAgICogQHR5cGUge09ibGl2aW91c1NldH1cbiAgICovXG4gIHZhciBlTUlzID0gbmV3IE9ibGl2aW91c1NldChvcHRpb25zLmxvY2Fsc3RvcmFnZS5yZW1vdmVUaW1lb3V0KTtcbiAgdmFyIHN0YXRlID0ge1xuICAgIGNoYW5uZWxOYW1lOiBjaGFubmVsTmFtZSxcbiAgICB1dWlkOiB1dWlkLFxuICAgIGVNSXM6IGVNSXMgLy8gZW1pdHRlZE1lc3NhZ2VzSWRzXG4gIH07XG5cbiAgc3RhdGUubGlzdGVuZXIgPSBhZGRTdG9yYWdlRXZlbnRMaXN0ZW5lcihjaGFubmVsTmFtZSwgZnVuY3Rpb24gKG1zZ09iaikge1xuICAgIGlmICghc3RhdGUubWVzc2FnZXNDYWxsYmFjaykgcmV0dXJuOyAvLyBubyBsaXN0ZW5lclxuICAgIGlmIChtc2dPYmoudXVpZCA9PT0gdXVpZCkgcmV0dXJuOyAvLyBvd24gbWVzc2FnZVxuICAgIGlmICghbXNnT2JqLnRva2VuIHx8IGVNSXMuaGFzKG1zZ09iai50b2tlbikpIHJldHVybjsgLy8gYWxyZWFkeSBlbWl0dGVkXG4gICAgaWYgKG1zZ09iai5kYXRhLnRpbWUgJiYgbXNnT2JqLmRhdGEudGltZSA8IHN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2tUaW1lKSByZXR1cm47IC8vIHRvbyBvbGRcblxuICAgIGVNSXMuYWRkKG1zZ09iai50b2tlbik7XG4gICAgc3RhdGUubWVzc2FnZXNDYWxsYmFjayhtc2dPYmouZGF0YSk7XG4gIH0pO1xuICByZXR1cm4gc3RhdGU7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvc2UoY2hhbm5lbFN0YXRlKSB7XG4gIHJlbW92ZVN0b3JhZ2VFdmVudExpc3RlbmVyKGNoYW5uZWxTdGF0ZS5saXN0ZW5lcik7XG59XG5leHBvcnQgZnVuY3Rpb24gb25NZXNzYWdlKGNoYW5uZWxTdGF0ZSwgZm4sIHRpbWUpIHtcbiAgY2hhbm5lbFN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2tUaW1lID0gdGltZTtcbiAgY2hhbm5lbFN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2sgPSBmbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYW5CZVVzZWQob3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMuc3VwcG9ydDNQQykgcmV0dXJuIGZhbHNlO1xuICB2YXIgbHMgPSBnZXRMb2NhbFN0b3JhZ2UoKTtcbiAgaWYgKCFscykgcmV0dXJuIGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBrZXkgPSAnX19icm9hZGNhc3RjaGFubmVsX2NoZWNrJztcbiAgICBscy5zZXRJdGVtKGtleSwgJ3dvcmtzJyk7XG4gICAgbHMucmVtb3ZlSXRlbShrZXkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gU2FmYXJpIDEwIGluIHByaXZhdGUgbW9kZSB3aWxsIG5vdCBhbGxvdyB3cml0ZSBhY2Nlc3MgdG8gbG9jYWxcbiAgICAvLyBzdG9yYWdlIGFuZCBmYWlsIHdpdGggYSBRdW90YUV4Y2VlZGVkRXJyb3IuIFNlZVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJfU3RvcmFnZV9BUEkjUHJpdmF0ZV9Ccm93c2luZ19JbmNvZ25pdG9fbW9kZXNcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gYXZlcmFnZVJlc3BvbnNlVGltZSgpIHtcbiAgdmFyIGRlZmF1bHRUaW1lID0gMTIwO1xuICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICBpZiAodXNlckFnZW50LmluY2x1ZGVzKCdzYWZhcmknKSAmJiAhdXNlckFnZW50LmluY2x1ZGVzKCdjaHJvbWUnKSkge1xuICAgIC8vIHNhZmFyaSBpcyBtdWNoIHNsb3dlciBzbyB0aGlzIHRpbWUgaXMgaGlnaGVyXG4gICAgcmV0dXJuIGRlZmF1bHRUaW1lICogMjtcbiAgfVxuICByZXR1cm4gZGVmYXVsdFRpbWU7XG59XG5leHBvcnQgZGVmYXVsdCB7XG4gIGNyZWF0ZTogY3JlYXRlLFxuICBjbG9zZTogY2xvc2UsXG4gIG9uTWVzc2FnZTogb25NZXNzYWdlLFxuICBwb3N0TWVzc2FnZTogcG9zdE1lc3NhZ2UsXG4gIGNhbkJlVXNlZDogY2FuQmVVc2VkLFxuICB0eXBlOiB0eXBlLFxuICBhdmVyYWdlUmVzcG9uc2VUaW1lOiBhdmVyYWdlUmVzcG9uc2VUaW1lLFxuICBtaWNyb1NlY29uZHM6IG1pY3JvU2Vjb25kc1xufTsiXSwibmFtZXMiOlsiT2JsaXZpb3VzU2V0IiwiZmlsbE9wdGlvbnNXaXRoRGVmYXVsdHMiLCJzbGVlcCIsInJhbmRvbVRva2VuIiwibWljcm9TZWNvbmRzIiwibWljcm8iLCJLRVlfUFJFRklYIiwidHlwZSIsImdldExvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsIndpbmRvdyIsImUiLCJzdG9yYWdlS2V5IiwiY2hhbm5lbE5hbWUiLCJwb3N0TWVzc2FnZSIsImNoYW5uZWxTdGF0ZSIsIm1lc3NhZ2VKc29uIiwiUHJvbWlzZSIsInJlcyIsInRoZW4iLCJrZXkiLCJ3cml0ZU9iaiIsInRva2VuIiwidGltZSIsIkRhdGUiLCJnZXRUaW1lIiwiZGF0YSIsInV1aWQiLCJ2YWx1ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRJdGVtIiwiZXYiLCJkb2N1bWVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwibmV3VmFsdWUiLCJkaXNwYXRjaEV2ZW50IiwiYWRkU3RvcmFnZUV2ZW50TGlzdGVuZXIiLCJmbiIsImxpc3RlbmVyIiwicGFyc2UiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlU3RvcmFnZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3JlYXRlIiwib3B0aW9ucyIsImNhbkJlVXNlZCIsIkVycm9yIiwiZU1JcyIsImxvY2Fsc3RvcmFnZSIsInJlbW92ZVRpbWVvdXQiLCJzdGF0ZSIsIm1zZ09iaiIsIm1lc3NhZ2VzQ2FsbGJhY2siLCJoYXMiLCJtZXNzYWdlc0NhbGxiYWNrVGltZSIsImFkZCIsImNsb3NlIiwib25NZXNzYWdlIiwic3VwcG9ydDNQQyIsImxzIiwicmVtb3ZlSXRlbSIsImF2ZXJhZ2VSZXNwb25zZVRpbWUiLCJkZWZhdWx0VGltZSIsInVzZXJBZ2VudCIsIm5hdmlnYXRvciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/localstorage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/native.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/native.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   averageResponseTime: () => (/* binding */ averageResponseTime),\n/* harmony export */   canBeUsed: () => (/* binding */ canBeUsed),\n/* harmony export */   close: () => (/* binding */ close),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   microSeconds: () => (/* binding */ microSeconds),\n/* harmony export */   onMessage: () => (/* binding */ onMessage),\n/* harmony export */   postMessage: () => (/* binding */ postMessage),\n/* harmony export */   type: () => (/* binding */ type)\n/* harmony export */ });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/util.js\");\n\nvar microSeconds = _util__WEBPACK_IMPORTED_MODULE_0__.microSeconds;\nvar type = \"native\";\nfunction create(channelName) {\n    var state = {\n        messagesCallback: null,\n        bc: new BroadcastChannel(channelName),\n        subFns: [] // subscriberFunctions\n    };\n    state.bc.onmessage = function(msg) {\n        if (state.messagesCallback) {\n            state.messagesCallback(msg.data);\n        }\n    };\n    return state;\n}\nfunction close(channelState) {\n    channelState.bc.close();\n    channelState.subFns = [];\n}\nfunction postMessage(channelState, messageJson) {\n    try {\n        channelState.bc.postMessage(messageJson, false);\n        return _util__WEBPACK_IMPORTED_MODULE_0__.PROMISE_RESOLVED_VOID;\n    } catch (err) {\n        return Promise.reject(err);\n    }\n}\nfunction onMessage(channelState, fn) {\n    channelState.messagesCallback = fn;\n}\nfunction canBeUsed(options) {\n    /**\n   * in the electron-renderer, isNode will be true even if we are in browser-context\n   * so we also check if window is undefined\n   */ if (true) return false;\n    if (!options.support3PC) return false;\n    if (typeof BroadcastChannel === \"function\") {\n        if (BroadcastChannel._pubkey) {\n            throw new Error(\"BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill\");\n        }\n        return true;\n    } else return false;\n}\nfunction averageResponseTime() {\n    return 150;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    create: create,\n    close: close,\n    onMessage: onMessage,\n    postMessage: postMessage,\n    canBeUsed: canBeUsed,\n    type: type,\n    averageResponseTime: averageResponseTime,\n    microSeconds: microSeconds\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9tZXRob2RzL25hdGl2ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXVFO0FBQ2hFLElBQUlBLGVBQWVDLCtDQUFLQSxDQUFDO0FBQ3pCLElBQUlFLE9BQU8sU0FBUztBQUNwQixTQUFTQyxPQUFPQyxXQUFXO0lBQ2hDLElBQUlDLFFBQVE7UUFDVkMsa0JBQWtCO1FBQ2xCQyxJQUFJLElBQUlDLGlCQUFpQko7UUFDekJLLFFBQVEsRUFBRSxDQUFDLHNCQUFzQjtJQUNuQztJQUVBSixNQUFNRSxFQUFFLENBQUNHLFNBQVMsR0FBRyxTQUFVQyxHQUFHO1FBQ2hDLElBQUlOLE1BQU1DLGdCQUFnQixFQUFFO1lBQzFCRCxNQUFNQyxnQkFBZ0IsQ0FBQ0ssSUFBSUMsSUFBSTtRQUNqQztJQUNGO0lBQ0EsT0FBT1A7QUFDVDtBQUNPLFNBQVNRLE1BQU1DLFlBQVk7SUFDaENBLGFBQWFQLEVBQUUsQ0FBQ00sS0FBSztJQUNyQkMsYUFBYUwsTUFBTSxHQUFHLEVBQUU7QUFDMUI7QUFDTyxTQUFTTSxZQUFZRCxZQUFZLEVBQUVFLFdBQVc7SUFDbkQsSUFBSTtRQUNGRixhQUFhUCxFQUFFLENBQUNRLFdBQVcsQ0FBQ0MsYUFBYTtRQUN6QyxPQUFPZix3REFBcUJBO0lBQzlCLEVBQUUsT0FBT2dCLEtBQUs7UUFDWixPQUFPQyxRQUFRQyxNQUFNLENBQUNGO0lBQ3hCO0FBQ0Y7QUFDTyxTQUFTRyxVQUFVTixZQUFZLEVBQUVPLEVBQUU7SUFDeENQLGFBQWFSLGdCQUFnQixHQUFHZTtBQUNsQztBQUNPLFNBQVNDLFVBQVVDLE9BQU87SUFDL0I7OztHQUdDLEdBQ0QsSUFBSSxJQUFrQixFQUFhLE9BQU87SUFDMUMsSUFBSSxDQUFDQSxRQUFRQyxVQUFVLEVBQUUsT0FBTztJQUNoQyxJQUFJLE9BQU9oQixxQkFBcUIsWUFBWTtRQUMxQyxJQUFJQSxpQkFBaUJpQixPQUFPLEVBQUU7WUFDNUIsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBQ0EsT0FBTztJQUNULE9BQU8sT0FBTztBQUNoQjtBQUNPLFNBQVNDO0lBQ2QsT0FBTztBQUNUO0FBQ0EsaUVBQWU7SUFDYnhCLFFBQVFBO0lBQ1JVLE9BQU9BO0lBQ1BPLFdBQVdBO0lBQ1hMLGFBQWFBO0lBQ2JPLFdBQVdBO0lBQ1hwQixNQUFNQTtJQUNOeUIscUJBQXFCQTtJQUNyQjVCLGNBQWNBO0FBQ2hCLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvY2tldGgvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9tZXRob2RzL25hdGl2ZS5qcz9hM2VmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1pY3JvU2Vjb25kcyBhcyBtaWNybywgUFJPTUlTRV9SRVNPTFZFRF9WT0lEIH0gZnJvbSAnLi4vdXRpbCc7XG5leHBvcnQgdmFyIG1pY3JvU2Vjb25kcyA9IG1pY3JvO1xuZXhwb3J0IHZhciB0eXBlID0gJ25hdGl2ZSc7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGNoYW5uZWxOYW1lKSB7XG4gIHZhciBzdGF0ZSA9IHtcbiAgICBtZXNzYWdlc0NhbGxiYWNrOiBudWxsLFxuICAgIGJjOiBuZXcgQnJvYWRjYXN0Q2hhbm5lbChjaGFubmVsTmFtZSksXG4gICAgc3ViRm5zOiBbXSAvLyBzdWJzY3JpYmVyRnVuY3Rpb25zXG4gIH07XG5cbiAgc3RhdGUuYmMub25tZXNzYWdlID0gZnVuY3Rpb24gKG1zZykge1xuICAgIGlmIChzdGF0ZS5tZXNzYWdlc0NhbGxiYWNrKSB7XG4gICAgICBzdGF0ZS5tZXNzYWdlc0NhbGxiYWNrKG1zZy5kYXRhKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBzdGF0ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZShjaGFubmVsU3RhdGUpIHtcbiAgY2hhbm5lbFN0YXRlLmJjLmNsb3NlKCk7XG4gIGNoYW5uZWxTdGF0ZS5zdWJGbnMgPSBbXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3N0TWVzc2FnZShjaGFubmVsU3RhdGUsIG1lc3NhZ2VKc29uKSB7XG4gIHRyeSB7XG4gICAgY2hhbm5lbFN0YXRlLmJjLnBvc3RNZXNzYWdlKG1lc3NhZ2VKc29uLCBmYWxzZSk7XG4gICAgcmV0dXJuIFBST01JU0VfUkVTT0xWRURfVk9JRDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBvbk1lc3NhZ2UoY2hhbm5lbFN0YXRlLCBmbikge1xuICBjaGFubmVsU3RhdGUubWVzc2FnZXNDYWxsYmFjayA9IGZuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhbkJlVXNlZChvcHRpb25zKSB7XG4gIC8qKlxuICAgKiBpbiB0aGUgZWxlY3Ryb24tcmVuZGVyZXIsIGlzTm9kZSB3aWxsIGJlIHRydWUgZXZlbiBpZiB3ZSBhcmUgaW4gYnJvd3Nlci1jb250ZXh0XG4gICAqIHNvIHdlIGFsc28gY2hlY2sgaWYgd2luZG93IGlzIHVuZGVmaW5lZFxuICAgKi9cbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIGlmICghb3B0aW9ucy5zdXBwb3J0M1BDKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgQnJvYWRjYXN0Q2hhbm5lbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChCcm9hZGNhc3RDaGFubmVsLl9wdWJrZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQnJvYWRjYXN0Q2hhbm5lbDogRG8gbm90IG92ZXJ3cml0ZSB3aW5kb3cuQnJvYWRjYXN0Q2hhbm5lbCB3aXRoIHRoaXMgbW9kdWxlLCB0aGlzIGlzIG5vdCBhIHBvbHlmaWxsJyk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGF2ZXJhZ2VSZXNwb25zZVRpbWUoKSB7XG4gIHJldHVybiAxNTA7XG59XG5leHBvcnQgZGVmYXVsdCB7XG4gIGNyZWF0ZTogY3JlYXRlLFxuICBjbG9zZTogY2xvc2UsXG4gIG9uTWVzc2FnZTogb25NZXNzYWdlLFxuICBwb3N0TWVzc2FnZTogcG9zdE1lc3NhZ2UsXG4gIGNhbkJlVXNlZDogY2FuQmVVc2VkLFxuICB0eXBlOiB0eXBlLFxuICBhdmVyYWdlUmVzcG9uc2VUaW1lOiBhdmVyYWdlUmVzcG9uc2VUaW1lLFxuICBtaWNyb1NlY29uZHM6IG1pY3JvU2Vjb25kc1xufTsiXSwibmFtZXMiOlsibWljcm9TZWNvbmRzIiwibWljcm8iLCJQUk9NSVNFX1JFU09MVkVEX1ZPSUQiLCJ0eXBlIiwiY3JlYXRlIiwiY2hhbm5lbE5hbWUiLCJzdGF0ZSIsIm1lc3NhZ2VzQ2FsbGJhY2siLCJiYyIsIkJyb2FkY2FzdENoYW5uZWwiLCJzdWJGbnMiLCJvbm1lc3NhZ2UiLCJtc2ciLCJkYXRhIiwiY2xvc2UiLCJjaGFubmVsU3RhdGUiLCJwb3N0TWVzc2FnZSIsIm1lc3NhZ2VKc29uIiwiZXJyIiwiUHJvbWlzZSIsInJlamVjdCIsIm9uTWVzc2FnZSIsImZuIiwiY2FuQmVVc2VkIiwib3B0aW9ucyIsInN1cHBvcnQzUEMiLCJfcHVia2V5IiwiRXJyb3IiLCJhdmVyYWdlUmVzcG9uc2VUaW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/native.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/server.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/server.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   averageResponseTime: () => (/* binding */ averageResponseTime),\n/* harmony export */   canBeUsed: () => (/* binding */ canBeUsed),\n/* harmony export */   close: () => (/* binding */ close),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getSocketInstance: () => (/* binding */ getSocketInstance),\n/* harmony export */   microSeconds: () => (/* binding */ microSeconds),\n/* harmony export */   onMessage: () => (/* binding */ onMessage),\n/* harmony export */   postMessage: () => (/* binding */ postMessage),\n/* harmony export */   removeStorageEventListener: () => (/* binding */ removeStorageEventListener),\n/* harmony export */   setupSocketConnection: () => (/* binding */ setupSocketConnection),\n/* harmony export */   storageKey: () => (/* binding */ storageKey),\n/* harmony export */   type: () => (/* binding */ type)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"(ssr)/./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"(ssr)/./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var oblivious_set__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! oblivious-set */ \"(ssr)/./node_modules/oblivious-set/dist/es/index.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io-client */ \"(ssr)/./node_modules/socket.io-client/build/esm-debug/index.js\");\n/* harmony import */ var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @toruslabs/eccrypto */ \"(ssr)/./node_modules/@toruslabs/eccrypto/dist/eccrypto.esm.js\");\n/* harmony import */ var _toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @toruslabs/metadata-helpers */ \"(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/metadataHelpers.esm.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/util.js\");\n/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../options */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/options.js\");\n\n\n/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside of webworkers because they have no access to locastorage\n * This is basically implemented to support IE9 or your grandmothers toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */ \n\n\n\n\n\n\nvar microSeconds = _util__WEBPACK_IMPORTED_MODULE_5__.microSeconds;\nvar KEY_PREFIX = \"pubkey.broadcastChannel-\";\nvar type = \"server\";\nvar SOCKET_CONN_INSTANCE = null;\n// used to decide to reconnect socket e.g. when socket connection is disconnected unexpectedly\nvar runningChannels = new Set();\nfunction storageKey(channelName) {\n    return KEY_PREFIX + channelName;\n}\n/**\n * writes the new message to the storage\n * and fires the storage-event so other readers can find it\n */ function postMessage(channelState, messageJson) {\n    return new Promise(function(res, rej) {\n        (0,_util__WEBPACK_IMPORTED_MODULE_5__.sleep)().then(/*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee() {\n            var key, channelEncPrivKey, encData, body;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee$(_context) {\n                while(1)switch(_context.prev = _context.next){\n                    case 0:\n                        key = storageKey(channelState.channelName);\n                        channelEncPrivKey = (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_4__.keccak256)(Buffer.from(key, \"utf8\"));\n                        _context.next = 4;\n                        return (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_4__.encryptData)(channelEncPrivKey.toString(\"hex\"), {\n                            token: (0,_util__WEBPACK_IMPORTED_MODULE_5__.randomToken)(),\n                            time: new Date().getTime(),\n                            data: messageJson,\n                            uuid: channelState.uuid\n                        });\n                    case 4:\n                        encData = _context.sent;\n                        _context.t0 = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_3__.getPublic)(channelEncPrivKey).toString(\"hex\");\n                        _context.t1 = encData;\n                        _context.next = 9;\n                        return (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_3__.sign)(channelEncPrivKey, (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_4__.keccak256)(Buffer.from(encData, \"utf8\")));\n                    case 9:\n                        _context.t2 = _context.sent.toString(\"hex\");\n                        body = {\n                            sameOriginCheck: true,\n                            sameIpCheck: true,\n                            key: _context.t0,\n                            data: _context.t1,\n                            signature: _context.t2\n                        };\n                        if (channelState.timeout) body.timeout = channelState.timeout;\n                        return _context.abrupt(\"return\", fetch(channelState.serverUrl + \"/channel/set\", {\n                            method: \"POST\",\n                            body: JSON.stringify(body),\n                            headers: {\n                                \"Content-Type\": \"application/json; charset=utf-8\"\n                            }\n                        }).then(res)[\"catch\"](rej));\n                    case 13:\n                    case \"end\":\n                        return _context.stop();\n                }\n            }, _callee);\n        })));\n    });\n}\nfunction getSocketInstance(serverUrl) {\n    if (SOCKET_CONN_INSTANCE) {\n        return SOCKET_CONN_INSTANCE;\n    }\n    var SOCKET_CONN = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_2__.io)(serverUrl, {\n        transports: [\n            \"websocket\",\n            \"polling\"\n        ],\n        // use WebSocket first, if available\n        withCredentials: true,\n        reconnectionDelayMax: 10000,\n        reconnectionAttempts: 10\n    });\n    SOCKET_CONN.on(\"connect_error\", function(err) {\n        // revert to classic upgrade\n        SOCKET_CONN.io.opts.transports = [\n            \"polling\",\n            \"websocket\"\n        ];\n        _util__WEBPACK_IMPORTED_MODULE_5__.log.error(\"connect error\", err);\n    });\n    SOCKET_CONN.on(\"connect\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee2() {\n        var engine;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee2$(_context2) {\n            while(1)switch(_context2.prev = _context2.next){\n                case 0:\n                    engine = SOCKET_CONN.io.engine;\n                    _util__WEBPACK_IMPORTED_MODULE_5__.log.debug(\"initially connected to\", engine.transport.name); // in most cases, prints \"polling\"\n                    engine.once(\"upgrade\", function() {\n                        // called when the transport is upgraded (i.e. from HTTP long-polling to WebSocket)\n                        _util__WEBPACK_IMPORTED_MODULE_5__.log.debug(\"upgraded\", engine.transport.name); // in most cases, prints \"websocket\"\n                    });\n                    engine.once(\"close\", function(reason) {\n                        // called when the underlying connection is closed\n                        _util__WEBPACK_IMPORTED_MODULE_5__.log.debug(\"connection closed\", reason);\n                    });\n                case 4:\n                case \"end\":\n                    return _context2.stop();\n            }\n        }, _callee2);\n    })));\n    SOCKET_CONN.on(\"error\", function(err) {\n        _util__WEBPACK_IMPORTED_MODULE_5__.log.error(\"socket errored\", err);\n        SOCKET_CONN.disconnect();\n    });\n    SOCKET_CONN_INSTANCE = SOCKET_CONN;\n    return SOCKET_CONN;\n}\nfunction setupSocketConnection(serverUrl, channelState, fn) {\n    var socketConn = getSocketInstance(serverUrl);\n    var key = storageKey(channelState.channelName);\n    var channelEncPrivKey = (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_4__.keccak256)(Buffer.from(key, \"utf8\"));\n    var channelPubKey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_3__.getPublic)(channelEncPrivKey).toString(\"hex\");\n    if (socketConn.connected) {\n        socketConn.emit(\"check_auth_status\", channelPubKey, {\n            sameOriginCheck: true,\n            sameIpCheck: true\n        });\n    } else {\n        socketConn.once(\"connect\", function() {\n            _util__WEBPACK_IMPORTED_MODULE_5__.log.debug(\"connected with socket\");\n            socketConn.emit(\"check_auth_status\", channelPubKey, {\n                sameOriginCheck: true,\n                sameIpCheck: true\n            });\n        });\n    }\n    var reconnect = function reconnect() {\n        socketConn.once(\"connect\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee3() {\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee3$(_context3) {\n                while(1)switch(_context3.prev = _context3.next){\n                    case 0:\n                        if (runningChannels.has(channelState.channelName)) {\n                            socketConn.emit(\"check_auth_status\", channelPubKey, {\n                                sameOriginCheck: true,\n                                sameIpCheck: true\n                            });\n                        }\n                    case 1:\n                    case \"end\":\n                        return _context3.stop();\n                }\n            }, _callee3);\n        })));\n    };\n    var visibilityListener = function visibilityListener() {\n        // if channel is closed, then remove the listener.\n        if (!socketConn || !runningChannels.has(channelState.channelName)) {\n            document.removeEventListener(\"visibilitychange\", visibilityListener);\n            return;\n        }\n        // if not connected, then wait for connection and ping server for latest msg.\n        if (!socketConn.connected && document.visibilityState === \"visible\") {\n            reconnect();\n        }\n    };\n    var listener = /*#__PURE__*/ function() {\n        var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee4(ev) {\n            var decData;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee4$(_context4) {\n                while(1)switch(_context4.prev = _context4.next){\n                    case 0:\n                        _context4.prev = 0;\n                        _context4.next = 3;\n                        return (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_4__.decryptData)(channelEncPrivKey.toString(\"hex\"), ev);\n                    case 3:\n                        decData = _context4.sent;\n                        _util__WEBPACK_IMPORTED_MODULE_5__.log.info(decData);\n                        fn(decData);\n                        _context4.next = 11;\n                        break;\n                    case 8:\n                        _context4.prev = 8;\n                        _context4.t0 = _context4[\"catch\"](0);\n                        _util__WEBPACK_IMPORTED_MODULE_5__.log.error(_context4.t0);\n                    case 11:\n                    case \"end\":\n                        return _context4.stop();\n                }\n            }, _callee4, null, [\n                [\n                    0,\n                    8\n                ]\n            ]);\n        }));\n        return function listener(_x) {\n            return _ref4.apply(this, arguments);\n        };\n    }();\n    socketConn.on(\"disconnect\", function() {\n        _util__WEBPACK_IMPORTED_MODULE_5__.log.debug(\"socket disconnected\");\n        if (runningChannels.has(channelState.channelName)) {\n            _util__WEBPACK_IMPORTED_MODULE_5__.log.error(\"socket disconnected unexpectedly, reconnecting socket\");\n            reconnect();\n        }\n    });\n    socketConn.on(channelPubKey + \"_success\", listener);\n    if (typeof document !== \"undefined\") document.addEventListener(\"visibilitychange\", visibilityListener);\n    return socketConn;\n}\nfunction removeStorageEventListener() {\n    if (SOCKET_CONN_INSTANCE) {\n        SOCKET_CONN_INSTANCE.disconnect();\n    }\n}\nfunction create(channelName, options) {\n    options = (0,_options__WEBPACK_IMPORTED_MODULE_6__.fillOptionsWithDefaults)(options);\n    if (!canBeUsed(options)) {\n        throw new Error(\"BroadcastChannel: server cannot be used\");\n    }\n    var uuid = (0,_util__WEBPACK_IMPORTED_MODULE_5__.randomToken)();\n    /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */ var eMIs = new oblivious_set__WEBPACK_IMPORTED_MODULE_7__.ObliviousSet(options.server.removeTimeout);\n    var state = {\n        channelName: channelName,\n        uuid: uuid,\n        eMIs: eMIs,\n        // emittedMessagesIds\n        serverUrl: options.server.url\n    };\n    if (options.server.timeout) state.timeout = options.server.timeout;\n    setupSocketConnection(options.server.url, state, function(msgObj) {\n        if (!state.messagesCallback) return; // no listener\n        if (msgObj.uuid === state.uuid) return; // own message\n        if (!msgObj.token || state.eMIs.has(msgObj.token)) return; // already emitted\n        // if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n        state.eMIs.add(msgObj.token);\n        state.messagesCallback(msgObj.data);\n    });\n    runningChannels.add(channelName);\n    return state;\n}\nfunction close(channelState) {\n    runningChannels[\"delete\"](channelState.channelName);\n// give 2 sec for all msgs which are in transit to be consumed\n// by receiver.\n// window.setTimeout(() => {\n//     removeStorageEventListener(channelState);\n//     SOCKET_CONN_INSTANCE = null;\n// }, 1000);\n}\nfunction onMessage(channelState, fn, time) {\n    channelState.messagesCallbackTime = time;\n    channelState.messagesCallback = fn;\n}\nfunction canBeUsed() {\n    return true;\n}\nfunction averageResponseTime() {\n    var defaultTime = 500;\n    // TODO: Maybe increase it based on operation\n    return defaultTime;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    create: create,\n    close: close,\n    onMessage: onMessage,\n    postMessage: postMessage,\n    canBeUsed: canBeUsed,\n    type: type,\n    averageResponseTime: averageResponseTime,\n    microSeconds: microSeconds\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9tZXRob2RzL3NlcnZlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RTtBQUNYO0FBQzdEOzs7Ozs7Q0FNQyxHQUU0QztBQUNQO0FBQ2dCO0FBQzRCO0FBQ3BEO0FBQ3VCO0FBQ2U7QUFDN0QsSUFBSWEsZUFBZUMsK0NBQUtBLENBQUM7QUFDaEMsSUFBSUMsYUFBYTtBQUNWLElBQUlDLE9BQU8sU0FBUztBQUMzQixJQUFJQyx1QkFBdUI7QUFDM0IsOEZBQThGO0FBQzlGLElBQUlDLGtCQUFrQixJQUFJQztBQUNuQixTQUFTQyxXQUFXQyxXQUFXO0lBQ3BDLE9BQU9OLGFBQWFNO0FBQ3RCO0FBRUE7OztDQUdDLEdBQ00sU0FBU0MsWUFBWUMsWUFBWSxFQUFFQyxXQUFXO0lBQ25ELE9BQU8sSUFBSUMsUUFBUSxTQUFVQyxHQUFHLEVBQUVDLEdBQUc7UUFDbkNoQiw0Q0FBS0EsR0FBR2lCLElBQUksQ0FBRSxXQUFXLEdBQUU1Qiw4RUFBaUJBLENBQUUsV0FBVyxHQUFFQyxzRUFBd0IsQ0FBQyxTQUFTNkI7WUFDM0YsSUFBSUMsS0FBS0MsbUJBQW1CQyxTQUFTQztZQUNyQyxPQUFPakMsc0VBQXdCLENBQUMsU0FBU21DLFNBQVNDLFFBQVE7Z0JBQ3hELE1BQU8sRUFBRyxPQUFRQSxTQUFTQyxJQUFJLEdBQUdELFNBQVNFLElBQUk7b0JBQzdDLEtBQUs7d0JBQ0hSLE1BQU1YLFdBQVdHLGFBQWFGLFdBQVc7d0JBQ3pDVyxvQkFBb0J4QixzRUFBU0EsQ0FBQ2dDLE9BQU9DLElBQUksQ0FBQ1YsS0FBSzt3QkFDL0NNLFNBQVNFLElBQUksR0FBRzt3QkFDaEIsT0FBT2pDLHdFQUFXQSxDQUFDMEIsa0JBQWtCVSxRQUFRLENBQUMsUUFBUTs0QkFDcERDLE9BQU8vQixrREFBV0E7NEJBQ2xCZ0MsTUFBTSxJQUFJQyxPQUFPQyxPQUFPOzRCQUN4QkMsTUFBTXZCOzRCQUNOd0IsTUFBTXpCLGFBQWF5QixJQUFJO3dCQUN6QjtvQkFDRixLQUFLO3dCQUNIZixVQUFVSSxTQUFTWSxJQUFJO3dCQUN2QlosU0FBU2EsRUFBRSxHQUFHOUMsOERBQVNBLENBQUM0QixtQkFBbUJVLFFBQVEsQ0FBQzt3QkFDcERMLFNBQVNjLEVBQUUsR0FBR2xCO3dCQUNkSSxTQUFTRSxJQUFJLEdBQUc7d0JBQ2hCLE9BQU9sQyx5REFBSUEsQ0FBQzJCLG1CQUFtQnhCLHNFQUFTQSxDQUFDZ0MsT0FBT0MsSUFBSSxDQUFDUixTQUFTO29CQUNoRSxLQUFLO3dCQUNISSxTQUFTZSxFQUFFLEdBQUdmLFNBQVNZLElBQUksQ0FBQ1AsUUFBUSxDQUFDO3dCQUNyQ1IsT0FBTzs0QkFDTG1CLGlCQUFpQjs0QkFDakJDLGFBQWE7NEJBQ2J2QixLQUFLTSxTQUFTYSxFQUFFOzRCQUNoQkgsTUFBTVYsU0FBU2MsRUFBRTs0QkFDakJJLFdBQVdsQixTQUFTZSxFQUFFO3dCQUN4Qjt3QkFDQSxJQUFJN0IsYUFBYWlDLE9BQU8sRUFBRXRCLEtBQUtzQixPQUFPLEdBQUdqQyxhQUFhaUMsT0FBTzt3QkFDN0QsT0FBT25CLFNBQVNvQixNQUFNLENBQUMsVUFBVUMsTUFBTW5DLGFBQWFvQyxTQUFTLEdBQUcsZ0JBQWdCOzRCQUM5RUMsUUFBUTs0QkFDUjFCLE1BQU0yQixLQUFLQyxTQUFTLENBQUM1Qjs0QkFDckI2QixTQUFTO2dDQUNQLGdCQUFnQjs0QkFDbEI7d0JBQ0YsR0FBR25DLElBQUksQ0FBQ0YsSUFBSSxDQUFDLFFBQVEsQ0FBQ0M7b0JBQ3hCLEtBQUs7b0JBQ0wsS0FBSzt3QkFDSCxPQUFPVSxTQUFTMkIsSUFBSTtnQkFDeEI7WUFDRixHQUFHbEM7UUFDTDtJQUNGO0FBQ0Y7QUFDTyxTQUFTbUMsa0JBQWtCTixTQUFTO0lBQ3pDLElBQUkxQyxzQkFBc0I7UUFDeEIsT0FBT0E7SUFDVDtJQUNBLElBQUlpRCxjQUFjL0Qsb0RBQUVBLENBQUN3RCxXQUFXO1FBQzlCUSxZQUFZO1lBQUM7WUFBYTtTQUFVO1FBQ3BDLG9DQUFvQztRQUNwQ0MsaUJBQWlCO1FBQ2pCQyxzQkFBc0I7UUFDdEJDLHNCQUFzQjtJQUN4QjtJQUNBSixZQUFZSyxFQUFFLENBQUMsaUJBQWlCLFNBQVVDLEdBQUc7UUFDM0MsNEJBQTRCO1FBQzVCTixZQUFZL0QsRUFBRSxDQUFDc0UsSUFBSSxDQUFDTixVQUFVLEdBQUc7WUFBQztZQUFXO1NBQVk7UUFDekQxRCxzQ0FBR0EsQ0FBQ2lFLEtBQUssQ0FBQyxpQkFBaUJGO0lBQzdCO0lBQ0FOLFlBQVlLLEVBQUUsQ0FBQyxXQUFXLFdBQVcsR0FBRXZFLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVDLHNFQUF3QixDQUFDLFNBQVMwRTtRQUN2RyxJQUFJQztRQUNKLE9BQU8zRSxzRUFBd0IsQ0FBQyxTQUFTNEUsVUFBVUMsU0FBUztZQUMxRCxNQUFPLEVBQUcsT0FBUUEsVUFBVXhDLElBQUksR0FBR3dDLFVBQVV2QyxJQUFJO2dCQUMvQyxLQUFLO29CQUNIcUMsU0FBU1YsWUFBWS9ELEVBQUUsQ0FBQ3lFLE1BQU07b0JBQzlCbkUsc0NBQUdBLENBQUNzRSxLQUFLLENBQUMsMEJBQTBCSCxPQUFPSSxTQUFTLENBQUNDLElBQUksR0FBRyxrQ0FBa0M7b0JBQzlGTCxPQUFPTSxJQUFJLENBQUMsV0FBVzt3QkFDckIsbUZBQW1GO3dCQUNuRnpFLHNDQUFHQSxDQUFDc0UsS0FBSyxDQUFDLFlBQVlILE9BQU9JLFNBQVMsQ0FBQ0MsSUFBSSxHQUFHLG9DQUFvQztvQkFDcEY7b0JBRUFMLE9BQU9NLElBQUksQ0FBQyxTQUFTLFNBQVVDLE1BQU07d0JBQ25DLGtEQUFrRDt3QkFDbEQxRSxzQ0FBR0EsQ0FBQ3NFLEtBQUssQ0FBQyxxQkFBcUJJO29CQUNqQztnQkFDRixLQUFLO2dCQUNMLEtBQUs7b0JBQ0gsT0FBT0wsVUFBVWQsSUFBSTtZQUN6QjtRQUNGLEdBQUdXO0lBQ0w7SUFDQVQsWUFBWUssRUFBRSxDQUFDLFNBQVMsU0FBVUMsR0FBRztRQUNuQy9ELHNDQUFHQSxDQUFDaUUsS0FBSyxDQUFDLGtCQUFrQkY7UUFDNUJOLFlBQVlrQixVQUFVO0lBQ3hCO0lBQ0FuRSx1QkFBdUJpRDtJQUN2QixPQUFPQTtBQUNUO0FBQ08sU0FBU21CLHNCQUFzQjFCLFNBQVMsRUFBRXBDLFlBQVksRUFBRStELEVBQUU7SUFDL0QsSUFBSUMsYUFBYXRCLGtCQUFrQk47SUFDbkMsSUFBSTVCLE1BQU1YLFdBQVdHLGFBQWFGLFdBQVc7SUFDN0MsSUFBSVcsb0JBQW9CeEIsc0VBQVNBLENBQUNnQyxPQUFPQyxJQUFJLENBQUNWLEtBQUs7SUFDbkQsSUFBSXlELGdCQUFnQnBGLDhEQUFTQSxDQUFDNEIsbUJBQW1CVSxRQUFRLENBQUM7SUFDMUQsSUFBSTZDLFdBQVdFLFNBQVMsRUFBRTtRQUN4QkYsV0FBV0csSUFBSSxDQUFDLHFCQUFxQkYsZUFBZTtZQUNsRG5DLGlCQUFpQjtZQUNqQkMsYUFBYTtRQUNmO0lBQ0YsT0FBTztRQUNMaUMsV0FBV0wsSUFBSSxDQUFDLFdBQVc7WUFDekJ6RSxzQ0FBR0EsQ0FBQ3NFLEtBQUssQ0FBQztZQUNWUSxXQUFXRyxJQUFJLENBQUMscUJBQXFCRixlQUFlO2dCQUNsRG5DLGlCQUFpQjtnQkFDakJDLGFBQWE7WUFDZjtRQUNGO0lBQ0Y7SUFDQSxJQUFJcUMsWUFBWSxTQUFTQTtRQUN2QkosV0FBV0wsSUFBSSxDQUFDLFdBQVcsV0FBVyxHQUFFbEYsOEVBQWlCQSxDQUFFLFdBQVcsR0FBRUMsc0VBQXdCLENBQUMsU0FBUzJGO1lBQ3hHLE9BQU8zRixzRUFBd0IsQ0FBQyxTQUFTNEYsVUFBVUMsU0FBUztnQkFDMUQsTUFBTyxFQUFHLE9BQVFBLFVBQVV4RCxJQUFJLEdBQUd3RCxVQUFVdkQsSUFBSTtvQkFDL0MsS0FBSzt3QkFDSCxJQUFJckIsZ0JBQWdCNkUsR0FBRyxDQUFDeEUsYUFBYUYsV0FBVyxHQUFHOzRCQUNqRGtFLFdBQVdHLElBQUksQ0FBQyxxQkFBcUJGLGVBQWU7Z0NBQ2xEbkMsaUJBQWlCO2dDQUNqQkMsYUFBYTs0QkFDZjt3QkFDRjtvQkFDRixLQUFLO29CQUNMLEtBQUs7d0JBQ0gsT0FBT3dDLFVBQVU5QixJQUFJO2dCQUN6QjtZQUNGLEdBQUc0QjtRQUNMO0lBQ0Y7SUFDQSxJQUFJSSxxQkFBcUIsU0FBU0E7UUFDaEMsa0RBQWtEO1FBQ2xELElBQUksQ0FBQ1QsY0FBYyxDQUFDckUsZ0JBQWdCNkUsR0FBRyxDQUFDeEUsYUFBYUYsV0FBVyxHQUFHO1lBQ2pFNEUsU0FBU0MsbUJBQW1CLENBQUMsb0JBQW9CRjtZQUNqRDtRQUNGO1FBQ0EsNkVBQTZFO1FBQzdFLElBQUksQ0FBQ1QsV0FBV0UsU0FBUyxJQUFJUSxTQUFTRSxlQUFlLEtBQUssV0FBVztZQUNuRVI7UUFDRjtJQUNGO0lBQ0EsSUFBSVMsV0FBVyxXQUFXLEdBQUU7UUFDMUIsSUFBSUMsUUFBUXJHLDhFQUFpQkEsQ0FBRSxXQUFXLEdBQUVDLHNFQUF3QixDQUFDLFNBQVNxRyxTQUFTQyxFQUFFO1lBQ3ZGLElBQUlDO1lBQ0osT0FBT3ZHLHNFQUF3QixDQUFDLFNBQVN3RyxVQUFVQyxTQUFTO2dCQUMxRCxNQUFPLEVBQUcsT0FBUUEsVUFBVXBFLElBQUksR0FBR29FLFVBQVVuRSxJQUFJO29CQUMvQyxLQUFLO3dCQUNIbUUsVUFBVXBFLElBQUksR0FBRzt3QkFDakJvRSxVQUFVbkUsSUFBSSxHQUFHO3dCQUNqQixPQUFPaEMsd0VBQVdBLENBQUN5QixrQkFBa0JVLFFBQVEsQ0FBQyxRQUFRNkQ7b0JBQ3hELEtBQUs7d0JBQ0hDLFVBQVVFLFVBQVV6RCxJQUFJO3dCQUN4QnhDLHNDQUFHQSxDQUFDa0csSUFBSSxDQUFDSDt3QkFDVGxCLEdBQUdrQjt3QkFDSEUsVUFBVW5FLElBQUksR0FBRzt3QkFDakI7b0JBQ0YsS0FBSzt3QkFDSG1FLFVBQVVwRSxJQUFJLEdBQUc7d0JBQ2pCb0UsVUFBVXhELEVBQUUsR0FBR3dELFNBQVMsQ0FBQyxRQUFRLENBQUM7d0JBQ2xDakcsc0NBQUdBLENBQUNpRSxLQUFLLENBQUNnQyxVQUFVeEQsRUFBRTtvQkFDeEIsS0FBSztvQkFDTCxLQUFLO3dCQUNILE9BQU93RCxVQUFVMUMsSUFBSTtnQkFDekI7WUFDRixHQUFHc0MsVUFBVSxNQUFNO2dCQUFDO29CQUFDO29CQUFHO2lCQUFFO2FBQUM7UUFDN0I7UUFDQSxPQUFPLFNBQVNGLFNBQVNRLEVBQUU7WUFDekIsT0FBT1AsTUFBTVEsS0FBSyxDQUFDLElBQUksRUFBRUM7UUFDM0I7SUFDRjtJQUNBdkIsV0FBV2hCLEVBQUUsQ0FBQyxjQUFjO1FBQzFCOUQsc0NBQUdBLENBQUNzRSxLQUFLLENBQUM7UUFDVixJQUFJN0QsZ0JBQWdCNkUsR0FBRyxDQUFDeEUsYUFBYUYsV0FBVyxHQUFHO1lBQ2pEWixzQ0FBR0EsQ0FBQ2lFLEtBQUssQ0FBQztZQUNWaUI7UUFDRjtJQUNGO0lBQ0FKLFdBQVdoQixFQUFFLENBQUNpQixnQkFBZ0IsWUFBWVk7SUFDMUMsSUFBSSxPQUFPSCxhQUFhLGFBQWFBLFNBQVNjLGdCQUFnQixDQUFDLG9CQUFvQmY7SUFDbkYsT0FBT1Q7QUFDVDtBQUNPLFNBQVN5QjtJQUNkLElBQUkvRixzQkFBc0I7UUFDeEJBLHFCQUFxQm1FLFVBQVU7SUFDakM7QUFDRjtBQUNPLFNBQVM2QixPQUFPNUYsV0FBVyxFQUFFNkYsT0FBTztJQUN6Q0EsVUFBVXhHLGlFQUF1QkEsQ0FBQ3dHO0lBQ2xDLElBQUksQ0FBQ0MsVUFBVUQsVUFBVTtRQUN2QixNQUFNLElBQUlFLE1BQU07SUFDbEI7SUFDQSxJQUFJcEUsT0FBT3BDLGtEQUFXQTtJQUV0Qjs7OztHQUlDLEdBQ0QsSUFBSXlHLE9BQU8sSUFBSW5ILHVEQUFZQSxDQUFDZ0gsUUFBUUksTUFBTSxDQUFDQyxhQUFhO0lBQ3hELElBQUlDLFFBQVE7UUFDVm5HLGFBQWFBO1FBQ2IyQixNQUFNQTtRQUNOcUUsTUFBTUE7UUFDTixxQkFBcUI7UUFDckIxRCxXQUFXdUQsUUFBUUksTUFBTSxDQUFDRyxHQUFHO0lBQy9CO0lBQ0EsSUFBSVAsUUFBUUksTUFBTSxDQUFDOUQsT0FBTyxFQUFFZ0UsTUFBTWhFLE9BQU8sR0FBRzBELFFBQVFJLE1BQU0sQ0FBQzlELE9BQU87SUFDbEU2QixzQkFBc0I2QixRQUFRSSxNQUFNLENBQUNHLEdBQUcsRUFBRUQsT0FBTyxTQUFVRSxNQUFNO1FBQy9ELElBQUksQ0FBQ0YsTUFBTUcsZ0JBQWdCLEVBQUUsUUFBUSxjQUFjO1FBQ25ELElBQUlELE9BQU8xRSxJQUFJLEtBQUt3RSxNQUFNeEUsSUFBSSxFQUFFLFFBQVEsY0FBYztRQUN0RCxJQUFJLENBQUMwRSxPQUFPL0UsS0FBSyxJQUFJNkUsTUFBTUgsSUFBSSxDQUFDdEIsR0FBRyxDQUFDMkIsT0FBTy9FLEtBQUssR0FBRyxRQUFRLGtCQUFrQjtRQUM3RSw0RkFBNEY7UUFFNUY2RSxNQUFNSCxJQUFJLENBQUNPLEdBQUcsQ0FBQ0YsT0FBTy9FLEtBQUs7UUFDM0I2RSxNQUFNRyxnQkFBZ0IsQ0FBQ0QsT0FBTzNFLElBQUk7SUFDcEM7SUFDQTdCLGdCQUFnQjBHLEdBQUcsQ0FBQ3ZHO0lBQ3BCLE9BQU9tRztBQUNUO0FBQ08sU0FBU0ssTUFBTXRHLFlBQVk7SUFDaENMLGVBQWUsQ0FBQyxTQUFTLENBQUNLLGFBQWFGLFdBQVc7QUFDbEQsOERBQThEO0FBQzlELGVBQWU7QUFDZiw0QkFBNEI7QUFDNUIsZ0RBQWdEO0FBQ2hELG1DQUFtQztBQUNuQyxZQUFZO0FBQ2Q7QUFFTyxTQUFTeUcsVUFBVXZHLFlBQVksRUFBRStELEVBQUUsRUFBRTFDLElBQUk7SUFDOUNyQixhQUFhd0csb0JBQW9CLEdBQUduRjtJQUNwQ3JCLGFBQWFvRyxnQkFBZ0IsR0FBR3JDO0FBQ2xDO0FBQ08sU0FBUzZCO0lBQ2QsT0FBTztBQUNUO0FBQ08sU0FBU2E7SUFDZCxJQUFJQyxjQUFjO0lBQ2xCLDZDQUE2QztJQUM3QyxPQUFPQTtBQUNUO0FBQ0EsaUVBQWU7SUFDYmhCLFFBQVFBO0lBQ1JZLE9BQU9BO0lBQ1BDLFdBQVdBO0lBQ1h4RyxhQUFhQTtJQUNiNkYsV0FBV0E7SUFDWG5HLE1BQU1BO0lBQ05nSCxxQkFBcUJBO0lBQ3JCbkgsY0FBY0E7QUFDaEIsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jyb2FkY2FzdC1jaGFubmVsL2Rpc3QvZXNub2RlL21ldGhvZHMvc2VydmVyLmpzPzM4NWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3JcIjtcbmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gXCJAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvclwiO1xuLyoqXG4gKiBBIGxvY2FsU3RvcmFnZS1vbmx5IG1ldGhvZCB3aGljaCB1c2VzIGxvY2Fsc3RvcmFnZSBhbmQgaXRzICdzdG9yYWdlJy1ldmVudFxuICogVGhpcyBkb2VzIG5vdCB3b3JrIGluc2lkZSBvZiB3ZWJ3b3JrZXJzIGJlY2F1c2UgdGhleSBoYXZlIG5vIGFjY2VzcyB0byBsb2Nhc3RvcmFnZVxuICogVGhpcyBpcyBiYXNpY2FsbHkgaW1wbGVtZW50ZWQgdG8gc3VwcG9ydCBJRTkgb3IgeW91ciBncmFuZG1vdGhlcnMgdG9hc3Rlci5cbiAqIEBsaW5rIGh0dHBzOi8vY2FuaXVzZS5jb20vI2ZlYXQ9bmFtZXZhbHVlLXN0b3JhZ2VcbiAqIEBsaW5rIGh0dHBzOi8vY2FuaXVzZS5jb20vI2ZlYXQ9aW5kZXhlZGRiXG4gKi9cblxuaW1wb3J0IHsgT2JsaXZpb3VzU2V0IH0gZnJvbSAnb2JsaXZpb3VzLXNldCc7XG5pbXBvcnQgeyBpbyB9IGZyb20gJ3NvY2tldC5pby1jbGllbnQnO1xuaW1wb3J0IHsgZ2V0UHVibGljLCBzaWduIH0gZnJvbSAnQHRvcnVzbGFicy9lY2NyeXB0byc7XG5pbXBvcnQgeyBlbmNyeXB0RGF0YSwgZGVjcnlwdERhdGEsIGtlY2NhazI1NiB9IGZyb20gJ0B0b3J1c2xhYnMvbWV0YWRhdGEtaGVscGVycyc7XG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGZpbGxPcHRpb25zV2l0aERlZmF1bHRzIH0gZnJvbSAnLi4vb3B0aW9ucyc7XG5pbXBvcnQgeyBzbGVlcCwgcmFuZG9tVG9rZW4sIG1pY3JvU2Vjb25kcyBhcyBtaWNybyB9IGZyb20gJy4uL3V0aWwnO1xuZXhwb3J0IHZhciBtaWNyb1NlY29uZHMgPSBtaWNybztcbnZhciBLRVlfUFJFRklYID0gJ3B1YmtleS5icm9hZGNhc3RDaGFubmVsLSc7XG5leHBvcnQgdmFyIHR5cGUgPSAnc2VydmVyJztcbnZhciBTT0NLRVRfQ09OTl9JTlNUQU5DRSA9IG51bGw7XG4vLyB1c2VkIHRvIGRlY2lkZSB0byByZWNvbm5lY3Qgc29ja2V0IGUuZy4gd2hlbiBzb2NrZXQgY29ubmVjdGlvbiBpcyBkaXNjb25uZWN0ZWQgdW5leHBlY3RlZGx5XG52YXIgcnVubmluZ0NoYW5uZWxzID0gbmV3IFNldCgpO1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3JhZ2VLZXkoY2hhbm5lbE5hbWUpIHtcbiAgcmV0dXJuIEtFWV9QUkVGSVggKyBjaGFubmVsTmFtZTtcbn1cblxuLyoqXG4gKiB3cml0ZXMgdGhlIG5ldyBtZXNzYWdlIHRvIHRoZSBzdG9yYWdlXG4gKiBhbmQgZmlyZXMgdGhlIHN0b3JhZ2UtZXZlbnQgc28gb3RoZXIgcmVhZGVycyBjYW4gZmluZCBpdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9zdE1lc3NhZ2UoY2hhbm5lbFN0YXRlLCBtZXNzYWdlSnNvbikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XG4gICAgc2xlZXAoKS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgIHZhciBrZXksIGNoYW5uZWxFbmNQcml2S2V5LCBlbmNEYXRhLCBib2R5O1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGtleSA9IHN0b3JhZ2VLZXkoY2hhbm5lbFN0YXRlLmNoYW5uZWxOYW1lKTtcbiAgICAgICAgICAgIGNoYW5uZWxFbmNQcml2S2V5ID0ga2VjY2FrMjU2KEJ1ZmZlci5mcm9tKGtleSwgJ3V0ZjgnKSk7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDtcbiAgICAgICAgICAgIHJldHVybiBlbmNyeXB0RGF0YShjaGFubmVsRW5jUHJpdktleS50b1N0cmluZygnaGV4JyksIHtcbiAgICAgICAgICAgICAgdG9rZW46IHJhbmRvbVRva2VuKCksXG4gICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICBkYXRhOiBtZXNzYWdlSnNvbixcbiAgICAgICAgICAgICAgdXVpZDogY2hhbm5lbFN0YXRlLnV1aWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIGVuY0RhdGEgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgX2NvbnRleHQudDAgPSBnZXRQdWJsaWMoY2hhbm5lbEVuY1ByaXZLZXkpLnRvU3RyaW5nKCdoZXgnKTtcbiAgICAgICAgICAgIF9jb250ZXh0LnQxID0gZW5jRGF0YTtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5O1xuICAgICAgICAgICAgcmV0dXJuIHNpZ24oY2hhbm5lbEVuY1ByaXZLZXksIGtlY2NhazI1NihCdWZmZXIuZnJvbShlbmNEYXRhLCAndXRmOCcpKSk7XG4gICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgX2NvbnRleHQudDIgPSBfY29udGV4dC5zZW50LnRvU3RyaW5nKCdoZXgnKTtcbiAgICAgICAgICAgIGJvZHkgPSB7XG4gICAgICAgICAgICAgIHNhbWVPcmlnaW5DaGVjazogdHJ1ZSxcbiAgICAgICAgICAgICAgc2FtZUlwQ2hlY2s6IHRydWUsXG4gICAgICAgICAgICAgIGtleTogX2NvbnRleHQudDAsXG4gICAgICAgICAgICAgIGRhdGE6IF9jb250ZXh0LnQxLFxuICAgICAgICAgICAgICBzaWduYXR1cmU6IF9jb250ZXh0LnQyXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNoYW5uZWxTdGF0ZS50aW1lb3V0KSBib2R5LnRpbWVvdXQgPSBjaGFubmVsU3RhdGUudGltZW91dDtcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmV0Y2goY2hhbm5lbFN0YXRlLnNlcnZlclVybCArICcvY2hhbm5lbC9zZXQnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihyZXMpW1wiY2F0Y2hcIl0ocmVqKSk7XG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlKTtcbiAgICB9KSkpO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTb2NrZXRJbnN0YW5jZShzZXJ2ZXJVcmwpIHtcbiAgaWYgKFNPQ0tFVF9DT05OX0lOU1RBTkNFKSB7XG4gICAgcmV0dXJuIFNPQ0tFVF9DT05OX0lOU1RBTkNFO1xuICB9XG4gIHZhciBTT0NLRVRfQ09OTiA9IGlvKHNlcnZlclVybCwge1xuICAgIHRyYW5zcG9ydHM6IFsnd2Vic29ja2V0JywgJ3BvbGxpbmcnXSxcbiAgICAvLyB1c2UgV2ViU29ja2V0IGZpcnN0LCBpZiBhdmFpbGFibGVcbiAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgcmVjb25uZWN0aW9uRGVsYXlNYXg6IDEwMDAwLFxuICAgIHJlY29ubmVjdGlvbkF0dGVtcHRzOiAxMFxuICB9KTtcbiAgU09DS0VUX0NPTk4ub24oJ2Nvbm5lY3RfZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgLy8gcmV2ZXJ0IHRvIGNsYXNzaWMgdXBncmFkZVxuICAgIFNPQ0tFVF9DT05OLmlvLm9wdHMudHJhbnNwb3J0cyA9IFsncG9sbGluZycsICd3ZWJzb2NrZXQnXTtcbiAgICBsb2cuZXJyb3IoJ2Nvbm5lY3QgZXJyb3InLCBlcnIpO1xuICB9KTtcbiAgU09DS0VUX0NPTk4ub24oJ2Nvbm5lY3QnLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7XG4gICAgdmFyIGVuZ2luZTtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGVuZ2luZSA9IFNPQ0tFVF9DT05OLmlvLmVuZ2luZTtcbiAgICAgICAgICBsb2cuZGVidWcoJ2luaXRpYWxseSBjb25uZWN0ZWQgdG8nLCBlbmdpbmUudHJhbnNwb3J0Lm5hbWUpOyAvLyBpbiBtb3N0IGNhc2VzLCBwcmludHMgXCJwb2xsaW5nXCJcbiAgICAgICAgICBlbmdpbmUub25jZSgndXBncmFkZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGNhbGxlZCB3aGVuIHRoZSB0cmFuc3BvcnQgaXMgdXBncmFkZWQgKGkuZS4gZnJvbSBIVFRQIGxvbmctcG9sbGluZyB0byBXZWJTb2NrZXQpXG4gICAgICAgICAgICBsb2cuZGVidWcoJ3VwZ3JhZGVkJywgZW5naW5lLnRyYW5zcG9ydC5uYW1lKTsgLy8gaW4gbW9zdCBjYXNlcywgcHJpbnRzIFwid2Vic29ja2V0XCJcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGVuZ2luZS5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgIC8vIGNhbGxlZCB3aGVuIHRoZSB1bmRlcmx5aW5nIGNvbm5lY3Rpb24gaXMgY2xvc2VkXG4gICAgICAgICAgICBsb2cuZGVidWcoJ2Nvbm5lY3Rpb24gY2xvc2VkJywgcmVhc29uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTIpO1xuICB9KSkpO1xuICBTT0NLRVRfQ09OTi5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgbG9nLmVycm9yKCdzb2NrZXQgZXJyb3JlZCcsIGVycik7XG4gICAgU09DS0VUX0NPTk4uZGlzY29ubmVjdCgpO1xuICB9KTtcbiAgU09DS0VUX0NPTk5fSU5TVEFOQ0UgPSBTT0NLRVRfQ09OTjtcbiAgcmV0dXJuIFNPQ0tFVF9DT05OO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwU29ja2V0Q29ubmVjdGlvbihzZXJ2ZXJVcmwsIGNoYW5uZWxTdGF0ZSwgZm4pIHtcbiAgdmFyIHNvY2tldENvbm4gPSBnZXRTb2NrZXRJbnN0YW5jZShzZXJ2ZXJVcmwpO1xuICB2YXIga2V5ID0gc3RvcmFnZUtleShjaGFubmVsU3RhdGUuY2hhbm5lbE5hbWUpO1xuICB2YXIgY2hhbm5lbEVuY1ByaXZLZXkgPSBrZWNjYWsyNTYoQnVmZmVyLmZyb20oa2V5LCAndXRmOCcpKTtcbiAgdmFyIGNoYW5uZWxQdWJLZXkgPSBnZXRQdWJsaWMoY2hhbm5lbEVuY1ByaXZLZXkpLnRvU3RyaW5nKCdoZXgnKTtcbiAgaWYgKHNvY2tldENvbm4uY29ubmVjdGVkKSB7XG4gICAgc29ja2V0Q29ubi5lbWl0KCdjaGVja19hdXRoX3N0YXR1cycsIGNoYW5uZWxQdWJLZXksIHtcbiAgICAgIHNhbWVPcmlnaW5DaGVjazogdHJ1ZSxcbiAgICAgIHNhbWVJcENoZWNrOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc29ja2V0Q29ubi5vbmNlKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgbG9nLmRlYnVnKCdjb25uZWN0ZWQgd2l0aCBzb2NrZXQnKTtcbiAgICAgIHNvY2tldENvbm4uZW1pdCgnY2hlY2tfYXV0aF9zdGF0dXMnLCBjaGFubmVsUHViS2V5LCB7XG4gICAgICAgIHNhbWVPcmlnaW5DaGVjazogdHJ1ZSxcbiAgICAgICAgc2FtZUlwQ2hlY2s6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHZhciByZWNvbm5lY3QgPSBmdW5jdGlvbiByZWNvbm5lY3QoKSB7XG4gICAgc29ja2V0Q29ubi5vbmNlKCdjb25uZWN0JywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkge1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpZiAocnVubmluZ0NoYW5uZWxzLmhhcyhjaGFubmVsU3RhdGUuY2hhbm5lbE5hbWUpKSB7XG4gICAgICAgICAgICAgIHNvY2tldENvbm4uZW1pdCgnY2hlY2tfYXV0aF9zdGF0dXMnLCBjaGFubmVsUHViS2V5LCB7XG4gICAgICAgICAgICAgICAgc2FtZU9yaWdpbkNoZWNrOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNhbWVJcENoZWNrOiB0cnVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTMpO1xuICAgIH0pKSk7XG4gIH07XG4gIHZhciB2aXNpYmlsaXR5TGlzdGVuZXIgPSBmdW5jdGlvbiB2aXNpYmlsaXR5TGlzdGVuZXIoKSB7XG4gICAgLy8gaWYgY2hhbm5lbCBpcyBjbG9zZWQsIHRoZW4gcmVtb3ZlIHRoZSBsaXN0ZW5lci5cbiAgICBpZiAoIXNvY2tldENvbm4gfHwgIXJ1bm5pbmdDaGFubmVscy5oYXMoY2hhbm5lbFN0YXRlLmNoYW5uZWxOYW1lKSkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHZpc2liaWxpdHlMaXN0ZW5lcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIG5vdCBjb25uZWN0ZWQsIHRoZW4gd2FpdCBmb3IgY29ubmVjdGlvbiBhbmQgcGluZyBzZXJ2ZXIgZm9yIGxhdGVzdCBtc2cuXG4gICAgaWYgKCFzb2NrZXRDb25uLmNvbm5lY3RlZCAmJiBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICd2aXNpYmxlJykge1xuICAgICAgcmVjb25uZWN0KCk7XG4gICAgfVxuICB9O1xuICB2YXIgbGlzdGVuZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KGV2KSB7XG4gICAgICB2YXIgZGVjRGF0YTtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAwO1xuICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzO1xuICAgICAgICAgICAgcmV0dXJuIGRlY3J5cHREYXRhKGNoYW5uZWxFbmNQcml2S2V5LnRvU3RyaW5nKCdoZXgnKSwgZXYpO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGRlY0RhdGEgPSBfY29udGV4dDQuc2VudDtcbiAgICAgICAgICAgIGxvZy5pbmZvKGRlY0RhdGEpO1xuICAgICAgICAgICAgZm4oZGVjRGF0YSk7XG4gICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDExO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA4O1xuICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0W1wiY2F0Y2hcIl0oMCk7XG4gICAgICAgICAgICBsb2cuZXJyb3IoX2NvbnRleHQ0LnQwKTtcbiAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1swLCA4XV0pO1xuICAgIH0pKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gbGlzdGVuZXIoX3gpIHtcbiAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0oKTtcbiAgc29ja2V0Q29ubi5vbignZGlzY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICBsb2cuZGVidWcoJ3NvY2tldCBkaXNjb25uZWN0ZWQnKTtcbiAgICBpZiAocnVubmluZ0NoYW5uZWxzLmhhcyhjaGFubmVsU3RhdGUuY2hhbm5lbE5hbWUpKSB7XG4gICAgICBsb2cuZXJyb3IoJ3NvY2tldCBkaXNjb25uZWN0ZWQgdW5leHBlY3RlZGx5LCByZWNvbm5lY3Rpbmcgc29ja2V0Jyk7XG4gICAgICByZWNvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xuICBzb2NrZXRDb25uLm9uKGNoYW5uZWxQdWJLZXkgKyBcIl9zdWNjZXNzXCIsIGxpc3RlbmVyKTtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB2aXNpYmlsaXR5TGlzdGVuZXIpO1xuICByZXR1cm4gc29ja2V0Q29ubjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVTdG9yYWdlRXZlbnRMaXN0ZW5lcigpIHtcbiAgaWYgKFNPQ0tFVF9DT05OX0lOU1RBTkNFKSB7XG4gICAgU09DS0VUX0NPTk5fSU5TVEFOQ0UuZGlzY29ubmVjdCgpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGNoYW5uZWxOYW1lLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBmaWxsT3B0aW9uc1dpdGhEZWZhdWx0cyhvcHRpb25zKTtcbiAgaWYgKCFjYW5CZVVzZWQob3B0aW9ucykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jyb2FkY2FzdENoYW5uZWw6IHNlcnZlciBjYW5ub3QgYmUgdXNlZCcpO1xuICB9XG4gIHZhciB1dWlkID0gcmFuZG9tVG9rZW4oKTtcblxuICAvKipcbiAgICogZU1Jc1xuICAgKiBjb250YWlucyBhbGwgbWVzc2FnZXMgdGhhdCBoYXZlIGJlZW4gZW1pdHRlZCBiZWZvcmVcbiAgICogQHR5cGUge09ibGl2aW91c1NldH1cbiAgICovXG4gIHZhciBlTUlzID0gbmV3IE9ibGl2aW91c1NldChvcHRpb25zLnNlcnZlci5yZW1vdmVUaW1lb3V0KTtcbiAgdmFyIHN0YXRlID0ge1xuICAgIGNoYW5uZWxOYW1lOiBjaGFubmVsTmFtZSxcbiAgICB1dWlkOiB1dWlkLFxuICAgIGVNSXM6IGVNSXMsXG4gICAgLy8gZW1pdHRlZE1lc3NhZ2VzSWRzXG4gICAgc2VydmVyVXJsOiBvcHRpb25zLnNlcnZlci51cmxcbiAgfTtcbiAgaWYgKG9wdGlvbnMuc2VydmVyLnRpbWVvdXQpIHN0YXRlLnRpbWVvdXQgPSBvcHRpb25zLnNlcnZlci50aW1lb3V0O1xuICBzZXR1cFNvY2tldENvbm5lY3Rpb24ob3B0aW9ucy5zZXJ2ZXIudXJsLCBzdGF0ZSwgZnVuY3Rpb24gKG1zZ09iaikge1xuICAgIGlmICghc3RhdGUubWVzc2FnZXNDYWxsYmFjaykgcmV0dXJuOyAvLyBubyBsaXN0ZW5lclxuICAgIGlmIChtc2dPYmoudXVpZCA9PT0gc3RhdGUudXVpZCkgcmV0dXJuOyAvLyBvd24gbWVzc2FnZVxuICAgIGlmICghbXNnT2JqLnRva2VuIHx8IHN0YXRlLmVNSXMuaGFzKG1zZ09iai50b2tlbikpIHJldHVybjsgLy8gYWxyZWFkeSBlbWl0dGVkXG4gICAgLy8gaWYgKG1zZ09iai5kYXRhLnRpbWUgJiYgbXNnT2JqLmRhdGEudGltZSA8IHN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2tUaW1lKSByZXR1cm47IC8vIHRvbyBvbGRcblxuICAgIHN0YXRlLmVNSXMuYWRkKG1zZ09iai50b2tlbik7XG4gICAgc3RhdGUubWVzc2FnZXNDYWxsYmFjayhtc2dPYmouZGF0YSk7XG4gIH0pO1xuICBydW5uaW5nQ2hhbm5lbHMuYWRkKGNoYW5uZWxOYW1lKTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlKGNoYW5uZWxTdGF0ZSkge1xuICBydW5uaW5nQ2hhbm5lbHNbXCJkZWxldGVcIl0oY2hhbm5lbFN0YXRlLmNoYW5uZWxOYW1lKTtcbiAgLy8gZ2l2ZSAyIHNlYyBmb3IgYWxsIG1zZ3Mgd2hpY2ggYXJlIGluIHRyYW5zaXQgdG8gYmUgY29uc3VtZWRcbiAgLy8gYnkgcmVjZWl2ZXIuXG4gIC8vIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgLy8gICAgIHJlbW92ZVN0b3JhZ2VFdmVudExpc3RlbmVyKGNoYW5uZWxTdGF0ZSk7XG4gIC8vICAgICBTT0NLRVRfQ09OTl9JTlNUQU5DRSA9IG51bGw7XG4gIC8vIH0sIDEwMDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25NZXNzYWdlKGNoYW5uZWxTdGF0ZSwgZm4sIHRpbWUpIHtcbiAgY2hhbm5lbFN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2tUaW1lID0gdGltZTtcbiAgY2hhbm5lbFN0YXRlLm1lc3NhZ2VzQ2FsbGJhY2sgPSBmbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYW5CZVVzZWQoKSB7XG4gIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGF2ZXJhZ2VSZXNwb25zZVRpbWUoKSB7XG4gIHZhciBkZWZhdWx0VGltZSA9IDUwMDtcbiAgLy8gVE9ETzogTWF5YmUgaW5jcmVhc2UgaXQgYmFzZWQgb24gb3BlcmF0aW9uXG4gIHJldHVybiBkZWZhdWx0VGltZTtcbn1cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY3JlYXRlOiBjcmVhdGUsXG4gIGNsb3NlOiBjbG9zZSxcbiAgb25NZXNzYWdlOiBvbk1lc3NhZ2UsXG4gIHBvc3RNZXNzYWdlOiBwb3N0TWVzc2FnZSxcbiAgY2FuQmVVc2VkOiBjYW5CZVVzZWQsXG4gIHR5cGU6IHR5cGUsXG4gIGF2ZXJhZ2VSZXNwb25zZVRpbWU6IGF2ZXJhZ2VSZXNwb25zZVRpbWUsXG4gIG1pY3JvU2Vjb25kczogbWljcm9TZWNvbmRzXG59OyJdLCJuYW1lcyI6WyJfYXN5bmNUb0dlbmVyYXRvciIsIl9yZWdlbmVyYXRvclJ1bnRpbWUiLCJPYmxpdmlvdXNTZXQiLCJpbyIsImdldFB1YmxpYyIsInNpZ24iLCJlbmNyeXB0RGF0YSIsImRlY3J5cHREYXRhIiwia2VjY2FrMjU2IiwibG9nIiwiZmlsbE9wdGlvbnNXaXRoRGVmYXVsdHMiLCJzbGVlcCIsInJhbmRvbVRva2VuIiwibWljcm9TZWNvbmRzIiwibWljcm8iLCJLRVlfUFJFRklYIiwidHlwZSIsIlNPQ0tFVF9DT05OX0lOU1RBTkNFIiwicnVubmluZ0NoYW5uZWxzIiwiU2V0Iiwic3RvcmFnZUtleSIsImNoYW5uZWxOYW1lIiwicG9zdE1lc3NhZ2UiLCJjaGFubmVsU3RhdGUiLCJtZXNzYWdlSnNvbiIsIlByb21pc2UiLCJyZXMiLCJyZWoiLCJ0aGVuIiwibWFyayIsIl9jYWxsZWUiLCJrZXkiLCJjaGFubmVsRW5jUHJpdktleSIsImVuY0RhdGEiLCJib2R5Iiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsInRva2VuIiwidGltZSIsIkRhdGUiLCJnZXRUaW1lIiwiZGF0YSIsInV1aWQiLCJzZW50IiwidDAiLCJ0MSIsInQyIiwic2FtZU9yaWdpbkNoZWNrIiwic2FtZUlwQ2hlY2siLCJzaWduYXR1cmUiLCJ0aW1lb3V0IiwiYWJydXB0IiwiZmV0Y2giLCJzZXJ2ZXJVcmwiLCJtZXRob2QiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsInN0b3AiLCJnZXRTb2NrZXRJbnN0YW5jZSIsIlNPQ0tFVF9DT05OIiwidHJhbnNwb3J0cyIsIndpdGhDcmVkZW50aWFscyIsInJlY29ubmVjdGlvbkRlbGF5TWF4IiwicmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJvbiIsImVyciIsIm9wdHMiLCJlcnJvciIsIl9jYWxsZWUyIiwiZW5naW5lIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiZGVidWciLCJ0cmFuc3BvcnQiLCJuYW1lIiwib25jZSIsInJlYXNvbiIsImRpc2Nvbm5lY3QiLCJzZXR1cFNvY2tldENvbm5lY3Rpb24iLCJmbiIsInNvY2tldENvbm4iLCJjaGFubmVsUHViS2V5IiwiY29ubmVjdGVkIiwiZW1pdCIsInJlY29ubmVjdCIsIl9jYWxsZWUzIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiaGFzIiwidmlzaWJpbGl0eUxpc3RlbmVyIiwiZG9jdW1lbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidmlzaWJpbGl0eVN0YXRlIiwibGlzdGVuZXIiLCJfcmVmNCIsIl9jYWxsZWU0IiwiZXYiLCJkZWNEYXRhIiwiX2NhbGxlZTQkIiwiX2NvbnRleHQ0IiwiaW5mbyIsIl94IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlU3RvcmFnZUV2ZW50TGlzdGVuZXIiLCJjcmVhdGUiLCJvcHRpb25zIiwiY2FuQmVVc2VkIiwiRXJyb3IiLCJlTUlzIiwic2VydmVyIiwicmVtb3ZlVGltZW91dCIsInN0YXRlIiwidXJsIiwibXNnT2JqIiwibWVzc2FnZXNDYWxsYmFjayIsImFkZCIsImNsb3NlIiwib25NZXNzYWdlIiwibWVzc2FnZXNDYWxsYmFja1RpbWUiLCJhdmVyYWdlUmVzcG9uc2VUaW1lIiwiZGVmYXVsdFRpbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/server.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/simulate.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/simulate.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   averageResponseTime: () => (/* binding */ averageResponseTime),\n/* harmony export */   canBeUsed: () => (/* binding */ canBeUsed),\n/* harmony export */   close: () => (/* binding */ close),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   microSeconds: () => (/* binding */ microSeconds),\n/* harmony export */   onMessage: () => (/* binding */ onMessage),\n/* harmony export */   postMessage: () => (/* binding */ postMessage),\n/* harmony export */   type: () => (/* binding */ type)\n/* harmony export */ });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/util.js\");\n\nvar microSeconds = _util__WEBPACK_IMPORTED_MODULE_0__.microSeconds;\nvar type = \"simulate\";\nvar SIMULATE_CHANNELS = new Set();\nfunction create(channelName) {\n    var state = {\n        name: channelName,\n        messagesCallback: null\n    };\n    SIMULATE_CHANNELS.add(state);\n    return state;\n}\nfunction close(channelState) {\n    SIMULATE_CHANNELS[\"delete\"](channelState);\n}\nfunction postMessage(channelState, messageJson) {\n    return new Promise(function(res) {\n        return setTimeout(function() {\n            var channelArray = Array.from(SIMULATE_CHANNELS);\n            channelArray.filter(function(channel) {\n                return channel.name === channelState.name;\n            }).filter(function(channel) {\n                return channel !== channelState;\n            }).filter(function(channel) {\n                return !!channel.messagesCallback;\n            }).forEach(function(channel) {\n                return channel.messagesCallback(messageJson);\n            });\n            res();\n        }, 5);\n    });\n}\nfunction onMessage(channelState, fn) {\n    channelState.messagesCallback = fn;\n}\nfunction canBeUsed() {\n    return true;\n}\nfunction averageResponseTime() {\n    return 5;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    create: create,\n    close: close,\n    onMessage: onMessage,\n    postMessage: postMessage,\n    canBeUsed: canBeUsed,\n    type: type,\n    averageResponseTime: averageResponseTime,\n    microSeconds: microSeconds\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9tZXRob2RzL3NpbXVsYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDekMsSUFBSUEsZUFBZUMsK0NBQUtBLENBQUM7QUFDekIsSUFBSUMsT0FBTyxXQUFXO0FBQzdCLElBQUlDLG9CQUFvQixJQUFJQztBQUNyQixTQUFTQyxPQUFPQyxXQUFXO0lBQ2hDLElBQUlDLFFBQVE7UUFDVkMsTUFBTUY7UUFDTkcsa0JBQWtCO0lBQ3BCO0lBQ0FOLGtCQUFrQk8sR0FBRyxDQUFDSDtJQUN0QixPQUFPQTtBQUNUO0FBQ08sU0FBU0ksTUFBTUMsWUFBWTtJQUNoQ1QsaUJBQWlCLENBQUMsU0FBUyxDQUFDUztBQUM5QjtBQUNPLFNBQVNDLFlBQVlELFlBQVksRUFBRUUsV0FBVztJQUNuRCxPQUFPLElBQUlDLFFBQVEsU0FBVUMsR0FBRztRQUM5QixPQUFPQyxXQUFXO1lBQ2hCLElBQUlDLGVBQWVDLE1BQU1DLElBQUksQ0FBQ2pCO1lBQzlCZSxhQUFhRyxNQUFNLENBQUMsU0FBVUMsT0FBTztnQkFDbkMsT0FBT0EsUUFBUWQsSUFBSSxLQUFLSSxhQUFhSixJQUFJO1lBQzNDLEdBQUdhLE1BQU0sQ0FBQyxTQUFVQyxPQUFPO2dCQUN6QixPQUFPQSxZQUFZVjtZQUNyQixHQUFHUyxNQUFNLENBQUMsU0FBVUMsT0FBTztnQkFDekIsT0FBTyxDQUFDLENBQUNBLFFBQVFiLGdCQUFnQjtZQUNuQyxHQUFHYyxPQUFPLENBQUMsU0FBVUQsT0FBTztnQkFDMUIsT0FBT0EsUUFBUWIsZ0JBQWdCLENBQUNLO1lBQ2xDO1lBQ0FFO1FBQ0YsR0FBRztJQUNMO0FBQ0Y7QUFDTyxTQUFTUSxVQUFVWixZQUFZLEVBQUVhLEVBQUU7SUFDeENiLGFBQWFILGdCQUFnQixHQUFHZ0I7QUFDbEM7QUFDTyxTQUFTQztJQUNkLE9BQU87QUFDVDtBQUNPLFNBQVNDO0lBQ2QsT0FBTztBQUNUO0FBQ0EsaUVBQWU7SUFDYnRCLFFBQVFBO0lBQ1JNLE9BQU9BO0lBQ1BhLFdBQVdBO0lBQ1hYLGFBQWFBO0lBQ2JhLFdBQVdBO0lBQ1h4QixNQUFNQTtJQUNOeUIscUJBQXFCQTtJQUNyQjNCLGNBQWNBO0FBQ2hCLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvY2tldGgvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9tZXRob2RzL3NpbXVsYXRlLmpzPzI5MDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWljcm9TZWNvbmRzIGFzIG1pY3JvIH0gZnJvbSAnLi4vdXRpbCc7XG5leHBvcnQgdmFyIG1pY3JvU2Vjb25kcyA9IG1pY3JvO1xuZXhwb3J0IHZhciB0eXBlID0gJ3NpbXVsYXRlJztcbnZhciBTSU1VTEFURV9DSEFOTkVMUyA9IG5ldyBTZXQoKTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoY2hhbm5lbE5hbWUpIHtcbiAgdmFyIHN0YXRlID0ge1xuICAgIG5hbWU6IGNoYW5uZWxOYW1lLFxuICAgIG1lc3NhZ2VzQ2FsbGJhY2s6IG51bGxcbiAgfTtcbiAgU0lNVUxBVEVfQ0hBTk5FTFMuYWRkKHN0YXRlKTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlKGNoYW5uZWxTdGF0ZSkge1xuICBTSU1VTEFURV9DSEFOTkVMU1tcImRlbGV0ZVwiXShjaGFubmVsU3RhdGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvc3RNZXNzYWdlKGNoYW5uZWxTdGF0ZSwgbWVzc2FnZUpzb24pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY2hhbm5lbEFycmF5ID0gQXJyYXkuZnJvbShTSU1VTEFURV9DSEFOTkVMUyk7XG4gICAgICBjaGFubmVsQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChjaGFubmVsKSB7XG4gICAgICAgIHJldHVybiBjaGFubmVsLm5hbWUgPT09IGNoYW5uZWxTdGF0ZS5uYW1lO1xuICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChjaGFubmVsKSB7XG4gICAgICAgIHJldHVybiBjaGFubmVsICE9PSBjaGFubmVsU3RhdGU7XG4gICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGNoYW5uZWwpIHtcbiAgICAgICAgcmV0dXJuICEhY2hhbm5lbC5tZXNzYWdlc0NhbGxiYWNrO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbCkge1xuICAgICAgICByZXR1cm4gY2hhbm5lbC5tZXNzYWdlc0NhbGxiYWNrKG1lc3NhZ2VKc29uKTtcbiAgICAgIH0pO1xuICAgICAgcmVzKCk7XG4gICAgfSwgNSk7XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9uTWVzc2FnZShjaGFubmVsU3RhdGUsIGZuKSB7XG4gIGNoYW5uZWxTdGF0ZS5tZXNzYWdlc0NhbGxiYWNrID0gZm47XG59XG5leHBvcnQgZnVuY3Rpb24gY2FuQmVVc2VkKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhdmVyYWdlUmVzcG9uc2VUaW1lKCkge1xuICByZXR1cm4gNTtcbn1cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY3JlYXRlOiBjcmVhdGUsXG4gIGNsb3NlOiBjbG9zZSxcbiAgb25NZXNzYWdlOiBvbk1lc3NhZ2UsXG4gIHBvc3RNZXNzYWdlOiBwb3N0TWVzc2FnZSxcbiAgY2FuQmVVc2VkOiBjYW5CZVVzZWQsXG4gIHR5cGU6IHR5cGUsXG4gIGF2ZXJhZ2VSZXNwb25zZVRpbWU6IGF2ZXJhZ2VSZXNwb25zZVRpbWUsXG4gIG1pY3JvU2Vjb25kczogbWljcm9TZWNvbmRzXG59OyJdLCJuYW1lcyI6WyJtaWNyb1NlY29uZHMiLCJtaWNybyIsInR5cGUiLCJTSU1VTEFURV9DSEFOTkVMUyIsIlNldCIsImNyZWF0ZSIsImNoYW5uZWxOYW1lIiwic3RhdGUiLCJuYW1lIiwibWVzc2FnZXNDYWxsYmFjayIsImFkZCIsImNsb3NlIiwiY2hhbm5lbFN0YXRlIiwicG9zdE1lc3NhZ2UiLCJtZXNzYWdlSnNvbiIsIlByb21pc2UiLCJyZXMiLCJzZXRUaW1lb3V0IiwiY2hhbm5lbEFycmF5IiwiQXJyYXkiLCJmcm9tIiwiZmlsdGVyIiwiY2hhbm5lbCIsImZvckVhY2giLCJvbk1lc3NhZ2UiLCJmbiIsImNhbkJlVXNlZCIsImF2ZXJhZ2VSZXNwb25zZVRpbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/methods/simulate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/options.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@toruslabs/broadcast-channel/dist/esnode/options.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fillOptionsWithDefaults: () => (/* binding */ fillOptionsWithDefaults)\n/* harmony export */ });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/util.js\");\n\nfunction fillOptionsWithDefaults() {\n    var originalOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = JSON.parse(JSON.stringify(originalOptions));\n    if (typeof options.support3PC === \"undefined\") options.support3PC = (0,_util__WEBPACK_IMPORTED_MODULE_0__.are3PCSupported)();\n    // main\n    if (typeof options.webWorkerSupport === \"undefined\") options.webWorkerSupport = true;\n    // indexed-db\n    if (!options.idb) options.idb = {};\n    //  after this time the messages get deleted\n    if (!options.idb.ttl) options.idb.ttl = 1000 * 45;\n    if (!options.idb.fallbackInterval) options.idb.fallbackInterval = 150;\n    //  handles abrupt db onclose events.\n    if (originalOptions.idb && typeof originalOptions.idb.onclose === \"function\") options.idb.onclose = originalOptions.idb.onclose;\n    // localstorage\n    if (!options.localstorage) options.localstorage = {};\n    if (!options.localstorage.removeTimeout) options.localstorage.removeTimeout = 1000 * 60;\n    // server\n    if (!options.server) options.server = {};\n    if (!options.server.url) options.server.url = \"https://broadcast-server.tor.us\";\n    if (!options.server.removeTimeout) options.server.removeTimeout = 1000 * 60 * 5; // 5 minutes\n    // custom methods\n    if (originalOptions.methods) options.methods = originalOptions.methods;\n    return options;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS9vcHRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlDO0FBQ2xDLFNBQVNDO0lBQ2QsSUFBSUMsa0JBQWtCQyxVQUFVQyxNQUFNLEdBQUcsS0FBS0QsU0FBUyxDQUFDLEVBQUUsS0FBS0UsWUFBWUYsU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDO0lBQzNGLElBQUlHLFVBQVVDLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsU0FBUyxDQUFDUDtJQUN4QyxJQUFJLE9BQU9JLFFBQVFJLFVBQVUsS0FBSyxhQUFhSixRQUFRSSxVQUFVLEdBQUdWLHNEQUFlQTtJQUVuRixPQUFPO0lBQ1AsSUFBSSxPQUFPTSxRQUFRSyxnQkFBZ0IsS0FBSyxhQUFhTCxRQUFRSyxnQkFBZ0IsR0FBRztJQUVoRixhQUFhO0lBQ2IsSUFBSSxDQUFDTCxRQUFRTSxHQUFHLEVBQUVOLFFBQVFNLEdBQUcsR0FBRyxDQUFDO0lBQ2pDLDRDQUE0QztJQUM1QyxJQUFJLENBQUNOLFFBQVFNLEdBQUcsQ0FBQ0MsR0FBRyxFQUFFUCxRQUFRTSxHQUFHLENBQUNDLEdBQUcsR0FBRyxPQUFPO0lBQy9DLElBQUksQ0FBQ1AsUUFBUU0sR0FBRyxDQUFDRSxnQkFBZ0IsRUFBRVIsUUFBUU0sR0FBRyxDQUFDRSxnQkFBZ0IsR0FBRztJQUNsRSxxQ0FBcUM7SUFDckMsSUFBSVosZ0JBQWdCVSxHQUFHLElBQUksT0FBT1YsZ0JBQWdCVSxHQUFHLENBQUNHLE9BQU8sS0FBSyxZQUFZVCxRQUFRTSxHQUFHLENBQUNHLE9BQU8sR0FBR2IsZ0JBQWdCVSxHQUFHLENBQUNHLE9BQU87SUFFL0gsZUFBZTtJQUNmLElBQUksQ0FBQ1QsUUFBUVUsWUFBWSxFQUFFVixRQUFRVSxZQUFZLEdBQUcsQ0FBQztJQUNuRCxJQUFJLENBQUNWLFFBQVFVLFlBQVksQ0FBQ0MsYUFBYSxFQUFFWCxRQUFRVSxZQUFZLENBQUNDLGFBQWEsR0FBRyxPQUFPO0lBRXJGLFNBQVM7SUFDVCxJQUFJLENBQUNYLFFBQVFZLE1BQU0sRUFBRVosUUFBUVksTUFBTSxHQUFHLENBQUM7SUFDdkMsSUFBSSxDQUFDWixRQUFRWSxNQUFNLENBQUNDLEdBQUcsRUFBRWIsUUFBUVksTUFBTSxDQUFDQyxHQUFHLEdBQUc7SUFDOUMsSUFBSSxDQUFDYixRQUFRWSxNQUFNLENBQUNELGFBQWEsRUFBRVgsUUFBUVksTUFBTSxDQUFDRCxhQUFhLEdBQUcsT0FBTyxLQUFLLEdBQUcsWUFBWTtJQUU3RixpQkFBaUI7SUFDakIsSUFBSWYsZ0JBQWdCa0IsT0FBTyxFQUFFZCxRQUFRYyxPQUFPLEdBQUdsQixnQkFBZ0JrQixPQUFPO0lBQ3RFLE9BQU9kO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvYnJvYWRjYXN0LWNoYW5uZWwvZGlzdC9lc25vZGUvb3B0aW9ucy5qcz8yZjk5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFyZTNQQ1N1cHBvcnRlZCB9IGZyb20gJy4vdXRpbCc7XG5leHBvcnQgZnVuY3Rpb24gZmlsbE9wdGlvbnNXaXRoRGVmYXVsdHMoKSB7XG4gIHZhciBvcmlnaW5hbE9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgb3B0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob3JpZ2luYWxPcHRpb25zKSk7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5zdXBwb3J0M1BDID09PSAndW5kZWZpbmVkJykgb3B0aW9ucy5zdXBwb3J0M1BDID0gYXJlM1BDU3VwcG9ydGVkKCk7XG5cbiAgLy8gbWFpblxuICBpZiAodHlwZW9mIG9wdGlvbnMud2ViV29ya2VyU3VwcG9ydCA9PT0gJ3VuZGVmaW5lZCcpIG9wdGlvbnMud2ViV29ya2VyU3VwcG9ydCA9IHRydWU7XG5cbiAgLy8gaW5kZXhlZC1kYlxuICBpZiAoIW9wdGlvbnMuaWRiKSBvcHRpb25zLmlkYiA9IHt9O1xuICAvLyAgYWZ0ZXIgdGhpcyB0aW1lIHRoZSBtZXNzYWdlcyBnZXQgZGVsZXRlZFxuICBpZiAoIW9wdGlvbnMuaWRiLnR0bCkgb3B0aW9ucy5pZGIudHRsID0gMTAwMCAqIDQ1O1xuICBpZiAoIW9wdGlvbnMuaWRiLmZhbGxiYWNrSW50ZXJ2YWwpIG9wdGlvbnMuaWRiLmZhbGxiYWNrSW50ZXJ2YWwgPSAxNTA7XG4gIC8vICBoYW5kbGVzIGFicnVwdCBkYiBvbmNsb3NlIGV2ZW50cy5cbiAgaWYgKG9yaWdpbmFsT3B0aW9ucy5pZGIgJiYgdHlwZW9mIG9yaWdpbmFsT3B0aW9ucy5pZGIub25jbG9zZSA9PT0gJ2Z1bmN0aW9uJykgb3B0aW9ucy5pZGIub25jbG9zZSA9IG9yaWdpbmFsT3B0aW9ucy5pZGIub25jbG9zZTtcblxuICAvLyBsb2NhbHN0b3JhZ2VcbiAgaWYgKCFvcHRpb25zLmxvY2Fsc3RvcmFnZSkgb3B0aW9ucy5sb2NhbHN0b3JhZ2UgPSB7fTtcbiAgaWYgKCFvcHRpb25zLmxvY2Fsc3RvcmFnZS5yZW1vdmVUaW1lb3V0KSBvcHRpb25zLmxvY2Fsc3RvcmFnZS5yZW1vdmVUaW1lb3V0ID0gMTAwMCAqIDYwO1xuXG4gIC8vIHNlcnZlclxuICBpZiAoIW9wdGlvbnMuc2VydmVyKSBvcHRpb25zLnNlcnZlciA9IHt9O1xuICBpZiAoIW9wdGlvbnMuc2VydmVyLnVybCkgb3B0aW9ucy5zZXJ2ZXIudXJsID0gJ2h0dHBzOi8vYnJvYWRjYXN0LXNlcnZlci50b3IudXMnO1xuICBpZiAoIW9wdGlvbnMuc2VydmVyLnJlbW92ZVRpbWVvdXQpIG9wdGlvbnMuc2VydmVyLnJlbW92ZVRpbWVvdXQgPSAxMDAwICogNjAgKiA1OyAvLyA1IG1pbnV0ZXNcblxuICAvLyBjdXN0b20gbWV0aG9kc1xuICBpZiAob3JpZ2luYWxPcHRpb25zLm1ldGhvZHMpIG9wdGlvbnMubWV0aG9kcyA9IG9yaWdpbmFsT3B0aW9ucy5tZXRob2RzO1xuICByZXR1cm4gb3B0aW9ucztcbn0iXSwibmFtZXMiOlsiYXJlM1BDU3VwcG9ydGVkIiwiZmlsbE9wdGlvbnNXaXRoRGVmYXVsdHMiLCJvcmlnaW5hbE9wdGlvbnMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJvcHRpb25zIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5Iiwic3VwcG9ydDNQQyIsIndlYldvcmtlclN1cHBvcnQiLCJpZGIiLCJ0dGwiLCJmYWxsYmFja0ludGVydmFsIiwib25jbG9zZSIsImxvY2Fsc3RvcmFnZSIsInJlbW92ZVRpbWVvdXQiLCJzZXJ2ZXIiLCJ1cmwiLCJtZXRob2RzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/options.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/util.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@toruslabs/broadcast-channel/dist/esnode/util.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PROMISE_RESOLVED_FALSE: () => (/* binding */ PROMISE_RESOLVED_FALSE),\n/* harmony export */   PROMISE_RESOLVED_TRUE: () => (/* binding */ PROMISE_RESOLVED_TRUE),\n/* harmony export */   PROMISE_RESOLVED_VOID: () => (/* binding */ PROMISE_RESOLVED_VOID),\n/* harmony export */   are3PCSupported: () => (/* binding */ are3PCSupported),\n/* harmony export */   isPromise: () => (/* binding */ isPromise),\n/* harmony export */   log: () => (/* binding */ log),\n/* harmony export */   microSeconds: () => (/* binding */ microSeconds),\n/* harmony export */   randomInt: () => (/* binding */ randomInt),\n/* harmony export */   randomToken: () => (/* binding */ randomToken),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel),\n/* harmony export */   sleep: () => (/* binding */ sleep)\n/* harmony export */ });\n/* harmony import */ var bowser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bowser */ \"(ssr)/./node_modules/bowser/src/bowser.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! loglevel */ \"(ssr)/./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\n * returns true if the given object is a promise\n */ function isPromise(obj) {\n    if (obj && typeof obj.then === \"function\") {\n        return true;\n    } else {\n        return false;\n    }\n}\nvar PROMISE_RESOLVED_FALSE = Promise.resolve(false);\nvar PROMISE_RESOLVED_TRUE = Promise.resolve(true);\nvar PROMISE_RESOLVED_VOID = Promise.resolve();\nfunction sleep(time, resolveWith) {\n    if (!time) time = 0;\n    return new Promise(function(res) {\n        return setTimeout(function() {\n            return res(resolveWith);\n        }, time);\n    });\n}\nfunction randomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n/**\n * https://stackoverflow.com/a/8084248\n */ function randomToken() {\n    return Math.random().toString(36).substring(2);\n}\nvar lastMs = 0;\nvar additional = 0;\n/**\n * returns the current time in micro-seconds,\n * WARNING: This is a pseudo-function\n * Performance.now is not reliable in webworkers, so we just make sure to never return the same time.\n * This is enough in browsers, and this function will not be used in nodejs.\n * The main reason for this hack is to ensure that BroadcastChannel behaves equal to production when it is used in fast-running unit tests.\n */ function microSeconds() {\n    var ms = new Date().getTime();\n    if (ms === lastMs) {\n        additional++;\n        return ms * 1000 + additional;\n    } else {\n        lastMs = ms;\n        additional = 0;\n        return ms * 1000;\n    }\n}\nfunction are3PCSupported() {\n    if (typeof navigator === \"undefined\") return false;\n    var browserInfo = bowser__WEBPACK_IMPORTED_MODULE_0__[\"default\"].parse(navigator.userAgent);\n    log.info(JSON.stringify(browserInfo), \"current browser info\");\n    var thirdPartyCookieSupport = true;\n    // brave\n    if (navigator.brave) {\n        thirdPartyCookieSupport = false;\n    }\n    // All webkit & gecko engine instances use itp (intelligent tracking prevention -\n    // https://webkit.org/tracking-prevention/#intelligent-tracking-prevention-itp)\n    if (browserInfo.engine.name === bowser__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ENGINE_MAP.WebKit || browserInfo.engine.name === bowser__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ENGINE_MAP.Gecko) {\n        thirdPartyCookieSupport = false;\n    }\n    return thirdPartyCookieSupport;\n}\nvar log = loglevel__WEBPACK_IMPORTED_MODULE_1___default().getLogger(\"broadcast-channel\");\nlog.setLevel(\"error\");\nvar setLogLevel = function setLogLevel(level) {\n    log.setLevel(level);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS91dGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTRCO0FBQ0k7QUFFaEM7O0NBRUMsR0FDTSxTQUFTRSxVQUFVQyxHQUFHO0lBQzNCLElBQUlBLE9BQU8sT0FBT0EsSUFBSUMsSUFBSSxLQUFLLFlBQVk7UUFDekMsT0FBTztJQUNULE9BQU87UUFDTCxPQUFPO0lBQ1Q7QUFDRjtBQUNPLElBQUlDLHlCQUF5QkMsUUFBUUMsT0FBTyxDQUFDLE9BQU87QUFDcEQsSUFBSUMsd0JBQXdCRixRQUFRQyxPQUFPLENBQUMsTUFBTTtBQUNsRCxJQUFJRSx3QkFBd0JILFFBQVFDLE9BQU8sR0FBRztBQUM5QyxTQUFTRyxNQUFNQyxJQUFJLEVBQUVDLFdBQVc7SUFDckMsSUFBSSxDQUFDRCxNQUFNQSxPQUFPO0lBQ2xCLE9BQU8sSUFBSUwsUUFBUSxTQUFVTyxHQUFHO1FBQzlCLE9BQU9DLFdBQVc7WUFDaEIsT0FBT0QsSUFBSUQ7UUFDYixHQUFHRDtJQUNMO0FBQ0Y7QUFDTyxTQUFTSSxVQUFVQyxHQUFHLEVBQUVDLEdBQUc7SUFDaEMsT0FBT0MsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQU1ILENBQUFBLE1BQU1ELE1BQU0sS0FBS0E7QUFDdEQ7QUFFQTs7Q0FFQyxHQUNNLFNBQVNLO0lBQ2QsT0FBT0gsS0FBS0UsTUFBTSxHQUFHRSxRQUFRLENBQUMsSUFBSUMsU0FBUyxDQUFDO0FBQzlDO0FBQ0EsSUFBSUMsU0FBUztBQUNiLElBQUlDLGFBQWE7QUFFakI7Ozs7OztDQU1DLEdBQ00sU0FBU0M7SUFDZCxJQUFJQyxLQUFLLElBQUlDLE9BQU9DLE9BQU87SUFDM0IsSUFBSUYsT0FBT0gsUUFBUTtRQUNqQkM7UUFDQSxPQUFPRSxLQUFLLE9BQU9GO0lBQ3JCLE9BQU87UUFDTEQsU0FBU0c7UUFDVEYsYUFBYTtRQUNiLE9BQU9FLEtBQUs7SUFDZDtBQUNGO0FBQ08sU0FBU0c7SUFDZCxJQUFJLE9BQU9DLGNBQWMsYUFBYSxPQUFPO0lBQzdDLElBQUlDLGNBQWNoQyw4Q0FBTUEsQ0FBQ2lDLEtBQUssQ0FBQ0YsVUFBVUcsU0FBUztJQUNsREMsSUFBSUMsSUFBSSxDQUFDQyxLQUFLQyxTQUFTLENBQUNOLGNBQWM7SUFDdEMsSUFBSU8sMEJBQTBCO0lBQzlCLFFBQVE7SUFDUixJQUFJUixVQUFVUyxLQUFLLEVBQUU7UUFDbkJELDBCQUEwQjtJQUM1QjtJQUNBLGlGQUFpRjtJQUNqRiwrRUFBK0U7SUFDL0UsSUFBSVAsWUFBWVMsTUFBTSxDQUFDQyxJQUFJLEtBQUsxQyw4Q0FBTUEsQ0FBQzJDLFVBQVUsQ0FBQ0MsTUFBTSxJQUFJWixZQUFZUyxNQUFNLENBQUNDLElBQUksS0FBSzFDLDhDQUFNQSxDQUFDMkMsVUFBVSxDQUFDRSxLQUFLLEVBQUU7UUFDL0dOLDBCQUEwQjtJQUM1QjtJQUNBLE9BQU9BO0FBQ1Q7QUFDTyxJQUFJSixNQUFNbEMseURBQWtCLENBQUMscUJBQXFCO0FBQ3pEa0MsSUFBSVksUUFBUSxDQUFDO0FBQ04sSUFBSUMsY0FBYyxTQUFTQSxZQUFZQyxLQUFLO0lBQ2pEZCxJQUFJWSxRQUFRLENBQUNFO0FBQ2YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvY2tldGgvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9icm9hZGNhc3QtY2hhbm5lbC9kaXN0L2Vzbm9kZS91dGlsLmpzPzlhMzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvd3NlciBmcm9tICdib3dzZXInO1xuaW1wb3J0IGxvZ2xldmVsIGZyb20gJ2xvZ2xldmVsJztcblxuLyoqXG4gKiByZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBhIHByb21pc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZShvYmopIHtcbiAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmV4cG9ydCB2YXIgUFJPTUlTRV9SRVNPTFZFRF9GQUxTRSA9IFByb21pc2UucmVzb2x2ZShmYWxzZSk7XG5leHBvcnQgdmFyIFBST01JU0VfUkVTT0xWRURfVFJVRSA9IFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbmV4cG9ydCB2YXIgUFJPTUlTRV9SRVNPTFZFRF9WT0lEID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5leHBvcnQgZnVuY3Rpb24gc2xlZXAodGltZSwgcmVzb2x2ZVdpdGgpIHtcbiAgaWYgKCF0aW1lKSB0aW1lID0gMDtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzKHJlc29sdmVXaXRoKTtcbiAgICB9LCB0aW1lKTtcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xufVxuXG4vKipcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS84MDg0MjQ4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21Ub2tlbigpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtcbn1cbnZhciBsYXN0TXMgPSAwO1xudmFyIGFkZGl0aW9uYWwgPSAwO1xuXG4vKipcbiAqIHJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWNyby1zZWNvbmRzLFxuICogV0FSTklORzogVGhpcyBpcyBhIHBzZXVkby1mdW5jdGlvblxuICogUGVyZm9ybWFuY2Uubm93IGlzIG5vdCByZWxpYWJsZSBpbiB3ZWJ3b3JrZXJzLCBzbyB3ZSBqdXN0IG1ha2Ugc3VyZSB0byBuZXZlciByZXR1cm4gdGhlIHNhbWUgdGltZS5cbiAqIFRoaXMgaXMgZW5vdWdoIGluIGJyb3dzZXJzLCBhbmQgdGhpcyBmdW5jdGlvbiB3aWxsIG5vdCBiZSB1c2VkIGluIG5vZGVqcy5cbiAqIFRoZSBtYWluIHJlYXNvbiBmb3IgdGhpcyBoYWNrIGlzIHRvIGVuc3VyZSB0aGF0IEJyb2FkY2FzdENoYW5uZWwgYmVoYXZlcyBlcXVhbCB0byBwcm9kdWN0aW9uIHdoZW4gaXQgaXMgdXNlZCBpbiBmYXN0LXJ1bm5pbmcgdW5pdCB0ZXN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1pY3JvU2Vjb25kcygpIHtcbiAgdmFyIG1zID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGlmIChtcyA9PT0gbGFzdE1zKSB7XG4gICAgYWRkaXRpb25hbCsrO1xuICAgIHJldHVybiBtcyAqIDEwMDAgKyBhZGRpdGlvbmFsO1xuICB9IGVsc2Uge1xuICAgIGxhc3RNcyA9IG1zO1xuICAgIGFkZGl0aW9uYWwgPSAwO1xuICAgIHJldHVybiBtcyAqIDEwMDA7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhcmUzUENTdXBwb3J0ZWQoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICB2YXIgYnJvd3NlckluZm8gPSBCb3dzZXIucGFyc2UobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIGxvZy5pbmZvKEpTT04uc3RyaW5naWZ5KGJyb3dzZXJJbmZvKSwgJ2N1cnJlbnQgYnJvd3NlciBpbmZvJyk7XG4gIHZhciB0aGlyZFBhcnR5Q29va2llU3VwcG9ydCA9IHRydWU7XG4gIC8vIGJyYXZlXG4gIGlmIChuYXZpZ2F0b3IuYnJhdmUpIHtcbiAgICB0aGlyZFBhcnR5Q29va2llU3VwcG9ydCA9IGZhbHNlO1xuICB9XG4gIC8vIEFsbCB3ZWJraXQgJiBnZWNrbyBlbmdpbmUgaW5zdGFuY2VzIHVzZSBpdHAgKGludGVsbGlnZW50IHRyYWNraW5nIHByZXZlbnRpb24gLVxuICAvLyBodHRwczovL3dlYmtpdC5vcmcvdHJhY2tpbmctcHJldmVudGlvbi8jaW50ZWxsaWdlbnQtdHJhY2tpbmctcHJldmVudGlvbi1pdHApXG4gIGlmIChicm93c2VySW5mby5lbmdpbmUubmFtZSA9PT0gQm93c2VyLkVOR0lORV9NQVAuV2ViS2l0IHx8IGJyb3dzZXJJbmZvLmVuZ2luZS5uYW1lID09PSBCb3dzZXIuRU5HSU5FX01BUC5HZWNrbykge1xuICAgIHRoaXJkUGFydHlDb29raWVTdXBwb3J0ID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRoaXJkUGFydHlDb29raWVTdXBwb3J0O1xufVxuZXhwb3J0IHZhciBsb2cgPSBsb2dsZXZlbC5nZXRMb2dnZXIoJ2Jyb2FkY2FzdC1jaGFubmVsJyk7XG5sb2cuc2V0TGV2ZWwoJ2Vycm9yJyk7XG5leHBvcnQgdmFyIHNldExvZ0xldmVsID0gZnVuY3Rpb24gc2V0TG9nTGV2ZWwobGV2ZWwpIHtcbiAgbG9nLnNldExldmVsKGxldmVsKTtcbn07Il0sIm5hbWVzIjpbIkJvd3NlciIsImxvZ2xldmVsIiwiaXNQcm9taXNlIiwib2JqIiwidGhlbiIsIlBST01JU0VfUkVTT0xWRURfRkFMU0UiLCJQcm9taXNlIiwicmVzb2x2ZSIsIlBST01JU0VfUkVTT0xWRURfVFJVRSIsIlBST01JU0VfUkVTT0xWRURfVk9JRCIsInNsZWVwIiwidGltZSIsInJlc29sdmVXaXRoIiwicmVzIiwic2V0VGltZW91dCIsInJhbmRvbUludCIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmRvbVRva2VuIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJsYXN0TXMiLCJhZGRpdGlvbmFsIiwibWljcm9TZWNvbmRzIiwibXMiLCJEYXRlIiwiZ2V0VGltZSIsImFyZTNQQ1N1cHBvcnRlZCIsIm5hdmlnYXRvciIsImJyb3dzZXJJbmZvIiwicGFyc2UiLCJ1c2VyQWdlbnQiLCJsb2ciLCJpbmZvIiwiSlNPTiIsInN0cmluZ2lmeSIsInRoaXJkUGFydHlDb29raWVTdXBwb3J0IiwiYnJhdmUiLCJlbmdpbmUiLCJuYW1lIiwiRU5HSU5FX01BUCIsIldlYktpdCIsIkdlY2tvIiwiZ2V0TG9nZ2VyIiwic2V0TGV2ZWwiLCJzZXRMb2dMZXZlbCIsImxldmVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/broadcast-channel/dist/esnode/util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/constants/dist/constants.esm.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@toruslabs/constants/dist/constants.esm.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FND_SERVER: () => (/* binding */ FND_SERVER),\n/* harmony export */   LEGACY_NETWORKS_ROUTE_MAP: () => (/* binding */ LEGACY_NETWORKS_ROUTE_MAP),\n/* harmony export */   METADATA_MAP: () => (/* binding */ METADATA_MAP),\n/* harmony export */   MULTI_CLUSTER_NETWORKS: () => (/* binding */ MULTI_CLUSTER_NETWORKS),\n/* harmony export */   NETWORK_MAP: () => (/* binding */ NETWORK_MAP),\n/* harmony export */   PROXY_CONTRACT_ADDRESS: () => (/* binding */ PROXY_CONTRACT_ADDRESS),\n/* harmony export */   SESSION_SERVER: () => (/* binding */ SESSION_SERVER),\n/* harmony export */   SIGNER_MAP: () => (/* binding */ SIGNER_MAP),\n/* harmony export */   TORUS_LEGACY_NETWORK: () => (/* binding */ TORUS_LEGACY_NETWORK),\n/* harmony export */   TORUS_SAPPHIRE_NETWORK: () => (/* binding */ TORUS_SAPPHIRE_NETWORK),\n/* harmony export */   abi: () => (/* binding */ abi)\n/* harmony export */ });\nconst TORUS_LEGACY_NETWORK = {\n    MAINNET: \"mainnet\",\n    TESTNET: \"testnet\",\n    CYAN: \"cyan\",\n    AQUA: \"aqua\",\n    CELESTE: \"celeste\"\n};\nconst TORUS_SAPPHIRE_NETWORK = {\n    SAPPHIRE_DEVNET: \"sapphire_devnet\",\n    SAPPHIRE_MAINNET: \"sapphire_mainnet\"\n};\nconst PROXY_CONTRACT_ADDRESS = {\n    [TORUS_LEGACY_NETWORK.MAINNET]: \"0xf20336e16B5182637f09821c27BDe29b0AFcfe80\",\n    [TORUS_LEGACY_NETWORK.TESTNET]: \"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A\",\n    [TORUS_LEGACY_NETWORK.CYAN]: \"0x9f072ba19b3370e512aa1b4bfcdaf97283168005\",\n    [TORUS_LEGACY_NETWORK.AQUA]: \"0x29Dea82a0509153b91040ee13cDBba0f03efb625\",\n    [TORUS_LEGACY_NETWORK.CELESTE]: \"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c\"\n};\nconst MULTI_CLUSTER_NETWORKS = [\n    // TORUS_LEGACY_NETWORK.AQUA,\n    TORUS_LEGACY_NETWORK.CELESTE\n];\nconst LEGACY_NETWORKS_ROUTE_MAP = {\n    [TORUS_LEGACY_NETWORK.AQUA]: {\n        migrationCompleted: true,\n        networkIdentifier: \"aqua\",\n        networkMigratedTo: TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET\n    },\n    [TORUS_LEGACY_NETWORK.CELESTE]: {\n        migrationCompleted: false,\n        networkIdentifier: \"celeste\",\n        networkMigratedTo: TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET\n    },\n    [TORUS_LEGACY_NETWORK.CYAN]: {\n        migrationCompleted: true,\n        networkIdentifier: \"cyan\",\n        networkMigratedTo: TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET\n    },\n    [TORUS_LEGACY_NETWORK.MAINNET]: {\n        migrationCompleted: true,\n        networkIdentifier: \"mainnet\",\n        networkMigratedTo: TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET\n    },\n    [TORUS_LEGACY_NETWORK.TESTNET]: {\n        migrationCompleted: true,\n        networkIdentifier: \"teal\",\n        networkMigratedTo: TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET\n    }\n};\nconst NETWORK_MAP = {\n    [TORUS_LEGACY_NETWORK.MAINNET]: \"mainnet\",\n    [TORUS_LEGACY_NETWORK.TESTNET]: \"goerli\",\n    [TORUS_LEGACY_NETWORK.CYAN]: \"polygon-mainnet\",\n    [TORUS_LEGACY_NETWORK.AQUA]: \"polygon-mainnet\",\n    [TORUS_LEGACY_NETWORK.CELESTE]: \"polygon-mainnet\"\n};\nconst SIGNER_MAP = {\n    [TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]: \"https://signer.web3auth.io\",\n    [TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]: \"https://signer.web3auth.io\",\n    [TORUS_LEGACY_NETWORK.MAINNET]: \"https://signer.web3auth.io\",\n    [TORUS_LEGACY_NETWORK.TESTNET]: \"https://signer.web3auth.io\",\n    [TORUS_LEGACY_NETWORK.CYAN]: \"https://signer-polygon.web3auth.io\",\n    [TORUS_LEGACY_NETWORK.AQUA]: \"https://signer-polygon.web3auth.io\",\n    [TORUS_LEGACY_NETWORK.CELESTE]: \"https://signer-polygon.web3auth.io\"\n};\nconst METADATA_MAP = {\n    [TORUS_LEGACY_NETWORK.MAINNET]: \"https://metadata.web3auth.io\",\n    [TORUS_LEGACY_NETWORK.TESTNET]: \"https://metadata.web3auth.io\",\n    [TORUS_LEGACY_NETWORK.CYAN]: \"https://metadata.web3auth.io\",\n    [TORUS_LEGACY_NETWORK.AQUA]: \"https://metadata.web3auth.io\",\n    [TORUS_LEGACY_NETWORK.CELESTE]: \"https://metadata.web3auth.io\"\n};\nconst FND_SERVER = \"https://fnd.web3auth.io\";\nconst SESSION_SERVER = \"https://session.web3auth.io\";\nconst abi = [\n    {\n        inputs: [\n            {\n                internalType: \"string\",\n                name: \"_verifier\",\n                type: \"string\"\n            },\n            {\n                internalType: \"bytes32\",\n                name: \"hashedVerifierId\",\n                type: \"bytes32\"\n            }\n        ],\n        name: \"getNodeSet\",\n        outputs: [\n            {\n                internalType: \"uint256\",\n                name: \"currentEpoch\",\n                type: \"uint256\"\n            },\n            {\n                internalType: \"string[]\",\n                name: \"torusNodeEndpoints\",\n                type: \"string[]\"\n            },\n            {\n                internalType: \"uint256[]\",\n                name: \"torusNodePubX\",\n                type: \"uint256[]\"\n            },\n            {\n                internalType: \"uint256[]\",\n                name: \"torusNodePubY\",\n                type: \"uint256[]\"\n            },\n            {\n                internalType: \"uint256[]\",\n                name: \"torusIndexes\",\n                type: \"uint256[]\"\n            }\n        ],\n        stateMutability: \"view\",\n        type: \"function\"\n    }\n];\n //# sourceMappingURL=constants.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9jb25zdGFudHMvZGlzdC9jb25zdGFudHMuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTUEsdUJBQXVCO0lBQzNCQyxTQUFTO0lBQ1RDLFNBQVM7SUFDVEMsTUFBTTtJQUNOQyxNQUFNO0lBQ05DLFNBQVM7QUFDWDtBQUNBLE1BQU1DLHlCQUF5QjtJQUM3QkMsaUJBQWlCO0lBQ2pCQyxrQkFBa0I7QUFDcEI7QUFDQSxNQUFNQyx5QkFBeUI7SUFDN0IsQ0FBQ1QscUJBQXFCQyxPQUFPLENBQUMsRUFBRTtJQUNoQyxDQUFDRCxxQkFBcUJFLE9BQU8sQ0FBQyxFQUFFO0lBQ2hDLENBQUNGLHFCQUFxQkcsSUFBSSxDQUFDLEVBQUU7SUFDN0IsQ0FBQ0gscUJBQXFCSSxJQUFJLENBQUMsRUFBRTtJQUM3QixDQUFDSixxQkFBcUJLLE9BQU8sQ0FBQyxFQUFFO0FBQ2xDO0FBQ0EsTUFBTUsseUJBQXlCO0lBQy9CLDZCQUE2QjtJQUM3QlYscUJBQXFCSyxPQUFPO0NBRTNCO0FBRUQsTUFBTU0sNEJBQTRCO0lBQ2hDLENBQUNYLHFCQUFxQkksSUFBSSxDQUFDLEVBQUU7UUFDM0JRLG9CQUFvQjtRQUNwQkMsbUJBQW1CO1FBQ25CQyxtQkFBbUJSLHVCQUF1QkUsZ0JBQWdCO0lBQzVEO0lBQ0EsQ0FBQ1IscUJBQXFCSyxPQUFPLENBQUMsRUFBRTtRQUM5Qk8sb0JBQW9CO1FBQ3BCQyxtQkFBbUI7UUFDbkJDLG1CQUFtQlIsdUJBQXVCRSxnQkFBZ0I7SUFDNUQ7SUFDQSxDQUFDUixxQkFBcUJHLElBQUksQ0FBQyxFQUFFO1FBQzNCUyxvQkFBb0I7UUFDcEJDLG1CQUFtQjtRQUNuQkMsbUJBQW1CUix1QkFBdUJFLGdCQUFnQjtJQUM1RDtJQUNBLENBQUNSLHFCQUFxQkMsT0FBTyxDQUFDLEVBQUU7UUFDOUJXLG9CQUFvQjtRQUNwQkMsbUJBQW1CO1FBQ25CQyxtQkFBbUJSLHVCQUF1QkUsZ0JBQWdCO0lBQzVEO0lBQ0EsQ0FBQ1IscUJBQXFCRSxPQUFPLENBQUMsRUFBRTtRQUM5QlUsb0JBQW9CO1FBQ3BCQyxtQkFBbUI7UUFDbkJDLG1CQUFtQlIsdUJBQXVCQyxlQUFlO0lBQzNEO0FBQ0Y7QUFDQSxNQUFNUSxjQUFjO0lBQ2xCLENBQUNmLHFCQUFxQkMsT0FBTyxDQUFDLEVBQUU7SUFDaEMsQ0FBQ0QscUJBQXFCRSxPQUFPLENBQUMsRUFBRTtJQUNoQyxDQUFDRixxQkFBcUJHLElBQUksQ0FBQyxFQUFFO0lBQzdCLENBQUNILHFCQUFxQkksSUFBSSxDQUFDLEVBQUU7SUFDN0IsQ0FBQ0oscUJBQXFCSyxPQUFPLENBQUMsRUFBRTtBQUNsQztBQUNBLE1BQU1XLGFBQWE7SUFDakIsQ0FBQ1YsdUJBQXVCRSxnQkFBZ0IsQ0FBQyxFQUFFO0lBQzNDLENBQUNGLHVCQUF1QkMsZUFBZSxDQUFDLEVBQUU7SUFDMUMsQ0FBQ1AscUJBQXFCQyxPQUFPLENBQUMsRUFBRTtJQUNoQyxDQUFDRCxxQkFBcUJFLE9BQU8sQ0FBQyxFQUFFO0lBQ2hDLENBQUNGLHFCQUFxQkcsSUFBSSxDQUFDLEVBQUU7SUFDN0IsQ0FBQ0gscUJBQXFCSSxJQUFJLENBQUMsRUFBRTtJQUM3QixDQUFDSixxQkFBcUJLLE9BQU8sQ0FBQyxFQUFFO0FBQ2xDO0FBQ0EsTUFBTVksZUFBZTtJQUNuQixDQUFDakIscUJBQXFCQyxPQUFPLENBQUMsRUFBRTtJQUNoQyxDQUFDRCxxQkFBcUJFLE9BQU8sQ0FBQyxFQUFFO0lBQ2hDLENBQUNGLHFCQUFxQkcsSUFBSSxDQUFDLEVBQUU7SUFDN0IsQ0FBQ0gscUJBQXFCSSxJQUFJLENBQUMsRUFBRTtJQUM3QixDQUFDSixxQkFBcUJLLE9BQU8sQ0FBQyxFQUFFO0FBQ2xDO0FBQ0EsTUFBTWEsYUFBYTtBQUNuQixNQUFNQyxpQkFBaUI7QUFFdkIsTUFBTUMsTUFBTTtJQUFDO1FBQ1hDLFFBQVE7WUFBQztnQkFDUEMsY0FBYztnQkFDZEMsTUFBTTtnQkFDTkMsTUFBTTtZQUNSO1lBQUc7Z0JBQ0RGLGNBQWM7Z0JBQ2RDLE1BQU07Z0JBQ05DLE1BQU07WUFDUjtTQUFFO1FBQ0ZELE1BQU07UUFDTkUsU0FBUztZQUFDO2dCQUNSSCxjQUFjO2dCQUNkQyxNQUFNO2dCQUNOQyxNQUFNO1lBQ1I7WUFBRztnQkFDREYsY0FBYztnQkFDZEMsTUFBTTtnQkFDTkMsTUFBTTtZQUNSO1lBQUc7Z0JBQ0RGLGNBQWM7Z0JBQ2RDLE1BQU07Z0JBQ05DLE1BQU07WUFDUjtZQUFHO2dCQUNERixjQUFjO2dCQUNkQyxNQUFNO2dCQUNOQyxNQUFNO1lBQ1I7WUFBRztnQkFDREYsY0FBYztnQkFDZEMsTUFBTTtnQkFDTkMsTUFBTTtZQUNSO1NBQUU7UUFDRkUsaUJBQWlCO1FBQ2pCRixNQUFNO0lBQ1I7Q0FBRTtBQUV5TSxDQUMzTSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvY29uc3RhbnRzL2Rpc3QvY29uc3RhbnRzLmVzbS5qcz8zZTliIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFRPUlVTX0xFR0FDWV9ORVRXT1JLID0ge1xuICBNQUlOTkVUOiBcIm1haW5uZXRcIixcbiAgVEVTVE5FVDogXCJ0ZXN0bmV0XCIsXG4gIENZQU46IFwiY3lhblwiLFxuICBBUVVBOiBcImFxdWFcIixcbiAgQ0VMRVNURTogXCJjZWxlc3RlXCJcbn07XG5jb25zdCBUT1JVU19TQVBQSElSRV9ORVRXT1JLID0ge1xuICBTQVBQSElSRV9ERVZORVQ6IFwic2FwcGhpcmVfZGV2bmV0XCIsXG4gIFNBUFBISVJFX01BSU5ORVQ6IFwic2FwcGhpcmVfbWFpbm5ldFwiXG59O1xuY29uc3QgUFJPWFlfQ09OVFJBQ1RfQUREUkVTUyA9IHtcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLk1BSU5ORVRdOiBcIjB4ZjIwMzM2ZTE2QjUxODI2MzdmMDk4MjFjMjdCRGUyOWIwQUZjZmU4MFwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuVEVTVE5FVF06IFwiMHhkMDg0NjA0ZTVGQTM4N0ZiQzJEYThiQWFiMDdmREQ2YURFRDQ2MTRBXCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5DWUFOXTogXCIweDlmMDcyYmExOWIzMzcwZTUxMmFhMWI0YmZjZGFmOTcyODMxNjgwMDVcIixcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLkFRVUFdOiBcIjB4MjlEZWE4MmEwNTA5MTUzYjkxMDQwZWUxM2NEQmJhMGYwM2VmYjYyNVwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQ0VMRVNURV06IFwiMHg2QmZmYjRlODk0NTMwNjlFNzQ4N2YwZmE1YzlmNGEyRDc3MWNjZTZjXCJcbn07XG5jb25zdCBNVUxUSV9DTFVTVEVSX05FVFdPUktTID0gW1xuLy8gVE9SVVNfTEVHQUNZX05FVFdPUksuQVFVQSxcblRPUlVTX0xFR0FDWV9ORVRXT1JLLkNFTEVTVEVcbi8vIFRPUlVTX0xFR0FDWV9ORVRXT1JLLkNZQU4sXG5dO1xuXG5jb25zdCBMRUdBQ1lfTkVUV09SS1NfUk9VVEVfTUFQID0ge1xuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQVFVQV06IHtcbiAgICBtaWdyYXRpb25Db21wbGV0ZWQ6IHRydWUsXG4gICAgbmV0d29ya0lkZW50aWZpZXI6IFwiYXF1YVwiLFxuICAgIG5ldHdvcmtNaWdyYXRlZFRvOiBUT1JVU19TQVBQSElSRV9ORVRXT1JLLlNBUFBISVJFX01BSU5ORVRcbiAgfSxcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLkNFTEVTVEVdOiB7XG4gICAgbWlncmF0aW9uQ29tcGxldGVkOiBmYWxzZSxcbiAgICBuZXR3b3JrSWRlbnRpZmllcjogXCJjZWxlc3RlXCIsXG4gICAgbmV0d29ya01pZ3JhdGVkVG86IFRPUlVTX1NBUFBISVJFX05FVFdPUksuU0FQUEhJUkVfTUFJTk5FVFxuICB9LFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQ1lBTl06IHtcbiAgICBtaWdyYXRpb25Db21wbGV0ZWQ6IHRydWUsXG4gICAgbmV0d29ya0lkZW50aWZpZXI6IFwiY3lhblwiLFxuICAgIG5ldHdvcmtNaWdyYXRlZFRvOiBUT1JVU19TQVBQSElSRV9ORVRXT1JLLlNBUFBISVJFX01BSU5ORVRcbiAgfSxcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLk1BSU5ORVRdOiB7XG4gICAgbWlncmF0aW9uQ29tcGxldGVkOiB0cnVlLFxuICAgIG5ldHdvcmtJZGVudGlmaWVyOiBcIm1haW5uZXRcIixcbiAgICBuZXR3b3JrTWlncmF0ZWRUbzogVE9SVVNfU0FQUEhJUkVfTkVUV09SSy5TQVBQSElSRV9NQUlOTkVUXG4gIH0sXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5URVNUTkVUXToge1xuICAgIG1pZ3JhdGlvbkNvbXBsZXRlZDogdHJ1ZSxcbiAgICBuZXR3b3JrSWRlbnRpZmllcjogXCJ0ZWFsXCIsXG4gICAgbmV0d29ya01pZ3JhdGVkVG86IFRPUlVTX1NBUFBISVJFX05FVFdPUksuU0FQUEhJUkVfREVWTkVUXG4gIH1cbn07XG5jb25zdCBORVRXT1JLX01BUCA9IHtcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLk1BSU5ORVRdOiBcIm1haW5uZXRcIixcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLlRFU1RORVRdOiBcImdvZXJsaVwiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuQ1lBTl06IFwicG9seWdvbi1tYWlubmV0XCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5BUVVBXTogXCJwb2x5Z29uLW1haW5uZXRcIixcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLkNFTEVTVEVdOiBcInBvbHlnb24tbWFpbm5ldFwiXG59O1xuY29uc3QgU0lHTkVSX01BUCA9IHtcbiAgW1RPUlVTX1NBUFBISVJFX05FVFdPUksuU0FQUEhJUkVfTUFJTk5FVF06IFwiaHR0cHM6Ly9zaWduZXIud2ViM2F1dGguaW9cIixcbiAgW1RPUlVTX1NBUFBISVJFX05FVFdPUksuU0FQUEhJUkVfREVWTkVUXTogXCJodHRwczovL3NpZ25lci53ZWIzYXV0aC5pb1wiLFxuICBbVE9SVVNfTEVHQUNZX05FVFdPUksuTUFJTk5FVF06IFwiaHR0cHM6Ly9zaWduZXIud2ViM2F1dGguaW9cIixcbiAgW1RPUlVTX0xFR0FDWV9ORVRXT1JLLlRFU1RORVRdOiBcImh0dHBzOi8vc2lnbmVyLndlYjNhdXRoLmlvXCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5DWUFOXTogXCJodHRwczovL3NpZ25lci1wb2x5Z29uLndlYjNhdXRoLmlvXCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5BUVVBXTogXCJodHRwczovL3NpZ25lci1wb2x5Z29uLndlYjNhdXRoLmlvXCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5DRUxFU1RFXTogXCJodHRwczovL3NpZ25lci1wb2x5Z29uLndlYjNhdXRoLmlvXCJcbn07XG5jb25zdCBNRVRBREFUQV9NQVAgPSB7XG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5NQUlOTkVUXTogXCJodHRwczovL21ldGFkYXRhLndlYjNhdXRoLmlvXCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5URVNUTkVUXTogXCJodHRwczovL21ldGFkYXRhLndlYjNhdXRoLmlvXCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5DWUFOXTogXCJodHRwczovL21ldGFkYXRhLndlYjNhdXRoLmlvXCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5BUVVBXTogXCJodHRwczovL21ldGFkYXRhLndlYjNhdXRoLmlvXCIsXG4gIFtUT1JVU19MRUdBQ1lfTkVUV09SSy5DRUxFU1RFXTogXCJodHRwczovL21ldGFkYXRhLndlYjNhdXRoLmlvXCJcbn07XG5jb25zdCBGTkRfU0VSVkVSID0gXCJodHRwczovL2ZuZC53ZWIzYXV0aC5pb1wiO1xuY29uc3QgU0VTU0lPTl9TRVJWRVIgPSBcImh0dHBzOi8vc2Vzc2lvbi53ZWIzYXV0aC5pb1wiO1xuXG5jb25zdCBhYmkgPSBbe1xuICBpbnB1dHM6IFt7XG4gICAgaW50ZXJuYWxUeXBlOiBcInN0cmluZ1wiLFxuICAgIG5hbWU6IFwiX3ZlcmlmaWVyXCIsXG4gICAgdHlwZTogXCJzdHJpbmdcIlxuICB9LCB7XG4gICAgaW50ZXJuYWxUeXBlOiBcImJ5dGVzMzJcIixcbiAgICBuYW1lOiBcImhhc2hlZFZlcmlmaWVySWRcIixcbiAgICB0eXBlOiBcImJ5dGVzMzJcIlxuICB9XSxcbiAgbmFtZTogXCJnZXROb2RlU2V0XCIsXG4gIG91dHB1dHM6IFt7XG4gICAgaW50ZXJuYWxUeXBlOiBcInVpbnQyNTZcIixcbiAgICBuYW1lOiBcImN1cnJlbnRFcG9jaFwiLFxuICAgIHR5cGU6IFwidWludDI1NlwiXG4gIH0sIHtcbiAgICBpbnRlcm5hbFR5cGU6IFwic3RyaW5nW11cIixcbiAgICBuYW1lOiBcInRvcnVzTm9kZUVuZHBvaW50c1wiLFxuICAgIHR5cGU6IFwic3RyaW5nW11cIlxuICB9LCB7XG4gICAgaW50ZXJuYWxUeXBlOiBcInVpbnQyNTZbXVwiLFxuICAgIG5hbWU6IFwidG9ydXNOb2RlUHViWFwiLFxuICAgIHR5cGU6IFwidWludDI1NltdXCJcbiAgfSwge1xuICAgIGludGVybmFsVHlwZTogXCJ1aW50MjU2W11cIixcbiAgICBuYW1lOiBcInRvcnVzTm9kZVB1YllcIixcbiAgICB0eXBlOiBcInVpbnQyNTZbXVwiXG4gIH0sIHtcbiAgICBpbnRlcm5hbFR5cGU6IFwidWludDI1NltdXCIsXG4gICAgbmFtZTogXCJ0b3J1c0luZGV4ZXNcIixcbiAgICB0eXBlOiBcInVpbnQyNTZbXVwiXG4gIH1dLFxuICBzdGF0ZU11dGFiaWxpdHk6IFwidmlld1wiLFxuICB0eXBlOiBcImZ1bmN0aW9uXCJcbn1dO1xuXG5leHBvcnQgeyBGTkRfU0VSVkVSLCBMRUdBQ1lfTkVUV09SS1NfUk9VVEVfTUFQLCBNRVRBREFUQV9NQVAsIE1VTFRJX0NMVVNURVJfTkVUV09SS1MsIE5FVFdPUktfTUFQLCBQUk9YWV9DT05UUkFDVF9BRERSRVNTLCBTRVNTSU9OX1NFUlZFUiwgU0lHTkVSX01BUCwgVE9SVVNfTEVHQUNZX05FVFdPUkssIFRPUlVTX1NBUFBISVJFX05FVFdPUkssIGFiaSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJUT1JVU19MRUdBQ1lfTkVUV09SSyIsIk1BSU5ORVQiLCJURVNUTkVUIiwiQ1lBTiIsIkFRVUEiLCJDRUxFU1RFIiwiVE9SVVNfU0FQUEhJUkVfTkVUV09SSyIsIlNBUFBISVJFX0RFVk5FVCIsIlNBUFBISVJFX01BSU5ORVQiLCJQUk9YWV9DT05UUkFDVF9BRERSRVNTIiwiTVVMVElfQ0xVU1RFUl9ORVRXT1JLUyIsIkxFR0FDWV9ORVRXT1JLU19ST1VURV9NQVAiLCJtaWdyYXRpb25Db21wbGV0ZWQiLCJuZXR3b3JrSWRlbnRpZmllciIsIm5ldHdvcmtNaWdyYXRlZFRvIiwiTkVUV09SS19NQVAiLCJTSUdORVJfTUFQIiwiTUVUQURBVEFfTUFQIiwiRk5EX1NFUlZFUiIsIlNFU1NJT05fU0VSVkVSIiwiYWJpIiwiaW5wdXRzIiwiaW50ZXJuYWxUeXBlIiwibmFtZSIsInR5cGUiLCJvdXRwdXRzIiwic3RhdGVNdXRhYmlsaXR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/constants/dist/constants.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/eccrypto/dist/eccrypto.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/@toruslabs/eccrypto/dist/eccrypto.esm.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decrypt: () => (/* binding */ decrypt),\n/* harmony export */   derive: () => (/* binding */ derive),\n/* harmony export */   derivePadded: () => (/* binding */ derivePadded),\n/* harmony export */   deriveUnpadded: () => (/* binding */ deriveUnpadded),\n/* harmony export */   encrypt: () => (/* binding */ encrypt),\n/* harmony export */   generatePrivate: () => (/* binding */ generatePrivate),\n/* harmony export */   getPublic: () => (/* binding */ getPublic),\n/* harmony export */   getPublicCompressed: () => (/* binding */ getPublicCompressed),\n/* harmony export */   sign: () => (/* binding */ sign),\n/* harmony export */   verify: () => (/* binding */ verify)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var elliptic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! elliptic */ \"(ssr)/./node_modules/elliptic/lib/elliptic.js\");\n/* harmony import */ var elliptic__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(elliptic__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst ec = new elliptic__WEBPACK_IMPORTED_MODULE_1__.ec(\"secp256k1\");\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst browserCrypto = global.crypto || global.msCrypto || {};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst subtle = browserCrypto.subtle || browserCrypto.webkitSubtle;\nconst EC_GROUP_ORDER = Buffer.from(\"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\", \"hex\");\nconst ZERO32 = Buffer.alloc(32, 0);\nfunction assert(condition, message) {\n    if (!condition) {\n        throw new Error(message || \"Assertion failed\");\n    }\n}\nfunction isScalar(x) {\n    return Buffer.isBuffer(x) && x.length === 32;\n}\nfunction isValidPrivateKey(privateKey) {\n    if (!isScalar(privateKey)) {\n        return false;\n    }\n    return privateKey.compare(ZERO32) > 0 && // > 0\n    privateKey.compare(EC_GROUP_ORDER) < 0; // < G\n}\n// Compare two buffers in constant time to prevent timing attacks.\nfunction equalConstTime(b1, b2) {\n    if (b1.length !== b2.length) {\n        return false;\n    }\n    let res = 0;\n    for(let i = 0; i < b1.length; i++){\n        res |= b1[i] ^ b2[i]; // jshint ignore:line\n    }\n    return res === 0;\n}\n/* This must check if we're in the browser or\nnot, since the functions are different and does\nnot convert using browserify */ function randomBytes(size) {\n    const arr = new Uint8Array(size);\n    if (typeof browserCrypto.getRandomValues === \"undefined\") {\n        return Buffer.from(crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(size));\n    }\n    browserCrypto.getRandomValues(arr);\n    return Buffer.from(arr);\n}\nasync function sha512(msg) {\n    if (subtle) {\n        const hash = await subtle.digest(\"SHA-512\", msg);\n        const result = new Uint8Array(hash);\n        return result;\n    }\n    const hash = crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash(\"sha512\");\n    const result = hash.update(msg).digest();\n    return new Uint8Array(result);\n}\nfunction getAes(op) {\n    return async function(iv, key, data) {\n        if (subtle) {\n            const importAlgorithm = {\n                name: \"AES-CBC\"\n            };\n            const cryptoKey = await subtle.importKey(\"raw\", key, importAlgorithm, false, [\n                op\n            ]);\n            const encAlgorithm = {\n                name: \"AES-CBC\",\n                iv\n            };\n            const result = await subtle[op](encAlgorithm, cryptoKey, data);\n            return Buffer.from(new Uint8Array(result));\n        } else if (op === \"encrypt\") {\n            const cipher = crypto__WEBPACK_IMPORTED_MODULE_0___default().createCipheriv(\"aes-256-cbc\", key, iv);\n            const firstChunk = cipher.update(data);\n            const secondChunk = cipher.final();\n            return Buffer.concat([\n                firstChunk,\n                secondChunk\n            ]);\n        } else if (op === \"decrypt\") {\n            const decipher = crypto__WEBPACK_IMPORTED_MODULE_0___default().createDecipheriv(\"aes-256-cbc\", key, iv);\n            const firstChunk = decipher.update(data);\n            const secondChunk = decipher.final();\n            return Buffer.concat([\n                firstChunk,\n                secondChunk\n            ]);\n        }\n        throw new Error(`Unsupported operation: ${op}`);\n    };\n}\nconst aesCbcEncrypt = getAes(\"encrypt\");\nconst aesCbcDecrypt = getAes(\"decrypt\");\nasync function hmacSha256Sign(key, msg) {\n    if (subtle) {\n        const importAlgorithm = {\n            name: \"HMAC\",\n            hash: {\n                name: \"SHA-256\"\n            }\n        };\n        const cryptoKey = await subtle.importKey(\"raw\", new Uint8Array(key), importAlgorithm, false, [\n            \"sign\",\n            \"verify\"\n        ]);\n        const sig = await subtle.sign(\"HMAC\", cryptoKey, msg);\n        const result = Buffer.from(new Uint8Array(sig));\n        return result;\n    }\n    const hmac = crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", Buffer.from(key));\n    hmac.update(msg);\n    const result = hmac.digest();\n    return result;\n}\nasync function hmacSha256Verify(key, msg, sig) {\n    const expectedSig = await hmacSha256Sign(key, msg);\n    return equalConstTime(expectedSig, sig);\n}\n/**\n * Generate a new valid private key. Will use the window.crypto or window.msCrypto as source\n * depending on your browser.\n */ const generatePrivate = function() {\n    let privateKey = randomBytes(32);\n    while(!isValidPrivateKey(privateKey)){\n        privateKey = randomBytes(32);\n    }\n    return privateKey;\n};\nconst getPublic = function(privateKey) {\n    // This function has sync API so we throw an error immediately.\n    assert(privateKey.length === 32, \"Bad private key\");\n    assert(isValidPrivateKey(privateKey), \"Bad private key\");\n    // XXX(Kagami): `elliptic.utils.encode` returns array for every\n    // encoding except `hex`.\n    return Buffer.from(ec.keyFromPrivate(privateKey).getPublic(\"array\"));\n};\n/**\n * Get compressed version of public key.\n */ const getPublicCompressed = function(privateKey) {\n    // jshint ignore:line\n    assert(privateKey.length === 32, \"Bad private key\");\n    assert(isValidPrivateKey(privateKey), \"Bad private key\");\n    // See https://github.com/wanderer/secp256k1-node/issues/46\n    const compressed = true;\n    return Buffer.from(ec.keyFromPrivate(privateKey).getPublic(compressed, \"array\"));\n};\n// NOTE(Kagami): We don't use promise shim in Browser implementation\n// because it's supported natively in new browsers (see\n// <http://caniuse.com/#feat=promises>) and we can use only new browsers\n// because of the WebCryptoAPI (see\n// <http://caniuse.com/#feat=cryptography>).\nconst sign = async function(privateKey, msg) {\n    assert(privateKey.length === 32, \"Bad private key\");\n    assert(isValidPrivateKey(privateKey), \"Bad private key\");\n    assert(msg.length > 0, \"Message should not be empty\");\n    assert(msg.length <= 32, \"Message is too long\");\n    return Buffer.from(ec.sign(msg, privateKey, {\n        canonical: true\n    }).toDER());\n};\nconst verify = async function(publicKey, msg, sig) {\n    assert(publicKey.length === 65 || publicKey.length === 33, \"Bad public key\");\n    if (publicKey.length === 65) {\n        assert(publicKey[0] === 4, \"Bad public key\");\n    }\n    if (publicKey.length === 33) {\n        assert(publicKey[0] === 2 || publicKey[0] === 3, \"Bad public key\");\n    }\n    assert(msg.length > 0, \"Message should not be empty\");\n    assert(msg.length <= 32, \"Message is too long\");\n    if (ec.verify(msg, sig, publicKey)) {\n        return null;\n    }\n    throw new Error(\"Bad signature\");\n};\nconst derive = async function(privateKeyA, publicKeyB) {\n    assert(Buffer.isBuffer(privateKeyA), \"Bad private key\");\n    assert(Buffer.isBuffer(publicKeyB), \"Bad public key\");\n    assert(privateKeyA.length === 32, \"Bad private key\");\n    assert(isValidPrivateKey(privateKeyA), \"Bad private key\");\n    assert(publicKeyB.length === 65 || publicKeyB.length === 33, \"Bad public key\");\n    if (publicKeyB.length === 65) {\n        assert(publicKeyB[0] === 4, \"Bad public key\");\n    }\n    if (publicKeyB.length === 33) {\n        assert(publicKeyB[0] === 2 || publicKeyB[0] === 3, \"Bad public key\");\n    }\n    const keyA = ec.keyFromPrivate(privateKeyA);\n    const keyB = ec.keyFromPublic(publicKeyB);\n    const Px = keyA.derive(keyB.getPublic()); // BN instance\n    return Buffer.from(Px.toArray());\n};\nconst deriveUnpadded = derive;\nconst derivePadded = async function(privateKeyA, publicKeyB) {\n    assert(Buffer.isBuffer(privateKeyA), \"Bad private key\");\n    assert(Buffer.isBuffer(publicKeyB), \"Bad public key\");\n    assert(privateKeyA.length === 32, \"Bad private key\");\n    assert(isValidPrivateKey(privateKeyA), \"Bad private key\");\n    assert(publicKeyB.length === 65 || publicKeyB.length === 33, \"Bad public key\");\n    if (publicKeyB.length === 65) {\n        assert(publicKeyB[0] === 4, \"Bad public key\");\n    }\n    if (publicKeyB.length === 33) {\n        assert(publicKeyB[0] === 2 || publicKeyB[0] === 3, \"Bad public key\");\n    }\n    const keyA = ec.keyFromPrivate(privateKeyA);\n    const keyB = ec.keyFromPublic(publicKeyB);\n    const Px = keyA.derive(keyB.getPublic()); // BN instance\n    return Buffer.from(Px.toString(16, 64), \"hex\");\n};\nconst encrypt = async function(publicKeyTo, msg, opts) {\n    opts = opts || {};\n    let ephemPrivateKey = opts.ephemPrivateKey || randomBytes(32);\n    // There is a very unlikely possibility that it is not a valid key\n    while(!isValidPrivateKey(ephemPrivateKey)){\n        ephemPrivateKey = opts.ephemPrivateKey || randomBytes(32);\n    }\n    const ephemPublicKey = getPublic(ephemPrivateKey);\n    const Px = await deriveUnpadded(ephemPrivateKey, publicKeyTo);\n    const hash = await sha512(Px);\n    const iv = opts.iv || randomBytes(16);\n    const encryptionKey = hash.slice(0, 32);\n    const macKey = hash.slice(32);\n    const data = await aesCbcEncrypt(iv, Buffer.from(encryptionKey), msg);\n    const ciphertext = data;\n    const dataToMac = Buffer.concat([\n        iv,\n        ephemPublicKey,\n        ciphertext\n    ]);\n    const mac = await hmacSha256Sign(Buffer.from(macKey), dataToMac);\n    return {\n        iv,\n        ephemPublicKey,\n        ciphertext,\n        mac\n    };\n};\nconst decrypt = async function(privateKey, opts, _padding) {\n    const padding = _padding !== null && _padding !== void 0 ? _padding : false;\n    const deriveLocal = padding ? derivePadded : deriveUnpadded;\n    const Px = await deriveLocal(privateKey, opts.ephemPublicKey);\n    const hash = await sha512(Px);\n    const encryptionKey = hash.slice(0, 32);\n    const macKey = hash.slice(32);\n    const dataToMac = Buffer.concat([\n        opts.iv,\n        opts.ephemPublicKey,\n        opts.ciphertext\n    ]);\n    const macGood = await hmacSha256Verify(Buffer.from(macKey), dataToMac, opts.mac);\n    if (!macGood && padding === false) {\n        return decrypt(privateKey, opts, true);\n    } else if (!macGood && padding === true) {\n        throw new Error(\"bad MAC after trying padded\");\n    }\n    const msg = await aesCbcDecrypt(opts.iv, Buffer.from(encryptionKey), opts.ciphertext);\n    return Buffer.from(new Uint8Array(msg));\n};\n //# sourceMappingURL=eccrypto.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9lY2NyeXB0by9kaXN0L2VjY3J5cHRvLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFnQztBQUNNO0FBRXRDLE1BQU1DLEtBQUssSUFBSUMsd0NBQUlBLENBQUM7QUFDcEIsOERBQThEO0FBQzlELE1BQU1DLGdCQUFnQkMsT0FBT0MsTUFBTSxJQUFJRCxPQUFPRSxRQUFRLElBQUksQ0FBQztBQUMzRCw4REFBOEQ7QUFDOUQsTUFBTUMsU0FBU0osY0FBY0ksTUFBTSxJQUFJSixjQUFjSyxZQUFZO0FBQ2pFLE1BQU1DLGlCQUFpQkMsT0FBT0MsSUFBSSxDQUFDLG9FQUFvRTtBQUN2RyxNQUFNQyxTQUFTRixPQUFPRyxLQUFLLENBQUMsSUFBSTtBQUNoQyxTQUFTQyxPQUFPQyxTQUFTLEVBQUVDLE9BQU87SUFDaEMsSUFBSSxDQUFDRCxXQUFXO1FBQ2QsTUFBTSxJQUFJRSxNQUFNRCxXQUFXO0lBQzdCO0FBQ0Y7QUFDQSxTQUFTRSxTQUFTQyxDQUFDO0lBQ2pCLE9BQU9ULE9BQU9VLFFBQVEsQ0FBQ0QsTUFBTUEsRUFBRUUsTUFBTSxLQUFLO0FBQzVDO0FBQ0EsU0FBU0Msa0JBQWtCQyxVQUFVO0lBQ25DLElBQUksQ0FBQ0wsU0FBU0ssYUFBYTtRQUN6QixPQUFPO0lBQ1Q7SUFDQSxPQUFPQSxXQUFXQyxPQUFPLENBQUNaLFVBQVUsS0FDcEMsTUFBTTtJQUNOVyxXQUFXQyxPQUFPLENBQUNmLGtCQUFrQixHQUFHLE1BQU07QUFDaEQ7QUFFQSxrRUFBa0U7QUFDbEUsU0FBU2dCLGVBQWVDLEVBQUUsRUFBRUMsRUFBRTtJQUM1QixJQUFJRCxHQUFHTCxNQUFNLEtBQUtNLEdBQUdOLE1BQU0sRUFBRTtRQUMzQixPQUFPO0lBQ1Q7SUFDQSxJQUFJTyxNQUFNO0lBQ1YsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlILEdBQUdMLE1BQU0sRUFBRVEsSUFBSztRQUNsQ0QsT0FBT0YsRUFBRSxD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VSxnQkFBZ0J6RCxLQUFLMEQsS0FBSyxDQUFDLEdBQUc7SUFDcEMsTUFBTUMsU0FBUzNELEtBQUswRCxLQUFLLENBQUM7SUFDMUIsTUFBTUcsWUFBWXhGLE9BQU8rQyxNQUFNLENBQUM7UUFBQ2tDLEtBQUsvQyxFQUFFO1FBQUUrQyxLQUFLRSxjQUFjO1FBQUVGLEtBQUtNLFVBQVU7S0FBQztJQUMvRSxNQUFNTyxVQUFVLE1BQU1yQyxpQkFBaUJ6RCxPQUFPQyxJQUFJLENBQUNxRixTQUFTRSxXQUFXUCxLQUFLUSxHQUFHO0lBQy9FLElBQUksQ0FBQ0ssV0FBV0YsWUFBWSxPQUFPO1FBQ2pDLE9BQU9GLFFBQVE3RSxZQUFZb0UsTUFBTTtJQUNuQyxPQUFPLElBQUksQ0FBQ2EsV0FBV0YsWUFBWSxNQUFNO1FBQ3ZDLE1BQU0sSUFBSXJGLE1BQU07SUFDbEI7SUFDQSxNQUFNbUIsTUFBTSxNQUFNeUIsY0FBYzhCLEtBQUsvQyxFQUFFLEVBQUVsQyxPQUFPQyxJQUFJLENBQUNtRixnQkFBZ0JILEtBQUtNLFVBQVU7SUFDcEYsT0FBT3ZGLE9BQU9DLElBQUksQ0FBQyxJQUFJc0IsV0FBV0c7QUFDcEM7QUFFaUksQ0FDakksd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2VjY3J5cHRvL2Rpc3QvZWNjcnlwdG8uZXNtLmpzP2Y1M2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5vZGVDcnlwdG8gZnJvbSAnY3J5cHRvJztcbmltcG9ydCB7IGVjIGFzIGVjJDEgfSBmcm9tICdlbGxpcHRpYyc7XG5cbmNvbnN0IGVjID0gbmV3IGVjJDEoXCJzZWNwMjU2azFcIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgYnJvd3NlckNyeXB0byA9IGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvIHx8IHt9O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmNvbnN0IHN1YnRsZSA9IGJyb3dzZXJDcnlwdG8uc3VidGxlIHx8IGJyb3dzZXJDcnlwdG8ud2Via2l0U3VidGxlO1xuY29uc3QgRUNfR1JPVVBfT1JERVIgPSBCdWZmZXIuZnJvbShcImZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlYmFhZWRjZTZhZjQ4YTAzYmJmZDI1ZThjZDAzNjQxNDFcIiwgXCJoZXhcIik7XG5jb25zdCBaRVJPMzIgPSBCdWZmZXIuYWxsb2MoMzIsIDApO1xuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlIHx8IFwiQXNzZXJ0aW9uIGZhaWxlZFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTY2FsYXIoeCkge1xuICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKHgpICYmIHgubGVuZ3RoID09PSAzMjtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRQcml2YXRlS2V5KHByaXZhdGVLZXkpIHtcbiAgaWYgKCFpc1NjYWxhcihwcml2YXRlS2V5KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gcHJpdmF0ZUtleS5jb21wYXJlKFpFUk8zMikgPiAwICYmXG4gIC8vID4gMFxuICBwcml2YXRlS2V5LmNvbXBhcmUoRUNfR1JPVVBfT1JERVIpIDwgMDsgLy8gPCBHXG59XG5cbi8vIENvbXBhcmUgdHdvIGJ1ZmZlcnMgaW4gY29uc3RhbnQgdGltZSB0byBwcmV2ZW50IHRpbWluZyBhdHRhY2tzLlxuZnVuY3Rpb24gZXF1YWxDb25zdFRpbWUoYjEsIGIyKSB7XG4gIGlmIChiMS5sZW5ndGggIT09IGIyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQgcmVzID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiMS5sZW5ndGg7IGkrKykge1xuICAgIHJlcyB8PSBiMVtpXSBeIGIyW2ldOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgfVxuXG4gIHJldHVybiByZXMgPT09IDA7XG59XG5cbi8qIFRoaXMgbXVzdCBjaGVjayBpZiB3ZSdyZSBpbiB0aGUgYnJvd3NlciBvclxubm90LCBzaW5jZSB0aGUgZnVuY3Rpb25zIGFyZSBkaWZmZXJlbnQgYW5kIGRvZXNcbm5vdCBjb252ZXJ0IHVzaW5nIGJyb3dzZXJpZnkgKi9cbmZ1bmN0aW9uIHJhbmRvbUJ5dGVzKHNpemUpIHtcbiAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gIGlmICh0eXBlb2YgYnJvd3NlckNyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20obm9kZUNyeXB0by5yYW5kb21CeXRlcyhzaXplKSk7XG4gIH1cbiAgYnJvd3NlckNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyKTtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGFycik7XG59XG5hc3luYyBmdW5jdGlvbiBzaGE1MTIobXNnKSB7XG4gIGlmIChzdWJ0bGUpIHtcbiAgICBjb25zdCBoYXNoID0gYXdhaXQgc3VidGxlLmRpZ2VzdChcIlNIQS01MTJcIiwgbXNnKTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShoYXNoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGNvbnN0IGhhc2ggPSBub2RlQ3J5cHRvLmNyZWF0ZUhhc2goXCJzaGE1MTJcIik7XG4gIGNvbnN0IHJlc3VsdCA9IGhhc2gudXBkYXRlKG1zZykuZGlnZXN0KCk7XG4gIHJldHVybiBuZXcgVWludDhBcnJheShyZXN1bHQpO1xufVxuZnVuY3Rpb24gZ2V0QWVzKG9wKSB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiAoaXYsIGtleSwgZGF0YSkge1xuICAgIGlmIChzdWJ0bGUpIHtcbiAgICAgIGNvbnN0IGltcG9ydEFsZ29yaXRobSA9IHtcbiAgICAgICAgbmFtZTogXCJBRVMtQ0JDXCJcbiAgICAgIH07XG4gICAgICBjb25zdCBjcnlwdG9LZXkgPSBhd2FpdCBzdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsIGtleSwgaW1wb3J0QWxnb3JpdGhtLCBmYWxzZSwgW29wXSk7XG4gICAgICBjb25zdCBlbmNBbGdvcml0aG0gPSB7XG4gICAgICAgIG5hbWU6IFwiQUVTLUNCQ1wiLFxuICAgICAgICBpdlxuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1YnRsZVtvcF0oZW5jQWxnb3JpdGhtLCBjcnlwdG9LZXksIGRhdGEpO1xuICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKG5ldyBVaW50OEFycmF5KHJlc3VsdCkpO1xuICAgIH0gZWxzZSBpZiAob3AgPT09IFwiZW5jcnlwdFwiKSB7XG4gICAgICBjb25zdCBjaXBoZXIgPSBub2RlQ3J5cHRvLmNyZWF0ZUNpcGhlcml2KFwiYWVzLTI1Ni1jYmNcIiwga2V5LCBpdik7XG4gICAgICBjb25zdCBmaXJzdENodW5rID0gY2lwaGVyLnVwZGF0ZShkYXRhKTtcbiAgICAgIGNvbnN0IHNlY29uZENodW5rID0gY2lwaGVyLmZpbmFsKCk7XG4gICAgICByZXR1cm4gQnVmZmVyLmNvbmNhdChbZmlyc3RDaHVuaywgc2Vjb25kQ2h1bmtdKTtcbiAgICB9IGVsc2UgaWYgKG9wID09PSBcImRlY3J5cHRcIikge1xuICAgICAgY29uc3QgZGVjaXBoZXIgPSBub2RlQ3J5cHRvLmNyZWF0ZURlY2lwaGVyaXYoXCJhZXMtMjU2LWNiY1wiLCBrZXksIGl2KTtcbiAgICAgIGNvbnN0IGZpcnN0Q2h1bmsgPSBkZWNpcGhlci51cGRhdGUoZGF0YSk7XG4gICAgICBjb25zdCBzZWNvbmRDaHVuayA9IGRlY2lwaGVyLmZpbmFsKCk7XG4gICAgICByZXR1cm4gQnVmZmVyLmNvbmNhdChbZmlyc3RDaHVuaywgc2Vjb25kQ2h1bmtdKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBvcGVyYXRpb246ICR7b3B9YCk7XG4gIH07XG59XG5jb25zdCBhZXNDYmNFbmNyeXB0ID0gZ2V0QWVzKFwiZW5jcnlwdFwiKTtcbmNvbnN0IGFlc0NiY0RlY3J5cHQgPSBnZXRBZXMoXCJkZWNyeXB0XCIpO1xuYXN5bmMgZnVuY3Rpb24gaG1hY1NoYTI1NlNpZ24oa2V5LCBtc2cpIHtcbiAgaWYgKHN1YnRsZSkge1xuICAgIGNvbnN0IGltcG9ydEFsZ29yaXRobSA9IHtcbiAgICAgIG5hbWU6IFwiSE1BQ1wiLFxuICAgICAgaGFzaDoge1xuICAgICAgICBuYW1lOiBcIlNIQS0yNTZcIlxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY3J5cHRvS2V5ID0gYXdhaXQgc3VidGxlLmltcG9ydEtleShcInJhd1wiLCBuZXcgVWludDhBcnJheShrZXkpLCBpbXBvcnRBbGdvcml0aG0sIGZhbHNlLCBbXCJzaWduXCIsIFwidmVyaWZ5XCJdKTtcbiAgICBjb25zdCBzaWcgPSBhd2FpdCBzdWJ0bGUuc2lnbihcIkhNQUNcIiwgY3J5cHRvS2V5LCBtc2cpO1xuICAgIGNvbnN0IHJlc3VsdCA9IEJ1ZmZlci5mcm9tKG5ldyBVaW50OEFycmF5KHNpZykpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgY29uc3QgaG1hYyA9IG5vZGVDcnlwdG8uY3JlYXRlSG1hYyhcInNoYTI1NlwiLCBCdWZmZXIuZnJvbShrZXkpKTtcbiAgaG1hYy51cGRhdGUobXNnKTtcbiAgY29uc3QgcmVzdWx0ID0gaG1hYy5kaWdlc3QoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhtYWNTaGEyNTZWZXJpZnkoa2V5LCBtc2csIHNpZykge1xuICBjb25zdCBleHBlY3RlZFNpZyA9IGF3YWl0IGhtYWNTaGEyNTZTaWduKGtleSwgbXNnKTtcbiAgcmV0dXJuIGVxdWFsQ29uc3RUaW1lKGV4cGVjdGVkU2lnLCBzaWcpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgbmV3IHZhbGlkIHByaXZhdGUga2V5LiBXaWxsIHVzZSB0aGUgd2luZG93LmNyeXB0byBvciB3aW5kb3cubXNDcnlwdG8gYXMgc291cmNlXG4gKiBkZXBlbmRpbmcgb24geW91ciBicm93c2VyLlxuICovXG5jb25zdCBnZW5lcmF0ZVByaXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBwcml2YXRlS2V5ID0gcmFuZG9tQnl0ZXMoMzIpO1xuICB3aGlsZSAoIWlzVmFsaWRQcml2YXRlS2V5KHByaXZhdGVLZXkpKSB7XG4gICAgcHJpdmF0ZUtleSA9IHJhbmRvbUJ5dGVzKDMyKTtcbiAgfVxuICByZXR1cm4gcHJpdmF0ZUtleTtcbn07XG5jb25zdCBnZXRQdWJsaWMgPSBmdW5jdGlvbiAocHJpdmF0ZUtleSkge1xuICAvLyBUaGlzIGZ1bmN0aW9uIGhhcyBzeW5jIEFQSSBzbyB3ZSB0aHJvdyBhbiBlcnJvciBpbW1lZGlhdGVseS5cbiAgYXNzZXJ0KHByaXZhdGVLZXkubGVuZ3RoID09PSAzMiwgXCJCYWQgcHJpdmF0ZSBrZXlcIik7XG4gIGFzc2VydChpc1ZhbGlkUHJpdmF0ZUtleShwcml2YXRlS2V5KSwgXCJCYWQgcHJpdmF0ZSBrZXlcIik7XG4gIC8vIFhYWChLYWdhbWkpOiBgZWxsaXB0aWMudXRpbHMuZW5jb2RlYCByZXR1cm5zIGFycmF5IGZvciBldmVyeVxuICAvLyBlbmNvZGluZyBleGNlcHQgYGhleGAuXG4gIHJldHVybiBCdWZmZXIuZnJvbShlYy5rZXlGcm9tUHJpdmF0ZShwcml2YXRlS2V5KS5nZXRQdWJsaWMoXCJhcnJheVwiKSk7XG59O1xuXG4vKipcbiAqIEdldCBjb21wcmVzc2VkIHZlcnNpb24gb2YgcHVibGljIGtleS5cbiAqL1xuY29uc3QgZ2V0UHVibGljQ29tcHJlc3NlZCA9IGZ1bmN0aW9uIChwcml2YXRlS2V5KSB7XG4gIC8vIGpzaGludCBpZ25vcmU6bGluZVxuICBhc3NlcnQocHJpdmF0ZUtleS5sZW5ndGggPT09IDMyLCBcIkJhZCBwcml2YXRlIGtleVwiKTtcbiAgYXNzZXJ0KGlzVmFsaWRQcml2YXRlS2V5KHByaXZhdGVLZXkpLCBcIkJhZCBwcml2YXRlIGtleVwiKTtcbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93YW5kZXJlci9zZWNwMjU2azEtbm9kZS9pc3N1ZXMvNDZcbiAgY29uc3QgY29tcHJlc3NlZCA9IHRydWU7XG4gIHJldHVybiBCdWZmZXIuZnJvbShlYy5rZXlGcm9tUHJpdmF0ZShwcml2YXRlS2V5KS5nZXRQdWJsaWMoY29tcHJlc3NlZCwgXCJhcnJheVwiKSk7XG59O1xuXG4vLyBOT1RFKEthZ2FtaSk6IFdlIGRvbid0IHVzZSBwcm9taXNlIHNoaW0gaW4gQnJvd3NlciBpbXBsZW1lbnRhdGlvblxuLy8gYmVjYXVzZSBpdCdzIHN1cHBvcnRlZCBuYXRpdmVseSBpbiBuZXcgYnJvd3NlcnMgKHNlZVxuLy8gPGh0dHA6Ly9jYW5pdXNlLmNvbS8jZmVhdD1wcm9taXNlcz4pIGFuZCB3ZSBjYW4gdXNlIG9ubHkgbmV3IGJyb3dzZXJzXG4vLyBiZWNhdXNlIG9mIHRoZSBXZWJDcnlwdG9BUEkgKHNlZVxuLy8gPGh0dHA6Ly9jYW5pdXNlLmNvbS8jZmVhdD1jcnlwdG9ncmFwaHk+KS5cbmNvbnN0IHNpZ24gPSBhc3luYyBmdW5jdGlvbiAocHJpdmF0ZUtleSwgbXNnKSB7XG4gIGFzc2VydChwcml2YXRlS2V5Lmxlbmd0aCA9PT0gMzIsIFwiQmFkIHByaXZhdGUga2V5XCIpO1xuICBhc3NlcnQoaXNWYWxpZFByaXZhdGVLZXkocHJpdmF0ZUtleSksIFwiQmFkIHByaXZhdGUga2V5XCIpO1xuICBhc3NlcnQobXNnLmxlbmd0aCA+IDAsIFwiTWVzc2FnZSBzaG91bGQgbm90IGJlIGVtcHR5XCIpO1xuICBhc3NlcnQobXNnLmxlbmd0aCA8PSAzMiwgXCJNZXNzYWdlIGlzIHRvbyBsb25nXCIpO1xuICByZXR1cm4gQnVmZmVyLmZyb20oZWMuc2lnbihtc2csIHByaXZhdGVLZXksIHtcbiAgICBjYW5vbmljYWw6IHRydWVcbiAgfSkudG9ERVIoKSk7XG59O1xuY29uc3QgdmVyaWZ5ID0gYXN5bmMgZnVuY3Rpb24gKHB1YmxpY0tleSwgbXNnLCBzaWcpIHtcbiAgYXNzZXJ0KHB1YmxpY0tleS5sZW5ndGggPT09IDY1IHx8IHB1YmxpY0tleS5sZW5ndGggPT09IDMzLCBcIkJhZCBwdWJsaWMga2V5XCIpO1xuICBpZiAocHVibGljS2V5Lmxlbmd0aCA9PT0gNjUpIHtcbiAgICBhc3NlcnQocHVibGljS2V5WzBdID09PSA0LCBcIkJhZCBwdWJsaWMga2V5XCIpO1xuICB9XG4gIGlmIChwdWJsaWNLZXkubGVuZ3RoID09PSAzMykge1xuICAgIGFzc2VydChwdWJsaWNLZXlbMF0gPT09IDIgfHwgcHVibGljS2V5WzBdID09PSAzLCBcIkJhZCBwdWJsaWMga2V5XCIpO1xuICB9XG4gIGFzc2VydChtc2cubGVuZ3RoID4gMCwgXCJNZXNzYWdlIHNob3VsZCBub3QgYmUgZW1wdHlcIik7XG4gIGFzc2VydChtc2cubGVuZ3RoIDw9IDMyLCBcIk1lc3NhZ2UgaXMgdG9vIGxvbmdcIik7XG4gIGlmIChlYy52ZXJpZnkobXNnLCBzaWcsIHB1YmxpY0tleSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgc2lnbmF0dXJlXCIpO1xufTtcbmNvbnN0IGRlcml2ZSA9IGFzeW5jIGZ1bmN0aW9uIChwcml2YXRlS2V5QSwgcHVibGljS2V5Qikge1xuICBhc3NlcnQoQnVmZmVyLmlzQnVmZmVyKHByaXZhdGVLZXlBKSwgXCJCYWQgcHJpdmF0ZSBrZXlcIik7XG4gIGFzc2VydChCdWZmZXIuaXNCdWZmZXIocHVibGljS2V5QiksIFwiQmFkIHB1YmxpYyBrZXlcIik7XG4gIGFzc2VydChwcml2YXRlS2V5QS5sZW5ndGggPT09IDMyLCBcIkJhZCBwcml2YXRlIGtleVwiKTtcbiAgYXNzZXJ0KGlzVmFsaWRQcml2YXRlS2V5KHByaXZhdGVLZXlBKSwgXCJCYWQgcHJpdmF0ZSBrZXlcIik7XG4gIGFzc2VydChwdWJsaWNLZXlCLmxlbmd0aCA9PT0gNjUgfHwgcHVibGljS2V5Qi5sZW5ndGggPT09IDMzLCBcIkJhZCBwdWJsaWMga2V5XCIpO1xuICBpZiAocHVibGljS2V5Qi5sZW5ndGggPT09IDY1KSB7XG4gICAgYXNzZXJ0KHB1YmxpY0tleUJbMF0gPT09IDQsIFwiQmFkIHB1YmxpYyBrZXlcIik7XG4gIH1cbiAgaWYgKHB1YmxpY0tleUIubGVuZ3RoID09PSAzMykge1xuICAgIGFzc2VydChwdWJsaWNLZXlCWzBdID09PSAyIHx8IHB1YmxpY0tleUJbMF0gPT09IDMsIFwiQmFkIHB1YmxpYyBrZXlcIik7XG4gIH1cbiAgY29uc3Qga2V5QSA9IGVjLmtleUZyb21Qcml2YXRlKHByaXZhdGVLZXlBKTtcbiAgY29uc3Qga2V5QiA9IGVjLmtleUZyb21QdWJsaWMocHVibGljS2V5Qik7XG4gIGNvbnN0IFB4ID0ga2V5QS5kZXJpdmUoa2V5Qi5nZXRQdWJsaWMoKSk7IC8vIEJOIGluc3RhbmNlXG4gIHJldHVybiBCdWZmZXIuZnJvbShQeC50b0FycmF5KCkpO1xufTtcbmNvbnN0IGRlcml2ZVVucGFkZGVkID0gZGVyaXZlO1xuY29uc3QgZGVyaXZlUGFkZGVkID0gYXN5bmMgZnVuY3Rpb24gKHByaXZhdGVLZXlBLCBwdWJsaWNLZXlCKSB7XG4gIGFzc2VydChCdWZmZXIuaXNCdWZmZXIocHJpdmF0ZUtleUEpLCBcIkJhZCBwcml2YXRlIGtleVwiKTtcbiAgYXNzZXJ0KEJ1ZmZlci5pc0J1ZmZlcihwdWJsaWNLZXlCKSwgXCJCYWQgcHVibGljIGtleVwiKTtcbiAgYXNzZXJ0KHByaXZhdGVLZXlBLmxlbmd0aCA9PT0gMzIsIFwiQmFkIHByaXZhdGUga2V5XCIpO1xuICBhc3NlcnQoaXNWYWxpZFByaXZhdGVLZXkocHJpdmF0ZUtleUEpLCBcIkJhZCBwcml2YXRlIGtleVwiKTtcbiAgYXNzZXJ0KHB1YmxpY0tleUIubGVuZ3RoID09PSA2NSB8fCBwdWJsaWNLZXlCLmxlbmd0aCA9PT0gMzMsIFwiQmFkIHB1YmxpYyBrZXlcIik7XG4gIGlmIChwdWJsaWNLZXlCLmxlbmd0aCA9PT0gNjUpIHtcbiAgICBhc3NlcnQocHVibGljS2V5QlswXSA9PT0gNCwgXCJCYWQgcHVibGljIGtleVwiKTtcbiAgfVxuICBpZiAocHVibGljS2V5Qi5sZW5ndGggPT09IDMzKSB7XG4gICAgYXNzZXJ0KHB1YmxpY0tleUJbMF0gPT09IDIgfHwgcHVibGljS2V5QlswXSA9PT0gMywgXCJCYWQgcHVibGljIGtleVwiKTtcbiAgfVxuICBjb25zdCBrZXlBID0gZWMua2V5RnJvbVByaXZhdGUocHJpdmF0ZUtleUEpO1xuICBjb25zdCBrZXlCID0gZWMua2V5RnJvbVB1YmxpYyhwdWJsaWNLZXlCKTtcbiAgY29uc3QgUHggPSBrZXlBLmRlcml2ZShrZXlCLmdldFB1YmxpYygpKTsgLy8gQk4gaW5zdGFuY2VcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKFB4LnRvU3RyaW5nKDE2LCA2NCksIFwiaGV4XCIpO1xufTtcbmNvbnN0IGVuY3J5cHQgPSBhc3luYyBmdW5jdGlvbiAocHVibGljS2V5VG8sIG1zZywgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgbGV0IGVwaGVtUHJpdmF0ZUtleSA9IG9wdHMuZXBoZW1Qcml2YXRlS2V5IHx8IHJhbmRvbUJ5dGVzKDMyKTtcbiAgLy8gVGhlcmUgaXMgYSB2ZXJ5IHVubGlrZWx5IHBvc3NpYmlsaXR5IHRoYXQgaXQgaXMgbm90IGEgdmFsaWQga2V5XG4gIHdoaWxlICghaXNWYWxpZFByaXZhdGVLZXkoZXBoZW1Qcml2YXRlS2V5KSkge1xuICAgIGVwaGVtUHJpdmF0ZUtleSA9IG9wdHMuZXBoZW1Qcml2YXRlS2V5IHx8IHJhbmRvbUJ5dGVzKDMyKTtcbiAgfVxuICBjb25zdCBlcGhlbVB1YmxpY0tleSA9IGdldFB1YmxpYyhlcGhlbVByaXZhdGVLZXkpO1xuICBjb25zdCBQeCA9IGF3YWl0IGRlcml2ZVVucGFkZGVkKGVwaGVtUHJpdmF0ZUtleSwgcHVibGljS2V5VG8pO1xuICBjb25zdCBoYXNoID0gYXdhaXQgc2hhNTEyKFB4KTtcbiAgY29uc3QgaXYgPSBvcHRzLml2IHx8IHJhbmRvbUJ5dGVzKDE2KTtcbiAgY29uc3QgZW5jcnlwdGlvbktleSA9IGhhc2guc2xpY2UoMCwgMzIpO1xuICBjb25zdCBtYWNLZXkgPSBoYXNoLnNsaWNlKDMyKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGFlc0NiY0VuY3J5cHQoaXYsIEJ1ZmZlci5mcm9tKGVuY3J5cHRpb25LZXkpLCBtc2cpO1xuICBjb25zdCBjaXBoZXJ0ZXh0ID0gZGF0YTtcbiAgY29uc3QgZGF0YVRvTWFjID0gQnVmZmVyLmNvbmNhdChbaXYsIGVwaGVtUHVibGljS2V5LCBjaXBoZXJ0ZXh0XSk7XG4gIGNvbnN0IG1hYyA9IGF3YWl0IGhtYWNTaGEyNTZTaWduKEJ1ZmZlci5mcm9tKG1hY0tleSksIGRhdGFUb01hYyk7XG4gIHJldHVybiB7XG4gICAgaXYsXG4gICAgZXBoZW1QdWJsaWNLZXksXG4gICAgY2lwaGVydGV4dCxcbiAgICBtYWNcbiAgfTtcbn07XG5jb25zdCBkZWNyeXB0ID0gYXN5bmMgZnVuY3Rpb24gKHByaXZhdGVLZXksIG9wdHMsIF9wYWRkaW5nKSB7XG4gIGNvbnN0IHBhZGRpbmcgPSBfcGFkZGluZyAhPT0gbnVsbCAmJiBfcGFkZGluZyAhPT0gdm9pZCAwID8gX3BhZGRpbmcgOiBmYWxzZTtcbiAgY29uc3QgZGVyaXZlTG9jYWwgPSBwYWRkaW5nID8gZGVyaXZlUGFkZGVkIDogZGVyaXZlVW5wYWRkZWQ7XG4gIGNvbnN0IFB4ID0gYXdhaXQgZGVyaXZlTG9jYWwocHJpdmF0ZUtleSwgb3B0cy5lcGhlbVB1YmxpY0tleSk7XG4gIGNvbnN0IGhhc2ggPSBhd2FpdCBzaGE1MTIoUHgpO1xuICBjb25zdCBlbmNyeXB0aW9uS2V5ID0gaGFzaC5zbGljZSgwLCAzMik7XG4gIGNvbnN0IG1hY0tleSA9IGhhc2guc2xpY2UoMzIpO1xuICBjb25zdCBkYXRhVG9NYWMgPSBCdWZmZXIuY29uY2F0KFtvcHRzLml2LCBvcHRzLmVwaGVtUHVibGljS2V5LCBvcHRzLmNpcGhlcnRleHRdKTtcbiAgY29uc3QgbWFjR29vZCA9IGF3YWl0IGhtYWNTaGEyNTZWZXJpZnkoQnVmZmVyLmZyb20obWFjS2V5KSwgZGF0YVRvTWFjLCBvcHRzLm1hYyk7XG4gIGlmICghbWFjR29vZCAmJiBwYWRkaW5nID09PSBmYWxzZSkge1xuICAgIHJldHVybiBkZWNyeXB0KHByaXZhdGVLZXksIG9wdHMsIHRydWUpO1xuICB9IGVsc2UgaWYgKCFtYWNHb29kICYmIHBhZGRpbmcgPT09IHRydWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYWQgTUFDIGFmdGVyIHRyeWluZyBwYWRkZWRcIik7XG4gIH1cbiAgY29uc3QgbXNnID0gYXdhaXQgYWVzQ2JjRGVjcnlwdChvcHRzLml2LCBCdWZmZXIuZnJvbShlbmNyeXB0aW9uS2V5KSwgb3B0cy5jaXBoZXJ0ZXh0KTtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKG5ldyBVaW50OEFycmF5KG1zZykpO1xufTtcblxuZXhwb3J0IHsgZGVjcnlwdCwgZGVyaXZlLCBkZXJpdmVQYWRkZWQsIGRlcml2ZVVucGFkZGVkLCBlbmNyeXB0LCBnZW5lcmF0ZVByaXZhdGUsIGdldFB1YmxpYywgZ2V0UHVibGljQ29tcHJlc3NlZCwgc2lnbiwgdmVyaWZ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lY2NyeXB0by5lc20uanMubWFwXG4iXSwibmFtZXMiOlsibm9kZUNyeXB0byIsImVjIiwiZWMkMSIsImJyb3dzZXJDcnlwdG8iLCJnbG9iYWwiLCJjcnlwdG8iLCJtc0NyeXB0byIsInN1YnRsZSIsIndlYmtpdFN1YnRsZSIsIkVDX0dST1VQX09SREVSIiwiQnVmZmVyIiwiZnJvbSIsIlpFUk8zMiIsImFsbG9jIiwiYXNzZXJ0IiwiY29uZGl0aW9uIiwibWVzc2FnZSIsIkVycm9yIiwiaXNTY2FsYXIiLCJ4IiwiaXNCdWZmZXIiLCJsZW5ndGgiLCJpc1ZhbGlkUHJpdmF0ZUtleSIsInByaXZhdGVLZXkiLCJjb21wYXJlIiwiZXF1YWxDb25zdFRpbWUiLCJiMSIsImIyIiwicmVzIiwiaSIsInJhbmRvbUJ5dGVzIiwic2l6ZSIsImFyciIsIlVpbnQ4QXJyYXkiLCJnZXRSYW5kb21WYWx1ZXMiLCJzaGE1MTIiLCJtc2ciLCJoYXNoIiwiZGlnZXN0IiwicmVzdWx0IiwiY3JlYXRlSGFzaCIsInVwZGF0ZSIsImdldEFlcyIsIm9wIiwiaXYiLCJrZXkiLCJkYXRhIiwiaW1wb3J0QWxnb3JpdGhtIiwibmFtZSIsImNyeXB0b0tleSIsImltcG9ydEtleSIsImVuY0FsZ29yaXRobSIsImNpcGhlciIsImNyZWF0ZUNpcGhlcml2IiwiZmlyc3RDaHVuayIsInNlY29uZENodW5rIiwiZmluYWwiLCJjb25jYXQiLCJkZWNpcGhlciIsImNyZWF0ZURlY2lwaGVyaXYiLCJhZXNDYmNFbmNyeXB0IiwiYWVzQ2JjRGVjcnlwdCIsImhtYWNTaGEyNTZTaWduIiwic2lnIiwic2lnbiIsImhtYWMiLCJjcmVhdGVIbWFjIiwiaG1hY1NoYTI1NlZlcmlmeSIsImV4cGVjdGVkU2lnIiwiZ2VuZXJhdGVQcml2YXRlIiwiZ2V0UHVibGljIiwia2V5RnJvbVByaXZhdGUiLCJnZXRQdWJsaWNDb21wcmVzc2VkIiwiY29tcHJlc3NlZCIsImNhbm9uaWNhbCIsInRvREVSIiwidmVyaWZ5IiwicHVibGljS2V5IiwiZGVyaXZlIiwicHJpdmF0ZUtleUEiLCJwdWJsaWNLZXlCIiwia2V5QSIsImtleUIiLCJrZXlGcm9tUHVibGljIiwiUHgiLCJ0b0FycmF5IiwiZGVyaXZlVW5wYWRkZWQiLCJkZXJpdmVQYWRkZWQiLCJ0b1N0cmluZyIsImVuY3J5cHQiLCJwdWJsaWNLZXlUbyIsIm9wdHMiLCJlcGhlbVByaXZhdGVLZXkiLCJlcGhlbVB1YmxpY0tleSIsImVuY3J5cHRpb25LZXkiLCJzbGljZSIsIm1hY0tleSIsImNpcGhlcnRleHQiLCJkYXRhVG9NYWMiLCJtYWMiLCJkZWNyeXB0IiwiX3BhZGRpbmciLCJwYWRkaW5nIiwiZGVyaXZlTG9jYWwiLCJtYWNHb29kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/eccrypto/dist/eccrypto.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearAPIKey: () => (/* binding */ clearAPIKey),\n/* harmony export */   clearEmbedHost: () => (/* binding */ clearEmbedHost),\n/* harmony export */   enableSentryTracing: () => (/* binding */ enableSentryTracing),\n/* harmony export */   gatewayAuthHeader: () => (/* binding */ gatewayAuthHeader),\n/* harmony export */   gatewayEmbedHostHeader: () => (/* binding */ gatewayEmbedHostHeader),\n/* harmony export */   generateJsonRPCObject: () => (/* binding */ generateJsonRPCObject),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   getAPIKey: () => (/* binding */ getAPIKey),\n/* harmony export */   getEmbedHost: () => (/* binding */ getEmbedHost),\n/* harmony export */   patch: () => (/* binding */ patch),\n/* harmony export */   post: () => (/* binding */ post),\n/* harmony export */   promiseRace: () => (/* binding */ promiseRace),\n/* harmony export */   promiseTimeout: () => (/* binding */ promiseTimeout),\n/* harmony export */   put: () => (/* binding */ put),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   setAPIKey: () => (/* binding */ setAPIKey),\n/* harmony export */   setEmbedHost: () => (/* binding */ setEmbedHost),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.merge */ \"(ssr)/./node_modules/lodash.merge/index.js\");\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! loglevel */ \"(ssr)/./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst log = loglevel__WEBPACK_IMPORTED_MODULE_2___default().getLogger(\"http-helpers\");\nlog.setLevel(loglevel__WEBPACK_IMPORTED_MODULE_2__.levels.INFO);\nlet apiKey = \"torus-default\";\nlet embedHost = \"\";\n// #region API Keys\nconst gatewayAuthHeader = \"x-api-key\";\nconst gatewayEmbedHostHeader = \"x-embed-host\";\nlet sentry = null;\nconst tracingOrigins = [];\nconst tracingPaths = [];\nfunction enableSentryTracing(_sentry, _tracingOrigins, _tracingPaths) {\n    sentry = _sentry;\n    tracingOrigins.push(..._tracingOrigins);\n    tracingPaths.push(..._tracingPaths);\n}\nfunction setEmbedHost(embedHost_) {\n    embedHost = embedHost_;\n}\nfunction clearEmbedHost() {\n    embedHost = \"\";\n}\nfunction getEmbedHost() {\n    return embedHost;\n}\nfunction setAPIKey(apiKey_) {\n    apiKey = apiKey_;\n}\nfunction clearAPIKey() {\n    apiKey = \"torus-default\";\n}\nfunction getAPIKey() {\n    return apiKey;\n}\n// #endregion\nfunction setLogLevel(level) {\n    log.setLevel(level);\n}\nasync function fetchAndTrace(url, init) {\n    let _url = null;\n    try {\n        _url = new URL(url);\n    } catch (error) {}\n    if (sentry && _url && (tracingOrigins.includes(_url.origin) || tracingPaths.includes(_url.pathname))) {\n        const transaction = sentry.startTransaction({\n            name: url\n        });\n        const span = transaction.startChild({\n            op: \"http\"\n        }); // This function returns a Span\n        const response = await fetch(url, init);\n        span.finish(); // Remember that only finished spans will be sent with the transaction\n        transaction.finish(); // Finishing the transaction will send it to Sentry\n        return response;\n    }\n    return fetch(url, init);\n}\nfunction getApiKeyHeaders() {\n    const headers = {};\n    if (apiKey) headers[gatewayAuthHeader] = apiKey;\n    if (embedHost) headers[gatewayEmbedHostHeader] = embedHost;\n    return headers;\n}\nfunction debugLogResponse(response) {\n    log.info(`Response: ${response.status} ${response.statusText}`);\n    log.info(`Url: ${response.url}`);\n}\nfunction logTracingHeader(response) {\n    log.info(`Request tracing with traceID=${response.headers.get(\"x-web3-correlation-id\")}`);\n}\nconst promiseTimeout = (ms, promise)=>{\n    const timeout = new Promise((_resolve, reject)=>{\n        const id = setTimeout(()=>{\n            clearTimeout(id);\n            reject(new Error(`Timed out in ${ms}ms`));\n        }, ms);\n    });\n    return Promise.race([\n        promise,\n        timeout\n    ]);\n};\nconst get = async function(url) {\n    let options_ = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let customOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const defaultOptions = {\n        mode: \"cors\",\n        headers: {}\n    };\n    if (customOptions.useAPIKey) {\n        defaultOptions.headers = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, defaultOptions.headers), getApiKeyHeaders());\n    }\n    const options = lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()(defaultOptions, options_, {\n        method: \"GET\"\n    });\n    const response = await fetchAndTrace(url, options);\n    if (response.ok) {\n        const responseContentType = response.headers.get(\"content-type\");\n        if (responseContentType !== null && responseContentType !== void 0 && responseContentType.includes(\"application/json\")) {\n            return response.json();\n        }\n        return response.text();\n    }\n    debugLogResponse(response);\n    throw response;\n};\nconst post = function(url) {\n    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const defaultOptions = {\n        mode: \"cors\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\"\n        }\n    };\n    if (customOptions.useAPIKey) {\n        defaultOptions.headers = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, defaultOptions.headers), getApiKeyHeaders());\n    }\n    const options = lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()(defaultOptions, options_, {\n        method: \"POST\"\n    });\n    // deep merge changes the structure of form data and url encoded data ,\n    // so we should not deepmerge body data\n    if (customOptions.isUrlEncodedData) {\n        // for multipart request browser/client will add multipart content type\n        // along with multipart boundary , so for multipart request send\n        // content-type: undefined or send with multipart boundary if already known\n        options.body = data;\n        // If url encoded data, this must not be the content type\n        if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n    } else {\n        options.body = JSON.stringify(data);\n    }\n    return promiseTimeout(customOptions.timeout || 60000, fetchAndTrace(url, options).then((response)=>{\n        if (customOptions.logTracingHeader) {\n            logTracingHeader(response);\n        }\n        if (response.ok) {\n            const responseContentType = response.headers.get(\"content-type\");\n            if (responseContentType !== null && responseContentType !== void 0 && responseContentType.includes(\"application/json\")) {\n                return response.json();\n            }\n            return response.text();\n        }\n        debugLogResponse(response);\n        throw response;\n    }));\n};\nconst patch = async function(url) {\n    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const defaultOptions = {\n        mode: \"cors\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\"\n        }\n    };\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    if (customOptions.useAPIKey) {\n        defaultOptions.headers = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, defaultOptions.headers), getApiKeyHeaders());\n    }\n    const options = lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()(defaultOptions, options_, {\n        method: \"PATCH\"\n    });\n    // deep merge changes the structure of form data and url encoded data ,\n    // so we should not deepmerge body data\n    if (customOptions.isUrlEncodedData) {\n        // for multipart request browser/client will add multipart content type\n        // along with multipart boundary , so for multipart request send\n        // content-type: undefined or send with multipart boundary if already known\n        options.body = data;\n        // If url encoded data, this must not be the content type\n        if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n    } else {\n        options.body = JSON.stringify(data);\n    }\n    const response = await fetchAndTrace(url, options);\n    if (response.ok) {\n        const responseContentType = response.headers.get(\"content-type\");\n        if (responseContentType !== null && responseContentType !== void 0 && responseContentType.includes(\"application/json\")) {\n            return response.json();\n        }\n        return response.text();\n    }\n    debugLogResponse(response);\n    throw response;\n};\nconst put = async function(url) {\n    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const defaultOptions = {\n        mode: \"cors\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\"\n        }\n    };\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    if (customOptions.useAPIKey) {\n        defaultOptions.headers = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, defaultOptions.headers), getApiKeyHeaders());\n    }\n    const options = lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()(defaultOptions, options_, {\n        method: \"PUT\"\n    });\n    // deep merge changes the structure of form data and url encoded data ,\n    // so we should not deepmerge body data\n    if (customOptions.isUrlEncodedData) {\n        // for multipart request browser/client will add multipart content type\n        // along with multipart boundary , so for multipart request send\n        // content-type: undefined or send with multipart boundary if already known\n        options.body = data;\n        // If url encoded data, this must not be the content type\n        if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n    } else {\n        options.body = JSON.stringify(data);\n    }\n    const response = await fetchAndTrace(url, options);\n    if (response.ok) {\n        const responseContentType = response.headers.get(\"content-type\");\n        if (responseContentType !== null && responseContentType !== void 0 && responseContentType.includes(\"application/json\")) {\n            return response.json();\n        }\n        return response.text();\n    }\n    debugLogResponse(response);\n    throw response;\n};\nconst remove = async function(url) {\n    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const defaultOptions = {\n        mode: \"cors\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\"\n        }\n    };\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    if (customOptions.useAPIKey) {\n        defaultOptions.headers = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, defaultOptions.headers), getApiKeyHeaders());\n    }\n    const options = lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()(defaultOptions, options_, {\n        method: \"DELETE\"\n    });\n    if (customOptions.isUrlEncodedData) {\n        // for multipart request browser/client will add multipart content type\n        // along with multipart boundary , so for multipart request send\n        // content-type: undefined or send with multipart boundary if already known\n        options.body = data;\n        // If url encoded data, this must not be the content type\n        if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n    } else {\n        options.body = JSON.stringify(data);\n    }\n    const response = await fetchAndTrace(url, options);\n    if (response.ok) {\n        const responseContentType = response.headers.get(\"content-type\");\n        if (responseContentType !== null && responseContentType !== void 0 && responseContentType.includes(\"application/json\")) {\n            return response.json();\n        }\n        return response.text();\n    }\n    debugLogResponse(response);\n    throw response;\n};\nconst generateJsonRPCObject = (method, parameters)=>({\n        jsonrpc: \"2.0\",\n        method,\n        id: 10,\n        params: parameters\n    });\nconst promiseRace = function(url, options) {\n    let timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60000;\n    return Promise.race([\n        get(url, options),\n        new Promise((_resolve, reject)=>{\n            setTimeout(()=>{\n                reject(new Error(\"timed out\"));\n            }, timeout);\n        })\n    ]);\n};\n //# sourceMappingURL=httpHelpers.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9odHRwLWhlbHBlcnMvZGlzdC9odHRwSGVscGVycy5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ2hDO0FBQ1c7QUFFNUMsTUFBTUksTUFBTUYseURBQWtCLENBQUM7QUFDL0JFLElBQUlFLFFBQVEsQ0FBQ0gsNENBQU1BLENBQUNJLElBQUk7QUFDeEIsSUFBSUMsU0FBUztBQUNiLElBQUlDLFlBQVk7QUFFaEIsbUJBQW1CO0FBQ25CLE1BQU1DLG9CQUFvQjtBQUMxQixNQUFNQyx5QkFBeUI7QUFDL0IsSUFBSUMsU0FBUztBQUNiLE1BQU1DLGlCQUFpQixFQUFFO0FBQ3pCLE1BQU1DLGVBQWUsRUFBRTtBQUN2QixTQUFTQyxvQkFBb0JDLE9BQU8sRUFBRUMsZUFBZSxFQUFFQyxhQUFhO0lBQ2xFTixTQUFTSTtJQUNUSCxlQUFlTSxJQUFJLElBQUlGO0lBQ3ZCSCxhQUFhSyxJQUFJLElBQUlEO0FBQ3ZCO0FBQ0EsU0FBU0UsYUFBYUMsVUFBVTtJQUM5QlosWUFBWVk7QUFDZDtBQUNBLFNBQVNDO0lBQ1BiLFlBQVk7QUFDZDtBQUNBLFNBQVNjO0lBQ1AsT0FBT2Q7QUFDVDtBQUNBLFNBQVNlLFVBQVVDLE9BQU87SUFDeEJqQixTQUFTaUI7QUFDWDtBQUNBLFNBQVNDO0lBQ1BsQixTQUFTO0FBQ1g7QUFDQSxTQUFTbUI7SUFDUCxPQUFPbkI7QUFDVDtBQUVBLGFBQWE7QUFFYixTQUFTb0IsWUFBWUMsS0FBSztJQUN4QnpCLElBQUlFLFFBQVEsQ0FBQ3VCO0FBQ2Y7QUFDQSxlQUFlQyxjQUFjQyxHQUFHLEVBQUVDLElBQUk7SUFDcEMsSUFBSUMsT0FBTztJQUNYLElBQUk7UUFDRkEsT0FBTyxJQUFJQyxJQUFJSDtJQUNqQixFQUFFLE9BQU9JLE9BQU8sQ0FBQztJQUNqQixJQUFJdkIsVUFBVXFCLFFBQVNwQixDQUFBQSxlQUFldUIsUUFBUSxDQUFDSCxLQUFL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UUFDQWQsSUFBSTtRQUNKZ0MsUUFBUUY7SUFDVjtBQUNBLE1BQU1HLGNBQWMsU0FBVWpFLEdBQUcsRUFBRTZDLE9BQU87SUFDeEMsSUFBSWpCLFVBQVVVLFVBQVVDLE1BQU0sR0FBRyxLQUFLRCxTQUFTLENBQUMsRUFBRSxLQUFLRSxZQUFZRixTQUFTLENBQUMsRUFBRSxHQUFHO0lBQ2xGLE9BQU9ULFFBQVFPLElBQUksQ0FBQztRQUFDWixJQUFJeEIsS0FBSzZDO1FBQVUsSUFBSWhCLFFBQVEsQ0FBQ0MsVUFBVUM7WUFDN0RFLFdBQVc7Z0JBQ1RGLE9BQU8sSUFBSUksTUFBTTtZQUNuQixHQUFHUDtRQUNMO0tBQUc7QUFDTDtBQUV5UCxDQUN6UCwyQ0FBMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvaHR0cC1oZWxwZXJzL2Rpc3QvaHR0cEhlbHBlcnMuZXNtLmpzPzQ2MmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyJztcbmltcG9ydCBtZXJnZSBmcm9tICdsb2Rhc2gubWVyZ2UnO1xuaW1wb3J0IGxvZ0xldmVsLCB7IGxldmVscyB9IGZyb20gJ2xvZ2xldmVsJztcblxuY29uc3QgbG9nID0gbG9nTGV2ZWwuZ2V0TG9nZ2VyKFwiaHR0cC1oZWxwZXJzXCIpO1xubG9nLnNldExldmVsKGxldmVscy5JTkZPKTtcbmxldCBhcGlLZXkgPSBcInRvcnVzLWRlZmF1bHRcIjtcbmxldCBlbWJlZEhvc3QgPSBcIlwiO1xuXG4vLyAjcmVnaW9uIEFQSSBLZXlzXG5jb25zdCBnYXRld2F5QXV0aEhlYWRlciA9IFwieC1hcGkta2V5XCI7XG5jb25zdCBnYXRld2F5RW1iZWRIb3N0SGVhZGVyID0gXCJ4LWVtYmVkLWhvc3RcIjtcbmxldCBzZW50cnkgPSBudWxsO1xuY29uc3QgdHJhY2luZ09yaWdpbnMgPSBbXTtcbmNvbnN0IHRyYWNpbmdQYXRocyA9IFtdO1xuZnVuY3Rpb24gZW5hYmxlU2VudHJ5VHJhY2luZyhfc2VudHJ5LCBfdHJhY2luZ09yaWdpbnMsIF90cmFjaW5nUGF0aHMpIHtcbiAgc2VudHJ5ID0gX3NlbnRyeTtcbiAgdHJhY2luZ09yaWdpbnMucHVzaCguLi5fdHJhY2luZ09yaWdpbnMpO1xuICB0cmFjaW5nUGF0aHMucHVzaCguLi5fdHJhY2luZ1BhdGhzKTtcbn1cbmZ1bmN0aW9uIHNldEVtYmVkSG9zdChlbWJlZEhvc3RfKSB7XG4gIGVtYmVkSG9zdCA9IGVtYmVkSG9zdF87XG59XG5mdW5jdGlvbiBjbGVhckVtYmVkSG9zdCgpIHtcbiAgZW1iZWRIb3N0ID0gXCJcIjtcbn1cbmZ1bmN0aW9uIGdldEVtYmVkSG9zdCgpIHtcbiAgcmV0dXJuIGVtYmVkSG9zdDtcbn1cbmZ1bmN0aW9uIHNldEFQSUtleShhcGlLZXlfKSB7XG4gIGFwaUtleSA9IGFwaUtleV87XG59XG5mdW5jdGlvbiBjbGVhckFQSUtleSgpIHtcbiAgYXBpS2V5ID0gXCJ0b3J1cy1kZWZhdWx0XCI7XG59XG5mdW5jdGlvbiBnZXRBUElLZXkoKSB7XG4gIHJldHVybiBhcGlLZXk7XG59XG5cbi8vICNlbmRyZWdpb25cblxuZnVuY3Rpb24gc2V0TG9nTGV2ZWwobGV2ZWwpIHtcbiAgbG9nLnNldExldmVsKGxldmVsKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGZldGNoQW5kVHJhY2UodXJsLCBpbml0KSB7XG4gIGxldCBfdXJsID0gbnVsbDtcbiAgdHJ5IHtcbiAgICBfdXJsID0gbmV3IFVSTCh1cmwpO1xuICB9IGNhdGNoIChlcnJvcikge31cbiAgaWYgKHNlbnRyeSAmJiBfdXJsICYmICh0cmFjaW5nT3JpZ2lucy5pbmNsdWRlcyhfdXJsLm9yaWdpbikgfHwgdHJhY2luZ1BhdGhzLmluY2x1ZGVzKF91cmwucGF0aG5hbWUpKSkge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gc2VudHJ5LnN0YXJ0VHJhbnNhY3Rpb24oe1xuICAgICAgbmFtZTogdXJsXG4gICAgfSk7XG4gICAgY29uc3Qgc3BhbiA9IHRyYW5zYWN0aW9uLnN0YXJ0Q2hpbGQoe1xuICAgICAgb3A6IFwiaHR0cFwiXG4gICAgfSk7IC8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIFNwYW5cblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCBpbml0KTtcbiAgICBzcGFuLmZpbmlzaCgpOyAvLyBSZW1lbWJlciB0aGF0IG9ubHkgZmluaXNoZWQgc3BhbnMgd2lsbCBiZSBzZW50IHdpdGggdGhlIHRyYW5zYWN0aW9uXG5cbiAgICB0cmFuc2FjdGlvbi5maW5pc2goKTsgLy8gRmluaXNoaW5nIHRoZSB0cmFuc2FjdGlvbiB3aWxsIHNlbmQgaXQgdG8gU2VudHJ5XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cbiAgcmV0dXJuIGZldGNoKHVybCwgaW5pdCk7XG59XG5mdW5jdGlvbiBnZXRBcGlLZXlIZWFkZXJzKCkge1xuICBjb25zdCBoZWFkZXJzID0ge307XG4gIGlmIChhcGlLZXkpIGhlYWRlcnNbZ2F0ZXdheUF1dGhIZWFkZXJdID0gYXBpS2V5O1xuICBpZiAoZW1iZWRIb3N0KSBoZWFkZXJzW2dhdGV3YXlFbWJlZEhvc3RIZWFkZXJdID0gZW1iZWRIb3N0O1xuICByZXR1cm4gaGVhZGVycztcbn1cbmZ1bmN0aW9uIGRlYnVnTG9nUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgbG9nLmluZm8oYFJlc3BvbnNlOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICBsb2cuaW5mbyhgVXJsOiAke3Jlc3BvbnNlLnVybH1gKTtcbn1cbmZ1bmN0aW9uIGxvZ1RyYWNpbmdIZWFkZXIocmVzcG9uc2UpIHtcbiAgbG9nLmluZm8oYFJlcXVlc3QgdHJhY2luZyB3aXRoIHRyYWNlSUQ9JHtyZXNwb25zZS5oZWFkZXJzLmdldChcIngtd2ViMy1jb3JyZWxhdGlvbi1pZFwiKX1gKTtcbn1cbmNvbnN0IHByb21pc2VUaW1lb3V0ID0gKG1zLCBwcm9taXNlKSA9PiB7XG4gIGNvbnN0IHRpbWVvdXQgPSBuZXcgUHJvbWlzZSgoX3Jlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGlkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcihgVGltZWQgb3V0IGluICR7bXN9bXNgKSk7XG4gICAgfSwgbXMpO1xuICB9KTtcbiAgcmV0dXJuIFByb21pc2UucmFjZShbcHJvbWlzZSwgdGltZW91dF0pO1xufTtcbmNvbnN0IGdldCA9IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHtcbiAgbGV0IG9wdGlvbnNfID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgbGV0IGN1c3RvbU9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBtb2RlOiBcImNvcnNcIixcbiAgICBoZWFkZXJzOiB7fVxuICB9O1xuICBpZiAoY3VzdG9tT3B0aW9ucy51c2VBUElLZXkpIHtcbiAgICBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzKSwgZ2V0QXBpS2V5SGVhZGVycygpKTtcbiAgfVxuICBjb25zdCBvcHRpb25zID0gbWVyZ2UoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnNfLCB7XG4gICAgbWV0aG9kOiBcIkdFVFwiXG4gIH0pO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoQW5kVHJhY2UodXJsLCBvcHRpb25zKTtcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgcmVzcG9uc2VDb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICAgIGlmIChyZXNwb25zZUNvbnRlbnRUeXBlICE9PSBudWxsICYmIHJlc3BvbnNlQ29udGVudFR5cGUgIT09IHZvaWQgMCAmJiByZXNwb25zZUNvbnRlbnRUeXBlLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgfVxuICBkZWJ1Z0xvZ1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgdGhyb3cgcmVzcG9uc2U7XG59O1xuY29uc3QgcG9zdCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgbGV0IGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBsZXQgb3B0aW9uc18gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBsZXQgY3VzdG9tT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIG1vZGU6IFwiY29yc1wiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiXG4gICAgfVxuICB9O1xuICBpZiAoY3VzdG9tT3B0aW9ucy51c2VBUElLZXkpIHtcbiAgICBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzKSwgZ2V0QXBpS2V5SGVhZGVycygpKTtcbiAgfVxuICBjb25zdCBvcHRpb25zID0gbWVyZ2UoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnNfLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIlxuICB9KTtcblxuICAvLyBkZWVwIG1lcmdlIGNoYW5nZXMgdGhlIHN0cnVjdHVyZSBvZiBmb3JtIGRhdGEgYW5kIHVybCBlbmNvZGVkIGRhdGEgLFxuICAvLyBzbyB3ZSBzaG91bGQgbm90IGRlZXBtZXJnZSBib2R5IGRhdGFcbiAgaWYgKGN1c3RvbU9wdGlvbnMuaXNVcmxFbmNvZGVkRGF0YSkge1xuICAgIC8vIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBicm93c2VyL2NsaWVudCB3aWxsIGFkZCBtdWx0aXBhcnQgY29udGVudCB0eXBlXG4gICAgLy8gYWxvbmcgd2l0aCBtdWx0aXBhcnQgYm91bmRhcnkgLCBzbyBmb3IgbXVsdGlwYXJ0IHJlcXVlc3Qgc2VuZFxuICAgIC8vIGNvbnRlbnQtdHlwZTogdW5kZWZpbmVkIG9yIHNlbmQgd2l0aCBtdWx0aXBhcnQgYm91bmRhcnkgaWYgYWxyZWFkeSBrbm93blxuICAgIG9wdGlvbnMuYm9keSA9IGRhdGE7XG4gICAgLy8gSWYgdXJsIGVuY29kZWQgZGF0YSwgdGhpcyBtdXN0IG5vdCBiZSB0aGUgY29udGVudCB0eXBlXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIpIGRlbGV0ZSBvcHRpb25zLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl07XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2VUaW1lb3V0KGN1c3RvbU9wdGlvbnMudGltZW91dCB8fCA2MDAwMCwgZmV0Y2hBbmRUcmFjZSh1cmwsIG9wdGlvbnMpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGlmIChjdXN0b21PcHRpb25zLmxvZ1RyYWNpbmdIZWFkZXIpIHtcbiAgICAgIGxvZ1RyYWNpbmdIZWFkZXIocmVzcG9uc2UpO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKTtcbiAgICAgIGlmIChyZXNwb25zZUNvbnRlbnRUeXBlICE9PSBudWxsICYmIHJlc3BvbnNlQ29udGVudFR5cGUgIT09IHZvaWQgMCAmJiByZXNwb25zZUNvbnRlbnRUeXBlLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICB9XG4gICAgZGVidWdMb2dSZXNwb25zZShyZXNwb25zZSk7XG4gICAgdGhyb3cgcmVzcG9uc2U7XG4gIH0pKTtcbn07XG5jb25zdCBwYXRjaCA9IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHtcbiAgbGV0IGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBsZXQgb3B0aW9uc18gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBsZXQgY3VzdG9tT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIG1vZGU6IFwiY29yc1wiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiXG4gICAgfVxuICB9O1xuICAvLyBmb3IgbXVsdGlwYXJ0IHJlcXVlc3QgYnJvd3Nlci9jbGllbnQgd2lsbCBhZGQgbXVsdGlwYXJ0IGNvbnRlbnQgdHlwZVxuICAvLyBhbG9uZyB3aXRoIG11bHRpcGFydCBib3VuZGFyeSAsIHNvIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBzZW5kXG4gIC8vIGNvbnRlbnQtdHlwZTogdW5kZWZpbmVkIG9yIHNlbmQgd2l0aCBtdWx0aXBhcnQgYm91bmRhcnkgaWYgYWxyZWFkeSBrbm93blxuICBpZiAoY3VzdG9tT3B0aW9ucy51c2VBUElLZXkpIHtcbiAgICBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0T3B0aW9ucy5oZWFkZXJzKSwgZ2V0QXBpS2V5SGVhZGVycygpKTtcbiAgfVxuICBjb25zdCBvcHRpb25zID0gbWVyZ2UoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnNfLCB7XG4gICAgbWV0aG9kOiBcIlBBVENIXCJcbiAgfSk7XG4gIC8vIGRlZXAgbWVyZ2UgY2hhbmdlcyB0aGUgc3RydWN0dXJlIG9mIGZvcm0gZGF0YSBhbmQgdXJsIGVuY29kZWQgZGF0YSAsXG4gIC8vIHNvIHdlIHNob3VsZCBub3QgZGVlcG1lcmdlIGJvZHkgZGF0YVxuICBpZiAoY3VzdG9tT3B0aW9ucy5pc1VybEVuY29kZWREYXRhKSB7XG4gICAgLy8gZm9yIG11bHRpcGFydCByZXF1ZXN0IGJyb3dzZXIvY2xpZW50IHdpbGwgYWRkIG11bHRpcGFydCBjb250ZW50IHR5cGVcbiAgICAvLyBhbG9uZyB3aXRoIG11bHRpcGFydCBib3VuZGFyeSAsIHNvIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBzZW5kXG4gICAgLy8gY29udGVudC10eXBlOiB1bmRlZmluZWQgb3Igc2VuZCB3aXRoIG11bHRpcGFydCBib3VuZGFyeSBpZiBhbHJlYWR5IGtub3duXG4gICAgb3B0aW9ucy5ib2R5ID0gZGF0YTtcbiAgICAvLyBJZiB1cmwgZW5jb2RlZCBkYXRhLCB0aGlzIG11c3Qgbm90IGJlIHRoZSBjb250ZW50IHR5cGVcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID09PSBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIikgZGVsZXRlIG9wdGlvbnMuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgfVxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoQW5kVHJhY2UodXJsLCBvcHRpb25zKTtcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgcmVzcG9uc2VDb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICAgIGlmIChyZXNwb25zZUNvbnRlbnRUeXBlICE9PSBudWxsICYmIHJlc3BvbnNlQ29udGVudFR5cGUgIT09IHZvaWQgMCAmJiByZXNwb25zZUNvbnRlbnRUeXBlLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgfVxuICBkZWJ1Z0xvZ1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgdGhyb3cgcmVzcG9uc2U7XG59O1xuY29uc3QgcHV0ID0gYXN5bmMgZnVuY3Rpb24gKHVybCkge1xuICBsZXQgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGxldCBvcHRpb25zXyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGxldCBjdXN0b21PcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgbW9kZTogXCJjb3JzXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCJcbiAgICB9XG4gIH07XG4gIC8vIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBicm93c2VyL2NsaWVudCB3aWxsIGFkZCBtdWx0aXBhcnQgY29udGVudCB0eXBlXG4gIC8vIGFsb25nIHdpdGggbXVsdGlwYXJ0IGJvdW5kYXJ5ICwgc28gZm9yIG11bHRpcGFydCByZXF1ZXN0IHNlbmRcbiAgLy8gY29udGVudC10eXBlOiB1bmRlZmluZWQgb3Igc2VuZCB3aXRoIG11bHRpcGFydCBib3VuZGFyeSBpZiBhbHJlYWR5IGtub3duXG4gIGlmIChjdXN0b21PcHRpb25zLnVzZUFQSUtleSkge1xuICAgIGRlZmF1bHRPcHRpb25zLmhlYWRlcnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRPcHRpb25zLmhlYWRlcnMpLCBnZXRBcGlLZXlIZWFkZXJzKCkpO1xuICB9XG4gIGNvbnN0IG9wdGlvbnMgPSBtZXJnZShkZWZhdWx0T3B0aW9ucywgb3B0aW9uc18sIHtcbiAgICBtZXRob2Q6IFwiUFVUXCJcbiAgfSk7XG4gIC8vIGRlZXAgbWVyZ2UgY2hhbmdlcyB0aGUgc3RydWN0dXJlIG9mIGZvcm0gZGF0YSBhbmQgdXJsIGVuY29kZWQgZGF0YSAsXG4gIC8vIHNvIHdlIHNob3VsZCBub3QgZGVlcG1lcmdlIGJvZHkgZGF0YVxuICBpZiAoY3VzdG9tT3B0aW9ucy5pc1VybEVuY29kZWREYXRhKSB7XG4gICAgLy8gZm9yIG11bHRpcGFydCByZXF1ZXN0IGJyb3dzZXIvY2xpZW50IHdpbGwgYWRkIG11bHRpcGFydCBjb250ZW50IHR5cGVcbiAgICAvLyBhbG9uZyB3aXRoIG11bHRpcGFydCBib3VuZGFyeSAsIHNvIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBzZW5kXG4gICAgLy8gY29udGVudC10eXBlOiB1bmRlZmluZWQgb3Igc2VuZCB3aXRoIG11bHRpcGFydCBib3VuZGFyeSBpZiBhbHJlYWR5IGtub3duXG4gICAgb3B0aW9ucy5ib2R5ID0gZGF0YTtcbiAgICAvLyBJZiB1cmwgZW5jb2RlZCBkYXRhLCB0aGlzIG11c3Qgbm90IGJlIHRoZSBjb250ZW50IHR5cGVcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID09PSBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIikgZGVsZXRlIG9wdGlvbnMuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgfVxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoQW5kVHJhY2UodXJsLCBvcHRpb25zKTtcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgcmVzcG9uc2VDb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICAgIGlmIChyZXNwb25zZUNvbnRlbnRUeXBlICE9PSBudWxsICYmIHJlc3BvbnNlQ29udGVudFR5cGUgIT09IHZvaWQgMCAmJiByZXNwb25zZUNvbnRlbnRUeXBlLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgfVxuICBkZWJ1Z0xvZ1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgdGhyb3cgcmVzcG9uc2U7XG59O1xuY29uc3QgcmVtb3ZlID0gYXN5bmMgZnVuY3Rpb24gKHVybCkge1xuICBsZXQgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGxldCBvcHRpb25zXyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGxldCBjdXN0b21PcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgbW9kZTogXCJjb3JzXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCJcbiAgICB9XG4gIH07XG4gIC8vIGZvciBtdWx0aXBhcnQgcmVxdWVzdCBicm93c2VyL2NsaWVudCB3aWxsIGFkZCBtdWx0aXBhcnQgY29udGVudCB0eXBlXG4gIC8vIGFsb25nIHdpdGggbXVsdGlwYXJ0IGJvdW5kYXJ5ICwgc28gZm9yIG11bHRpcGFydCByZXF1ZXN0IHNlbmRcbiAgLy8gY29udGVudC10eXBlOiB1bmRlZmluZWQgb3Igc2VuZCB3aXRoIG11bHRpcGFydCBib3VuZGFyeSBpZiBhbHJlYWR5IGtub3duXG4gIGlmIChjdXN0b21PcHRpb25zLnVzZUFQSUtleSkge1xuICAgIGRlZmF1bHRPcHRpb25zLmhlYWRlcnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRPcHRpb25zLmhlYWRlcnMpLCBnZXRBcGlLZXlIZWFkZXJzKCkpO1xuICB9XG4gIGNvbnN0IG9wdGlvbnMgPSBtZXJnZShkZWZhdWx0T3B0aW9ucywgb3B0aW9uc18sIHtcbiAgICBtZXRob2Q6IFwiREVMRVRFXCJcbiAgfSk7XG4gIGlmIChjdXN0b21PcHRpb25zLmlzVXJsRW5jb2RlZERhdGEpIHtcbiAgICAvLyBmb3IgbXVsdGlwYXJ0IHJlcXVlc3QgYnJvd3Nlci9jbGllbnQgd2lsbCBhZGQgbXVsdGlwYXJ0IGNvbnRlbnQgdHlwZVxuICAgIC8vIGFsb25nIHdpdGggbXVsdGlwYXJ0IGJvdW5kYXJ5ICwgc28gZm9yIG11bHRpcGFydCByZXF1ZXN0IHNlbmRcbiAgICAvLyBjb250ZW50LXR5cGU6IHVuZGVmaW5lZCBvciBzZW5kIHdpdGggbXVsdGlwYXJ0IGJvdW5kYXJ5IGlmIGFscmVhZHkga25vd25cbiAgICBvcHRpb25zLmJvZHkgPSBkYXRhO1xuICAgIC8vIElmIHVybCBlbmNvZGVkIGRhdGEsIHRoaXMgbXVzdCBub3QgYmUgdGhlIGNvbnRlbnQgdHlwZVxuICAgIGlmIChvcHRpb25zLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPT09IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiKSBkZWxldGUgb3B0aW9ucy5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICB9XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hBbmRUcmFjZSh1cmwsIG9wdGlvbnMpO1xuICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICBjb25zdCByZXNwb25zZUNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIik7XG4gICAgaWYgKHJlc3BvbnNlQ29udGVudFR5cGUgIT09IG51bGwgJiYgcmVzcG9uc2VDb250ZW50VHlwZSAhPT0gdm9pZCAwICYmIHJlc3BvbnNlQ29udGVudFR5cGUuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICB9XG4gIGRlYnVnTG9nUmVzcG9uc2UocmVzcG9uc2UpO1xuICB0aHJvdyByZXNwb25zZTtcbn07XG5jb25zdCBnZW5lcmF0ZUpzb25SUENPYmplY3QgPSAobWV0aG9kLCBwYXJhbWV0ZXJzKSA9PiAoe1xuICBqc29ucnBjOiBcIjIuMFwiLFxuICBtZXRob2QsXG4gIGlkOiAxMCxcbiAgcGFyYW1zOiBwYXJhbWV0ZXJzXG59KTtcbmNvbnN0IHByb21pc2VSYWNlID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBsZXQgdGltZW91dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogNjAwMDA7XG4gIHJldHVybiBQcm9taXNlLnJhY2UoW2dldCh1cmwsIG9wdGlvbnMpLCBuZXcgUHJvbWlzZSgoX3Jlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcihcInRpbWVkIG91dFwiKSk7XG4gICAgfSwgdGltZW91dCk7XG4gIH0pXSk7XG59O1xuXG5leHBvcnQgeyBjbGVhckFQSUtleSwgY2xlYXJFbWJlZEhvc3QsIGVuYWJsZVNlbnRyeVRyYWNpbmcsIGdhdGV3YXlBdXRoSGVhZGVyLCBnYXRld2F5RW1iZWRIb3N0SGVhZGVyLCBnZW5lcmF0ZUpzb25SUENPYmplY3QsIGdldCwgZ2V0QVBJS2V5LCBnZXRFbWJlZEhvc3QsIHBhdGNoLCBwb3N0LCBwcm9taXNlUmFjZSwgcHJvbWlzZVRpbWVvdXQsIHB1dCwgcmVtb3ZlLCBzZXRBUElLZXksIHNldEVtYmVkSG9zdCwgc2V0TG9nTGV2ZWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBIZWxwZXJzLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfb2JqZWN0U3ByZWFkIiwibWVyZ2UiLCJsb2dMZXZlbCIsImxldmVscyIsImxvZyIsImdldExvZ2dlciIsInNldExldmVsIiwiSU5GTyIsImFwaUtleSIsImVtYmVkSG9zdCIsImdhdGV3YXlBdXRoSGVhZGVyIiwiZ2F0ZXdheUVtYmVkSG9zdEhlYWRlciIsInNlbnRyeSIsInRyYWNpbmdPcmlnaW5zIiwidHJhY2luZ1BhdGhzIiwiZW5hYmxlU2VudHJ5VHJhY2luZyIsIl9zZW50cnkiLCJfdHJhY2luZ09yaWdpbnMiLCJfdHJhY2luZ1BhdGhzIiwicHVzaCIsInNldEVtYmVkSG9zdCIsImVtYmVkSG9zdF8iLCJjbGVhckVtYmVkSG9zdCIsImdldEVtYmVkSG9zdCIsInNldEFQSUtleSIsImFwaUtleV8iLCJjbGVhckFQSUtleSIsImdldEFQSUtleSIsInNldExvZ0xldmVsIiwibGV2ZWwiLCJmZXRjaEFuZFRyYWNlIiwidXJsIiwiaW5pdCIsIl91cmwiLCJVUkwiLCJlcnJvciIsImluY2x1ZGVzIiwib3JpZ2luIiwicGF0aG5hbWUiLCJ0cmFuc2FjdGlvbiIsInN0YXJ0VHJhbnNhY3Rpb24iLCJuYW1lIiwic3BhbiIsInN0YXJ0Q2hpbGQiLCJvcCIsInJlc3BvbnNlIiwiZmV0Y2giLCJmaW5pc2giLCJnZXRBcGlLZXlIZWFkZXJzIiwiaGVhZGVycyIsImRlYnVnTG9nUmVzcG9uc2UiLCJpbmZvIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImxvZ1RyYWNpbmdIZWFkZXIiLCJnZXQiLCJwcm9taXNlVGltZW91dCIsIm1zIiwicHJvbWlzZSIsInRpbWVvdXQiLCJQcm9taXNlIiwiX3Jlc29sdmUiLCJyZWplY3QiLCJpZCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJFcnJvciIsInJhY2UiLCJvcHRpb25zXyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImN1c3RvbU9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsIm1vZGUiLCJ1c2VBUElLZXkiLCJvcHRpb25zIiwibWV0aG9kIiwib2siLCJyZXNwb25zZUNvbnRlbnRUeXBlIiwianNvbiIsInRleHQiLCJwb3N0IiwiZGF0YSIsImlzVXJsRW5jb2RlZERhdGEiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW4iLCJwYXRjaCIsInB1dCIsInJlbW92ZSIsImdlbmVyYXRlSnNvblJQQ09iamVjdCIsInBhcmFtZXRlcnMiLCJqc29ucnBjIiwicGFyYW1zIiwicHJvbWlzZVJhY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/metadataHelpers.esm.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@toruslabs/metadata-helpers/dist/metadataHelpers.esm.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decryptData: () => (/* binding */ decryptData),\n/* harmony export */   \"default\": () => (/* binding */ MetadataStorageLayer),\n/* harmony export */   ec: () => (/* binding */ ec),\n/* harmony export */   encParamsBufToHex: () => (/* binding */ encParamsBufToHex),\n/* harmony export */   encParamsHexToBuf: () => (/* binding */ encParamsHexToBuf),\n/* harmony export */   encryptAndSetData: () => (/* binding */ encryptAndSetData),\n/* harmony export */   encryptData: () => (/* binding */ encryptData),\n/* harmony export */   getAndDecryptData: () => (/* binding */ getAndDecryptData),\n/* harmony export */   getDeviceShare: () => (/* binding */ getDeviceShare),\n/* harmony export */   getTorusShare: () => (/* binding */ getTorusShare),\n/* harmony export */   keccak256: () => (/* binding */ keccak256),\n/* harmony export */   setDeviceShare: () => (/* binding */ setDeviceShare),\n/* harmony export */   setTorusShare: () => (/* binding */ setTorusShare)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @toruslabs/http-helpers */ \"(ssr)/./node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js\");\n/* harmony import */ var json_stable_stringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! json-stable-stringify */ \"(ssr)/./node_modules/json-stable-stringify/index.js\");\n/* harmony import */ var json_stable_stringify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(json_stable_stringify__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var elliptic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! elliptic */ \"(ssr)/./node_modules/elliptic/lib/elliptic.js\");\n/* harmony import */ var elliptic__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(elliptic__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var ethereum_cryptography_keccak__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ethereum-cryptography/keccak */ \"(ssr)/./node_modules/ethereum-cryptography/esm/keccak.js\");\n/* harmony import */ var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @toruslabs/eccrypto */ \"(ssr)/./node_modules/@toruslabs/eccrypto/dist/eccrypto.esm.js\");\n\n\n\n\n\n\n\nfunction keccak256(a) {\n    return Buffer.from((0,ethereum_cryptography_keccak__WEBPACK_IMPORTED_MODULE_5__.keccak256)(a));\n}\nconst ec = new elliptic__WEBPACK_IMPORTED_MODULE_4__.ec(\"secp256k1\");\nclass MetadataStorageLayer {\n    // ms\n    constructor(){\n        let metadataHost = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"https://metadata.tor.us\";\n        let serverTimeOffset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"metadataHost\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"serverTimeOffset\", void 0);\n        this.metadataHost = metadataHost;\n        this.serverTimeOffset = serverTimeOffset;\n    }\n    static setAPIKey(apiKey) {\n        (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__.setAPIKey)(apiKey);\n    }\n    static setEmbedHost(embedHost) {\n        (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__.setEmbedHost)(embedHost);\n    }\n    generateMetadataParams(message, privateKeyHex) {\n        var _sig$recoveryParam$to, _sig$recoveryParam;\n        const key = ec.keyFromPrivate(privateKeyHex, \"hex\");\n        const setData = {\n            data: message,\n            timestamp: Math.floor(this.serverTimeOffset + Date.now() / 1000).toString(16)\n        };\n        const sig = key.sign(keccak256(Buffer.from(json_stable_stringify__WEBPACK_IMPORTED_MODULE_3___default()(setData), \"utf8\")));\n        return {\n            pub_key_X: key.getPublic().getX().toString(16, 64),\n            pub_key_Y: key.getPublic().getY().toString(16, 64),\n            set_data: setData,\n            signature: Buffer.from(sig.r.toString(16, 64) + sig.s.toString(16, 64) + ((_sig$recoveryParam$to = (_sig$recoveryParam = sig.recoveryParam) === null || _sig$recoveryParam === void 0 ? void 0 : _sig$recoveryParam.toString(16).padStart(2, \"0\").slice(-2)) !== null && _sig$recoveryParam$to !== void 0 ? _sig$recoveryParam$to : \"00\"), \"hex\").toString(\"base64\")\n        };\n    }\n    generatePubKeyParams(privateKeyHex) {\n        const key = ec.keyFromPrivate(privateKeyHex, \"hex\");\n        return {\n            pub_key_X: key.getPublic().getX().toString(16, 64),\n            pub_key_Y: key.getPublic().getY().toString(16, 64)\n        };\n    }\n    async setMetadata(data, namespace, options) {\n        const params = namespace !== null ? _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, data), {}, {\n            namespace\n        }) : data;\n        const metadataResponse = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__.post)(`${this.metadataHost}/set`, params, options, {\n            useAPIKey: true\n        });\n        return metadataResponse.message;\n    }\n    async getMetadata(pubKey, namespace, options) {\n        const params = namespace !== null ? _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, pubKey), {}, {\n            namespace\n        }) : pubKey;\n        const metadataResponse = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__.post)(`${this.metadataHost}/get`, params, options, {\n            useAPIKey: true\n        });\n        return metadataResponse.message;\n    }\n}\nconst WEBAUTHN_TORUS_SHARE = \"webauthn_torus_share\";\nconst WEBAUTHN_DEVICE_SHARE = \"webauthn_device_share\";\nfunction encParamsHexToBuf(encParamsHex) {\n    return {\n        iv: Buffer.from(encParamsHex.iv, \"hex\"),\n        ephemPublicKey: Buffer.from(encParamsHex.ephemPublicKey, \"hex\"),\n        ciphertext: Buffer.from(encParamsHex.ciphertext, \"hex\"),\n        mac: Buffer.from(encParamsHex.mac, \"hex\")\n    };\n}\nfunction encParamsBufToHex(encParams) {\n    return {\n        iv: Buffer.from(encParams.iv).toString(\"hex\"),\n        ephemPublicKey: Buffer.from(encParams.ephemPublicKey).toString(\"hex\"),\n        ciphertext: Buffer.from(encParams.ciphertext).toString(\"hex\"),\n        mac: Buffer.from(encParams.mac).toString(\"hex\")\n    };\n}\nasync function encryptData(privKeyHex, d) {\n    const serializedDec = JSON.stringify(d);\n    const serializedBuf = Buffer.from(serializedDec, \"utf-8\");\n    const encParams = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_6__.encrypt)((0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_6__.getPublic)(Buffer.from(privKeyHex, \"hex\")), serializedBuf);\n    const encParamsHex = encParamsBufToHex(encParams);\n    const sData = JSON.stringify(encParamsHex);\n    return sData;\n}\nasync function decryptData(privKeyHex, d) {\n    const encParamsHex = JSON.parse(d);\n    const encParams = encParamsHexToBuf(encParamsHex);\n    const keyPair = ec.keyFromPrivate(privKeyHex);\n    const serializedBuf = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_6__.decrypt)(Buffer.from(keyPair.getPrivate().toString(\"hex\", 64), \"hex\"), encParams);\n    const serializedDec = serializedBuf.toString(\"utf-8\");\n    const data = JSON.parse(serializedDec);\n    return data;\n}\nasync function getAndDecryptData(m, privKeyHex, namespace) {\n    const keyPair = ec.keyFromPrivate(privKeyHex);\n    const pubKey = keyPair.getPublic();\n    const serializedData = await m.getMetadata({\n        pub_key_X: pubKey.getX().toString(16),\n        pub_key_Y: pubKey.getY().toString(16)\n    }, namespace);\n    if (!serializedData) {\n        return null;\n    }\n    const data = await decryptData(privKeyHex, serializedData);\n    return data;\n}\nasync function encryptAndSetData(m, privKeyHex, d, namespace) {\n    const sData = await encryptData(privKeyHex, d);\n    const metadataParams = m.generateMetadataParams(sData, privKeyHex);\n    await m.setMetadata(metadataParams, namespace);\n}\nasync function setTorusShare(m, webAuthnPubKey, webAuthnRefHex, subspace, subspaceData) {\n    const refKeyPair = ec.keyFromPrivate(webAuthnRefHex);\n    const privKey = refKeyPair.getPrivate();\n    const pubKey = ec.keyFromPublic({\n        x: webAuthnPubKey.pub_key_X,\n        y: webAuthnPubKey.pub_key_Y\n    });\n    const data = await getAndDecryptData(m, webAuthnRefHex, WEBAUTHN_TORUS_SHARE);\n    let d = {};\n    if (data) d = data;\n    const serializedSubspaceData = JSON.stringify(subspaceData);\n    const serializedSubspaceDataBuf = Buffer.from(serializedSubspaceData, \"utf-8\");\n    const encSubspaceData = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_6__.encrypt)(Buffer.from(pubKey.getPublic(\"hex\"), \"hex\"), serializedSubspaceDataBuf);\n    const encSubspaceDataHex = encParamsBufToHex(encSubspaceData);\n    d[subspace] = encSubspaceDataHex;\n    await encryptAndSetData(m, privKey.toString(\"hex\", 64), d, WEBAUTHN_TORUS_SHARE);\n}\nasync function setDeviceShare(m, webAuthnRefHex, subspace, subspaceData) {\n    const keyPair = ec.keyFromPrivate(webAuthnRefHex);\n    const privKey = keyPair.getPrivate();\n    const data = await getAndDecryptData(m, webAuthnRefHex, WEBAUTHN_DEVICE_SHARE);\n    let d = {};\n    if (data) d = data;\n    d[subspace] = subspaceData;\n    await encryptAndSetData(m, privKey.toString(\"hex\", 64), d, WEBAUTHN_DEVICE_SHARE);\n}\nasync function getTorusShare(m, webAuthnKeyHex, webAuthnRefHex, subspace) {\n    const data = await getAndDecryptData(m, webAuthnRefHex, WEBAUTHN_TORUS_SHARE);\n    if (!data) return null;\n    const encParamsHex = data[subspace];\n    if (!encParamsHex) return null;\n    const encParams = encParamsHexToBuf(encParamsHex);\n    const keyPair = ec.keyFromPrivate(webAuthnKeyHex);\n    const privKey = keyPair.getPrivate();\n    const serializedSubspaceDataBuf = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_6__.decrypt)(Buffer.from(privKey.toString(\"hex\", 64), \"hex\"), encParams);\n    const serializedSubspaceData = serializedSubspaceDataBuf.toString(\"utf-8\");\n    const subspaceData = JSON.parse(serializedSubspaceData);\n    return subspaceData;\n}\nasync function getDeviceShare(m, webAuthnRefHex, subspace) {\n    const data = await getAndDecryptData(m, webAuthnRefHex, WEBAUTHN_DEVICE_SHARE);\n    if (data) return data[subspace];\n    return null;\n}\n //# sourceMappingURL=metadataHelpers.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9tZXRhZGF0YS1oZWxwZXJzL2Rpc3QvbWV0YWRhdGFIZWxwZXJzLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUU7QUFDRztBQUNJO0FBQzFCO0FBQ1I7QUFDa0M7QUFDTjtBQUVsRSxTQUFTUSxVQUFVSyxDQUFDO0lBQ2xCLE9BQU9DLE9BQU9DLElBQUksQ0FBQ04sdUVBQVdBLENBQUNJO0FBQ2pDO0FBQ0EsTUFBTVAsS0FBSyxJQUFJQyx3Q0FBSUEsQ0FBQztBQUVwQixNQUFNUztJQUNKLEtBQUs7SUFFTEMsYUFBYztRQUNaLElBQUlDLGVBQWVDLFVBQVVDLE1BQU0sR0FBRyxLQUFLRCxTQUFTLENBQUMsRUFBRSxLQUFLRSxZQUFZRixTQUFTLENBQUMsRUFBRSxHQUFHO1FBQ3ZGLElBQUlHLG1CQUFtQkgsVUFBVUMsTUFBTSxHQUFHLEtBQUtELFNBQVMsQ0FBQyxFQUFFLEtBQUtFLFlBQVlGLFNBQVMsQ0FBQyxFQUFFLEdBQUc7UUFDM0ZsQiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLEtBQUs7UUFDM0NBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxvQkFBb0IsS0FBSztRQUMvQyxJQUFJLENBQUNpQixZQUFZLEdBQUdBO1FBQ3BCLElBQUksQ0FBQ0ksZ0JBQWdCLEdBQUdBO0lBQzFCO0lBQ0EsT0FBT3BCLFVBQVVxQixNQUFNLEVBQUU7UUFDdkJyQixrRUFBU0EsQ0FBQ3FCO0lBQ1o7SUFDQSxPQUFPcEIsYUFBYXFCLFNBQVMsRUFBRTtRQUM3QnJCLHFFQUFZQSxDQUFDcUI7SUFDZjtJQUNBQyx1QkFBdUJDLE9BQU8sRUFBRUMsYUFBYSxFQUFFO1FBQzdDLElBQUlDLHVCQUF1QkM7UUFDM0IsTUFBTUMsTUFBTXhCLEdBQUd5QixjQUFjLENBQUNKLGVBQWU7UUFDN0MsTUFBTUssVUFBVTtZQUNkQyxNQUFNUDtZQUNOUSxXQUFXQyxLQUFLQyxLQUFLLENB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QUtJLEtBQUssQ0FBQ2tCO0lBQ2hDLE9BQU9OO0FBQ1Q7QUFDQSxlQUFlYSxlQUFlckIsQ0FBQyxFQUFFTSxjQUFjLEVBQUVDLFFBQVE7SUFDdkQsTUFBTTFELE9BQU8sTUFBTWtELGtCQUFrQkMsR0FBR00sZ0JBQWdCM0I7SUFDeEQsSUFBSTlCLE1BQU0sT0FBT0EsSUFBSSxDQUFDMEQsU0FBUztJQUMvQixPQUFPO0FBQ1Q7QUFFOE4sQ0FDOU4sK0NBQStDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL21ldGFkYXRhLWhlbHBlcnMvZGlzdC9tZXRhZGF0YUhlbHBlcnMuZXNtLmpzPzQ1YjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgeyBzZXRBUElLZXksIHNldEVtYmVkSG9zdCwgcG9zdCB9IGZyb20gJ0B0b3J1c2xhYnMvaHR0cC1oZWxwZXJzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnanNvbi1zdGFibGUtc3RyaW5naWZ5JztcbmltcG9ydCB7IGVjIGFzIGVjJDEgfSBmcm9tICdlbGxpcHRpYyc7XG5pbXBvcnQgeyBrZWNjYWsyNTYgYXMga2VjY2FrMjU2JDEgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkva2VjY2FrJztcbmltcG9ydCB7IGVuY3J5cHQsIGdldFB1YmxpYywgZGVjcnlwdCB9IGZyb20gJ0B0b3J1c2xhYnMvZWNjcnlwdG8nO1xuXG5mdW5jdGlvbiBrZWNjYWsyNTYoYSkge1xuICByZXR1cm4gQnVmZmVyLmZyb20oa2VjY2FrMjU2JDEoYSkpO1xufVxuY29uc3QgZWMgPSBuZXcgZWMkMShcInNlY3AyNTZrMVwiKTtcblxuY2xhc3MgTWV0YWRhdGFTdG9yYWdlTGF5ZXIge1xuICAvLyBtc1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBtZXRhZGF0YUhvc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFwiaHR0cHM6Ly9tZXRhZGF0YS50b3IudXNcIjtcbiAgICBsZXQgc2VydmVyVGltZU9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRhZGF0YUhvc3RcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXJ2ZXJUaW1lT2Zmc2V0XCIsIHZvaWQgMCk7XG4gICAgdGhpcy5tZXRhZGF0YUhvc3QgPSBtZXRhZGF0YUhvc3Q7XG4gICAgdGhpcy5zZXJ2ZXJUaW1lT2Zmc2V0ID0gc2VydmVyVGltZU9mZnNldDtcbiAgfVxuICBzdGF0aWMgc2V0QVBJS2V5KGFwaUtleSkge1xuICAgIHNldEFQSUtleShhcGlLZXkpO1xuICB9XG4gIHN0YXRpYyBzZXRFbWJlZEhvc3QoZW1iZWRIb3N0KSB7XG4gICAgc2V0RW1iZWRIb3N0KGVtYmVkSG9zdCk7XG4gIH1cbiAgZ2VuZXJhdGVNZXRhZGF0YVBhcmFtcyhtZXNzYWdlLCBwcml2YXRlS2V5SGV4KSB7XG4gICAgdmFyIF9zaWckcmVjb3ZlcnlQYXJhbSR0bywgX3NpZyRyZWNvdmVyeVBhcmFtO1xuICAgIGNvbnN0IGtleSA9IGVjLmtleUZyb21Qcml2YXRlKHByaXZhdGVLZXlIZXgsIFwiaGV4XCIpO1xuICAgIGNvbnN0IHNldERhdGEgPSB7XG4gICAgICBkYXRhOiBtZXNzYWdlLFxuICAgICAgdGltZXN0YW1wOiBNYXRoLmZsb29yKHRoaXMuc2VydmVyVGltZU9mZnNldCArIERhdGUubm93KCkgLyAxMDAwKS50b1N0cmluZygxNilcbiAgICB9O1xuICAgIGNvbnN0IHNpZyA9IGtleS5zaWduKGtlY2NhazI1NihCdWZmZXIuZnJvbShzdHJpbmdpZnkoc2V0RGF0YSksIFwidXRmOFwiKSkpO1xuICAgIHJldHVybiB7XG4gICAgICBwdWJfa2V5X1g6IGtleS5nZXRQdWJsaWMoKS5nZXRYKCkudG9TdHJpbmcoMTYsIDY0KSxcbiAgICAgIHB1Yl9rZXlfWToga2V5LmdldFB1YmxpYygpLmdldFkoKS50b1N0cmluZygxNiwgNjQpLFxuICAgICAgc2V0X2RhdGE6IHNldERhdGEsXG4gICAgICBzaWduYXR1cmU6IEJ1ZmZlci5mcm9tKHNpZy5yLnRvU3RyaW5nKDE2LCA2NCkgKyBzaWcucy50b1N0cmluZygxNiwgNjQpICsgKChfc2lnJHJlY292ZXJ5UGFyYW0kdG8gPSAoX3NpZyRyZWNvdmVyeVBhcmFtID0gc2lnLnJlY292ZXJ5UGFyYW0pID09PSBudWxsIHx8IF9zaWckcmVjb3ZlcnlQYXJhbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NpZyRyZWNvdmVyeVBhcmFtLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikuc2xpY2UoLTIpKSAhPT0gbnVsbCAmJiBfc2lnJHJlY292ZXJ5UGFyYW0kdG8gIT09IHZvaWQgMCA/IF9zaWckcmVjb3ZlcnlQYXJhbSR0byA6IFwiMDBcIiksIFwiaGV4XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpXG4gICAgfTtcbiAgfVxuICBnZW5lcmF0ZVB1YktleVBhcmFtcyhwcml2YXRlS2V5SGV4KSB7XG4gICAgY29uc3Qga2V5ID0gZWMua2V5RnJvbVByaXZhdGUocHJpdmF0ZUtleUhleCwgXCJoZXhcIik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHB1Yl9rZXlfWDoga2V5LmdldFB1YmxpYygpLmdldFgoKS50b1N0cmluZygxNiwgNjQpLFxuICAgICAgcHViX2tleV9ZOiBrZXkuZ2V0UHVibGljKCkuZ2V0WSgpLnRvU3RyaW5nKDE2LCA2NClcbiAgICB9O1xuICB9XG4gIGFzeW5jIHNldE1ldGFkYXRhKGRhdGEsIG5hbWVzcGFjZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHBhcmFtcyA9IG5hbWVzcGFjZSAhPT0gbnVsbCA/IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGF0YSksIHt9LCB7XG4gICAgICBuYW1lc3BhY2VcbiAgICB9KSA6IGRhdGE7XG4gICAgY29uc3QgbWV0YWRhdGFSZXNwb25zZSA9IGF3YWl0IHBvc3QoYCR7dGhpcy5tZXRhZGF0YUhvc3R9L3NldGAsIHBhcmFtcywgb3B0aW9ucywge1xuICAgICAgdXNlQVBJS2V5OiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG1ldGFkYXRhUmVzcG9uc2UubWVzc2FnZTtcbiAgfVxuICBhc3luYyBnZXRNZXRhZGF0YShwdWJLZXksIG5hbWVzcGFjZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHBhcmFtcyA9IG5hbWVzcGFjZSAhPT0gbnVsbCA/IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHViS2V5KSwge30sIHtcbiAgICAgIG5hbWVzcGFjZVxuICAgIH0pIDogcHViS2V5O1xuICAgIGNvbnN0IG1ldGFkYXRhUmVzcG9uc2UgPSBhd2FpdCBwb3N0KGAke3RoaXMubWV0YWRhdGFIb3N0fS9nZXRgLCBwYXJhbXMsIG9wdGlvbnMsIHtcbiAgICAgIHVzZUFQSUtleTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBtZXRhZGF0YVJlc3BvbnNlLm1lc3NhZ2U7XG4gIH1cbn1cblxuY29uc3QgV0VCQVVUSE5fVE9SVVNfU0hBUkUgPSBcIndlYmF1dGhuX3RvcnVzX3NoYXJlXCI7XG5jb25zdCBXRUJBVVRITl9ERVZJQ0VfU0hBUkUgPSBcIndlYmF1dGhuX2RldmljZV9zaGFyZVwiO1xuZnVuY3Rpb24gZW5jUGFyYW1zSGV4VG9CdWYoZW5jUGFyYW1zSGV4KSB7XG4gIHJldHVybiB7XG4gICAgaXY6IEJ1ZmZlci5mcm9tKGVuY1BhcmFtc0hleC5pdiwgXCJoZXhcIiksXG4gICAgZXBoZW1QdWJsaWNLZXk6IEJ1ZmZlci5mcm9tKGVuY1BhcmFtc0hleC5lcGhlbVB1YmxpY0tleSwgXCJoZXhcIiksXG4gICAgY2lwaGVydGV4dDogQnVmZmVyLmZyb20oZW5jUGFyYW1zSGV4LmNpcGhlcnRleHQsIFwiaGV4XCIpLFxuICAgIG1hYzogQnVmZmVyLmZyb20oZW5jUGFyYW1zSGV4Lm1hYywgXCJoZXhcIilcbiAgfTtcbn1cbmZ1bmN0aW9uIGVuY1BhcmFtc0J1ZlRvSGV4KGVuY1BhcmFtcykge1xuICByZXR1cm4ge1xuICAgIGl2OiBCdWZmZXIuZnJvbShlbmNQYXJhbXMuaXYpLnRvU3RyaW5nKFwiaGV4XCIpLFxuICAgIGVwaGVtUHVibGljS2V5OiBCdWZmZXIuZnJvbShlbmNQYXJhbXMuZXBoZW1QdWJsaWNLZXkpLnRvU3RyaW5nKFwiaGV4XCIpLFxuICAgIGNpcGhlcnRleHQ6IEJ1ZmZlci5mcm9tKGVuY1BhcmFtcy5jaXBoZXJ0ZXh0KS50b1N0cmluZyhcImhleFwiKSxcbiAgICBtYWM6IEJ1ZmZlci5mcm9tKGVuY1BhcmFtcy5tYWMpLnRvU3RyaW5nKFwiaGV4XCIpXG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBlbmNyeXB0RGF0YShwcml2S2V5SGV4LCBkKSB7XG4gIGNvbnN0IHNlcmlhbGl6ZWREZWMgPSBKU09OLnN0cmluZ2lmeShkKTtcbiAgY29uc3Qgc2VyaWFsaXplZEJ1ZiA9IEJ1ZmZlci5mcm9tKHNlcmlhbGl6ZWREZWMsIFwidXRmLThcIik7XG4gIGNvbnN0IGVuY1BhcmFtcyA9IGF3YWl0IGVuY3J5cHQoZ2V0UHVibGljKEJ1ZmZlci5mcm9tKHByaXZLZXlIZXgsIFwiaGV4XCIpKSwgc2VyaWFsaXplZEJ1Zik7XG4gIGNvbnN0IGVuY1BhcmFtc0hleCA9IGVuY1BhcmFtc0J1ZlRvSGV4KGVuY1BhcmFtcyk7XG4gIGNvbnN0IHNEYXRhID0gSlNPTi5zdHJpbmdpZnkoZW5jUGFyYW1zSGV4KTtcbiAgcmV0dXJuIHNEYXRhO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVjcnlwdERhdGEocHJpdktleUhleCwgZCkge1xuICBjb25zdCBlbmNQYXJhbXNIZXggPSBKU09OLnBhcnNlKGQpO1xuICBjb25zdCBlbmNQYXJhbXMgPSBlbmNQYXJhbXNIZXhUb0J1ZihlbmNQYXJhbXNIZXgpO1xuICBjb25zdCBrZXlQYWlyID0gZWMua2V5RnJvbVByaXZhdGUocHJpdktleUhleCk7XG4gIGNvbnN0IHNlcmlhbGl6ZWRCdWYgPSBhd2FpdCBkZWNyeXB0KEJ1ZmZlci5mcm9tKGtleVBhaXIuZ2V0UHJpdmF0ZSgpLnRvU3RyaW5nKFwiaGV4XCIsIDY0KSwgXCJoZXhcIiksIGVuY1BhcmFtcyk7XG4gIGNvbnN0IHNlcmlhbGl6ZWREZWMgPSBzZXJpYWxpemVkQnVmLnRvU3RyaW5nKFwidXRmLThcIik7XG4gIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWREZWMpO1xuICByZXR1cm4gZGF0YTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEFuZERlY3J5cHREYXRhKG0sIHByaXZLZXlIZXgsIG5hbWVzcGFjZSkge1xuICBjb25zdCBrZXlQYWlyID0gZWMua2V5RnJvbVByaXZhdGUocHJpdktleUhleCk7XG4gIGNvbnN0IHB1YktleSA9IGtleVBhaXIuZ2V0UHVibGljKCk7XG4gIGNvbnN0IHNlcmlhbGl6ZWREYXRhID0gYXdhaXQgbS5nZXRNZXRhZGF0YSh7XG4gICAgcHViX2tleV9YOiBwdWJLZXkuZ2V0WCgpLnRvU3RyaW5nKDE2KSxcbiAgICBwdWJfa2V5X1k6IHB1YktleS5nZXRZKCkudG9TdHJpbmcoMTYpXG4gIH0sIG5hbWVzcGFjZSk7XG4gIGlmICghc2VyaWFsaXplZERhdGEpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBkYXRhID0gYXdhaXQgZGVjcnlwdERhdGEocHJpdktleUhleCwgc2VyaWFsaXplZERhdGEpO1xuICByZXR1cm4gZGF0YTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGVuY3J5cHRBbmRTZXREYXRhKG0sIHByaXZLZXlIZXgsIGQsIG5hbWVzcGFjZSkge1xuICBjb25zdCBzRGF0YSA9IGF3YWl0IGVuY3J5cHREYXRhKHByaXZLZXlIZXgsIGQpO1xuICBjb25zdCBtZXRhZGF0YVBhcmFtcyA9IG0uZ2VuZXJhdGVNZXRhZGF0YVBhcmFtcyhzRGF0YSwgcHJpdktleUhleCk7XG4gIGF3YWl0IG0uc2V0TWV0YWRhdGEobWV0YWRhdGFQYXJhbXMsIG5hbWVzcGFjZSk7XG59XG5hc3luYyBmdW5jdGlvbiBzZXRUb3J1c1NoYXJlKG0sIHdlYkF1dGhuUHViS2V5LCB3ZWJBdXRoblJlZkhleCwgc3Vic3BhY2UsIHN1YnNwYWNlRGF0YSkge1xuICBjb25zdCByZWZLZXlQYWlyID0gZWMua2V5RnJvbVByaXZhdGUod2ViQXV0aG5SZWZIZXgpO1xuICBjb25zdCBwcml2S2V5ID0gcmVmS2V5UGFpci5nZXRQcml2YXRlKCk7XG4gIGNvbnN0IHB1YktleSA9IGVjLmtleUZyb21QdWJsaWMoe1xuICAgIHg6IHdlYkF1dGhuUHViS2V5LnB1Yl9rZXlfWCxcbiAgICB5OiB3ZWJBdXRoblB1YktleS5wdWJfa2V5X1lcbiAgfSk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRBbmREZWNyeXB0RGF0YShtLCB3ZWJBdXRoblJlZkhleCwgV0VCQVVUSE5fVE9SVVNfU0hBUkUpO1xuICBsZXQgZCA9IHt9O1xuICBpZiAoZGF0YSkgZCA9IGRhdGE7XG4gIGNvbnN0IHNlcmlhbGl6ZWRTdWJzcGFjZURhdGEgPSBKU09OLnN0cmluZ2lmeShzdWJzcGFjZURhdGEpO1xuICBjb25zdCBzZXJpYWxpemVkU3Vic3BhY2VEYXRhQnVmID0gQnVmZmVyLmZyb20oc2VyaWFsaXplZFN1YnNwYWNlRGF0YSwgXCJ1dGYtOFwiKTtcbiAgY29uc3QgZW5jU3Vic3BhY2VEYXRhID0gYXdhaXQgZW5jcnlwdChCdWZmZXIuZnJvbShwdWJLZXkuZ2V0UHVibGljKFwiaGV4XCIpLCBcImhleFwiKSwgc2VyaWFsaXplZFN1YnNwYWNlRGF0YUJ1Zik7XG4gIGNvbnN0IGVuY1N1YnNwYWNlRGF0YUhleCA9IGVuY1BhcmFtc0J1ZlRvSGV4KGVuY1N1YnNwYWNlRGF0YSk7XG4gIGRbc3Vic3BhY2VdID0gZW5jU3Vic3BhY2VEYXRhSGV4O1xuICBhd2FpdCBlbmNyeXB0QW5kU2V0RGF0YShtLCBwcml2S2V5LnRvU3RyaW5nKFwiaGV4XCIsIDY0KSwgZCwgV0VCQVVUSE5fVE9SVVNfU0hBUkUpO1xufVxuYXN5bmMgZnVuY3Rpb24gc2V0RGV2aWNlU2hhcmUobSwgd2ViQXV0aG5SZWZIZXgsIHN1YnNwYWNlLCBzdWJzcGFjZURhdGEpIHtcbiAgY29uc3Qga2V5UGFpciA9IGVjLmtleUZyb21Qcml2YXRlKHdlYkF1dGhuUmVmSGV4KTtcbiAgY29uc3QgcHJpdktleSA9IGtleVBhaXIuZ2V0UHJpdmF0ZSgpO1xuICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0QW5kRGVjcnlwdERhdGEobSwgd2ViQXV0aG5SZWZIZXgsIFdFQkFVVEhOX0RFVklDRV9TSEFSRSk7XG4gIGxldCBkID0ge307XG4gIGlmIChkYXRhKSBkID0gZGF0YTtcbiAgZFtzdWJzcGFjZV0gPSBzdWJzcGFjZURhdGE7XG4gIGF3YWl0IGVuY3J5cHRBbmRTZXREYXRhKG0sIHByaXZLZXkudG9TdHJpbmcoXCJoZXhcIiwgNjQpLCBkLCBXRUJBVVRITl9ERVZJQ0VfU0hBUkUpO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0VG9ydXNTaGFyZShtLCB3ZWJBdXRobktleUhleCwgd2ViQXV0aG5SZWZIZXgsIHN1YnNwYWNlKSB7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRBbmREZWNyeXB0RGF0YShtLCB3ZWJBdXRoblJlZkhleCwgV0VCQVVUSE5fVE9SVVNfU0hBUkUpO1xuICBpZiAoIWRhdGEpIHJldHVybiBudWxsO1xuICBjb25zdCBlbmNQYXJhbXNIZXggPSBkYXRhW3N1YnNwYWNlXTtcbiAgaWYgKCFlbmNQYXJhbXNIZXgpIHJldHVybiBudWxsO1xuICBjb25zdCBlbmNQYXJhbXMgPSBlbmNQYXJhbXNIZXhUb0J1ZihlbmNQYXJhbXNIZXgpO1xuICBjb25zdCBrZXlQYWlyID0gZWMua2V5RnJvbVByaXZhdGUod2ViQXV0aG5LZXlIZXgpO1xuICBjb25zdCBwcml2S2V5ID0ga2V5UGFpci5nZXRQcml2YXRlKCk7XG4gIGNvbnN0IHNlcmlhbGl6ZWRTdWJzcGFjZURhdGFCdWYgPSBhd2FpdCBkZWNyeXB0KEJ1ZmZlci5mcm9tKHByaXZLZXkudG9TdHJpbmcoXCJoZXhcIiwgNjQpLCBcImhleFwiKSwgZW5jUGFyYW1zKTtcbiAgY29uc3Qgc2VyaWFsaXplZFN1YnNwYWNlRGF0YSA9IHNlcmlhbGl6ZWRTdWJzcGFjZURhdGFCdWYudG9TdHJpbmcoXCJ1dGYtOFwiKTtcbiAgY29uc3Qgc3Vic3BhY2VEYXRhID0gSlNPTi5wYXJzZShzZXJpYWxpemVkU3Vic3BhY2VEYXRhKTtcbiAgcmV0dXJuIHN1YnNwYWNlRGF0YTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldERldmljZVNoYXJlKG0sIHdlYkF1dGhuUmVmSGV4LCBzdWJzcGFjZSkge1xuICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0QW5kRGVjcnlwdERhdGEobSwgd2ViQXV0aG5SZWZIZXgsIFdFQkFVVEhOX0RFVklDRV9TSEFSRSk7XG4gIGlmIChkYXRhKSByZXR1cm4gZGF0YVtzdWJzcGFjZV07XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgeyBkZWNyeXB0RGF0YSwgTWV0YWRhdGFTdG9yYWdlTGF5ZXIgYXMgZGVmYXVsdCwgZWMsIGVuY1BhcmFtc0J1ZlRvSGV4LCBlbmNQYXJhbXNIZXhUb0J1ZiwgZW5jcnlwdEFuZFNldERhdGEsIGVuY3J5cHREYXRhLCBnZXRBbmREZWNyeXB0RGF0YSwgZ2V0RGV2aWNlU2hhcmUsIGdldFRvcnVzU2hhcmUsIGtlY2NhazI1Niwgc2V0RGV2aWNlU2hhcmUsIHNldFRvcnVzU2hhcmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ldGFkYXRhSGVscGVycy5lc20uanMubWFwXG4iXSwibmFtZXMiOlsiX29iamVjdFNwcmVhZCIsIl9kZWZpbmVQcm9wZXJ0eSIsInNldEFQSUtleSIsInNldEVtYmVkSG9zdCIsInBvc3QiLCJzdHJpbmdpZnkiLCJlYyIsImVjJDEiLCJrZWNjYWsyNTYiLCJrZWNjYWsyNTYkMSIsImVuY3J5cHQiLCJnZXRQdWJsaWMiLCJkZWNyeXB0IiwiYSIsIkJ1ZmZlciIsImZyb20iLCJNZXRhZGF0YVN0b3JhZ2VMYXllciIsImNvbnN0cnVjdG9yIiwibWV0YWRhdGFIb3N0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwic2VydmVyVGltZU9mZnNldCIsImFwaUtleSIsImVtYmVkSG9zdCIsImdlbmVyYXRlTWV0YWRhdGFQYXJhbXMiLCJtZXNzYWdlIiwicHJpdmF0ZUtleUhleCIsIl9zaWckcmVjb3ZlcnlQYXJhbSR0byIsIl9zaWckcmVjb3ZlcnlQYXJhbSIsImtleSIsImtleUZyb21Qcml2YXRlIiwic2V0RGF0YSIsImRhdGEiLCJ0aW1lc3RhbXAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJzaWciLCJzaWduIiwicHViX2tleV9YIiwiZ2V0WCIsInB1Yl9rZXlfWSIsImdldFkiLCJzZXRfZGF0YSIsInNpZ25hdHVyZSIsInIiLCJzIiwicmVjb3ZlcnlQYXJhbSIsInBhZFN0YXJ0Iiwic2xpY2UiLCJnZW5lcmF0ZVB1YktleVBhcmFtcyIsInNldE1ldGFkYXRhIiwibmFtZXNwYWNlIiwib3B0aW9ucyIsInBhcmFtcyIsIm1ldGFkYXRhUmVzcG9uc2UiLCJ1c2VBUElLZXkiLCJnZXRNZXRhZGF0YSIsInB1YktleSIsIldFQkFVVEhOX1RPUlVTX1NIQVJFIiwiV0VCQVVUSE5fREVWSUNFX1NIQVJFIiwiZW5jUGFyYW1zSGV4VG9CdWYiLCJlbmNQYXJhbXNIZXgiLCJpdiIsImVwaGVtUHVibGljS2V5IiwiY2lwaGVydGV4dCIsIm1hYyIsImVuY1BhcmFtc0J1ZlRvSGV4IiwiZW5jUGFyYW1zIiwiZW5jcnlwdERhdGEiLCJwcml2S2V5SGV4IiwiZCIsInNlcmlhbGl6ZWREZWMiLCJKU09OIiwic2VyaWFsaXplZEJ1ZiIsInNEYXRhIiwiZGVjcnlwdERhdGEiLCJwYXJzZSIsImtleVBhaXIiLCJnZXRQcml2YXRlIiwiZ2V0QW5kRGVjcnlwdERhdGEiLCJtIiwic2VyaWFsaXplZERhdGEiLCJlbmNyeXB0QW5kU2V0RGF0YSIsIm1ldGFkYXRhUGFyYW1zIiwic2V0VG9ydXNTaGFyZSIsIndlYkF1dGhuUHViS2V5Iiwid2ViQXV0aG5SZWZIZXgiLCJzdWJzcGFjZSIsInN1YnNwYWNlRGF0YSIsInJlZktleVBhaXIiLCJwcml2S2V5Iiwia2V5RnJvbVB1YmxpYyIsIngiLCJ5Iiwic2VyaWFsaXplZFN1YnNwYWNlRGF0YSIsInNlcmlhbGl6ZWRTdWJzcGFjZURhdGFCdWYiLCJlbmNTdWJzcGFjZURhdGEiLCJlbmNTdWJzcGFjZURhdGFIZXgiLCJzZXREZXZpY2VTaGFyZSIsImdldFRvcnVzU2hhcmUiLCJ3ZWJBdXRobktleUhleCIsImdldERldmljZVNoYXJlIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/metadataHelpers.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/openlogin-ed25519/dist/openloginEd25519.esm.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@toruslabs/openlogin-ed25519/dist/openloginEd25519.esm.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getED25519Key: () => (/* binding */ getED25519Key)\n/* harmony export */ });\n/* harmony import */ var _toruslabs_tweetnacl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @toruslabs/tweetnacl-js */ \"(ssr)/./node_modules/@toruslabs/tweetnacl-js/nacl-fast.js\");\n/* harmony import */ var _toruslabs_tweetnacl_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_toruslabs_tweetnacl_js__WEBPACK_IMPORTED_MODULE_0__);\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst l = (_toruslabs_tweetnacl_js__WEBPACK_IMPORTED_MODULE_0___default().lowlevel);\nfunction getED25519Key(privateKey) {\n    let privKey;\n    if (typeof privateKey === \"string\") {\n        privKey = Buffer.from(privateKey, \"hex\");\n    } else {\n        privKey = privateKey;\n    }\n    // Implementation copied from tweetnacl\n    const d = new Uint8Array(64);\n    const p = [\n        l.gf(),\n        l.gf(),\n        l.gf(),\n        l.gf()\n    ];\n    const sk = new Uint8Array([\n        ...new Uint8Array(privKey),\n        ...new Uint8Array(32)\n    ]);\n    const pk = new Uint8Array(32);\n    l.crypto_hash(d, sk, 32);\n    d[0] &= 248;\n    d[31] &= 127;\n    d[31] |= 64;\n    l.scalarbase(p, d);\n    l.pack(pk, p);\n    for(let i = 0; i < 32; i += 1)sk[i + 32] = pk[i];\n    return {\n        sk: Buffer.from(sk),\n        pk: Buffer.from(pk)\n    };\n}\n //# sourceMappingURL=openloginEd25519.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9vcGVubG9naW4tZWQyNTUxOS9kaXN0L29wZW5sb2dpbkVkMjU1MTkuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUUzQyw4REFBOEQ7QUFDOUQsTUFBTUMsSUFBSUQseUVBQWE7QUFDdkIsU0FBU0csY0FBY0MsVUFBVTtJQUMvQixJQUFJQztJQUNKLElBQUksT0FBT0QsZUFBZSxVQUFVO1FBQ2xDQyxVQUFVQyxPQUFPQyxJQUFJLENBQUNILFlBQVk7SUFDcEMsT0FBTztRQUNMQyxVQUFVRDtJQUNaO0lBQ0EsdUNBQXVDO0lBRXZDLE1BQU1JLElBQUksSUFBSUMsV0FBVztJQUN6QixNQUFNQyxJQUFJO1FBQUNULEVBQUVVLEVBQUU7UUFBSVYsRUFBRVUsRUFBRTtRQUFJVixFQUFFVSxFQUFFO1FBQUlWLEVBQUVVLEVBQUU7S0FBRztJQUMxQyxNQUFNQyxLQUFLLElBQUlILFdBQVc7V0FBSSxJQUFJQSxXQUFXSjtXQUFhLElBQUlJLFdBQVc7S0FBSTtJQUM3RSxNQUFNSSxLQUFLLElBQUlKLFdBQVc7SUFDMUJSLEVBQUVhLFdBQVcsQ0FBQ04sR0FBR0ksSUFBSTtJQUNyQkosQ0FBQyxDQUFDLEVBQUUsSUFBSTtJQUNSQSxDQUFDLENBQUMsR0FBRyxJQUFJO0lBQ1RBLENBQUMsQ0FBQyxHQUFHLElBQUk7SUFDVFAsRUFBRWMsVUFBVSxDQUFDTCxHQUFHRjtJQUNoQlAsRUFBRWUsSUFBSSxDQUFDSCxJQUFJSDtJQUNYLElBQUssSUFBSU8sSUFBSSxHQUFHQSxJQUFJLElBQUlBLEtBQUssRUFBR0wsRUFBRSxDQUFDSyxJQUFJLEdBQUcsR0FBR0osRUFBRSxDQUFDSSxFQUFFO0lBQ2xELE9BQU87UUFDTEwsSUFBSU4sT0FBT0MsSUFBSSxDQUFDSztRQUNoQkMsSUFBSVAsT0FBT0MsSUFBSSxDQUFDTTtJQUNsQjtBQUNGO0FBRXlCLENBQ3pCLGdEQUFnRCIsInNvdXJjZXMiOlsid2VicGFjazovL3BvY2tldGgvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9vcGVubG9naW4tZWQyNTUxOS9kaXN0L29wZW5sb2dpbkVkMjU1MTkuZXNtLmpzPzlmZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5hY2wgZnJvbSAnQHRvcnVzbGFicy90d2VldG5hY2wtanMnO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgbCA9IG5hY2wubG93bGV2ZWw7XG5mdW5jdGlvbiBnZXRFRDI1NTE5S2V5KHByaXZhdGVLZXkpIHtcbiAgbGV0IHByaXZLZXk7XG4gIGlmICh0eXBlb2YgcHJpdmF0ZUtleSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHByaXZLZXkgPSBCdWZmZXIuZnJvbShwcml2YXRlS2V5LCBcImhleFwiKTtcbiAgfSBlbHNlIHtcbiAgICBwcml2S2V5ID0gcHJpdmF0ZUtleTtcbiAgfVxuICAvLyBJbXBsZW1lbnRhdGlvbiBjb3BpZWQgZnJvbSB0d2VldG5hY2xcblxuICBjb25zdCBkID0gbmV3IFVpbnQ4QXJyYXkoNjQpO1xuICBjb25zdCBwID0gW2wuZ2YoKSwgbC5nZigpLCBsLmdmKCksIGwuZ2YoKV07XG4gIGNvbnN0IHNrID0gbmV3IFVpbnQ4QXJyYXkoWy4uLm5ldyBVaW50OEFycmF5KHByaXZLZXkpLCAuLi5uZXcgVWludDhBcnJheSgzMildKTtcbiAgY29uc3QgcGsgPSBuZXcgVWludDhBcnJheSgzMik7XG4gIGwuY3J5cHRvX2hhc2goZCwgc2ssIDMyKTtcbiAgZFswXSAmPSAyNDg7XG4gIGRbMzFdICY9IDEyNztcbiAgZFszMV0gfD0gNjQ7XG4gIGwuc2NhbGFyYmFzZShwLCBkKTtcbiAgbC5wYWNrKHBrLCBwKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMjsgaSArPSAxKSBza1tpICsgMzJdID0gcGtbaV07XG4gIHJldHVybiB7XG4gICAgc2s6IEJ1ZmZlci5mcm9tKHNrKSxcbiAgICBwazogQnVmZmVyLmZyb20ocGspXG4gIH07XG59XG5cbmV4cG9ydCB7IGdldEVEMjU1MTlLZXkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5sb2dpbkVkMjU1MTkuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbIm5hY2wiLCJsIiwibG93bGV2ZWwiLCJnZXRFRDI1NTE5S2V5IiwicHJpdmF0ZUtleSIsInByaXZLZXkiLCJCdWZmZXIiLCJmcm9tIiwiZCIsIlVpbnQ4QXJyYXkiLCJwIiwiZ2YiLCJzayIsInBrIiwiY3J5cHRvX2hhc2giLCJzY2FsYXJiYXNlIiwicGFjayIsImkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/openlogin-ed25519/dist/openloginEd25519.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePostMessageStream: () => (/* binding */ BasePostMessageStream),\n/* harmony export */   IGNORE_SUBSTREAM: () => (/* binding */ IGNORE_SUBSTREAM),\n/* harmony export */   JRPCEngine: () => (/* binding */ JRPCEngine),\n/* harmony export */   ObjectMultiplex: () => (/* binding */ ObjectMultiplex),\n/* harmony export */   PostMessageStream: () => (/* binding */ PostMessageStream),\n/* harmony export */   SafeEventEmitter: () => (/* binding */ SafeEventEmitter),\n/* harmony export */   SerializableError: () => (/* binding */ SerializableError),\n/* harmony export */   Substream: () => (/* binding */ Substream),\n/* harmony export */   createAsyncMiddleware: () => (/* binding */ createAsyncMiddleware),\n/* harmony export */   createEngineStream: () => (/* binding */ createEngineStream),\n/* harmony export */   createErrorMiddleware: () => (/* binding */ createErrorMiddleware),\n/* harmony export */   createIdRemapMiddleware: () => (/* binding */ createIdRemapMiddleware),\n/* harmony export */   createLoggerMiddleware: () => (/* binding */ createLoggerMiddleware),\n/* harmony export */   createScaffoldMiddleware: () => (/* binding */ createScaffoldMiddleware),\n/* harmony export */   createStreamMiddleware: () => (/* binding */ createStreamMiddleware),\n/* harmony export */   getRpcPromiseCallback: () => (/* binding */ getRpcPromiseCallback),\n/* harmony export */   mergeMiddleware: () => (/* binding */ mergeMiddleware),\n/* harmony export */   providerAsMiddleware: () => (/* binding */ providerAsMiddleware),\n/* harmony export */   providerFromEngine: () => (/* binding */ providerFromEngine),\n/* harmony export */   providerFromMiddleware: () => (/* binding */ providerFromMiddleware),\n/* harmony export */   setupMultiplex: () => (/* binding */ setupMultiplex)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var readable_stream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! readable-stream */ \"(ssr)/./node_modules/readable-stream/lib/ours/index.js\");\n/* harmony import */ var readable_stream__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(readable_stream__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fast-safe-stringify */ \"(ssr)/./node_modules/fast-safe-stringify/index.js\");\n/* harmony import */ var fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @metamask/rpc-errors */ \"(ssr)/./node_modules/@metamask/rpc-errors/dist/index.js\");\n/* harmony import */ var end_of_stream__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! end-of-stream */ \"(ssr)/./node_modules/end-of-stream/index.js\");\n/* harmony import */ var end_of_stream__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(end_of_stream__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var once__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! once */ \"(ssr)/./node_modules/once/once.js\");\n/* harmony import */ var once__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(once__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! pump */ \"(ssr)/./node_modules/pump/index.js\");\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(pump__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\nfunction noop() {\n    return undefined;\n}\nconst SYN = \"SYN\";\nconst ACK = \"ACK\";\nconst BRK = \"BRK\";\nclass BasePostMessageStream extends readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex {\n    constructor(_ref){\n        let { name, target, targetWindow = window, targetOrigin = \"*\" } = _ref;\n        super({\n            objectMode: true\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_init\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_haveSyn\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_name\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_target\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_targetWindow\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_targetOrigin\", void 0);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_onMessage\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_synIntervalId\", void 0);\n        if (!name || !target) {\n            throw new Error(\"Invalid input.\");\n        }\n        this._init = false;\n        this._haveSyn = false;\n        this._name = name;\n        this._target = target; // target origin\n        this._targetWindow = targetWindow;\n        this._targetOrigin = targetOrigin;\n        this._onMessage = this.onMessage.bind(this);\n        this._synIntervalId = null;\n        window.addEventListener(\"message\", this._onMessage, false);\n        this._handShake();\n    }\n    _break() {\n        this.cork();\n        this._write(BRK, null, noop);\n        this._haveSyn = false;\n        this._init = false;\n    }\n    _handShake() {\n        this._write(SYN, null, noop);\n        this.cork();\n    }\n    _onData(data) {\n        if (!this._init) {\n            // listen for handshake\n            if (data === SYN) {\n                this._haveSyn = true;\n                this._write(ACK, null, noop);\n            } else if (data === ACK) {\n                this._init = true;\n                if (!this._haveSyn) {\n                    this._write(ACK, null, noop);\n                }\n                this.uncork();\n            }\n        } else if (data === BRK) {\n            this._break();\n        } else {\n            // forward message\n            try {\n                this.push(data);\n            } catch (err) {\n                this.emit(\"error\", err);\n            }\n        }\n    }\n    _postMessage(data) {\n        const originConstraint = this._targetOrigin;\n        this._targetWindow.postMessage({\n            target: this._target,\n            data\n        }, originConstraint);\n    }\n    onMessage(event) {\n        const message = event.data;\n        // validate message\n        if (this._targetOrigin !== \"*\" && event.origin !== this._targetOrigin || event.source !== this._targetWindow || typeof message !== \"object\" || message.target !== this._name || !message.data) {\n            return;\n        }\n        this._onData(message.data);\n    }\n    _read() {\n        return undefined;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _write(data, _, cb) {\n        this._postMessage(data);\n        cb();\n    }\n    _destroy() {\n        window.removeEventListener(\"message\", this._onMessage, false);\n    }\n}\n/* eslint-disable @typescript-eslint/no-explicit-any */ function safeApply(handler, context, args) {\n    try {\n        Reflect.apply(handler, context, args);\n    } catch (err) {\n        // Throw error after timeout so as not to interrupt the stack\n        setTimeout(()=>{\n            throw err;\n        });\n    }\n}\nfunction arrayClone(arr) {\n    const n = arr.length;\n    const copy = new Array(n);\n    for(let i = 0; i < n; i += 1){\n        copy[i] = arr[i];\n    }\n    return copy;\n}\nclass SafeEventEmitter extends events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter {\n    emit(type) {\n        let doError = type === \"error\";\n        const events = this._events;\n        if (events !== undefined) {\n            doError = doError && events.error === undefined;\n        } else if (!doError) {\n            return false;\n        }\n        // If there is no 'error' event listener then throw.\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        if (doError) {\n            let er;\n            if (args.length > 0) {\n                [er] = args;\n            }\n            if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n            }\n            // At least give some kind of context to the user\n            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : \"\"}`);\n            err.context = er;\n            throw err; // Unhandled 'error' event\n        }\n        const handler = events[type];\n        if (handler === undefined) {\n            return false;\n        }\n        if (typeof handler === \"function\") {\n            safeApply(handler, this, args);\n        } else {\n            const len = handler.length;\n            const listeners = arrayClone(handler);\n            for(let i = 0; i < len; i += 1){\n                safeApply(listeners[i], this, args);\n            }\n        }\n        return true;\n    }\n}\nclass SerializableError extends Error {\n    constructor(_ref){\n        let { code, message, data } = _ref;\n        if (!Number.isInteger(code)) {\n            throw new Error(\"code must be an integer\");\n        }\n        if (!message || typeof message !== \"string\") {\n            throw new Error(\"message must be string\");\n        }\n        super(message);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"code\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"data\", void 0);\n        this.code = code;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n    toString() {\n        return fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3___default()({\n            code: this.code,\n            message: this.message,\n            data: this.data,\n            stack: this.stack\n        });\n    }\n}\nconst getRpcPromiseCallback = function(resolve, reject) {\n    let unwrapResult = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    return (error, response)=>{\n        if (error || response.error) {\n            reject(error || response.error);\n        } else if (!unwrapResult || Array.isArray(response)) {\n            resolve(response);\n        } else {\n            resolve(response.result);\n        }\n    };\n};\nfunction createErrorMiddleware(log) {\n    return (req, res, next, end)=>{\n        try {\n            // json-rpc-engine will terminate the request when it notices this error\n            if (typeof req.method !== \"string\" || !req.method) {\n                res.error = new SerializableError({\n                    code: -32603,\n                    message: \"invalid method\"\n                });\n                end();\n                return;\n            }\n            next((done)=>{\n                const { error } = res;\n                if (!error) {\n                    return done();\n                }\n                log.error(`OpenLogin - RPC Error: ${error.message}`, error);\n                return done();\n            });\n        } catch (error) {\n            log.error(`OpenLogin - RPC Error thrown: ${error.message}`, error);\n            res.error = new SerializableError({\n                code: -32603,\n                message: error.message\n            });\n            end();\n        }\n    };\n}\nfunction createStreamMiddleware() {\n    const idMap = {};\n    function readNoop() {\n        return false;\n    }\n    const events = new SafeEventEmitter();\n    function processResponse(res) {\n        const context = idMap[res.id];\n        if (!context) {\n            throw new Error(`StreamMiddleware - Unknown response id \"${res.id}\"`);\n        }\n        delete idMap[res.id];\n        // copy whole res onto original res\n        Object.assign(context.res, res);\n        // run callback on empty stack,\n        // prevent internal stream-handler from catching errors\n        setTimeout(context.end);\n    }\n    function processNotification(res) {\n        events.emit(\"notification\", res);\n    }\n    function processMessage(res, _encoding, cb) {\n        let err;\n        try {\n            const isNotification = !res.id;\n            if (isNotification) {\n                processNotification(res);\n            } else {\n                processResponse(res);\n            }\n        } catch (_err) {\n            err = _err;\n        }\n        // continue processing stream\n        cb(err);\n    }\n    const stream = new readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex({\n        objectMode: true,\n        read: readNoop,\n        write: processMessage\n    });\n    const middleware = (req, res, next, end)=>{\n        // write req to stream\n        stream.push(req);\n        // register request on id map\n        idMap[req.id] = {\n            req,\n            res,\n            next,\n            end\n        };\n    };\n    return {\n        events,\n        middleware,\n        stream\n    };\n}\nfunction createScaffoldMiddleware(handlers) {\n    return (req, res, next, end)=>{\n        const handler = handlers[req.method];\n        // if no handler, return\n        if (handler === undefined) {\n            return next();\n        }\n        // if handler is fn, call as middleware\n        if (typeof handler === \"function\") {\n            return handler(req, res, next, end);\n        }\n        // if handler is some other value, use as result\n        res.result = handler;\n        return end();\n    };\n}\nfunction createIdRemapMiddleware() {\n    return (req, res, next, _end)=>{\n        const originalId = req.id;\n        const newId = Math.random().toString(36).slice(2);\n        req.id = newId;\n        res.id = newId;\n        next((done)=>{\n            req.id = originalId;\n            res.id = originalId;\n            done();\n        });\n    };\n}\nfunction createLoggerMiddleware(logger) {\n    return (req, res, next, _)=>{\n        logger.debug(\"REQ\", req, \"RES\", res);\n        next();\n    };\n}\nfunction createAsyncMiddleware(asyncMiddleware) {\n    return async (req, res, next, end)=>{\n        // nextPromise is the key to the implementation\n        // it is resolved by the return handler passed to the\n        // \"next\" function\n        let resolveNextPromise;\n        const nextPromise = new Promise((resolve)=>{\n            resolveNextPromise = resolve;\n        });\n        let returnHandlerCallback = null;\n        let nextWasCalled = false;\n        // This will be called by the consumer's async middleware.\n        const asyncNext = async ()=>{\n            nextWasCalled = true;\n            // We pass a return handler to next(). When it is called by the engine,\n            // the consumer's async middleware will resume executing.\n            next((runReturnHandlersCallback)=>{\n                // This callback comes from JRPCEngine._runReturnHandlers\n                returnHandlerCallback = runReturnHandlersCallback;\n                resolveNextPromise();\n            });\n            await nextPromise;\n        };\n        try {\n            await asyncMiddleware(req, res, asyncNext);\n            if (nextWasCalled) {\n                await nextPromise; // we must wait until the return handler is called\n                returnHandlerCallback(null);\n            } else {\n                end(null);\n            }\n        } catch (err) {\n            const error = err;\n            if (returnHandlerCallback) {\n                returnHandlerCallback(error);\n            } else {\n                end(error);\n            }\n        }\n    };\n}\n/**\n * A JSON-RPC request and response processor.\n * Give it a stack of middleware, pass it requests, and get back responses.\n */ class JRPCEngine extends SafeEventEmitter {\n    constructor(){\n        super();\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_middleware\", void 0);\n        this._middleware = [];\n    }\n    /**\n   * Serially executes the given stack of middleware.\n   *\n   * @returns An array of any error encountered during middleware execution,\n   * a boolean indicating whether the request was completed, and an array of\n   * middleware-defined return handlers.\n   */ static async _runAllMiddleware(req, res, middlewareStack) {\n        const returnHandlers = [];\n        let error = null;\n        let isComplete = false;\n        // Go down stack of middleware, call and collect optional returnHandlers\n        for (const middleware of middlewareStack){\n            [error, isComplete] = await JRPCEngine._runMiddleware(req, res, middleware, returnHandlers);\n            if (isComplete) {\n                break;\n            }\n        }\n        return [\n            error,\n            isComplete,\n            returnHandlers.reverse()\n        ];\n    }\n    /**\n   * Runs an individual middleware.\n   *\n   * @returns An array of any error encountered during middleware exection,\n   * and a boolean indicating whether the request should end.\n   */ static _runMiddleware(req, res, middleware, returnHandlers) {\n        return new Promise((resolve)=>{\n            const end = (err)=>{\n                const error = err || res.error;\n                if (error) {\n                    res.error = (0,_metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.serializeError)(error);\n                }\n                // True indicates that the request should end\n                resolve([\n                    error,\n                    true\n                ]);\n            };\n            const next = (returnHandler)=>{\n                if (res.error) {\n                    end(res.error);\n                } else {\n                    if (returnHandler) {\n                        if (typeof returnHandler !== \"function\") {\n                            end(new SerializableError({\n                                code: -32603,\n                                message: \"JRPCEngine: 'next' return handlers must be functions\"\n                            }));\n                        }\n                        returnHandlers.push(returnHandler);\n                    }\n                    // False indicates that the request should not end\n                    resolve([\n                        null,\n                        false\n                    ]);\n                }\n            };\n            try {\n                middleware(req, res, next, end);\n            } catch (error) {\n                end(error);\n            }\n        });\n    }\n    /**\n   * Serially executes array of return handlers. The request and response are\n   * assumed to be in their scope.\n   */ static async _runReturnHandlers(handlers) {\n        for (const handler of handlers){\n            await new Promise((resolve, reject)=>{\n                handler((err)=>err ? reject(err) : resolve());\n            });\n        }\n    }\n    /**\n   * Throws an error if the response has neither a result nor an error, or if\n   * the \"isComplete\" flag is falsy.\n   */ static _checkForCompletion(_req, res, isComplete) {\n        if (!(\"result\" in res) && !(\"error\" in res)) {\n            throw new SerializableError({\n                code: -32603,\n                message: \"Response has no error or result for request\"\n            });\n        }\n        if (!isComplete) {\n            throw new SerializableError({\n                code: -32603,\n                message: \"Nothing ended request\"\n            });\n        }\n    }\n    /**\n   * Add a middleware function to the engine's middleware stack.\n   *\n   * @param middleware - The middleware function to add.\n   */ push(middleware) {\n        this._middleware.push(middleware);\n    }\n    /**\n   * Handle a JSON-RPC request, and return a response.\n   *\n   * @param request - The request to handle.\n   * @param callback - An error-first callback that will receive the response.\n   */ /**\n   * Handle an array of JSON-RPC requests, and return an array of responses.\n   *\n   * @param request - The requests to handle.\n   * @param callback - An error-first callback that will receive the array of\n   * responses.\n   */ /**\n   * Handle a JSON-RPC request, and return a response.\n   *\n   * @param request - The request to handle.\n   * @returns A promise that resolves with the response, or rejects with an\n   * error.\n   */ /**\n   * Handle an array of JSON-RPC requests, and return an array of responses.\n   *\n   * @param request - The requests to handle.\n   * @returns A promise that resolves with the array of responses, or rejects\n   * with an error.\n   */ // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    handle(req, cb) {\n        if (cb && typeof cb !== \"function\") {\n            throw new Error('\"callback\" must be a function if provided.');\n        }\n        if (Array.isArray(req)) {\n            if (cb) {\n                return this._handleBatch(req, cb);\n            }\n            return this._handleBatch(req);\n        }\n        if (cb) {\n            return this._handle(req, cb);\n        }\n        return this._promiseHandle(req);\n    }\n    /**\n   * Returns this engine as a middleware function that can be pushed to other\n   * engines.\n   *\n   * @returns This engine as a middleware function.\n   */ asMiddleware() {\n        return async (req, res, next, end)=>{\n            try {\n                const [middlewareError, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);\n                if (isComplete) {\n                    await JRPCEngine._runReturnHandlers(returnHandlers);\n                    return end(middlewareError);\n                }\n                return next(async (handlerCallback)=>{\n                    try {\n                        await JRPCEngine._runReturnHandlers(returnHandlers);\n                    } catch (error) {\n                        return handlerCallback(error);\n                    }\n                    return handlerCallback();\n                });\n            } catch (error) {\n                return end(error);\n            }\n        };\n    }\n    /**\n   * Like _handle, but for batch requests.\n   */ /**\n   * Like _handle, but for batch requests.\n   */ async _handleBatch(reqs, cb) {\n        // The order here is important\n        try {\n            // 2. Wait for all requests to finish, or throw on some kind of fatal\n            // error\n            const responses = await Promise.all(// 1. Begin executing each request in the order received\n            reqs.map(this._promiseHandle.bind(this)));\n            // 3. Return batch response\n            if (cb) {\n                return cb(null, responses);\n            }\n            return responses;\n        } catch (error) {\n            if (cb) {\n                return cb(error);\n            }\n            throw error;\n        }\n    }\n    /**\n   * A promise-wrapped _handle.\n   */ _promiseHandle(req) {\n        return new Promise((resolve)=>{\n            this._handle(req, (_err, res)=>{\n                // There will always be a response, and it will always have any error\n                // that is caught and propagated.\n                resolve(res);\n            });\n        });\n    }\n    /**\n   * Ensures that the request object is valid, processes it, and passes any\n   * error and the response object to the given callback.\n   *\n   * Does not reject.\n   */ async _handle(callerReq, cb) {\n        if (!callerReq || Array.isArray(callerReq) || typeof callerReq !== \"object\") {\n            const error = new SerializableError({\n                code: -32603,\n                message: \"request must be plain object\"\n            });\n            return cb(error, {\n                id: undefined,\n                jsonrpc: \"2.0\",\n                error\n            });\n        }\n        if (typeof callerReq.method !== \"string\") {\n            const error = new SerializableError({\n                code: -32603,\n                message: \"method must be string\"\n            });\n            return cb(error, {\n                id: callerReq.id,\n                jsonrpc: \"2.0\",\n                error\n            });\n        }\n        const req = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()({}, callerReq);\n        const res = {\n            id: req.id,\n            jsonrpc: req.jsonrpc\n        };\n        let error = null;\n        try {\n            await this._processRequest(req, res);\n        } catch (_error) {\n            // A request handler error, a re-thrown middleware error, or something\n            // unexpected.\n            error = _error;\n        }\n        if (error) {\n            // Ensure no result is present on an errored response\n            delete res.result;\n            if (!res.error) {\n                res.error = (0,_metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.serializeError)(error);\n            }\n        }\n        return cb(error, res);\n    }\n    /**\n   * For the given request and response, runs all middleware and their return\n   * handlers, if any, and ensures that internal request processing semantics\n   * are satisfied.\n   */ async _processRequest(req, res) {\n        const [error, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);\n        // Throw if \"end\" was not called, or if the response has neither a result\n        // nor an error.\n        JRPCEngine._checkForCompletion(req, res, isComplete);\n        // The return handlers should run even if an error was encountered during\n        // middleware processing.\n        await JRPCEngine._runReturnHandlers(returnHandlers);\n        // Now we re-throw the middleware processing error, if any, to catch it\n        // further up the call chain.\n        if (error) {\n            throw error;\n        }\n    }\n}\nfunction mergeMiddleware(middlewareStack) {\n    const engine = new JRPCEngine();\n    middlewareStack.forEach((middleware)=>engine.push(middleware));\n    return engine.asMiddleware();\n}\nfunction createEngineStream(opts) {\n    if (!opts || !opts.engine) {\n        throw new Error(\"Missing engine parameter!\");\n    }\n    const { engine } = opts;\n    // eslint-disable-next-line prefer-const\n    let stream;\n    function read() {\n        return undefined;\n    }\n    function write(req, _encoding, cb) {\n        engine.handle(req, (_err, res)=>{\n            stream.push(res);\n        });\n        cb();\n    }\n    stream = new readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex({\n        objectMode: true,\n        read,\n        write\n    });\n    // forward notifications\n    if (engine.on) {\n        engine.on(\"notification\", (message)=>{\n            stream.push(message);\n        });\n    }\n    return stream;\n}\nfunction providerFromEngine(engine) {\n    const provider = new SafeEventEmitter();\n    // handle both rpc send methods\n    provider.sendAsync = async (req)=>{\n        const res = await engine.handle(req);\n        if (res.error) {\n            var _res$error, _res$error2;\n            const err = (0,_metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.serializeError)(res.error, {\n                fallbackError: {\n                    message: ((_res$error = res.error) === null || _res$error === void 0 ? void 0 : _res$error.message) || res.error.toString(),\n                    code: ((_res$error2 = res.error) === null || _res$error2 === void 0 ? void 0 : _res$error2.code) || -32603\n                }\n            });\n            throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.rpcErrors.internal(err);\n        }\n        return res.result;\n    };\n    provider.send = (req, callback)=>{\n        if (typeof callback !== \"function\") {\n            throw new Error('Must provide callback to \"send\" method.');\n        }\n        engine.handle(req, callback);\n    };\n    // forward notifications\n    if (engine.on) {\n        engine.on(\"notification\", (message)=>{\n            provider.emit(\"data\", null, message);\n        });\n    }\n    provider.request = async (args)=>{\n        const req = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()({}, args), {}, {\n            id: Math.random().toString(36).slice(2),\n            jsonrpc: \"2.0\"\n        });\n        const res = await provider.sendAsync(req);\n        return res;\n    };\n    return provider;\n}\nfunction providerFromMiddleware(middleware) {\n    const engine = new JRPCEngine();\n    engine.push(middleware);\n    const provider = providerFromEngine(engine);\n    return provider;\n}\nfunction providerAsMiddleware(provider) {\n    return async (req, res, _next, end)=>{\n        // send request to provider\n        try {\n            const providerRes = await provider.sendAsync(req);\n            res.result = providerRes;\n            return end();\n        } catch (error) {\n            return end(error);\n        }\n    };\n}\nclass Substream extends readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex {\n    constructor(_ref){\n        let { parent, name } = _ref;\n        super({\n            objectMode: true\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_parent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_name\", void 0);\n        this._parent = parent;\n        this._name = name;\n    }\n    /**\n   * Explicitly sets read operations to a no-op.\n   */ _read() {\n        return undefined;\n    }\n    /**\n   * Called when data should be written to this writable stream.\n   *\n   * @param chunk - Arbitrary object to write\n   * @param encoding - Encoding to use when writing payload\n   * @param callback - Called when writing is complete or an error occurs\n   */ _write(chunk, _encoding, callback) {\n        this._parent.push({\n            name: this._name,\n            data: chunk\n        });\n        callback();\n    }\n}\nconst IGNORE_SUBSTREAM = Symbol(\"IGNORE_SUBSTREAM\");\nclass ObjectMultiplex extends readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex {\n    constructor(){\n        let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        super(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()({}, opts), {}, {\n            objectMode: true\n        }));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_substreams\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"getStream\", void 0);\n        this._substreams = {};\n    }\n    createStream(name) {\n        // validate name\n        if (!name) {\n            throw new Error(\"ObjectMultiplex - name must not be empty\");\n        }\n        if (this._substreams[name]) {\n            throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n        }\n        // create substream\n        const substream = new Substream({\n            parent: this,\n            name\n        });\n        this._substreams[name] = substream;\n        // listen for parent stream to end\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        anyStreamEnd(this, (_error)=>substream.destroy(_error || undefined));\n        return substream;\n    }\n    // ignore streams (dont display orphaned data warning)\n    ignoreStream(name) {\n        // validate name\n        if (!name) {\n            throw new Error(\"ObjectMultiplex - name must not be empty\");\n        }\n        if (this._substreams[name]) {\n            throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n        }\n        // set\n        this._substreams[name] = IGNORE_SUBSTREAM;\n    }\n    _read() {\n        return undefined;\n    }\n    _write(chunk, _encoding, callback) {\n        const { name, data } = chunk;\n        if (!name) {\n            window.console.warn(`ObjectMultiplex - malformed chunk without name \"${chunk}\"`);\n            return callback();\n        }\n        // get corresponding substream\n        const substream = this._substreams[name];\n        if (!substream) {\n            window.console.warn(`ObjectMultiplex - orphaned data for stream \"${name}\"`);\n            return callback();\n        }\n        // push data into substream\n        if (substream !== IGNORE_SUBSTREAM) {\n            substream.push(data);\n        }\n        return callback();\n    }\n}\n// util\nfunction anyStreamEnd(stream, _cb) {\n    const cb = once__WEBPACK_IMPORTED_MODULE_7___default()(_cb);\n    end_of_stream__WEBPACK_IMPORTED_MODULE_6___default()(stream, {\n        readable: false\n    }, cb);\n    end_of_stream__WEBPACK_IMPORTED_MODULE_6___default()(stream, {\n        writable: false\n    }, cb);\n}\nfunction setupMultiplex(stream) {\n    const mux = new ObjectMultiplex();\n    mux.getStream = function streamHelper(name) {\n        if (this._substreams[name]) {\n            return this._substreams[name];\n        }\n        return this.createStream(name);\n    };\n    pump__WEBPACK_IMPORTED_MODULE_8___default()(stream, mux, stream, (err)=>{\n        if (err) window.console.error(err);\n    });\n    return mux;\n}\nclass PostMessageStream extends BasePostMessageStream {\n    _postMessage(data) {\n        let originConstraint = this._targetOrigin;\n        if (typeof data === \"object\") {\n            const dataObj = data;\n            if (typeof dataObj.data === \"object\") {\n                const dataObjData = dataObj.data;\n                if (Array.isArray(dataObjData.params) && dataObjData.params.length > 0) {\n                    const dataObjDataParam = dataObjData.params[0];\n                    if (dataObjDataParam._origin) {\n                        originConstraint = dataObjDataParam._origin;\n                    }\n                    // add a constraint for the response\n                    dataObjDataParam._origin = window.location.origin;\n                }\n            }\n        }\n        this._targetWindow.postMessage({\n            target: this._target,\n            data\n        }, originConstraint);\n    }\n}\n //# sourceMappingURL=openloginJrpc.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9vcGVubG9naW4tanJwYy9kaXN0L29wZW5sb2dpbkpycGMuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9FO0FBQzNCO0FBQ0g7QUFDTTtBQUNxQjtBQUNBO0FBQ2pDO0FBQ1I7QUFDQTtBQUV4QixTQUFTVTtJQUNQLE9BQU9DO0FBQ1Q7QUFDQSxNQUFNQyxNQUFNO0FBQ1osTUFBTUMsTUFBTTtBQUNaLE1BQU1DLE1BQU07QUFDWixNQUFNQyw4QkFBOEJkLG1EQUFNQTtJQUN4Q2UsWUFBWUMsSUFBSSxDQUFFO1FBQ2hCLElBQUksRUFDRkMsSUFBSSxFQUNKQyxNQUFNLEVBQ05DLGVBQWVDLE1BQU0sRUFDckJDLGVBQWUsR0FBRyxFQUNuQixHQUFHTDtRQUNKLEtBQUssQ0FBQztZQUNKTSxZQUFZO1FBQ2Q7UUFDQXZCLDRFQUFlQSxDQUFDLElBQUksRUFBRSxTQUFTLEtBQUs7UUFDcENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxZQUFZLEtBQUs7UUFDdkNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxTQUFTLEtBQUs7UUFDcENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxXQUFXLEtBQUs7UUFDdENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxpQkFBaUIsS0FBSztRQUM1Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGlCQUFpQixLQUFLO1FBQzVDLDhEQUE4RDtRQUM5REEsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGNBQWMsS0FBSztRQUN6Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGtCQUFrQixLQUFLO1FBQzdDLElBQUksQ0FBQ2tCLFFBQVEsQ0FBQ0MsUUFBUTtZQUNwQixNQUFNLElBQUlLLE1BQU07UUFDbEI7UUFDQSxJQUFJLENBQUNDLEtBQUssR0FBRztRQUNiLElBQUksQ0FBQ0MsUUFBUSxHQUFHO1FBQ2hCLElBQUksQ0FBQ0MsS0FBSyxH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aUJDLE9BQU8sRUFBRTt3QkFDNUJ6SyxtQkFBbUJ3SyxpQkFBaUJDLE9BQU87b0JBQzdDO29CQUVBLG9DQUFvQztvQkFDcENELGlCQUFpQkMsT0FBTyxHQUFHbk0sT0FBT29NLFFBQVEsQ0FBQ3RLLE1BQU07Z0JBQ25EO1lBQ0Y7UUFDRjtRQUNBLElBQUksQ0FBQ3RCLGFBQWEsQ0FBQ21CLFdBQVcsQ0FBQztZQUM3QjdCLFFBQVEsSUFBSSxDQUFDUyxPQUFPO1lBQ3BCYTtRQUNGLEdBQUdNO0lBQ0w7QUFDRjtBQUVrYixDQUNsYiw2Q0FBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvb3BlbmxvZ2luLWpycGMvZGlzdC9vcGVubG9naW5KcnBjLmVzbS5qcz84YWE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgeyBEdXBsZXggfSBmcm9tICdyZWFkYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnZmFzdC1zYWZlLXN0cmluZ2lmeSc7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDInO1xuaW1wb3J0IHsgc2VyaWFsaXplRXJyb3IsIHJwY0Vycm9ycyB9IGZyb20gJ0BtZXRhbWFzay9ycGMtZXJyb3JzJztcbmltcG9ydCBlb3MgZnJvbSAnZW5kLW9mLXN0cmVhbSc7XG5pbXBvcnQgb25jZSBmcm9tICdvbmNlJztcbmltcG9ydCBwdW1wIGZyb20gJ3B1bXAnO1xuXG5mdW5jdGlvbiBub29wKCkge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuY29uc3QgU1lOID0gXCJTWU5cIjtcbmNvbnN0IEFDSyA9IFwiQUNLXCI7XG5jb25zdCBCUksgPSBcIkJSS1wiO1xuY2xhc3MgQmFzZVBvc3RNZXNzYWdlU3RyZWFtIGV4dGVuZHMgRHVwbGV4IHtcbiAgY29uc3RydWN0b3IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBuYW1lLFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGFyZ2V0V2luZG93ID0gd2luZG93LFxuICAgICAgdGFyZ2V0T3JpZ2luID0gXCIqXCJcbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcih7XG4gICAgICBvYmplY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2luaXRcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaGF2ZVN5blwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9uYW1lXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RhcmdldFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90YXJnZXRXaW5kb3dcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGFyZ2V0T3JpZ2luXCIsIHZvaWQgMCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfb25NZXNzYWdlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N5bkludGVydmFsSWRcIiwgdm9pZCAwKTtcbiAgICBpZiAoIW5hbWUgfHwgIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dC5cIik7XG4gICAgfVxuICAgIHRoaXMuX2luaXQgPSBmYWxzZTtcbiAgICB0aGlzLl9oYXZlU3luID0gZmFsc2U7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0OyAvLyB0YXJnZXQgb3JpZ2luXG4gICAgdGhpcy5fdGFyZ2V0V2luZG93ID0gdGFyZ2V0V2luZG93O1xuICAgIHRoaXMuX3RhcmdldE9yaWdpbiA9IHRhcmdldE9yaWdpbjtcbiAgICB0aGlzLl9vbk1lc3NhZ2UgPSB0aGlzLm9uTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3N5bkludGVydmFsSWQgPSBudWxsO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLl9vbk1lc3NhZ2UsIGZhbHNlKTtcbiAgICB0aGlzLl9oYW5kU2hha2UoKTtcbiAgfVxuICBfYnJlYWsoKSB7XG4gICAgdGhpcy5jb3JrKCk7XG4gICAgdGhpcy5fd3JpdGUoQlJLLCBudWxsLCBub29wKTtcbiAgICB0aGlzLl9oYXZlU3luID0gZmFsc2U7XG4gICAgdGhpcy5faW5pdCA9IGZhbHNlO1xuICB9XG4gIF9oYW5kU2hha2UoKSB7XG4gICAgdGhpcy5fd3JpdGUoU1lOLCBudWxsLCBub29wKTtcbiAgICB0aGlzLmNvcmsoKTtcbiAgfVxuICBfb25EYXRhKGRhdGEpIHtcbiAgICBpZiAoIXRoaXMuX2luaXQpIHtcbiAgICAgIC8vIGxpc3RlbiBmb3IgaGFuZHNoYWtlXG4gICAgICBpZiAoZGF0YSA9PT0gU1lOKSB7XG4gICAgICAgIHRoaXMuX2hhdmVTeW4gPSB0cnVlO1xuICAgICAgICB0aGlzLl93cml0ZShBQ0ssIG51bGwsIG5vb3ApO1xuICAgICAgfSBlbHNlIGlmIChkYXRhID09PSBBQ0spIHtcbiAgICAgICAgdGhpcy5faW5pdCA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5faGF2ZVN5bikge1xuICAgICAgICAgIHRoaXMuX3dyaXRlKEFDSywgbnVsbCwgbm9vcCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bmNvcmsoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRhdGEgPT09IEJSSykge1xuICAgICAgdGhpcy5fYnJlYWsoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZm9yd2FyZCBtZXNzYWdlXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnB1c2goZGF0YSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3Bvc3RNZXNzYWdlKGRhdGEpIHtcbiAgICBjb25zdCBvcmlnaW5Db25zdHJhaW50ID0gdGhpcy5fdGFyZ2V0T3JpZ2luO1xuICAgIHRoaXMuX3RhcmdldFdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICB0YXJnZXQ6IHRoaXMuX3RhcmdldCxcbiAgICAgIGRhdGFcbiAgICB9LCBvcmlnaW5Db25zdHJhaW50KTtcbiAgfVxuICBvbk1lc3NhZ2UoZXZlbnQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQuZGF0YTtcblxuICAgIC8vIHZhbGlkYXRlIG1lc3NhZ2VcbiAgICBpZiAodGhpcy5fdGFyZ2V0T3JpZ2luICE9PSBcIipcIiAmJiBldmVudC5vcmlnaW4gIT09IHRoaXMuX3RhcmdldE9yaWdpbiB8fCBldmVudC5zb3VyY2UgIT09IHRoaXMuX3RhcmdldFdpbmRvdyB8fCB0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlLnRhcmdldCAhPT0gdGhpcy5fbmFtZSB8fCAhbWVzc2FnZS5kYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX29uRGF0YShtZXNzYWdlLmRhdGEpO1xuICB9XG4gIF9yZWFkKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBfd3JpdGUoZGF0YSwgXywgY2IpIHtcbiAgICB0aGlzLl9wb3N0TWVzc2FnZShkYXRhKTtcbiAgICBjYigpO1xuICB9XG4gIF9kZXN0cm95KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLl9vbk1lc3NhZ2UsIGZhbHNlKTtcbiAgfVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5mdW5jdGlvbiBzYWZlQXBwbHkoaGFuZGxlciwgY29udGV4dCwgYXJncykge1xuICB0cnkge1xuICAgIFJlZmxlY3QuYXBwbHkoaGFuZGxlciwgY29udGV4dCwgYXJncyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFRocm93IGVycm9yIGFmdGVyIHRpbWVvdXQgc28gYXMgbm90IHRvIGludGVycnVwdCB0aGUgc3RhY2tcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIpIHtcbiAgY29uc3QgbiA9IGFyci5sZW5ndGg7XG4gIGNvbnN0IGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSArPSAxKSB7XG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgfVxuICByZXR1cm4gY29weTtcbn1cbmNsYXNzIFNhZmVFdmVudEVtaXR0ZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBlbWl0KHR5cGUpIHtcbiAgICBsZXQgZG9FcnJvciA9IHR5cGUgPT09IFwiZXJyb3JcIjtcbiAgICBjb25zdCBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkb0Vycm9yID0gZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKCFkb0Vycm9yKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBpZiAoZG9FcnJvcikge1xuICAgICAgbGV0IGVyO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICBbZXJdID0gYXJncztcbiAgICAgIH1cbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH1cbiAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgVW5oYW5kbGVkIGVycm9yLiR7ZXIgPyBgICgke2VyLm1lc3NhZ2V9KWAgOiBcIlwifWApO1xuICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHNhZmVBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgICBjb25zdCBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICBzYWZlQXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuY2xhc3MgU2VyaWFsaXphYmxlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgY29kZSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBkYXRhXG4gICAgfSA9IF9yZWY7XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGNvZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb2RlIG11c3QgYmUgYW4gaW50ZWdlclwiKTtcbiAgICB9XG4gICAgaWYgKCFtZXNzYWdlIHx8IHR5cGVvZiBtZXNzYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtZXNzYWdlIG11c3QgYmUgc3RyaW5nXCIpO1xuICAgIH1cbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb2RlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGF0YVwiLCB2b2lkIDApO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeSh7XG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICBzdGFjazogdGhpcy5zdGFja1xuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGdldFJwY1Byb21pc2VDYWxsYmFjayA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgbGV0IHVud3JhcFJlc3VsdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTtcbiAgcmV0dXJuIChlcnJvciwgcmVzcG9uc2UpID0+IHtcbiAgICBpZiAoZXJyb3IgfHwgcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvciB8fCByZXNwb25zZS5lcnJvcik7XG4gICAgfSBlbHNlIGlmICghdW53cmFwUmVzdWx0IHx8IEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZShyZXNwb25zZS5yZXN1bHQpO1xuICAgIH1cbiAgfTtcbn07XG5mdW5jdGlvbiBjcmVhdGVFcnJvck1pZGRsZXdhcmUobG9nKSB7XG4gIHJldHVybiAocmVxLCByZXMsIG5leHQsIGVuZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBqc29uLXJwYy1lbmdpbmUgd2lsbCB0ZXJtaW5hdGUgdGhlIHJlcXVlc3Qgd2hlbiBpdCBub3RpY2VzIHRoaXMgZXJyb3JcbiAgICAgIGlmICh0eXBlb2YgcmVxLm1ldGhvZCAhPT0gXCJzdHJpbmdcIiB8fCAhcmVxLm1ldGhvZCkge1xuICAgICAgICByZXMuZXJyb3IgPSBuZXcgU2VyaWFsaXphYmxlRXJyb3Ioe1xuICAgICAgICAgIGNvZGU6IC0zMjYwMyxcbiAgICAgICAgICBtZXNzYWdlOiBcImludmFsaWQgbWV0aG9kXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGVuZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuZXh0KGRvbmUgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgfSA9IHJlcztcbiAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nLmVycm9yKGBPcGVuTG9naW4gLSBSUEMgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKGBPcGVuTG9naW4gLSBSUEMgRXJyb3IgdGhyb3duOiAke2Vycm9yLm1lc3NhZ2V9YCwgZXJyb3IpO1xuICAgICAgcmVzLmVycm9yID0gbmV3IFNlcmlhbGl6YWJsZUVycm9yKHtcbiAgICAgICAgY29kZTogLTMyNjAzLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0cmVhbU1pZGRsZXdhcmUoKSB7XG4gIGNvbnN0IGlkTWFwID0ge307XG4gIGZ1bmN0aW9uIHJlYWROb29wKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBldmVudHMgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuICBmdW5jdGlvbiBwcm9jZXNzUmVzcG9uc2UocmVzKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGlkTWFwW3Jlcy5pZF07XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0cmVhbU1pZGRsZXdhcmUgLSBVbmtub3duIHJlc3BvbnNlIGlkIFwiJHtyZXMuaWR9XCJgKTtcbiAgICB9XG4gICAgZGVsZXRlIGlkTWFwW3Jlcy5pZF07XG4gICAgLy8gY29weSB3aG9sZSByZXMgb250byBvcmlnaW5hbCByZXNcbiAgICBPYmplY3QuYXNzaWduKGNvbnRleHQucmVzLCByZXMpO1xuICAgIC8vIHJ1biBjYWxsYmFjayBvbiBlbXB0eSBzdGFjayxcbiAgICAvLyBwcmV2ZW50IGludGVybmFsIHN0cmVhbS1oYW5kbGVyIGZyb20gY2F0Y2hpbmcgZXJyb3JzXG4gICAgc2V0VGltZW91dChjb250ZXh0LmVuZCk7XG4gIH1cbiAgZnVuY3Rpb24gcHJvY2Vzc05vdGlmaWNhdGlvbihyZXMpIHtcbiAgICBldmVudHMuZW1pdChcIm5vdGlmaWNhdGlvblwiLCByZXMpO1xuICB9XG4gIGZ1bmN0aW9uIHByb2Nlc3NNZXNzYWdlKHJlcywgX2VuY29kaW5nLCBjYikge1xuICAgIGxldCBlcnI7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGlzTm90aWZpY2F0aW9uID0gIXJlcy5pZDtcbiAgICAgIGlmIChpc05vdGlmaWNhdGlvbikge1xuICAgICAgICBwcm9jZXNzTm90aWZpY2F0aW9uKHJlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzUmVzcG9uc2UocmVzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChfZXJyKSB7XG4gICAgICBlcnIgPSBfZXJyO1xuICAgIH1cbiAgICAvLyBjb250aW51ZSBwcm9jZXNzaW5nIHN0cmVhbVxuICAgIGNiKGVycik7XG4gIH1cbiAgY29uc3Qgc3RyZWFtID0gbmV3IER1cGxleCh7XG4gICAgb2JqZWN0TW9kZTogdHJ1ZSxcbiAgICByZWFkOiByZWFkTm9vcCxcbiAgICB3cml0ZTogcHJvY2Vzc01lc3NhZ2VcbiAgfSk7XG4gIGNvbnN0IG1pZGRsZXdhcmUgPSAocmVxLCByZXMsIG5leHQsIGVuZCkgPT4ge1xuICAgIC8vIHdyaXRlIHJlcSB0byBzdHJlYW1cbiAgICBzdHJlYW0ucHVzaChyZXEpO1xuICAgIC8vIHJlZ2lzdGVyIHJlcXVlc3Qgb24gaWQgbWFwXG4gICAgaWRNYXBbcmVxLmlkXSA9IHtcbiAgICAgIHJlcSxcbiAgICAgIHJlcyxcbiAgICAgIG5leHQsXG4gICAgICBlbmRcbiAgICB9O1xuICB9O1xuICByZXR1cm4ge1xuICAgIGV2ZW50cyxcbiAgICBtaWRkbGV3YXJlLFxuICAgIHN0cmVhbVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU2NhZmZvbGRNaWRkbGV3YXJlKGhhbmRsZXJzKSB7XG4gIHJldHVybiAocmVxLCByZXMsIG5leHQsIGVuZCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1tyZXEubWV0aG9kXTtcbiAgICAvLyBpZiBubyBoYW5kbGVyLCByZXR1cm5cbiAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgICAvLyBpZiBoYW5kbGVyIGlzIGZuLCBjYWxsIGFzIG1pZGRsZXdhcmVcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIGhhbmRsZXIocmVxLCByZXMsIG5leHQsIGVuZCk7XG4gICAgfVxuICAgIC8vIGlmIGhhbmRsZXIgaXMgc29tZSBvdGhlciB2YWx1ZSwgdXNlIGFzIHJlc3VsdFxuICAgIHJlcy5yZXN1bHQgPSBoYW5kbGVyO1xuICAgIHJldHVybiBlbmQoKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUlkUmVtYXBNaWRkbGV3YXJlKCkge1xuICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0LCBfZW5kKSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxJZCA9IHJlcS5pZDtcbiAgICBjb25zdCBuZXdJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuICAgIHJlcS5pZCA9IG5ld0lkO1xuICAgIHJlcy5pZCA9IG5ld0lkO1xuICAgIG5leHQoZG9uZSA9PiB7XG4gICAgICByZXEuaWQgPSBvcmlnaW5hbElkO1xuICAgICAgcmVzLmlkID0gb3JpZ2luYWxJZDtcbiAgICAgIGRvbmUoKTtcbiAgICB9KTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxvZ2dlck1pZGRsZXdhcmUobG9nZ2VyKSB7XG4gIHJldHVybiAocmVxLCByZXMsIG5leHQsIF8pID0+IHtcbiAgICBsb2dnZXIuZGVidWcoXCJSRVFcIiwgcmVxLCBcIlJFU1wiLCByZXMpO1xuICAgIG5leHQoKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUFzeW5jTWlkZGxld2FyZShhc3luY01pZGRsZXdhcmUpIHtcbiAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgbmV4dCwgZW5kKSA9PiB7XG4gICAgLy8gbmV4dFByb21pc2UgaXMgdGhlIGtleSB0byB0aGUgaW1wbGVtZW50YXRpb25cbiAgICAvLyBpdCBpcyByZXNvbHZlZCBieSB0aGUgcmV0dXJuIGhhbmRsZXIgcGFzc2VkIHRvIHRoZVxuICAgIC8vIFwibmV4dFwiIGZ1bmN0aW9uXG4gICAgbGV0IHJlc29sdmVOZXh0UHJvbWlzZTtcbiAgICBjb25zdCBuZXh0UHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgcmVzb2x2ZU5leHRQcm9taXNlID0gcmVzb2x2ZTtcbiAgICB9KTtcbiAgICBsZXQgcmV0dXJuSGFuZGxlckNhbGxiYWNrID0gbnVsbDtcbiAgICBsZXQgbmV4dFdhc0NhbGxlZCA9IGZhbHNlO1xuXG4gICAgLy8gVGhpcyB3aWxsIGJlIGNhbGxlZCBieSB0aGUgY29uc3VtZXIncyBhc3luYyBtaWRkbGV3YXJlLlxuICAgIGNvbnN0IGFzeW5jTmV4dCA9IGFzeW5jICgpID0+IHtcbiAgICAgIG5leHRXYXNDYWxsZWQgPSB0cnVlO1xuXG4gICAgICAvLyBXZSBwYXNzIGEgcmV0dXJuIGhhbmRsZXIgdG8gbmV4dCgpLiBXaGVuIGl0IGlzIGNhbGxlZCBieSB0aGUgZW5naW5lLFxuICAgICAgLy8gdGhlIGNvbnN1bWVyJ3MgYXN5bmMgbWlkZGxld2FyZSB3aWxsIHJlc3VtZSBleGVjdXRpbmcuXG5cbiAgICAgIG5leHQocnVuUmV0dXJuSGFuZGxlcnNDYWxsYmFjayA9PiB7XG4gICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgY29tZXMgZnJvbSBKUlBDRW5naW5lLl9ydW5SZXR1cm5IYW5kbGVyc1xuICAgICAgICByZXR1cm5IYW5kbGVyQ2FsbGJhY2sgPSBydW5SZXR1cm5IYW5kbGVyc0NhbGxiYWNrO1xuICAgICAgICByZXNvbHZlTmV4dFByb21pc2UoKTtcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgbmV4dFByb21pc2U7XG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXN5bmNNaWRkbGV3YXJlKHJlcSwgcmVzLCBhc3luY05leHQpO1xuICAgICAgaWYgKG5leHRXYXNDYWxsZWQpIHtcbiAgICAgICAgYXdhaXQgbmV4dFByb21pc2U7IC8vIHdlIG11c3Qgd2FpdCB1bnRpbCB0aGUgcmV0dXJuIGhhbmRsZXIgaXMgY2FsbGVkXG4gICAgICAgIHJldHVybkhhbmRsZXJDYWxsYmFjayhudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZChudWxsKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gZXJyO1xuICAgICAgaWYgKHJldHVybkhhbmRsZXJDYWxsYmFjaykge1xuICAgICAgICByZXR1cm5IYW5kbGVyQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQSBKU09OLVJQQyByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9jZXNzb3IuXG4gKiBHaXZlIGl0IGEgc3RhY2sgb2YgbWlkZGxld2FyZSwgcGFzcyBpdCByZXF1ZXN0cywgYW5kIGdldCBiYWNrIHJlc3BvbnNlcy5cbiAqL1xuY2xhc3MgSlJQQ0VuZ2luZSBleHRlbmRzIFNhZmVFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9taWRkbGV3YXJlXCIsIHZvaWQgMCk7XG4gICAgdGhpcy5fbWlkZGxld2FyZSA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlcmlhbGx5IGV4ZWN1dGVzIHRoZSBnaXZlbiBzdGFjayBvZiBtaWRkbGV3YXJlLlxuICAgKlxuICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiBhbnkgZXJyb3IgZW5jb3VudGVyZWQgZHVyaW5nIG1pZGRsZXdhcmUgZXhlY3V0aW9uLFxuICAgKiBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSByZXF1ZXN0IHdhcyBjb21wbGV0ZWQsIGFuZCBhbiBhcnJheSBvZlxuICAgKiBtaWRkbGV3YXJlLWRlZmluZWQgcmV0dXJuIGhhbmRsZXJzLlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIF9ydW5BbGxNaWRkbGV3YXJlKHJlcSwgcmVzLCBtaWRkbGV3YXJlU3RhY2spIHtcbiAgICBjb25zdCByZXR1cm5IYW5kbGVycyA9IFtdO1xuICAgIGxldCBlcnJvciA9IG51bGw7XG4gICAgbGV0IGlzQ29tcGxldGUgPSBmYWxzZTtcblxuICAgIC8vIEdvIGRvd24gc3RhY2sgb2YgbWlkZGxld2FyZSwgY2FsbCBhbmQgY29sbGVjdCBvcHRpb25hbCByZXR1cm5IYW5kbGVyc1xuICAgIGZvciAoY29uc3QgbWlkZGxld2FyZSBvZiBtaWRkbGV3YXJlU3RhY2spIHtcbiAgICAgIFtlcnJvciwgaXNDb21wbGV0ZV0gPSBhd2FpdCBKUlBDRW5naW5lLl9ydW5NaWRkbGV3YXJlKHJlcSwgcmVzLCBtaWRkbGV3YXJlLCByZXR1cm5IYW5kbGVycyk7XG4gICAgICBpZiAoaXNDb21wbGV0ZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtlcnJvciwgaXNDb21wbGV0ZSwgcmV0dXJuSGFuZGxlcnMucmV2ZXJzZSgpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIGFuIGluZGl2aWR1YWwgbWlkZGxld2FyZS5cbiAgICpcbiAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgYW55IGVycm9yIGVuY291bnRlcmVkIGR1cmluZyBtaWRkbGV3YXJlIGV4ZWN0aW9uLFxuICAgKiBhbmQgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgcmVxdWVzdCBzaG91bGQgZW5kLlxuICAgKi9cbiAgc3RhdGljIF9ydW5NaWRkbGV3YXJlKHJlcSwgcmVzLCBtaWRkbGV3YXJlLCByZXR1cm5IYW5kbGVycykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IGVuZCA9IGVyciA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gZXJyIHx8IHJlcy5lcnJvcjtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmVzLmVycm9yID0gc2VyaWFsaXplRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRydWUgaW5kaWNhdGVzIHRoYXQgdGhlIHJlcXVlc3Qgc2hvdWxkIGVuZFxuICAgICAgICByZXNvbHZlKFtlcnJvciwgdHJ1ZV0pO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IG5leHQgPSByZXR1cm5IYW5kbGVyID0+IHtcbiAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgIGVuZChyZXMuZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChyZXR1cm5IYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJldHVybkhhbmRsZXIgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICBlbmQobmV3IFNlcmlhbGl6YWJsZUVycm9yKHtcbiAgICAgICAgICAgICAgICBjb2RlOiAtMzI2MDMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJKUlBDRW5naW5lOiAnbmV4dCcgcmV0dXJuIGhhbmRsZXJzIG11c3QgYmUgZnVuY3Rpb25zXCJcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuSGFuZGxlcnMucHVzaChyZXR1cm5IYW5kbGVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgcmVxdWVzdCBzaG91bGQgbm90IGVuZFxuICAgICAgICAgIHJlc29sdmUoW251bGwsIGZhbHNlXSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBtaWRkbGV3YXJlKHJlcSwgcmVzLCBuZXh0LCBlbmQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZW5kKGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXJpYWxseSBleGVjdXRlcyBhcnJheSBvZiByZXR1cm4gaGFuZGxlcnMuIFRoZSByZXF1ZXN0IGFuZCByZXNwb25zZSBhcmVcbiAgICogYXNzdW1lZCB0byBiZSBpbiB0aGVpciBzY29wZS5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBfcnVuUmV0dXJuSGFuZGxlcnMoaGFuZGxlcnMpIHtcbiAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgaGFuZGxlcnMpIHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaGFuZGxlcihlcnIgPT4gZXJyID8gcmVqZWN0KGVycikgOiByZXNvbHZlKCkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgcmVzcG9uc2UgaGFzIG5laXRoZXIgYSByZXN1bHQgbm9yIGFuIGVycm9yLCBvciBpZlxuICAgKiB0aGUgXCJpc0NvbXBsZXRlXCIgZmxhZyBpcyBmYWxzeS5cbiAgICovXG4gIHN0YXRpYyBfY2hlY2tGb3JDb21wbGV0aW9uKF9yZXEsIHJlcywgaXNDb21wbGV0ZSkge1xuICAgIGlmICghKFwicmVzdWx0XCIgaW4gcmVzKSAmJiAhKFwiZXJyb3JcIiBpbiByZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgU2VyaWFsaXphYmxlRXJyb3Ioe1xuICAgICAgICBjb2RlOiAtMzI2MDMsXG4gICAgICAgIG1lc3NhZ2U6IFwiUmVzcG9uc2UgaGFzIG5vIGVycm9yIG9yIHJlc3VsdCBmb3IgcmVxdWVzdFwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFpc0NvbXBsZXRlKSB7XG4gICAgICB0aHJvdyBuZXcgU2VyaWFsaXphYmxlRXJyb3Ioe1xuICAgICAgICBjb2RlOiAtMzI2MDMsXG4gICAgICAgIG1lc3NhZ2U6IFwiTm90aGluZyBlbmRlZCByZXF1ZXN0XCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHRoZSBlbmdpbmUncyBtaWRkbGV3YXJlIHN0YWNrLlxuICAgKlxuICAgKiBAcGFyYW0gbWlkZGxld2FyZSAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIGFkZC5cbiAgICovXG4gIHB1c2gobWlkZGxld2FyZSkge1xuICAgIHRoaXMuX21pZGRsZXdhcmUucHVzaChtaWRkbGV3YXJlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYSBKU09OLVJQQyByZXF1ZXN0LCBhbmQgcmV0dXJuIGEgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHJlcXVlc3QgdG8gaGFuZGxlLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBbiBlcnJvci1maXJzdCBjYWxsYmFjayB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgcmVzcG9uc2UuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgYW4gYXJyYXkgb2YgSlNPTi1SUEMgcmVxdWVzdHMsIGFuZCByZXR1cm4gYW4gYXJyYXkgb2YgcmVzcG9uc2VzLlxuICAgKlxuICAgKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0cyB0byBoYW5kbGUuXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIEFuIGVycm9yLWZpcnN0IGNhbGxiYWNrIHRoYXQgd2lsbCByZWNlaXZlIHRoZSBhcnJheSBvZlxuICAgKiByZXNwb25zZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgYSBKU09OLVJQQyByZXF1ZXN0LCBhbmQgcmV0dXJuIGEgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHJlcXVlc3QgdG8gaGFuZGxlLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXNwb25zZSwgb3IgcmVqZWN0cyB3aXRoIGFuXG4gICAqIGVycm9yLlxuICAgKi9cblxuICAvKipcbiAgICogSGFuZGxlIGFuIGFycmF5IG9mIEpTT04tUlBDIHJlcXVlc3RzLCBhbmQgcmV0dXJuIGFuIGFycmF5IG9mIHJlc3BvbnNlcy5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgcmVxdWVzdHMgdG8gaGFuZGxlLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBhcnJheSBvZiByZXNwb25zZXMsIG9yIHJlamVjdHNcbiAgICogd2l0aCBhbiBlcnJvci5cbiAgICovXG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgaGFuZGxlKHJlcSwgY2IpIHtcbiAgICBpZiAoY2IgJiYgdHlwZW9mIGNiICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJjYWxsYmFja1wiIG11c3QgYmUgYSBmdW5jdGlvbiBpZiBwcm92aWRlZC4nKTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVxKSkge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVCYXRjaChyZXEsIGNiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVCYXRjaChyZXEpO1xuICAgIH1cbiAgICBpZiAoY2IpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGUocmVxLCBjYik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9wcm9taXNlSGFuZGxlKHJlcSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGlzIGVuZ2luZSBhcyBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCBjYW4gYmUgcHVzaGVkIHRvIG90aGVyXG4gICAqIGVuZ2luZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoaXMgZW5naW5lIGFzIGEgbWlkZGxld2FyZSBmdW5jdGlvbi5cbiAgICovXG4gIGFzTWlkZGxld2FyZSgpIHtcbiAgICByZXR1cm4gYXN5bmMgKHJlcSwgcmVzLCBuZXh0LCBlbmQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFttaWRkbGV3YXJlRXJyb3IsIGlzQ29tcGxldGUsIHJldHVybkhhbmRsZXJzXSA9IGF3YWl0IEpSUENFbmdpbmUuX3J1bkFsbE1pZGRsZXdhcmUocmVxLCByZXMsIHRoaXMuX21pZGRsZXdhcmUpO1xuICAgICAgICBpZiAoaXNDb21wbGV0ZSkge1xuICAgICAgICAgIGF3YWl0IEpSUENFbmdpbmUuX3J1blJldHVybkhhbmRsZXJzKHJldHVybkhhbmRsZXJzKTtcbiAgICAgICAgICByZXR1cm4gZW5kKG1pZGRsZXdhcmVFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoYXN5bmMgaGFuZGxlckNhbGxiYWNrID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgSlJQQ0VuZ2luZS5fcnVuUmV0dXJuSGFuZGxlcnMocmV0dXJuSGFuZGxlcnMpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlckNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZXJDYWxsYmFjaygpO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBlbmQoZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogTGlrZSBfaGFuZGxlLCBidXQgZm9yIGJhdGNoIHJlcXVlc3RzLlxuICAgKi9cblxuICAvKipcbiAgICogTGlrZSBfaGFuZGxlLCBidXQgZm9yIGJhdGNoIHJlcXVlc3RzLlxuICAgKi9cblxuICBhc3luYyBfaGFuZGxlQmF0Y2gocmVxcywgY2IpIHtcbiAgICAvLyBUaGUgb3JkZXIgaGVyZSBpcyBpbXBvcnRhbnRcbiAgICB0cnkge1xuICAgICAgLy8gMi4gV2FpdCBmb3IgYWxsIHJlcXVlc3RzIHRvIGZpbmlzaCwgb3IgdGhyb3cgb24gc29tZSBraW5kIG9mIGZhdGFsXG4gICAgICAvLyBlcnJvclxuICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAvLyAxLiBCZWdpbiBleGVjdXRpbmcgZWFjaCByZXF1ZXN0IGluIHRoZSBvcmRlciByZWNlaXZlZFxuICAgICAgcmVxcy5tYXAodGhpcy5fcHJvbWlzZUhhbmRsZS5iaW5kKHRoaXMpKSk7XG5cbiAgICAgIC8vIDMuIFJldHVybiBiYXRjaCByZXNwb25zZVxuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHJldHVybiBjYihudWxsLCByZXNwb25zZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlcztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHJldHVybiBjYihlcnJvcik7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQSBwcm9taXNlLXdyYXBwZWQgX2hhbmRsZS5cbiAgICovXG4gIF9wcm9taXNlSGFuZGxlKHJlcSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZShyZXEsIChfZXJyLCByZXMpID0+IHtcbiAgICAgICAgLy8gVGhlcmUgd2lsbCBhbHdheXMgYmUgYSByZXNwb25zZSwgYW5kIGl0IHdpbGwgYWx3YXlzIGhhdmUgYW55IGVycm9yXG4gICAgICAgIC8vIHRoYXQgaXMgY2F1Z2h0IGFuZCBwcm9wYWdhdGVkLlxuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnN1cmVzIHRoYXQgdGhlIHJlcXVlc3Qgb2JqZWN0IGlzIHZhbGlkLCBwcm9jZXNzZXMgaXQsIGFuZCBwYXNzZXMgYW55XG4gICAqIGVycm9yIGFuZCB0aGUgcmVzcG9uc2Ugb2JqZWN0IHRvIHRoZSBnaXZlbiBjYWxsYmFjay5cbiAgICpcbiAgICogRG9lcyBub3QgcmVqZWN0LlxuICAgKi9cbiAgYXN5bmMgX2hhbmRsZShjYWxsZXJSZXEsIGNiKSB7XG4gICAgaWYgKCFjYWxsZXJSZXEgfHwgQXJyYXkuaXNBcnJheShjYWxsZXJSZXEpIHx8IHR5cGVvZiBjYWxsZXJSZXEgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IFNlcmlhbGl6YWJsZUVycm9yKHtcbiAgICAgICAgY29kZTogLTMyNjAzLFxuICAgICAgICBtZXNzYWdlOiBcInJlcXVlc3QgbXVzdCBiZSBwbGFpbiBvYmplY3RcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY2IoZXJyb3IsIHtcbiAgICAgICAgaWQ6IHVuZGVmaW5lZCxcbiAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgZXJyb3JcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNhbGxlclJlcS5tZXRob2QgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IFNlcmlhbGl6YWJsZUVycm9yKHtcbiAgICAgICAgY29kZTogLTMyNjAzLFxuICAgICAgICBtZXNzYWdlOiBcIm1ldGhvZCBtdXN0IGJlIHN0cmluZ1wiXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjYihlcnJvciwge1xuICAgICAgICBpZDogY2FsbGVyUmVxLmlkLFxuICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICBlcnJvclxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlcSA9IF9vYmplY3RTcHJlYWQoe30sIGNhbGxlclJlcSk7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgaWQ6IHJlcS5pZCxcbiAgICAgIGpzb25ycGM6IHJlcS5qc29ucnBjXG4gICAgfTtcbiAgICBsZXQgZXJyb3IgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLl9wcm9jZXNzUmVxdWVzdChyZXEsIHJlcyk7XG4gICAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICAvLyBBIHJlcXVlc3QgaGFuZGxlciBlcnJvciwgYSByZS10aHJvd24gbWlkZGxld2FyZSBlcnJvciwgb3Igc29tZXRoaW5nXG4gICAgICAvLyB1bmV4cGVjdGVkLlxuICAgICAgZXJyb3IgPSBfZXJyb3I7XG4gICAgfVxuICAgIGlmIChlcnJvcikge1xuICAgICAgLy8gRW5zdXJlIG5vIHJlc3VsdCBpcyBwcmVzZW50IG9uIGFuIGVycm9yZWQgcmVzcG9uc2VcbiAgICAgIGRlbGV0ZSByZXMucmVzdWx0O1xuICAgICAgaWYgKCFyZXMuZXJyb3IpIHtcbiAgICAgICAgcmVzLmVycm9yID0gc2VyaWFsaXplRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2IoZXJyb3IsIHJlcyk7XG4gIH1cblxuICAvKipcbiAgICogRm9yIHRoZSBnaXZlbiByZXF1ZXN0IGFuZCByZXNwb25zZSwgcnVucyBhbGwgbWlkZGxld2FyZSBhbmQgdGhlaXIgcmV0dXJuXG4gICAqIGhhbmRsZXJzLCBpZiBhbnksIGFuZCBlbnN1cmVzIHRoYXQgaW50ZXJuYWwgcmVxdWVzdCBwcm9jZXNzaW5nIHNlbWFudGljc1xuICAgKiBhcmUgc2F0aXNmaWVkLlxuICAgKi9cbiAgYXN5bmMgX3Byb2Nlc3NSZXF1ZXN0KHJlcSwgcmVzKSB7XG4gICAgY29uc3QgW2Vycm9yLCBpc0NvbXBsZXRlLCByZXR1cm5IYW5kbGVyc10gPSBhd2FpdCBKUlBDRW5naW5lLl9ydW5BbGxNaWRkbGV3YXJlKHJlcSwgcmVzLCB0aGlzLl9taWRkbGV3YXJlKTtcblxuICAgIC8vIFRocm93IGlmIFwiZW5kXCIgd2FzIG5vdCBjYWxsZWQsIG9yIGlmIHRoZSByZXNwb25zZSBoYXMgbmVpdGhlciBhIHJlc3VsdFxuICAgIC8vIG5vciBhbiBlcnJvci5cbiAgICBKUlBDRW5naW5lLl9jaGVja0ZvckNvbXBsZXRpb24ocmVxLCByZXMsIGlzQ29tcGxldGUpO1xuXG4gICAgLy8gVGhlIHJldHVybiBoYW5kbGVycyBzaG91bGQgcnVuIGV2ZW4gaWYgYW4gZXJyb3Igd2FzIGVuY291bnRlcmVkIGR1cmluZ1xuICAgIC8vIG1pZGRsZXdhcmUgcHJvY2Vzc2luZy5cbiAgICBhd2FpdCBKUlBDRW5naW5lLl9ydW5SZXR1cm5IYW5kbGVycyhyZXR1cm5IYW5kbGVycyk7XG5cbiAgICAvLyBOb3cgd2UgcmUtdGhyb3cgdGhlIG1pZGRsZXdhcmUgcHJvY2Vzc2luZyBlcnJvciwgaWYgYW55LCB0byBjYXRjaCBpdFxuICAgIC8vIGZ1cnRoZXIgdXAgdGhlIGNhbGwgY2hhaW4uXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlTWlkZGxld2FyZShtaWRkbGV3YXJlU3RhY2spIHtcbiAgY29uc3QgZW5naW5lID0gbmV3IEpSUENFbmdpbmUoKTtcbiAgbWlkZGxld2FyZVN0YWNrLmZvckVhY2gobWlkZGxld2FyZSA9PiBlbmdpbmUucHVzaChtaWRkbGV3YXJlKSk7XG4gIHJldHVybiBlbmdpbmUuYXNNaWRkbGV3YXJlKCk7XG59XG5mdW5jdGlvbiBjcmVhdGVFbmdpbmVTdHJlYW0ob3B0cykge1xuICBpZiAoIW9wdHMgfHwgIW9wdHMuZW5naW5lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBlbmdpbmUgcGFyYW1ldGVyIVwiKTtcbiAgfVxuICBjb25zdCB7XG4gICAgZW5naW5lXG4gIH0gPSBvcHRzO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gIGxldCBzdHJlYW07XG4gIGZ1bmN0aW9uIHJlYWQoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBmdW5jdGlvbiB3cml0ZShyZXEsIF9lbmNvZGluZywgY2IpIHtcbiAgICBlbmdpbmUuaGFuZGxlKHJlcSwgKF9lcnIsIHJlcykgPT4ge1xuICAgICAgc3RyZWFtLnB1c2gocmVzKTtcbiAgICB9KTtcbiAgICBjYigpO1xuICB9XG4gIHN0cmVhbSA9IG5ldyBEdXBsZXgoe1xuICAgIG9iamVjdE1vZGU6IHRydWUsXG4gICAgcmVhZCxcbiAgICB3cml0ZVxuICB9KTtcblxuICAvLyBmb3J3YXJkIG5vdGlmaWNhdGlvbnNcbiAgaWYgKGVuZ2luZS5vbikge1xuICAgIGVuZ2luZS5vbihcIm5vdGlmaWNhdGlvblwiLCBtZXNzYWdlID0+IHtcbiAgICAgIHN0cmVhbS5wdXNoKG1lc3NhZ2UpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBzdHJlYW07XG59XG5mdW5jdGlvbiBwcm92aWRlckZyb21FbmdpbmUoZW5naW5lKSB7XG4gIGNvbnN0IHByb3ZpZGVyID0gbmV3IFNhZmVFdmVudEVtaXR0ZXIoKTtcbiAgLy8gaGFuZGxlIGJvdGggcnBjIHNlbmQgbWV0aG9kc1xuICBwcm92aWRlci5zZW5kQXN5bmMgPSBhc3luYyByZXEgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGVuZ2luZS5oYW5kbGUocmVxKTtcbiAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICB2YXIgX3JlcyRlcnJvciwgX3JlcyRlcnJvcjI7XG4gICAgICBjb25zdCBlcnIgPSBzZXJpYWxpemVFcnJvcihyZXMuZXJyb3IsIHtcbiAgICAgICAgZmFsbGJhY2tFcnJvcjoge1xuICAgICAgICAgIG1lc3NhZ2U6ICgoX3JlcyRlcnJvciA9IHJlcy5lcnJvcikgPT09IG51bGwgfHwgX3JlcyRlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRlcnJvci5tZXNzYWdlKSB8fCByZXMuZXJyb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICBjb2RlOiAoKF9yZXMkZXJyb3IyID0gcmVzLmVycm9yKSA9PT0gbnVsbCB8fCBfcmVzJGVycm9yMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRlcnJvcjIuY29kZSkgfHwgLTMyNjAzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhyb3cgcnBjRXJyb3JzLmludGVybmFsKGVycik7XG4gICAgfVxuICAgIHJldHVybiByZXMucmVzdWx0O1xuICB9O1xuICBwcm92aWRlci5zZW5kID0gKHJlcSwgY2FsbGJhY2spID0+IHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTXVzdCBwcm92aWRlIGNhbGxiYWNrIHRvIFwic2VuZFwiIG1ldGhvZC4nKTtcbiAgICB9XG4gICAgZW5naW5lLmhhbmRsZShyZXEsIGNhbGxiYWNrKTtcbiAgfTtcbiAgLy8gZm9yd2FyZCBub3RpZmljYXRpb25zXG4gIGlmIChlbmdpbmUub24pIHtcbiAgICBlbmdpbmUub24oXCJub3RpZmljYXRpb25cIiwgbWVzc2FnZSA9PiB7XG4gICAgICBwcm92aWRlci5lbWl0KFwiZGF0YVwiLCBudWxsLCBtZXNzYWdlKTtcbiAgICB9KTtcbiAgfVxuICBwcm92aWRlci5yZXF1ZXN0ID0gYXN5bmMgYXJncyA9PiB7XG4gICAgY29uc3QgcmVxID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhcmdzKSwge30sIHtcbiAgICAgIGlkOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSxcbiAgICAgIGpzb25ycGM6IFwiMi4wXCJcbiAgICB9KTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBwcm92aWRlci5zZW5kQXN5bmMocmVxKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICByZXR1cm4gcHJvdmlkZXI7XG59XG5mdW5jdGlvbiBwcm92aWRlckZyb21NaWRkbGV3YXJlKG1pZGRsZXdhcmUpIHtcbiAgY29uc3QgZW5naW5lID0gbmV3IEpSUENFbmdpbmUoKTtcbiAgZW5naW5lLnB1c2gobWlkZGxld2FyZSk7XG4gIGNvbnN0IHByb3ZpZGVyID0gcHJvdmlkZXJGcm9tRW5naW5lKGVuZ2luZSk7XG4gIHJldHVybiBwcm92aWRlcjtcbn1cbmZ1bmN0aW9uIHByb3ZpZGVyQXNNaWRkbGV3YXJlKHByb3ZpZGVyKSB7XG4gIHJldHVybiBhc3luYyAocmVxLCByZXMsIF9uZXh0LCBlbmQpID0+IHtcbiAgICAvLyBzZW5kIHJlcXVlc3QgdG8gcHJvdmlkZXJcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvdmlkZXJSZXMgPSBhd2FpdCBwcm92aWRlci5zZW5kQXN5bmMocmVxKTtcbiAgICAgIHJlcy5yZXN1bHQgPSBwcm92aWRlclJlcztcbiAgICAgIHJldHVybiBlbmQoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGVuZChlcnJvcik7XG4gICAgfVxuICB9O1xufVxuXG5jbGFzcyBTdWJzdHJlYW0gZXh0ZW5kcyBEdXBsZXgge1xuICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgbGV0IHtcbiAgICAgIHBhcmVudCxcbiAgICAgIG5hbWVcbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcih7XG4gICAgICBvYmplY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhcmVudFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9uYW1lXCIsIHZvaWQgMCk7XG4gICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cGxpY2l0bHkgc2V0cyByZWFkIG9wZXJhdGlvbnMgdG8gYSBuby1vcC5cbiAgICovXG4gIF9yZWFkKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gZGF0YSBzaG91bGQgYmUgd3JpdHRlbiB0byB0aGlzIHdyaXRhYmxlIHN0cmVhbS5cbiAgICpcbiAgICogQHBhcmFtIGNodW5rIC0gQXJiaXRyYXJ5IG9iamVjdCB0byB3cml0ZVxuICAgKiBAcGFyYW0gZW5jb2RpbmcgLSBFbmNvZGluZyB0byB1c2Ugd2hlbiB3cml0aW5nIHBheWxvYWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gQ2FsbGVkIHdoZW4gd3JpdGluZyBpcyBjb21wbGV0ZSBvciBhbiBlcnJvciBvY2N1cnNcbiAgICovXG4gIF93cml0ZShjaHVuaywgX2VuY29kaW5nLCBjYWxsYmFjaykge1xuICAgIHRoaXMuX3BhcmVudC5wdXNoKHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUsXG4gICAgICBkYXRhOiBjaHVua1xuICAgIH0pO1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn1cblxuY29uc3QgSUdOT1JFX1NVQlNUUkVBTSA9IFN5bWJvbChcIklHTk9SRV9TVUJTVFJFQU1cIik7XG5jbGFzcyBPYmplY3RNdWx0aXBsZXggZXh0ZW5kcyBEdXBsZXgge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgc3VwZXIoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRzKSwge30sIHtcbiAgICAgIG9iamVjdE1vZGU6IHRydWVcbiAgICB9KSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N1YnN0cmVhbXNcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRTdHJlYW1cIiwgdm9pZCAwKTtcbiAgICB0aGlzLl9zdWJzdHJlYW1zID0ge307XG4gIH1cbiAgY3JlYXRlU3RyZWFtKG5hbWUpIHtcbiAgICAvLyB2YWxpZGF0ZSBuYW1lXG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3RNdWx0aXBsZXggLSBuYW1lIG11c3Qgbm90IGJlIGVtcHR5XCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic3RyZWFtc1tuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBPYmplY3RNdWx0aXBsZXggLSBTdWJzdHJlYW0gZm9yIG5hbWUgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHNgKTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgc3Vic3RyZWFtXG4gICAgY29uc3Qgc3Vic3RyZWFtID0gbmV3IFN1YnN0cmVhbSh7XG4gICAgICBwYXJlbnQ6IHRoaXMsXG4gICAgICBuYW1lXG4gICAgfSk7XG4gICAgdGhpcy5fc3Vic3RyZWFtc1tuYW1lXSA9IHN1YnN0cmVhbTtcblxuICAgIC8vIGxpc3RlbiBmb3IgcGFyZW50IHN0cmVhbSB0byBlbmRcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgYW55U3RyZWFtRW5kKHRoaXMsIF9lcnJvciA9PiBzdWJzdHJlYW0uZGVzdHJveShfZXJyb3IgfHwgdW5kZWZpbmVkKSk7XG4gICAgcmV0dXJuIHN1YnN0cmVhbTtcbiAgfVxuXG4gIC8vIGlnbm9yZSBzdHJlYW1zIChkb250IGRpc3BsYXkgb3JwaGFuZWQgZGF0YSB3YXJuaW5nKVxuICBpZ25vcmVTdHJlYW0obmFtZSkge1xuICAgIC8vIHZhbGlkYXRlIG5hbWVcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk9iamVjdE11bHRpcGxleCAtIG5hbWUgbXVzdCBub3QgYmUgZW1wdHlcIik7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzdHJlYW1zW25hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9iamVjdE11bHRpcGxleCAtIFN1YnN0cmVhbSBmb3IgbmFtZSBcIiR7bmFtZX1cIiBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICAvLyBzZXRcbiAgICB0aGlzLl9zdWJzdHJlYW1zW25hbWVdID0gSUdOT1JFX1NVQlNUUkVBTTtcbiAgfVxuICBfcmVhZCgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIF93cml0ZShjaHVuaywgX2VuY29kaW5nLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICBkYXRhXG4gICAgfSA9IGNodW5rO1xuICAgIGlmICghbmFtZSkge1xuICAgICAgd2luZG93LmNvbnNvbGUud2FybihgT2JqZWN0TXVsdGlwbGV4IC0gbWFsZm9ybWVkIGNodW5rIHdpdGhvdXQgbmFtZSBcIiR7Y2h1bmt9XCJgKTtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8vIGdldCBjb3JyZXNwb25kaW5nIHN1YnN0cmVhbVxuICAgIGNvbnN0IHN1YnN0cmVhbSA9IHRoaXMuX3N1YnN0cmVhbXNbbmFtZV07XG4gICAgaWYgKCFzdWJzdHJlYW0pIHtcbiAgICAgIHdpbmRvdy5jb25zb2xlLndhcm4oYE9iamVjdE11bHRpcGxleCAtIG9ycGhhbmVkIGRhdGEgZm9yIHN0cmVhbSBcIiR7bmFtZX1cImApO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLy8gcHVzaCBkYXRhIGludG8gc3Vic3RyZWFtXG4gICAgaWYgKHN1YnN0cmVhbSAhPT0gSUdOT1JFX1NVQlNUUkVBTSkge1xuICAgICAgc3Vic3RyZWFtLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG59XG5cbi8vIHV0aWxcbmZ1bmN0aW9uIGFueVN0cmVhbUVuZChzdHJlYW0sIF9jYikge1xuICBjb25zdCBjYiA9IG9uY2UoX2NiKTtcbiAgZW9zKHN0cmVhbSwge1xuICAgIHJlYWRhYmxlOiBmYWxzZVxuICB9LCBjYik7XG4gIGVvcyhzdHJlYW0sIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSwgY2IpO1xufVxuZnVuY3Rpb24gc2V0dXBNdWx0aXBsZXgoc3RyZWFtKSB7XG4gIGNvbnN0IG11eCA9IG5ldyBPYmplY3RNdWx0aXBsZXgoKTtcbiAgbXV4LmdldFN0cmVhbSA9IGZ1bmN0aW9uIHN0cmVhbUhlbHBlcihuYW1lKSB7XG4gICAgaWYgKHRoaXMuX3N1YnN0cmVhbXNbbmFtZV0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdWJzdHJlYW1zW25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTdHJlYW0obmFtZSk7XG4gIH07XG4gIHB1bXAoc3RyZWFtLCBtdXgsIHN0cmVhbSwgZXJyID0+IHtcbiAgICBpZiAoZXJyKSB3aW5kb3cuY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcbiAgcmV0dXJuIG11eDtcbn1cblxuY2xhc3MgUG9zdE1lc3NhZ2VTdHJlYW0gZXh0ZW5kcyBCYXNlUG9zdE1lc3NhZ2VTdHJlYW0ge1xuICBfcG9zdE1lc3NhZ2UoZGF0YSkge1xuICAgIGxldCBvcmlnaW5Db25zdHJhaW50ID0gdGhpcy5fdGFyZ2V0T3JpZ2luO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3QgZGF0YU9iaiA9IGRhdGE7XG4gICAgICBpZiAodHlwZW9mIGRhdGFPYmouZGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb25zdCBkYXRhT2JqRGF0YSA9IGRhdGFPYmouZGF0YTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YU9iakRhdGEucGFyYW1zKSAmJiBkYXRhT2JqRGF0YS5wYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGRhdGFPYmpEYXRhUGFyYW0gPSBkYXRhT2JqRGF0YS5wYXJhbXNbMF07XG4gICAgICAgICAgaWYgKGRhdGFPYmpEYXRhUGFyYW0uX29yaWdpbikge1xuICAgICAgICAgICAgb3JpZ2luQ29uc3RyYWludCA9IGRhdGFPYmpEYXRhUGFyYW0uX29yaWdpbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBhZGQgYSBjb25zdHJhaW50IGZvciB0aGUgcmVzcG9uc2VcbiAgICAgICAgICBkYXRhT2JqRGF0YVBhcmFtLl9vcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3RhcmdldFdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICB0YXJnZXQ6IHRoaXMuX3RhcmdldCxcbiAgICAgIGRhdGFcbiAgICB9LCBvcmlnaW5Db25zdHJhaW50KTtcbiAgfVxufVxuXG5leHBvcnQgeyBCYXNlUG9zdE1lc3NhZ2VTdHJlYW0sIElHTk9SRV9TVUJTVFJFQU0sIEpSUENFbmdpbmUsIE9iamVjdE11bHRpcGxleCwgUG9zdE1lc3NhZ2VTdHJlYW0sIFNhZmVFdmVudEVtaXR0ZXIsIFNlcmlhbGl6YWJsZUVycm9yLCBTdWJzdHJlYW0sIGNyZWF0ZUFzeW5jTWlkZGxld2FyZSwgY3JlYXRlRW5naW5lU3RyZWFtLCBjcmVhdGVFcnJvck1pZGRsZXdhcmUsIGNyZWF0ZUlkUmVtYXBNaWRkbGV3YXJlLCBjcmVhdGVMb2dnZXJNaWRkbGV3YXJlLCBjcmVhdGVTY2FmZm9sZE1pZGRsZXdhcmUsIGNyZWF0ZVN0cmVhbU1pZGRsZXdhcmUsIGdldFJwY1Byb21pc2VDYWxsYmFjaywgbWVyZ2VNaWRkbGV3YXJlLCBwcm92aWRlckFzTWlkZGxld2FyZSwgcHJvdmlkZXJGcm9tRW5naW5lLCBwcm92aWRlckZyb21NaWRkbGV3YXJlLCBzZXR1cE11bHRpcGxleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmxvZ2luSnJwYy5lc20uanMubWFwXG4iXSwibmFtZXMiOlsiX2RlZmluZVByb3BlcnR5IiwiRHVwbGV4IiwiRXZlbnRFbWl0dGVyIiwic3RyaW5naWZ5IiwiX29iamVjdFNwcmVhZCIsInNlcmlhbGl6ZUVycm9yIiwicnBjRXJyb3JzIiwiZW9zIiwib25jZSIsInB1bXAiLCJub29wIiwidW5kZWZpbmVkIiwiU1lOIiwiQUNLIiwiQlJLIiwiQmFzZVBvc3RNZXNzYWdlU3RyZWFtIiwiY29uc3RydWN0b3IiLCJfcmVmIiwibmFtZSIsInRhcmdldCIsInRhcmdldFdpbmRvdyIsIndpbmRvdyIsInRhcmdldE9yaWdpbiIsIm9iamVjdE1vZGUiLCJFcnJvciIsIl9pbml0IiwiX2hhdmVTeW4iLCJfbmFtZSIsIl90YXJnZXQiLCJfdGFyZ2V0V2luZG93IiwiX3RhcmdldE9yaWdpbiIsIl9vbk1lc3NhZ2UiLCJvbk1lc3NhZ2UiLCJiaW5kIiwiX3N5bkludGVydmFsSWQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRTaGFrZSIsIl9icmVhayIsImNvcmsiLCJfd3JpdGUiLCJfb25EYXRhIiwiZGF0YSIsInVuY29yayIsInB1c2giLCJlcnIiLCJlbWl0IiwiX3Bvc3RNZXNzYWdlIiwib3JpZ2luQ29uc3RyYWludCIsInBvc3RNZXNzYWdlIiwiZXZlbnQiLCJtZXNzYWdlIiwib3JpZ2luIiwic291cmNlIiwiX3JlYWQiLCJfIiwiY2IiLCJfZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzYWZlQXBwbHkiLCJoYW5kbGVyIiwiY29udGV4dCIsImFyZ3MiLCJSZWZsZWN0IiwiYXBwbHkiLCJzZXRUaW1lb3V0IiwiYXJyYXlDbG9uZSIsImFyciIsIm4iLCJsZW5ndGgiLCJjb3B5IiwiQXJyYXkiLCJpIiwiU2FmZUV2ZW50RW1pdHRlciIsInR5cGUiLCJkb0Vycm9yIiwiZXZlbnRzIiwiX2V2ZW50cyIsImVycm9yIiwiX2xlbiIsImFyZ3VtZW50cyIsIl9rZXkiLCJlciIsImxlbiIsImxpc3RlbmVycyIsIlNlcmlhbGl6YWJsZUVycm9yIiwiY29kZSIsIk51bWJlciIsImlzSW50ZWdlciIsInRvU3RyaW5nIiwic3RhY2siLCJnZXRScGNQcm9taXNlQ2FsbGJhY2siLCJyZXNvbHZlIiwicmVqZWN0IiwidW53cmFwUmVzdWx0IiwicmVzcG9uc2UiLCJpc0FycmF5IiwicmVzdWx0IiwiY3JlYXRlRXJyb3JNaWRkbGV3YXJlIiwibG9nIiwicmVxIiwicmVzIiwibmV4dCIsImVuZCIsIm1ldGhvZCIsImRvbmUiLCJjcmVhdGVTdHJlYW1NaWRkbGV3YXJlIiwiaWRNYXAiLCJyZWFkTm9vcCIsInByb2Nlc3NSZXNwb25zZSIsImlkIiwiT2JqZWN0IiwiYXNzaWduIiwicHJvY2Vzc05vdGlmaWNhdGlvbiIsInByb2Nlc3NNZXNzYWdlIiwiX2VuY29kaW5nIiwiaXNOb3RpZmljYXRpb24iLCJfZXJyIiwic3RyZWFtIiwicmVhZCIsIndyaXRlIiwibWlkZGxld2FyZSIsImNyZWF0ZVNjYWZmb2xkTWlkZGxld2FyZSIsImhhbmRsZXJzIiwiY3JlYXRlSWRSZW1hcE1pZGRsZXdhcmUiLCJfZW5kIiwib3JpZ2luYWxJZCIsIm5ld0lkIiwiTWF0aCIsInJhbmRvbSIsInNsaWNlIiwiY3JlYXRlTG9nZ2VyTWlkZGxld2FyZSIsImxvZ2dlciIsImRlYnVnIiwiY3JlYXRlQXN5bmNNaWRkbGV3YXJlIiwiYXN5bmNNaWRkbGV3YXJlIiwicmVzb2x2ZU5leHRQcm9taXNlIiwibmV4dFByb21pc2UiLCJQcm9taXNlIiwicmV0dXJuSGFuZGxlckNhbGxiYWNrIiwibmV4dFdhc0NhbGxlZCIsImFzeW5jTmV4dCIsInJ1blJldHVybkhhbmRsZXJzQ2FsbGJhY2siLCJKUlBDRW5naW5lIiwiX21pZGRsZXdhcmUiLCJfcnVuQWxsTWlkZGxld2FyZSIsIm1pZGRsZXdhcmVTdGFjayIsInJldHVybkhhbmRsZXJzIiwiaXNDb21wbGV0ZSIsIl9ydW5NaWRkbGV3YXJlIiwicmV2ZXJzZSIsInJldHVybkhhbmRsZXIiLCJfcnVuUmV0dXJuSGFuZGxlcnMiLCJfY2hlY2tGb3JDb21wbGV0aW9uIiwiX3JlcSIsImhhbmRsZSIsIl9oYW5kbGVCYXRjaCIsIl9oYW5kbGUiLCJfcHJvbWlzZUhhbmRsZSIsImFzTWlkZGxld2FyZSIsIm1pZGRsZXdhcmVFcnJvciIsImhhbmRsZXJDYWxsYmFjayIsInJlcXMiLCJyZXNwb25zZXMiLCJhbGwiLCJtYXAiLCJjYWxsZXJSZXEiLCJqc29ucnBjIiwiX3Byb2Nlc3NSZXF1ZXN0IiwiX2Vycm9yIiwibWVyZ2VNaWRkbGV3YXJlIiwiZW5naW5lIiwiZm9yRWFjaCIsImNyZWF0ZUVuZ2luZVN0cmVhbSIsIm9wdHMiLCJvbiIsInByb3ZpZGVyRnJvbUVuZ2luZSIsInByb3ZpZGVyIiwic2VuZEFzeW5jIiwiX3JlcyRlcnJvciIsIl9yZXMkZXJyb3IyIiwiZmFsbGJhY2tFcnJvciIsImludGVybmFsIiwic2VuZCIsImNhbGxiYWNrIiwicmVxdWVzdCIsInByb3ZpZGVyRnJvbU1pZGRsZXdhcmUiLCJwcm92aWRlckFzTWlkZGxld2FyZSIsIl9uZXh0IiwicHJvdmlkZXJSZXMiLCJTdWJzdHJlYW0iLCJwYXJlbnQiLCJfcGFyZW50IiwiY2h1bmsiLCJJR05PUkVfU1VCU1RSRUFNIiwiU3ltYm9sIiwiT2JqZWN0TXVsdGlwbGV4IiwiX3N1YnN0cmVhbXMiLCJjcmVhdGVTdHJlYW0iLCJzdWJzdHJlYW0iLCJhbnlTdHJlYW1FbmQiLCJkZXN0cm95IiwiaWdub3JlU3RyZWFtIiwiY29uc29sZSIsIndhcm4iLCJfY2IiLCJyZWFkYWJsZSIsIndyaXRhYmxlIiwic2V0dXBNdWx0aXBsZXgiLCJtdXgiLCJnZXRTdHJlYW0iLCJzdHJlYW1IZWxwZXIiLCJQb3N0TWVzc2FnZVN0cmVhbSIsImRhdGFPYmoiLCJkYXRhT2JqRGF0YSIsInBhcmFtcyIsImRhdGFPYmpEYXRhUGFyYW0iLCJfb3JpZ2luIiwibG9jYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/openlogin-session-manager/dist/openloginSessionManager.esm.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@toruslabs/openlogin-session-manager/dist/openloginSessionManager.esm.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenloginSessionManager: () => (/* binding */ OpenloginSessionManager)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _toruslabs_base_session_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @toruslabs/base-session-manager */ \"(ssr)/./node_modules/@toruslabs/base-session-manager/dist/baseSessionManager.esm.js\");\n/* harmony import */ var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @toruslabs/eccrypto */ \"(ssr)/./node_modules/@toruslabs/eccrypto/dist/eccrypto.esm.js\");\n/* harmony import */ var _toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @toruslabs/metadata-helpers */ \"(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/metadataHelpers.esm.js\");\n\n\n\n\nconst DEFAULT_SESSION_TIMEOUT = 86400;\nclass OpenloginSessionManager extends _toruslabs_base_session_manager__WEBPACK_IMPORTED_MODULE_1__.BaseSessionManager {\n    constructor(){\n        let { sessionServerBaseUrl, sessionNamespace, sessionTime, sessionId } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        super();\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionServerBaseUrl\", \"https://broadcast-server.tor.us\");\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionNamespace\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionTime\", DEFAULT_SESSION_TIMEOUT);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionId\", \"\");\n        if (sessionServerBaseUrl) {\n            this.sessionServerBaseUrl = sessionServerBaseUrl;\n        }\n        if (sessionNamespace) this.sessionNamespace = sessionNamespace;\n        if (sessionTime) this.sessionTime = sessionTime;\n        if (sessionId) this.sessionId = sessionId.padStart(64, \"0\");\n    }\n    static generateRandomSessionKey() {\n        return (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__.generatePrivate)().toString(\"hex\").padStart(64, \"0\");\n    }\n    async createSession(data) {\n        super.checkSessionParams();\n        const privKey = Buffer.from(this.sessionId, \"hex\");\n        const pubKey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__.getPublic)(privKey).toString(\"hex\");\n        const encData = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.encryptData)(this.sessionId, data);\n        const signature = (await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__.sign)(privKey, (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.keccak256)(Buffer.from(encData, \"utf8\")))).toString(\"hex\");\n        const body = {\n            key: pubKey,\n            data: encData,\n            signature,\n            namespace: this.sessionNamespace,\n            timeout: this.sessionTime\n        };\n        await super.request({\n            method: \"POST\",\n            url: `${this.sessionServerBaseUrl}/store/set`,\n            data: body\n        });\n        return this.sessionId;\n    }\n    async authorizeSession() {\n        super.checkSessionParams();\n        const pubkey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__.getPublic)(Buffer.from(this.sessionId, \"hex\")).toString(\"hex\");\n        const url = new URL(`${this.sessionServerBaseUrl}/store/get`);\n        url.searchParams.append(\"key\", pubkey);\n        if (this.sessionNamespace) url.searchParams.append(\"namespace\", this.sessionNamespace);\n        const result = await super.request({\n            url: url.toString()\n        });\n        if (!result.message) {\n            throw new Error(\"Session Expired or Invalid public key\");\n        }\n        const response = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.decryptData)(this.sessionId, result.message);\n        if (response.error) {\n            throw new Error(\"There was an error decrypting data.\");\n        }\n        return response;\n    }\n    async updateSession(data) {\n        super.checkSessionParams();\n        const privKey = Buffer.from(this.sessionId, \"hex\");\n        const pubKey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__.getPublic)(privKey).toString(\"hex\");\n        const encData = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.encryptData)(this.sessionId, data);\n        const signature = (await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__.sign)(privKey, (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.keccak256)(Buffer.from(encData, \"utf8\")))).toString(\"hex\");\n        const body = {\n            key: pubKey,\n            data: encData,\n            signature,\n            namespace: this.sessionNamespace\n        };\n        await super.request({\n            method: \"PUT\",\n            url: `${this.sessionServerBaseUrl}/store/update`,\n            data: body\n        });\n    }\n    async invalidateSession() {\n        super.checkSessionParams();\n        const privKey = Buffer.from(this.sessionId, \"hex\");\n        const pubKey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__.getPublic)(privKey).toString(\"hex\");\n        const encData = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.encryptData)(this.sessionId, {});\n        const signature = (await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__.sign)(privKey, (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.keccak256)(Buffer.from(encData, \"utf8\")))).toString(\"hex\");\n        const data = {\n            key: pubKey,\n            data: encData,\n            signature,\n            namespace: this.sessionNamespace,\n            timeout: 1\n        };\n        await super.request({\n            method: \"POST\",\n            url: `${this.sessionServerBaseUrl}/store/set`,\n            data\n        });\n        this.sessionId = \"\";\n        return true;\n    }\n}\n //# sourceMappingURL=openloginSessionManager.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9vcGVubG9naW4tc2Vzc2lvbi1tYW5hZ2VyL2Rpc3Qvb3BlbmxvZ2luU2Vzc2lvbk1hbmFnZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFvRTtBQUNDO0FBQ0U7QUFDVztBQUVsRixNQUFNUSwwQkFBMEI7QUFDaEMsTUFBTUMsZ0NBQWdDUiwrRUFBa0JBO0lBQ3REUyxhQUFjO1FBQ1osSUFBSSxFQUNGQyxvQkFBb0IsRUFDcEJDLGdCQUFnQixFQUNoQkMsV0FBVyxFQUNYQyxTQUFTLEVBQ1YsR0FBR0MsVUFBVUMsTUFBTSxHQUFHLEtBQUtELFNBQVMsQ0FBQyxFQUFFLEtBQUtFLFlBQVlGLFNBQVMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztRQUN6RSxLQUFLO1FBQ0xmLDRFQUFlQSxDQUFDLElBQUksRUFBRSx3QkFBd0I7UUFDOUNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxvQkFBb0IsS0FBSztRQUMvQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGVBQWVRO1FBQ3JDUiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsYUFBYTtRQUNuQyxJQUFJVyxzQkFBc0I7WUFDeEIsSUFBSSxDQUFDQSxvQkFBb0IsR0FBR0E7UUFDOUI7UUFDQSxJQUFJQyxrQkFBa0IsSUFBSSxDQUFDQSxnQkFBZ0IsR0FBR0E7UUFDOUMsSUFBSUMsYUFBYSxJQUFJLENBQUNBLFdBQVcsR0FBR0E7UUFDcEMsSUFBSUMsV0FBVyxJQUFJLENBQUNBLFNBQVMsR0FBR0EsVUFBVUksUUFBUSxDQUFDLElBQUk7SUFDekQ7SUFDQSxPQUFPQywyQkFBMkI7UUFDaEMsT0FBT2pCLG9FQUFlQSxHQUFHa0IsUUFBUSxDQUFDLE9BQU9GLFFBQVEsQ0FBQyxJQUFJO0lBQ3hEO0lBQ0EsTUFBTUcsY0FBY0MsSUFBSSxFQUFFO1FBQ3hCLEtBQUssQ0FBQ0M7UUFDTixNQUFNQyxVQUFVQyxPQUFPQyxJQUFJLENBQUMsSUFBSSxDQUFDWixTQUFTLEVBQUU7UUFDNUMsTUFBTWEsU0FBU3hCLDhEQUFTQSxDQUFDcUIsU0FBU0osUUFBUSxDQUFDO1FBQzNDLE1BQU1RLFVBQVUsTUFBTXZCLHdFQUFXQSxDQUFDLElBQUksQ0FBQ1MsU0FBUyxFQUFFUTtRQUNsRCxNQUFNTyxZQUFZLENBQUMsTUFBTXpCLHlEQUFJQSxDQUFDb0IsU0FBU2xCLHNFQUFTQSxDQUFDbUIsT0FBT0MsSUFBSSxDQUFDRSxTQUFTLFNBQVEsRUFBR1IsUUFBUSxDQUFDO1FBQzFGLE1BQU1VLE9BQU87WUFDWEMsS0FBS0o7WUFDTEwsTUFBTU07WUFDTkM7WUFDQUcsV0FBVyxJQUFJLENBQUNwQixnQkFBZ0I7WUFDaENxQixTQUFTLElBQUksQ0FBQ3BCLFdBQVc7UUFDM0I7UUFDQSxNQUFNLEtBQUssQ0FBQ3FCLFFBQVE7WUFDbEJDLFFBQVE7WUFDUkMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDekIsb0JBQW9CLENBQUMsVUFBVSxDQUFDO1lBQzdDVyxNQUFNUTtRQUNSO1FBQ0EsT0FBTyxJQUFJLENBQUNoQixTQUFTO0lBQ3ZCO0lBQ0EsTUFBTXVCLG1CQUFtQjtRQUN2QixLQUFLLENBQUNkO1FBQ04sTUFBTWUsU0FBU25DLDhEQUFTQSxDQUFDc0IsT0FBT0MsSUFBSSxDQUFDLElBQUksQ0FBQ1osU0FBUyxFQUFFLFFBQVFNLFFBQVEsQ0FBQztRQUN0RSxNQUFNZ0IsTUFBTSxJQUFJRyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUM1QixvQkFBb0IsQ0FBQyxVQUFVLENBQUM7UUFDNUR5QixJQUFJSSxZQUFZLENBQUNDLE1BQU0sQ0FBQyxPQUFPSDtRQUMvQixJQUFJLElBQUksQ0FBQzFCLGdCQUFnQixFQUFFd0IsSUFBSUksWUFBWSxDQUFDQyxNQUFNLENBQUMsYUFBYSxJQUFJLENBQUM3QixnQkFBZ0I7UUFDckYsTUFBTThCLFNBQVMsTUFBTSxLQUFLLENBQUNSLFFBQVE7WUFDakNFLEtBQUtBLElBQUloQixRQUFRO1FBQ25CO1FBQ0EsSUFBSSxDQUFDc0IsT0FBT0MsT0FBTyxFQUFFO1lBQ25CLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUNBLE1BQU1DLFdBQVcsTUFBTXRDLHdFQUFXQSxDQUFDLElBQUksQ0FBQ08sU0FBUyxFQUFFNEIsT0FBT0MsT0FBTztRQUNqRSxJQUFJRSxTQUFTQyxLQUFLLEVBQUU7WUFDbEIsTUFBTSxJQUFJRixNQUFNO1FBQ2xCO1FBQ0EsT0FBT0M7SUFDVDtJQUNBLE1BQU1FLGNBQWN6QixJQUFJLEVBQUU7UUFDeEIsS0FBSyxDQUFDQztRQUNOLE1BQU1DLFVBQVVDLE9BQU9DLElBQUksQ0FBQyxJQUFJLENBQUNaLFNBQVMsRUFBRTtRQUM1QyxNQUFNYSxTQUFTeEIsOERBQVNBLENBQUNxQixTQUFTSixRQUFRLENBQUM7UUFDM0MsTUFBTVEsVUFBVSxNQUFNdkIsd0VBQVdBLENBQUMsSUFBSSxDQUFDUyxTQUFTLEVBQUVRO1FBQ2xELE1BQU1PLFlBQVksQ0FBQyxNQUFNekIseURBQUlBLENBQUNvQixTQUFTbEIsc0VBQVNBLENBQUNtQixPQUFPQyxJQUFJLENBQUNFLFNBQVMsU0FBUSxFQUFHUixRQUFRLENBQUM7UUFDMUYsTUFBTVUsT0FBTztZQUNYQyxLQUFLSjtZQUNMTCxNQUFNTTtZQUNOQztZQUNBRyxXQUFXLElBQUksQ0FBQ3BCLGdCQUFnQjtRQUNsQztRQUNBLE1BQU0sS0FBSyxDQUFDc0IsUUFBUTtZQUNsQkMsUUFBUTtZQUNSQyxLQUFLLENBQUMsRUFBRSxJQUFJLENBQUN6QixvQkFBb0IsQ0FBQyxhQUFhLENBQUM7WUFDaERXLE1BQU1RO1FBQ1I7SUFDRjtJQUNBLE1BQU1rQixvQkFBb0I7UUFDeEIsS0FBSyxDQUFDekI7UUFDTixNQUFNQyxVQUFVQyxPQUFPQyxJQUFJLENBQUMsSUFBSSxDQUFDWixTQUFTLEVBQUU7UUFDNUMsTUFBTWEsU0FBU3hCLDhEQUFTQSxDQUFDcUIsU0FBU0osUUFBUSxDQUFDO1FBQzNDLE1BQU1RLFVBQVUsTUFBTXZCLHdFQUFXQSxDQUFDLElBQUksQ0FBQ1MsU0FBUyxFQUFFLENBQUM7UUFDbkQsTUFBTWUsWUFBWSxDQUFDLE1BQU16Qix5REFBSUEsQ0FBQ29CLFNBQVNsQixzRUFBU0EsQ0FBQ21CLE9BQU9DLElBQUksQ0FBQ0UsU0FBUyxTQUFRLEVBQUdSLFFBQVEsQ0FBQztRQUMxRixNQUFNRSxPQUFPO1lBQ1hTLEtBQUtKO1lBQ0xMLE1BQU1NO1lBQ05DO1lBQ0FHLFdBQVcsSUFBSSxDQUFDcEIsZ0JBQWdCO1lBQ2hDcUIsU0FBUztRQUNYO1FBQ0EsTUFBTSxLQUFLLENBQUNDLFFBQVE7WUFDbEJDLFFBQVE7WUFDUkMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDekIsb0JBQW9CLENBQUMsVUFBVSxDQUFDO1lBQzdDVztRQUNGO1FBQ0EsSUFBSSxDQUFDUixTQUFTLEdBQUc7UUFDakIsT0FBTztJQUNUO0FBQ0Y7QUFFbUMsQ0FDbkMsdURBQXVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL29wZW5sb2dpbi1zZXNzaW9uLW1hbmFnZXIvZGlzdC9vcGVubG9naW5TZXNzaW9uTWFuYWdlci5lc20uanM/MzUzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IHsgQmFzZVNlc3Npb25NYW5hZ2VyIH0gZnJvbSAnQHRvcnVzbGFicy9iYXNlLXNlc3Npb24tbWFuYWdlcic7XG5pbXBvcnQgeyBnZW5lcmF0ZVByaXZhdGUsIGdldFB1YmxpYywgc2lnbiB9IGZyb20gJ0B0b3J1c2xhYnMvZWNjcnlwdG8nO1xuaW1wb3J0IHsgZW5jcnlwdERhdGEsIGtlY2NhazI1NiwgZGVjcnlwdERhdGEgfSBmcm9tICdAdG9ydXNsYWJzL21ldGFkYXRhLWhlbHBlcnMnO1xuXG5jb25zdCBERUZBVUxUX1NFU1NJT05fVElNRU9VVCA9IDg2NDAwO1xuY2xhc3MgT3BlbmxvZ2luU2Vzc2lvbk1hbmFnZXIgZXh0ZW5kcyBCYXNlU2Vzc2lvbk1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQge1xuICAgICAgc2Vzc2lvblNlcnZlckJhc2VVcmwsXG4gICAgICBzZXNzaW9uTmFtZXNwYWNlLFxuICAgICAgc2Vzc2lvblRpbWUsXG4gICAgICBzZXNzaW9uSWRcbiAgICB9ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBzdXBlcigpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlc3Npb25TZXJ2ZXJCYXNlVXJsXCIsIFwiaHR0cHM6Ly9icm9hZGNhc3Qtc2VydmVyLnRvci51c1wiKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXNzaW9uTmFtZXNwYWNlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2Vzc2lvblRpbWVcIiwgREVGQVVMVF9TRVNTSU9OX1RJTUVPVVQpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlc3Npb25JZFwiLCBcIlwiKTtcbiAgICBpZiAoc2Vzc2lvblNlcnZlckJhc2VVcmwpIHtcbiAgICAgIHRoaXMuc2Vzc2lvblNlcnZlckJhc2VVcmwgPSBzZXNzaW9uU2VydmVyQmFzZVVybDtcbiAgICB9XG4gICAgaWYgKHNlc3Npb25OYW1lc3BhY2UpIHRoaXMuc2Vzc2lvbk5hbWVzcGFjZSA9IHNlc3Npb25OYW1lc3BhY2U7XG4gICAgaWYgKHNlc3Npb25UaW1lKSB0aGlzLnNlc3Npb25UaW1lID0gc2Vzc2lvblRpbWU7XG4gICAgaWYgKHNlc3Npb25JZCkgdGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uSWQucGFkU3RhcnQoNjQsIFwiMFwiKTtcbiAgfVxuICBzdGF0aWMgZ2VuZXJhdGVSYW5kb21TZXNzaW9uS2V5KCkge1xuICAgIHJldHVybiBnZW5lcmF0ZVByaXZhdGUoKS50b1N0cmluZyhcImhleFwiKS5wYWRTdGFydCg2NCwgXCIwXCIpO1xuICB9XG4gIGFzeW5jIGNyZWF0ZVNlc3Npb24oZGF0YSkge1xuICAgIHN1cGVyLmNoZWNrU2Vzc2lvblBhcmFtcygpO1xuICAgIGNvbnN0IHByaXZLZXkgPSBCdWZmZXIuZnJvbSh0aGlzLnNlc3Npb25JZCwgXCJoZXhcIik7XG4gICAgY29uc3QgcHViS2V5ID0gZ2V0UHVibGljKHByaXZLZXkpLnRvU3RyaW5nKFwiaGV4XCIpO1xuICAgIGNvbnN0IGVuY0RhdGEgPSBhd2FpdCBlbmNyeXB0RGF0YSh0aGlzLnNlc3Npb25JZCwgZGF0YSk7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gKGF3YWl0IHNpZ24ocHJpdktleSwga2VjY2FrMjU2KEJ1ZmZlci5mcm9tKGVuY0RhdGEsIFwidXRmOFwiKSkpKS50b1N0cmluZyhcImhleFwiKTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAga2V5OiBwdWJLZXksXG4gICAgICBkYXRhOiBlbmNEYXRhLFxuICAgICAgc2lnbmF0dXJlLFxuICAgICAgbmFtZXNwYWNlOiB0aGlzLnNlc3Npb25OYW1lc3BhY2UsXG4gICAgICB0aW1lb3V0OiB0aGlzLnNlc3Npb25UaW1lXG4gICAgfTtcbiAgICBhd2FpdCBzdXBlci5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICB1cmw6IGAke3RoaXMuc2Vzc2lvblNlcnZlckJhc2VVcmx9L3N0b3JlL3NldGAsXG4gICAgICBkYXRhOiBib2R5XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbklkO1xuICB9XG4gIGFzeW5jIGF1dGhvcml6ZVNlc3Npb24oKSB7XG4gICAgc3VwZXIuY2hlY2tTZXNzaW9uUGFyYW1zKCk7XG4gICAgY29uc3QgcHVia2V5ID0gZ2V0UHVibGljKEJ1ZmZlci5mcm9tKHRoaXMuc2Vzc2lvbklkLCBcImhleFwiKSkudG9TdHJpbmcoXCJoZXhcIik7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChgJHt0aGlzLnNlc3Npb25TZXJ2ZXJCYXNlVXJsfS9zdG9yZS9nZXRgKTtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImtleVwiLCBwdWJrZXkpO1xuICAgIGlmICh0aGlzLnNlc3Npb25OYW1lc3BhY2UpIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwibmFtZXNwYWNlXCIsIHRoaXMuc2Vzc2lvbk5hbWVzcGFjZSk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3VwZXIucmVxdWVzdCh7XG4gICAgICB1cmw6IHVybC50b1N0cmluZygpXG4gICAgfSk7XG4gICAgaWYgKCFyZXN1bHQubWVzc2FnZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBFeHBpcmVkIG9yIEludmFsaWQgcHVibGljIGtleVwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkZWNyeXB0RGF0YSh0aGlzLnNlc3Npb25JZCwgcmVzdWx0Lm1lc3NhZ2UpO1xuICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgd2FzIGFuIGVycm9yIGRlY3J5cHRpbmcgZGF0YS5cIik7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuICBhc3luYyB1cGRhdGVTZXNzaW9uKGRhdGEpIHtcbiAgICBzdXBlci5jaGVja1Nlc3Npb25QYXJhbXMoKTtcbiAgICBjb25zdCBwcml2S2V5ID0gQnVmZmVyLmZyb20odGhpcy5zZXNzaW9uSWQsIFwiaGV4XCIpO1xuICAgIGNvbnN0IHB1YktleSA9IGdldFB1YmxpYyhwcml2S2V5KS50b1N0cmluZyhcImhleFwiKTtcbiAgICBjb25zdCBlbmNEYXRhID0gYXdhaXQgZW5jcnlwdERhdGEodGhpcy5zZXNzaW9uSWQsIGRhdGEpO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IChhd2FpdCBzaWduKHByaXZLZXksIGtlY2NhazI1NihCdWZmZXIuZnJvbShlbmNEYXRhLCBcInV0ZjhcIikpKSkudG9TdHJpbmcoXCJoZXhcIik7XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIGtleTogcHViS2V5LFxuICAgICAgZGF0YTogZW5jRGF0YSxcbiAgICAgIHNpZ25hdHVyZSxcbiAgICAgIG5hbWVzcGFjZTogdGhpcy5zZXNzaW9uTmFtZXNwYWNlXG4gICAgfTtcbiAgICBhd2FpdCBzdXBlci5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIHVybDogYCR7dGhpcy5zZXNzaW9uU2VydmVyQmFzZVVybH0vc3RvcmUvdXBkYXRlYCxcbiAgICAgIGRhdGE6IGJvZHlcbiAgICB9KTtcbiAgfVxuICBhc3luYyBpbnZhbGlkYXRlU2Vzc2lvbigpIHtcbiAgICBzdXBlci5jaGVja1Nlc3Npb25QYXJhbXMoKTtcbiAgICBjb25zdCBwcml2S2V5ID0gQnVmZmVyLmZyb20odGhpcy5zZXNzaW9uSWQsIFwiaGV4XCIpO1xuICAgIGNvbnN0IHB1YktleSA9IGdldFB1YmxpYyhwcml2S2V5KS50b1N0cmluZyhcImhleFwiKTtcbiAgICBjb25zdCBlbmNEYXRhID0gYXdhaXQgZW5jcnlwdERhdGEodGhpcy5zZXNzaW9uSWQsIHt9KTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSAoYXdhaXQgc2lnbihwcml2S2V5LCBrZWNjYWsyNTYoQnVmZmVyLmZyb20oZW5jRGF0YSwgXCJ1dGY4XCIpKSkpLnRvU3RyaW5nKFwiaGV4XCIpO1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBrZXk6IHB1YktleSxcbiAgICAgIGRhdGE6IGVuY0RhdGEsXG4gICAgICBzaWduYXR1cmUsXG4gICAgICBuYW1lc3BhY2U6IHRoaXMuc2Vzc2lvbk5hbWVzcGFjZSxcbiAgICAgIHRpbWVvdXQ6IDFcbiAgICB9O1xuICAgIGF3YWl0IHN1cGVyLnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIHVybDogYCR7dGhpcy5zZXNzaW9uU2VydmVyQmFzZVVybH0vc3RvcmUvc2V0YCxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgICB0aGlzLnNlc3Npb25JZCA9IFwiXCI7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgT3BlbmxvZ2luU2Vzc2lvbk1hbmFnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5sb2dpblNlc3Npb25NYW5hZ2VyLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfZGVmaW5lUHJvcGVydHkiLCJCYXNlU2Vzc2lvbk1hbmFnZXIiLCJnZW5lcmF0ZVByaXZhdGUiLCJnZXRQdWJsaWMiLCJzaWduIiwiZW5jcnlwdERhdGEiLCJrZWNjYWsyNTYiLCJkZWNyeXB0RGF0YSIsIkRFRkFVTFRfU0VTU0lPTl9USU1FT1VUIiwiT3BlbmxvZ2luU2Vzc2lvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInNlc3Npb25TZXJ2ZXJCYXNlVXJsIiwic2Vzc2lvbk5hbWVzcGFjZSIsInNlc3Npb25UaW1lIiwic2Vzc2lvbklkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicGFkU3RhcnQiLCJnZW5lcmF0ZVJhbmRvbVNlc3Npb25LZXkiLCJ0b1N0cmluZyIsImNyZWF0ZVNlc3Npb24iLCJkYXRhIiwiY2hlY2tTZXNzaW9uUGFyYW1zIiwicHJpdktleSIsIkJ1ZmZlciIsImZyb20iLCJwdWJLZXkiLCJlbmNEYXRhIiwic2lnbmF0dXJlIiwiYm9keSIsImtleSIsIm5hbWVzcGFjZSIsInRpbWVvdXQiLCJyZXF1ZXN0IiwibWV0aG9kIiwidXJsIiwiYXV0aG9yaXplU2Vzc2lvbiIsInB1YmtleSIsIlVSTCIsInNlYXJjaFBhcmFtcyIsImFwcGVuZCIsInJlc3VsdCIsIm1lc3NhZ2UiLCJFcnJvciIsInJlc3BvbnNlIiwiZXJyb3IiLCJ1cGRhdGVTZXNzaW9uIiwiaW52YWxpZGF0ZVNlc3Npb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/openlogin-session-manager/dist/openloginSessionManager.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/openlogin-utils/dist/openloginUtils.esm.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@toruslabs/openlogin-utils/dist/openloginUtils.esm.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BUILD_ENV: () => (/* binding */ BUILD_ENV),\n/* harmony export */   BrowserStorage: () => (/* binding */ BrowserStorage),\n/* harmony export */   LANGUAGES: () => (/* binding */ LANGUAGES),\n/* harmony export */   LOGIN_PROVIDER: () => (/* binding */ LOGIN_PROVIDER),\n/* harmony export */   MFA_FACTOR: () => (/* binding */ MFA_FACTOR),\n/* harmony export */   MFA_LEVELS: () => (/* binding */ MFA_LEVELS),\n/* harmony export */   MemoryStore: () => (/* binding */ MemoryStore),\n/* harmony export */   OPENLOGIN_ACTIONS: () => (/* binding */ OPENLOGIN_ACTIONS),\n/* harmony export */   OPENLOGIN_NETWORK: () => (/* binding */ OPENLOGIN_NETWORK),\n/* harmony export */   SUPPORTED_KEY_CURVES: () => (/* binding */ SUPPORTED_KEY_CURVES),\n/* harmony export */   THEME_MODES: () => (/* binding */ THEME_MODES),\n/* harmony export */   TORUS_LEGACY_NETWORK: () => (/* reexport safe */ _toruslabs_constants__WEBPACK_IMPORTED_MODULE_3__.TORUS_LEGACY_NETWORK),\n/* harmony export */   TORUS_SAPPHIRE_NETWORK: () => (/* reexport safe */ _toruslabs_constants__WEBPACK_IMPORTED_MODULE_3__.TORUS_SAPPHIRE_NETWORK),\n/* harmony export */   UX_MODE: () => (/* binding */ UX_MODE),\n/* harmony export */   base64toJSON: () => (/* binding */ base64toJSON),\n/* harmony export */   base64url: () => (/* binding */ base64url),\n/* harmony export */   jsonToBase64: () => (/* binding */ jsonToBase64),\n/* harmony export */   safeatob: () => (/* binding */ safeatob),\n/* harmony export */   safebtoa: () => (/* binding */ safebtoa),\n/* harmony export */   storageAvailable: () => (/* binding */ storageAvailable),\n/* harmony export */   storeKey: () => (/* binding */ storeKey)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var base64url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base64url */ \"(ssr)/./node_modules/base64url/index.js\");\n/* harmony import */ var base64url__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(base64url__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _toruslabs_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @toruslabs/constants */ \"(ssr)/./node_modules/@toruslabs/constants/dist/constants.esm.js\");\n\n\n\n\n\nconst base64url = (base64url__WEBPACK_IMPORTED_MODULE_1___default());\nfunction safebtoa(str) {\n    return base64url.encode(str);\n}\nfunction safeatob(str) {\n    // Going backwards: from bytestream, to percent-encoding, to original string.\n    return base64url.decode(str);\n}\nfunction base64toJSON(b64str) {\n    return JSON.parse(base64url.decode(b64str));\n}\nfunction jsonToBase64(json) {\n    return base64url.encode(JSON.stringify(json));\n}\nfunction storageAvailable(type) {\n    let storageExists = false;\n    let storageLength = 0;\n    let storage;\n    try {\n        storage = window[type];\n        storageExists = true;\n        storageLength = storage.length;\n        const x = \"__storage_test__\";\n        storage.setItem(x, x);\n        storage.removeItem(x);\n        return true;\n    } catch (err) {\n        const error = err;\n        return error && // everything except Firefox\n        (error.code === 22 || // Firefox\n        error.code === 1014 || // test name field too, because code might not be present\n        // everything except Firefox\n        error.name === \"QuotaExceededError\" || // Firefox\n        error.name === \"NS_ERROR_DOM_QUOTA_REACHED\") && // acknowledge QuotaExceededError only if there's something already stored\n        storageExists && storageLength !== 0;\n    }\n}\nclass MemoryStore {\n    constructor(){\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"store\", {});\n    }\n    getItem(key) {\n        return this.store[key] || null;\n    }\n    setItem(key, value) {\n        this.store[key] = value;\n    }\n}\nclass BrowserStorage {\n    constructor(storeKey, storage){\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"storage\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_storeKey\", void 0);\n        this.storage = storage;\n        this._storeKey = storeKey;\n        try {\n            if (!storage.getItem(storeKey)) {\n                this.resetStore();\n            }\n        } catch (error) {\n        // Storage is not available\n        }\n    }\n    static getInstance(key) {\n        let storageKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"local\";\n        if (!this.instance) {\n            let storage;\n            if (storageKey === \"local\" && storageAvailable(\"localStorage\")) {\n                storage = window.localStorage;\n            } else if (storageKey === \"session\" && storageAvailable(\"sessionStorage\")) {\n                storage = window.sessionStorage;\n            } else {\n                storage = new MemoryStore();\n            }\n            this.instance = new this(key, storage);\n        }\n        return this.instance;\n    }\n    toJSON() {\n        return this.storage.getItem(this._storeKey);\n    }\n    resetStore() {\n        const currStore = this.getStore();\n        this.storage.setItem(this._storeKey, JSON.stringify({}));\n        return currStore;\n    }\n    getStore() {\n        return JSON.parse(this.storage.getItem(this._storeKey) || \"{}\");\n    }\n    get(key) {\n        const store = JSON.parse(this.storage.getItem(this._storeKey) || \"{}\");\n        return store[key];\n    }\n    set(key, value) {\n        const store = JSON.parse(this.storage.getItem(this._storeKey) || \"{}\");\n        store[key] = value;\n        this.storage.setItem(this._storeKey, JSON.stringify(store));\n    }\n}\n// eslint-disable-next-line no-use-before-define\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(BrowserStorage, \"instance\", void 0);\nconst storeKey = \"openlogin_store\";\nconst UX_MODE = {\n    POPUP: \"popup\",\n    REDIRECT: \"redirect\"\n};\nconst OPENLOGIN_NETWORK = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2___default()({}, _toruslabs_constants__WEBPACK_IMPORTED_MODULE_3__.TORUS_SAPPHIRE_NETWORK), _toruslabs_constants__WEBPACK_IMPORTED_MODULE_3__.TORUS_LEGACY_NETWORK);\nconst SUPPORTED_KEY_CURVES = {\n    SECP256K1: \"secp256k1\",\n    ED25519: \"ed25519\"\n};\nconst LOGIN_PROVIDER = {\n    GOOGLE: \"google\",\n    FACEBOOK: \"facebook\",\n    REDDIT: \"reddit\",\n    DISCORD: \"discord\",\n    TWITCH: \"twitch\",\n    APPLE: \"apple\",\n    LINE: \"line\",\n    GITHUB: \"github\",\n    KAKAO: \"kakao\",\n    LINKEDIN: \"linkedin\",\n    TWITTER: \"twitter\",\n    WEIBO: \"weibo\",\n    WECHAT: \"wechat\",\n    EMAIL_PASSWORDLESS: \"email_passwordless\",\n    SMS_PASSWORDLESS: \"sms_passwordless\",\n    WEBAUTHN: \"webauthn\",\n    JWT: \"jwt\"\n};\nconst MFA_LEVELS = {\n    DEFAULT: \"default\",\n    OPTIONAL: \"optional\",\n    MANDATORY: \"mandatory\",\n    NONE: \"none\"\n};\nconst OPENLOGIN_ACTIONS = {\n    LOGIN: \"login\",\n    ENABLE_MFA: \"enable_mfa\",\n    MODIFY_MFA: \"modify_mfa\"\n};\nconst BUILD_ENV = {\n    PRODUCTION: \"production\",\n    DEVELOPMENT: \"development\",\n    STAGING: \"staging\",\n    TESTING: \"testing\"\n};\n/**\n * {@label loginProviderType}\n */ // autocomplete workaround https://github.com/microsoft/TypeScript/issues/29729\nconst LANGUAGES = {\n    en: \"en\",\n    ja: \"ja\",\n    ko: \"ko\",\n    de: \"de\",\n    zh: \"zh\",\n    es: \"es\",\n    fr: \"fr\",\n    pt: \"pt\",\n    nl: \"nl\"\n};\nconst THEME_MODES = {\n    light: \"light\",\n    dark: \"dark\",\n    auto: \"auto\"\n};\nconst MFA_FACTOR = {\n    DEVICE: \"deviceShareFactor\",\n    BACKUP_SHARE: \"backUpShareFactor\",\n    SOCIAL_BACKUP: \"socialBackupFactor\",\n    PASSWORD: \"passwordFactor\"\n};\n //# sourceMappingURL=openloginUtils.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9vcGVubG9naW4tdXRpbHMvZGlzdC9vcGVubG9naW5VdGlscy5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRTtBQUMvQjtBQUM0QjtBQUNtQjtBQUNBO0FBRXBGLE1BQU1LLFlBQVlKLGtEQUFZQTtBQUM5QixTQUFTSyxTQUFTQyxHQUFHO0lBQ25CLE9BQU9GLFVBQVVHLE1BQU0sQ0FBQ0Q7QUFDMUI7QUFDQSxTQUFTRSxTQUFTRixHQUFHO0lBQ25CLDZFQUE2RTtJQUM3RSxPQUFPRixVQUFVSyxNQUFNLENBQUNIO0FBQzFCO0FBQ0EsU0FBU0ksYUFBYUMsTUFBTTtJQUMxQixPQUFPQyxLQUFLQyxLQUFLLENBQUNULFVBQVVLLE1BQU0sQ0FBQ0U7QUFDckM7QUFDQSxTQUFTRyxhQUFhQyxJQUFJO0lBQ3hCLE9BQU9YLFVBQVVHLE1BQU0sQ0FBQ0ssS0FBS0ksU0FBUyxDQUFDRDtBQUN6QztBQUNBLFNBQVNFLGlCQUFpQkMsSUFBSTtJQUM1QixJQUFJQyxnQkFBZ0I7SUFDcEIsSUFBSUMsZ0JBQWdCO0lBQ3BCLElBQUlDO0lBQ0osSUFBSTtRQUNGQSxVQUFVQyxNQUFNLENBQUNKLEtBQUs7UUFDdEJDLGdCQUFnQjtRQUNoQkMsZ0JBQWdCQyxRQUFRRSxNQUFNO1FBQzlCLE1BQU1DLElBQUk7UUFDVkgsUUFBUUksT0FBTyxDQUFDRCxHQUFHQTtRQUNuQkgsUUFBUUssVUFBVSxDQUFDRjtRQUNuQixPQUFPO0lBQ1QsRUFBRSxPQUFPRyxLQUFLO1FBQ1osTUFBTUMsUUFBUUQ7UUFDZCxPQUFPQyxTQUNQLDRCQUE0QjtRQUM1QkEsQ0FBQUEsTUFBTUMsSUFBSSxLQUFLLE1BQ2YsVUFBVTtRQUNWRCxNQUFNQyxJQUFJLEtBQUssUUFDZix5REFBeUQ7UUFDekQsNEJBQTRCO1FBQzVCRCxNQUFNRSxJQUFJLEtBQUssd0JBQ2YsVUFBVTtRQUNWRixNQUFNRSxJQUFJ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Z2luLXV0aWxzL2Rpc3Qvb3BlbmxvZ2luVXRpbHMuZXNtLmpzP2Y5M2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBiYXNlNjR1cmxMaWIgZnJvbSAnYmFzZTY0dXJsJztcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMic7XG5pbXBvcnQgeyBUT1JVU19TQVBQSElSRV9ORVRXT1JLLCBUT1JVU19MRUdBQ1lfTkVUV09SSyB9IGZyb20gJ0B0b3J1c2xhYnMvY29uc3RhbnRzJztcbmV4cG9ydCB7IFRPUlVTX0xFR0FDWV9ORVRXT1JLLCBUT1JVU19TQVBQSElSRV9ORVRXT1JLIH0gZnJvbSAnQHRvcnVzbGFicy9jb25zdGFudHMnO1xuXG5jb25zdCBiYXNlNjR1cmwgPSBiYXNlNjR1cmxMaWI7XG5mdW5jdGlvbiBzYWZlYnRvYShzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NHVybC5lbmNvZGUoc3RyKTtcbn1cbmZ1bmN0aW9uIHNhZmVhdG9iKHN0cikge1xuICAvLyBHb2luZyBiYWNrd2FyZHM6IGZyb20gYnl0ZXN0cmVhbSwgdG8gcGVyY2VudC1lbmNvZGluZywgdG8gb3JpZ2luYWwgc3RyaW5nLlxuICByZXR1cm4gYmFzZTY0dXJsLmRlY29kZShzdHIpO1xufVxuZnVuY3Rpb24gYmFzZTY0dG9KU09OKGI2NHN0cikge1xuICByZXR1cm4gSlNPTi5wYXJzZShiYXNlNjR1cmwuZGVjb2RlKGI2NHN0cikpO1xufVxuZnVuY3Rpb24ganNvblRvQmFzZTY0KGpzb24pIHtcbiAgcmV0dXJuIGJhc2U2NHVybC5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoanNvbikpO1xufVxuZnVuY3Rpb24gc3RvcmFnZUF2YWlsYWJsZSh0eXBlKSB7XG4gIGxldCBzdG9yYWdlRXhpc3RzID0gZmFsc2U7XG4gIGxldCBzdG9yYWdlTGVuZ3RoID0gMDtcbiAgbGV0IHN0b3JhZ2U7XG4gIHRyeSB7XG4gICAgc3RvcmFnZSA9IHdpbmRvd1t0eXBlXTtcbiAgICBzdG9yYWdlRXhpc3RzID0gdHJ1ZTtcbiAgICBzdG9yYWdlTGVuZ3RoID0gc3RvcmFnZS5sZW5ndGg7XG4gICAgY29uc3QgeCA9IFwiX19zdG9yYWdlX3Rlc3RfX1wiO1xuICAgIHN0b3JhZ2Uuc2V0SXRlbSh4LCB4KTtcbiAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnN0IGVycm9yID0gZXJyO1xuICAgIHJldHVybiBlcnJvciAmJiAoXG4gICAgLy8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxuICAgIGVycm9yLmNvZGUgPT09IDIyIHx8XG4gICAgLy8gRmlyZWZveFxuICAgIGVycm9yLmNvZGUgPT09IDEwMTQgfHxcbiAgICAvLyB0ZXN0IG5hbWUgZmllbGQgdG9vLCBiZWNhdXNlIGNvZGUgbWlnaHQgbm90IGJlIHByZXNlbnRcbiAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XG4gICAgZXJyb3IubmFtZSA9PT0gXCJRdW90YUV4Y2VlZGVkRXJyb3JcIiB8fFxuICAgIC8vIEZpcmVmb3hcbiAgICBlcnJvci5uYW1lID09PSBcIk5TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEXCIpICYmXG4gICAgLy8gYWNrbm93bGVkZ2UgUXVvdGFFeGNlZWRlZEVycm9yIG9ubHkgaWYgdGhlcmUncyBzb21ldGhpbmcgYWxyZWFkeSBzdG9yZWRcbiAgICBzdG9yYWdlRXhpc3RzICYmIHN0b3JhZ2VMZW5ndGggIT09IDA7XG4gIH1cbn1cblxuY2xhc3MgTWVtb3J5U3RvcmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9yZVwiLCB7fSk7XG4gIH1cbiAgZ2V0SXRlbShrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZVtrZXldIHx8IG51bGw7XG4gIH1cbiAgc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5zdG9yZVtrZXldID0gdmFsdWU7XG4gIH1cbn1cbmNsYXNzIEJyb3dzZXJTdG9yYWdlIHtcbiAgY29uc3RydWN0b3Ioc3RvcmVLZXksIHN0b3JhZ2UpIHtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9yYWdlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N0b3JlS2V5XCIsIHZvaWQgMCk7XG4gICAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcbiAgICB0aGlzLl9zdG9yZUtleSA9IHN0b3JlS2V5O1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXN0b3JhZ2UuZ2V0SXRlbShzdG9yZUtleSkpIHtcbiAgICAgICAgdGhpcy5yZXNldFN0b3JlKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIFN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZVxuICAgIH1cbiAgfVxuICBzdGF0aWMgZ2V0SW5zdGFuY2Uoa2V5KSB7XG4gICAgbGV0IHN0b3JhZ2VLZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFwibG9jYWxcIjtcbiAgICBpZiAoIXRoaXMuaW5zdGFuY2UpIHtcbiAgICAgIGxldCBzdG9yYWdlO1xuICAgICAgaWYgKHN0b3JhZ2VLZXkgPT09IFwibG9jYWxcIiAmJiBzdG9yYWdlQXZhaWxhYmxlKFwibG9jYWxTdG9yYWdlXCIpKSB7XG4gICAgICAgIHN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICAgICAgfSBlbHNlIGlmIChzdG9yYWdlS2V5ID09PSBcInNlc3Npb25cIiAmJiBzdG9yYWdlQXZhaWxhYmxlKFwic2Vzc2lvblN0b3JhZ2VcIikpIHtcbiAgICAgICAgc3RvcmFnZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3JhZ2UgPSBuZXcgTWVtb3J5U3RvcmUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgdGhpcyhrZXksIHN0b3JhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXRJdGVtKHRoaXMuX3N0b3JlS2V5KTtcbiAgfVxuICByZXNldFN0b3JlKCkge1xuICAgIGNvbnN0IGN1cnJTdG9yZSA9IHRoaXMuZ2V0U3RvcmUoKTtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9zdG9yZUtleSwgSlNPTi5zdHJpbmdpZnkoe30pKTtcbiAgICByZXR1cm4gY3VyclN0b3JlO1xuICB9XG4gIGdldFN0b3JlKCkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXRJdGVtKHRoaXMuX3N0b3JlS2V5KSB8fCBcInt9XCIpO1xuICB9XG4gIGdldChrZXkpIHtcbiAgICBjb25zdCBzdG9yZSA9IEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldEl0ZW0odGhpcy5fc3RvcmVLZXkpIHx8IFwie31cIik7XG4gICAgcmV0dXJuIHN0b3JlW2tleV07XG4gIH1cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCBzdG9yZSA9IEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldEl0ZW0odGhpcy5fc3RvcmVLZXkpIHx8IFwie31cIik7XG4gICAgc3RvcmVba2V5XSA9IHZhbHVlO1xuICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHRoaXMuX3N0b3JlS2V5LCBKU09OLnN0cmluZ2lmeShzdG9yZSkpO1xuICB9XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbl9kZWZpbmVQcm9wZXJ0eShCcm93c2VyU3RvcmFnZSwgXCJpbnN0YW5jZVwiLCB2b2lkIDApO1xuXG5jb25zdCBzdG9yZUtleSA9IFwib3BlbmxvZ2luX3N0b3JlXCI7XG5jb25zdCBVWF9NT0RFID0ge1xuICBQT1BVUDogXCJwb3B1cFwiLFxuICBSRURJUkVDVDogXCJyZWRpcmVjdFwiXG59O1xuY29uc3QgT1BFTkxPR0lOX05FVFdPUksgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIFRPUlVTX1NBUFBISVJFX05FVFdPUkspLCBUT1JVU19MRUdBQ1lfTkVUV09SSyk7XG5jb25zdCBTVVBQT1JURURfS0VZX0NVUlZFUyA9IHtcbiAgU0VDUDI1NksxOiBcInNlY3AyNTZrMVwiLFxuICBFRDI1NTE5OiBcImVkMjU1MTlcIlxufTtcbmNvbnN0IExPR0lOX1BST1ZJREVSID0ge1xuICBHT09HTEU6IFwiZ29vZ2xlXCIsXG4gIEZBQ0VCT09LOiBcImZhY2Vib29rXCIsXG4gIFJFRERJVDogXCJyZWRkaXRcIixcbiAgRElTQ09SRDogXCJkaXNjb3JkXCIsXG4gIFRXSVRDSDogXCJ0d2l0Y2hcIixcbiAgQVBQTEU6IFwiYXBwbGVcIixcbiAgTElORTogXCJsaW5lXCIsXG4gIEdJVEhVQjogXCJnaXRodWJcIixcbiAgS0FLQU86IFwia2FrYW9cIixcbiAgTElOS0VESU46IFwibGlua2VkaW5cIixcbiAgVFdJVFRFUjogXCJ0d2l0dGVyXCIsXG4gIFdFSUJPOiBcIndlaWJvXCIsXG4gIFdFQ0hBVDogXCJ3ZWNoYXRcIixcbiAgRU1BSUxfUEFTU1dPUkRMRVNTOiBcImVtYWlsX3Bhc3N3b3JkbGVzc1wiLFxuICBTTVNfUEFTU1dPUkRMRVNTOiBcInNtc19wYXNzd29yZGxlc3NcIixcbiAgV0VCQVVUSE46IFwid2ViYXV0aG5cIixcbiAgSldUOiBcImp3dFwiXG59O1xuY29uc3QgTUZBX0xFVkVMUyA9IHtcbiAgREVGQVVMVDogXCJkZWZhdWx0XCIsXG4gIE9QVElPTkFMOiBcIm9wdGlvbmFsXCIsXG4gIE1BTkRBVE9SWTogXCJtYW5kYXRvcnlcIixcbiAgTk9ORTogXCJub25lXCJcbn07XG5jb25zdCBPUEVOTE9HSU5fQUNUSU9OUyA9IHtcbiAgTE9HSU46IFwibG9naW5cIixcbiAgRU5BQkxFX01GQTogXCJlbmFibGVfbWZhXCIsXG4gIE1PRElGWV9NRkE6IFwibW9kaWZ5X21mYVwiXG59O1xuY29uc3QgQlVJTERfRU5WID0ge1xuICBQUk9EVUNUSU9OOiBcInByb2R1Y3Rpb25cIixcbiAgREVWRUxPUE1FTlQ6IFwiZGV2ZWxvcG1lbnRcIixcbiAgU1RBR0lORzogXCJzdGFnaW5nXCIsXG4gIFRFU1RJTkc6IFwidGVzdGluZ1wiXG59O1xuXG4vKipcbiAqIHtAbGFiZWwgbG9naW5Qcm92aWRlclR5cGV9XG4gKi9cblxuLy8gYXV0b2NvbXBsZXRlIHdvcmthcm91bmQgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yOTcyOVxuXG5jb25zdCBMQU5HVUFHRVMgPSB7XG4gIGVuOiBcImVuXCIsXG4gIGphOiBcImphXCIsXG4gIGtvOiBcImtvXCIsXG4gIGRlOiBcImRlXCIsXG4gIHpoOiBcInpoXCIsXG4gIGVzOiBcImVzXCIsXG4gIGZyOiBcImZyXCIsXG4gIHB0OiBcInB0XCIsXG4gIG5sOiBcIm5sXCJcbn07XG5jb25zdCBUSEVNRV9NT0RFUyA9IHtcbiAgbGlnaHQ6IFwibGlnaHRcIixcbiAgZGFyazogXCJkYXJrXCIsXG4gIGF1dG86IFwiYXV0b1wiXG59O1xuY29uc3QgTUZBX0ZBQ1RPUiA9IHtcbiAgREVWSUNFOiBcImRldmljZVNoYXJlRmFjdG9yXCIsXG4gIEJBQ0tVUF9TSEFSRTogXCJiYWNrVXBTaGFyZUZhY3RvclwiLFxuICBTT0NJQUxfQkFDS1VQOiBcInNvY2lhbEJhY2t1cEZhY3RvclwiLFxuICBQQVNTV09SRDogXCJwYXNzd29yZEZhY3RvclwiXG59O1xuXG5leHBvcnQgeyBCVUlMRF9FTlYsIEJyb3dzZXJTdG9yYWdlLCBMQU5HVUFHRVMsIExPR0lOX1BST1ZJREVSLCBNRkFfRkFDVE9SLCBNRkFfTEVWRUxTLCBNZW1vcnlTdG9yZSwgT1BFTkxPR0lOX0FDVElPTlMsIE9QRU5MT0dJTl9ORVRXT1JLLCBTVVBQT1JURURfS0VZX0NVUlZFUywgVEhFTUVfTU9ERVMsIFVYX01PREUsIGJhc2U2NHRvSlNPTiwgYmFzZTY0dXJsLCBqc29uVG9CYXNlNjQsIHNhZmVhdG9iLCBzYWZlYnRvYSwgc3RvcmFnZUF2YWlsYWJsZSwgc3RvcmVLZXkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5sb2dpblV0aWxzLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfZGVmaW5lUHJvcGVydHkiLCJiYXNlNjR1cmxMaWIiLCJfb2JqZWN0U3ByZWFkIiwiVE9SVVNfU0FQUEhJUkVfTkVUV09SSyIsIlRPUlVTX0xFR0FDWV9ORVRXT1JLIiwiYmFzZTY0dXJsIiwic2FmZWJ0b2EiLCJzdHIiLCJlbmNvZGUiLCJzYWZlYXRvYiIsImRlY29kZSIsImJhc2U2NHRvSlNPTiIsImI2NHN0ciIsIkpTT04iLCJwYXJzZSIsImpzb25Ub0Jhc2U2NCIsImpzb24iLCJzdHJpbmdpZnkiLCJzdG9yYWdlQXZhaWxhYmxlIiwidHlwZSIsInN0b3JhZ2VFeGlzdHMiLCJzdG9yYWdlTGVuZ3RoIiwic3RvcmFnZSIsIndpbmRvdyIsImxlbmd0aCIsIngiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImVyciIsImVycm9yIiwiY29kZSIsIm5hbWUiLCJNZW1vcnlTdG9yZSIsImNvbnN0cnVjdG9yIiwiZ2V0SXRlbSIsImtleSIsInN0b3JlIiwidmFsdWUiLCJCcm93c2VyU3RvcmFnZSIsInN0b3JlS2V5IiwiX3N0b3JlS2V5IiwicmVzZXRTdG9yZSIsImdldEluc3RhbmNlIiwic3RvcmFnZUtleSIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImluc3RhbmNlIiwibG9jYWxTdG9yYWdlIiwic2Vzc2lvblN0b3JhZ2UiLCJ0b0pTT04iLCJjdXJyU3RvcmUiLCJnZXRTdG9yZSIsImdldCIsInNldCIsIlVYX01PREUiLCJQT1BVUCIsIlJFRElSRUNUIiwiT1BFTkxPR0lOX05FVFdPUksiLCJTVVBQT1JURURfS0VZX0NVUlZFUyIsIlNFQ1AyNTZLMSIsIkVEMjU1MTkiLCJMT0dJTl9QUk9WSURFUiIsIkdPT0dMRSIsIkZBQ0VCT09LIiwiUkVERElUIiwiRElTQ09SRCIsIlRXSVRDSCIsIkFQUExFIiwiTElORSIsIkdJVEhVQiIsIktBS0FPIiwiTElOS0VESU4iLCJUV0lUVEVSIiwiV0VJQk8iLCJXRUNIQVQiLCJFTUFJTF9QQVNTV09SRExFU1MiLCJTTVNfUEFTU1dPUkRMRVNTIiwiV0VCQVVUSE4iLCJKV1QiLCJNRkFfTEVWRUxTIiwiREVGQVVMVCIsIk9QVElPTkFMIiwiTUFOREFUT1JZIiwiTk9ORSIsIk9QRU5MT0dJTl9BQ1RJT05TIiwiTE9HSU4iLCJFTkFCTEVfTUZBIiwiTU9ESUZZX01GQSIsIkJVSUxEX0VOViIsIlBST0RVQ1RJT04iLCJERVZFTE9QTUVOVCIsIlNUQUdJTkciLCJURVNUSU5HIiwiTEFOR1VBR0VTIiwiZW4iLCJqYSIsImtvIiwiZGUiLCJ6aCIsImVzIiwiZnIiLCJwdCIsIm5sIiwiVEhFTUVfTU9ERVMiLCJsaWdodCIsImRhcmsiLCJhdXRvIiwiTUZBX0ZBQ1RPUiIsIkRFVklDRSIsIkJBQ0tVUF9TSEFSRSIsIlNPQ0lBTF9CQUNLVVAiLCJQQVNTV09SRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/openlogin-utils/dist/openloginUtils.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/openlogin/dist/openlogin.esm.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@toruslabs/openlogin/dist/openlogin.esm.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InitializationError: () => (/* binding */ InitializationError),\n/* harmony export */   LoginError: () => (/* binding */ LoginError),\n/* harmony export */   OpenloginError: () => (/* binding */ OpenloginError),\n/* harmony export */   constructURL: () => (/* binding */ constructURL),\n/* harmony export */   \"default\": () => (/* binding */ OpenLogin),\n/* harmony export */   getHashQueryParams: () => (/* binding */ getHashQueryParams),\n/* harmony export */   getPopupFeatures: () => (/* binding */ getPopupFeatures),\n/* harmony export */   getTimeout: () => (/* binding */ getTimeout),\n/* harmony export */   isMobileOrTablet: () => (/* binding */ isMobileOrTablet),\n/* harmony export */   loglevel: () => (/* binding */ loglevel),\n/* harmony export */   version: () => (/* binding */ version),\n/* harmony export */   whitelistUrl: () => (/* binding */ whitelistUrl)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ts_custom_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ts-custom-error */ \"(ssr)/./node_modules/ts-custom-error/dist/custom-error.mjs\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! loglevel */ \"(ssr)/./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _toruslabs_openlogin_session_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @toruslabs/openlogin-session-manager */ \"(ssr)/./node_modules/@toruslabs/openlogin-session-manager/dist/openloginSessionManager.esm.js\");\n/* harmony import */ var _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @toruslabs/openlogin-utils */ \"(ssr)/./node_modules/@toruslabs/openlogin-utils/dist/openloginUtils.esm.js\");\n/* harmony import */ var _toruslabs_secure_pub_sub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @toruslabs/secure-pub-sub */ \"(ssr)/./node_modules/@toruslabs/secure-pub-sub/dist/securePubSub.esm.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @toruslabs/eccrypto */ \"(ssr)/./node_modules/@toruslabs/eccrypto/dist/eccrypto.esm.js\");\n/* harmony import */ var _toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @toruslabs/metadata-helpers */ \"(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/metadataHelpers.esm.js\");\n/* harmony import */ var bowser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! bowser */ \"(ssr)/./node_modules/bowser/src/bowser.js\");\n\n\n\n\n\n\n\n\n\n\n\nclass OpenloginError extends ts_custom_error__WEBPACK_IMPORTED_MODULE_1__.CustomError {\n    constructor(code, message){\n        // takes care of stack and proto\n        super(message);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"code\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"message\", void 0);\n        this.code = code;\n        this.message = message || \"\";\n        // Set name explicitly as minification can mangle class names\n        Object.defineProperty(this, \"name\", {\n            value: \"OpenloginError\"\n        });\n    }\n    toJSON() {\n        return {\n            name: this.name,\n            code: this.code,\n            message: this.message\n        };\n    }\n    toString() {\n        return JSON.stringify(this.toJSON());\n    }\n}\nclass InitializationError extends OpenloginError {\n    constructor(code, message){\n        // takes care of stack and proto\n        super(code, message);\n        // Set name explicitly as minification can mangle class names\n        Object.defineProperty(this, \"name\", {\n            value: \"InitializationError\"\n        });\n    }\n    static fromCode(code) {\n        let extraMessage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n        return new InitializationError(code, `${InitializationError.messages[code]}, ${extraMessage}`);\n    }\n    static invalidParams() {\n        let extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n        return InitializationError.fromCode(5001, extraMessage);\n    }\n    static notInitialized() {\n        let extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n        return InitializationError.fromCode(5002, extraMessage);\n    }\n}\n/**\n * login errors\n */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(InitializationError, \"messages\", {\n    5000: \"Custom\",\n    5001: \"Invalid constructor params\",\n    5002: \"SDK not initialized. please call init first\"\n});\nclass LoginError extends OpenloginError {\n    constructor(code, message){\n        // takes care of stack and proto\n        super(code, message);\n        // Set name explicitly as minification can mangle class names\n        Object.defineProperty(this, \"name\", {\n            value: \"LoginError\"\n        });\n    }\n    static fromCode(code) {\n        let extraMessage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n        return new LoginError(code, `${LoginError.messages[code]}, ${extraMessage}`);\n    }\n    static invalidLoginParams() {\n        let extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n        return LoginError.fromCode(5111, extraMessage);\n    }\n    static userNotLoggedIn() {\n        let extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n        return LoginError.fromCode(5112, extraMessage);\n    }\n    static popupClosed() {\n        let extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n        return LoginError.fromCode(5113, extraMessage);\n    }\n    static loginFailed() {\n        let extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n        return LoginError.fromCode(5114, extraMessage);\n    }\n    static popupBlocked() {\n        let extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n        return LoginError.fromCode(5115, extraMessage);\n    }\n}\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(LoginError, \"messages\", {\n    5000: \"Custom\",\n    5111: \"Invalid login params\",\n    5112: \"User not logged in.\",\n    5113: \"login popup has been closed by the user\",\n    5114: \"Login failed\",\n    5115: \"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode\"\n});\nconst loglevel = (0,loglevel__WEBPACK_IMPORTED_MODULE_2__.getLogger)(\"openlogin\");\nloglevel.setLevel(\"error\");\n// don't use destructuring for process.env cause it messes up webpack env plugin\nconst version = \"6.1.0\";\nasync function whitelistUrl(clientId, appKey, origin) {\n    const appKeyBuf = Buffer.from(appKey.padStart(64, \"0\"), \"hex\");\n    if (_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.base64url.encode((0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_8__.getPublic)(appKeyBuf)) !== clientId) throw new Error(\"appKey mismatch\");\n    const sig = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_8__.sign)(appKeyBuf, (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_9__.keccak256)(Buffer.from(origin, \"utf8\")));\n    return _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.base64url.encode(sig);\n}\nfunction getHashQueryParams() {\n    let replaceUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    const result = {};\n    const url = new URL(window.location.href);\n    url.searchParams.forEach((value, key)=>{\n        if (key !== \"result\") {\n            result[key] = value;\n        }\n    });\n    const queryResult = url.searchParams.get(\"result\");\n    if (queryResult) {\n        try {\n            const queryParams = JSON.parse((0,_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.safeatob)(queryResult));\n            Object.keys(queryParams).forEach((key)=>{\n                result[key] = queryParams[key];\n            });\n        } catch (error) {\n            loglevel.error(error);\n        }\n    }\n    const hash = url.hash.substring(1);\n    const hashUrl = new URL(`${window.location.origin}/?${hash}`);\n    hashUrl.searchParams.forEach((value, key)=>{\n        if (key !== \"result\") {\n            result[key] = value;\n        }\n    });\n    const hashResult = hashUrl.searchParams.get(\"result\");\n    if (hashResult) {\n        try {\n            const hashParams = JSON.parse((0,_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.safeatob)(hashResult));\n            Object.keys(hashParams).forEach((key)=>{\n                result[key] = hashParams[key];\n            });\n        } catch (error) {\n            loglevel.error(error);\n        }\n    }\n    if (replaceUrl) {\n        const cleanUrl = new URL(window.location.origin + window.location.pathname);\n        cleanUrl.search = window.location.search;\n        if (hashResult) {\n            const hashParams = JSON.parse((0,_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.safeatob)(hashResult));\n            delete hashParams.sessionId;\n            delete hashParams.sessionNamespace;\n            delete hashParams.error;\n            cleanUrl.hash = (0,_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.safebtoa)(JSON.stringify(hashParams));\n        }\n        window.history.replaceState(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()({}, window.history.state), {}, {\n            as: cleanUrl.href,\n            url: cleanUrl.href\n        }), \"\", cleanUrl.href);\n    }\n    return result;\n}\nfunction constructURL(params) {\n    const { baseURL, query, hash } = params;\n    const url = new URL(baseURL);\n    if (query) {\n        Object.keys(query).forEach((key)=>{\n            url.searchParams.append(key, query[key]);\n        });\n    }\n    if (hash) {\n        const h = new URL(constructURL({\n            baseURL,\n            query: hash\n        })).searchParams.toString();\n        url.hash = h;\n    }\n    return url.toString();\n}\nfunction getPopupFeatures() {\n    if (true) return \"\";\n    // Fixes dual-screen position                             Most browsers      Firefox\n    const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n    const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n    const w = 1200;\n    const h = 700;\n    const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;\n    const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;\n    const systemZoom = 1; // No reliable estimate\n    const left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n    const top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n    const features = `titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${h / systemZoom},width=${w / systemZoom},top=${top},left=${left}`;\n    return features;\n}\nfunction isMobileOrTablet() {\n    if (true) return false;\n    const browser = bowser__WEBPACK_IMPORTED_MODULE_10__[\"default\"].getParser(window.navigator.userAgent);\n    const platform = browser.getPlatform();\n    return platform.type === bowser__WEBPACK_IMPORTED_MODULE_10__[\"default\"].PLATFORMS_MAP.tablet || platform.type === bowser__WEBPACK_IMPORTED_MODULE_10__[\"default\"].PLATFORMS_MAP.mobile;\n}\nfunction getTimeout(loginProvider) {\n    if ((loginProvider === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.LOGIN_PROVIDER.FACEBOOK || loginProvider === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.LOGIN_PROVIDER.LINE) && isMobileOrTablet()) {\n        return 1000 * 60 * 5; // 5 minutes to finish the login\n    }\n    return 1000 * 10; // 10 seconds\n}\nclass PopupHandler extends events__WEBPACK_IMPORTED_MODULE_7__.EventEmitter {\n    constructor(_ref){\n        let { url, target, features, timeout = 30000 } = _ref;\n        super();\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"url\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"target\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"features\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"window\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"windowTimer\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"iClosedWindow\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"timeout\", void 0);\n        this.url = url;\n        this.target = target || \"_blank\";\n        this.features = features || getPopupFeatures();\n        this.window = undefined;\n        this.windowTimer = undefined;\n        this.iClosedWindow = false;\n        this.timeout = timeout;\n        this._setupTimer();\n    }\n    _setupTimer() {\n        this.windowTimer = Number(setInterval(()=>{\n            if (this.window && this.window.closed) {\n                clearInterval(this.windowTimer);\n                setTimeout(()=>{\n                    if (!this.iClosedWindow) {\n                        this.emit(\"close\");\n                    }\n                    this.iClosedWindow = false;\n                    this.window = undefined;\n                }, this.timeout);\n            }\n            if (this.window === undefined) clearInterval(this.windowTimer);\n        }, 500));\n    }\n    open() {\n        var _this$window;\n        this.window = window.open(this.url, this.target, this.features);\n        if (!this.window) throw LoginError.popupBlocked();\n        if ((_this$window = this.window) !== null && _this$window !== void 0 && _this$window.focus) this.window.focus();\n    }\n    close() {\n        this.iClosedWindow = true;\n        if (this.window) this.window.close();\n    }\n    redirect(locationReplaceOnRedirect) {\n        if (locationReplaceOnRedirect) {\n            window.location.replace(this.url);\n        } else {\n            window.location.href = this.url;\n        }\n    }\n    async listenOnChannel(loginId) {\n        const securePubSub = new _toruslabs_secure_pub_sub__WEBPACK_IMPORTED_MODULE_6__.SecurePubSub();\n        const data = await securePubSub.subscribe(loginId);\n        this.close();\n        securePubSub.cleanup();\n        const parsedData = JSON.parse(data);\n        if (parsedData.error) {\n            return {\n                error: parsedData.error,\n                state: parsedData.state\n            };\n        }\n        return parsedData.data;\n    }\n}\nclass OpenLogin {\n    constructor(options){\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"state\", {});\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"options\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionManager\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"currentStorage\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_storageBaseKey\", \"openlogin_store\");\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"dappState\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"addVersionInUrls\", true);\n        if (!options.clientId) throw InitializationError.invalidParams(\"clientId is required\");\n        if (!options.network) options.network = _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.OPENLOGIN_NETWORK.SAPPHIRE_MAINNET;\n        if (!options.buildEnv) options.buildEnv = _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BUILD_ENV.PRODUCTION;\n        if (options.buildEnv === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BUILD_ENV.DEVELOPMENT || options.buildEnv === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BUILD_ENV.TESTING || options.sdkUrl) this.addVersionInUrls = false;\n        if (!options.sdkUrl && !options.useMpc) {\n            if (options.buildEnv === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BUILD_ENV.DEVELOPMENT) {\n                options.sdkUrl = \"http://localhost:3000\";\n            } else if (options.buildEnv === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BUILD_ENV.STAGING) {\n                options.sdkUrl = \"https://staging-auth.web3auth.io\";\n            } else if (options.buildEnv === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BUILD_ENV.TESTING) {\n                options.sdkUrl = \"https://develop-auth.web3auth.io\";\n            } else {\n                options.sdkUrl = \"https://auth.web3auth.io\";\n            }\n        }\n        if (options.useMpc && !options.sdkUrl) {\n            if (Object.values(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.TORUS_LEGACY_NETWORK).includes(options.network)) throw new Error(\"MPC is not supported on legacy networks\");\n            if (options.buildEnv === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BUILD_ENV.DEVELOPMENT) {\n                options.sdkUrl = \"http://localhost:3000\";\n            } else if (options.buildEnv === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BUILD_ENV.STAGING) {\n                options.sdkUrl = \"https://staging-mpc-auth.web3auth.io\";\n            } else if (options.buildEnv === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BUILD_ENV.TESTING) {\n                options.sdkUrl = \"https://develop-mpc-auth.web3auth.io\";\n            } else {\n                options.sdkUrl = \"https://mpc-auth.web3auth.io\";\n            }\n        }\n        if (!options.redirectUrl && \"undefined\" !== \"undefined\") {}\n        if (!options.uxMode) options.uxMode = _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.UX_MODE.REDIRECT;\n        if (typeof options.replaceUrlOnRedirect !== \"boolean\") options.replaceUrlOnRedirect = true;\n        if (!options.originData) options.originData = {};\n        if (!options.whiteLabel) options.whiteLabel = {};\n        if (!options.loginConfig) options.loginConfig = {};\n        if (!options.mfaSettings) options.mfaSettings = {};\n        if (!options.storageServerUrl) options.storageServerUrl = \"https://broadcast-server.tor.us\";\n        if (!options.storageKey) options.storageKey = \"local\";\n        if (!options.webauthnTransports) options.webauthnTransports = [\n            \"internal\"\n        ];\n        if (!options.sessionTime) options.sessionTime = 86400;\n        this.options = options;\n    }\n    get privKey() {\n        if (this.options.useMpc) return this.state.factorKey || \"\";\n        return this.state.privKey ? this.state.privKey.padStart(64, \"0\") : \"\";\n    }\n    get coreKitKey() {\n        return this.state.coreKitKey ? this.state.coreKitKey.padStart(64, \"0\") : \"\";\n    }\n    get ed25519PrivKey() {\n        return this.state.ed25519PrivKey ? this.state.ed25519PrivKey.padStart(128, \"0\") : \"\";\n    }\n    get coreKitEd25519Key() {\n        return this.state.coreKitEd25519PrivKey ? this.state.coreKitEd25519PrivKey.padStart(128, \"0\") : \"\";\n    }\n    get sessionId() {\n        return this.state.sessionId || \"\";\n    }\n    get sessionNamespace() {\n        return this.options.sessionNamespace || \"\";\n    }\n    get appState() {\n        return this.state.userInfo.appState || this.dappState || \"\";\n    }\n    get baseUrl() {\n        // testing and develop don't have versioning\n        if (!this.addVersionInUrls) return `${this.options.sdkUrl}`;\n        return `${this.options.sdkUrl}/v${version.split(\".\")[0]}`;\n    }\n    async init() {\n        // get sessionNamespace from the redirect result.\n        const params = getHashQueryParams(this.options.replaceUrlOnRedirect);\n        if (params.sessionNamespace) this.options.sessionNamespace = params.sessionNamespace;\n        const storageKey = this.options.sessionNamespace ? `${this._storageBaseKey}_${this.options.sessionNamespace}` : this._storageBaseKey;\n        this.currentStorage = _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BrowserStorage.getInstance(storageKey, this.options.storageKey);\n        const sessionId = this.currentStorage.get(\"sessionId\");\n        this.sessionManager = new _toruslabs_openlogin_session_manager__WEBPACK_IMPORTED_MODULE_4__.OpenloginSessionManager({\n            sessionServerBaseUrl: this.options.storageServerUrl,\n            sessionNamespace: this.options.sessionNamespace,\n            sessionTime: this.options.sessionTime,\n            sessionId\n        });\n        if (this.options.network === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.OPENLOGIN_NETWORK.TESTNET || this.options.network === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.OPENLOGIN_NETWORK.SAPPHIRE_DEVNET) {\n            // using console log because it shouldn't be affected by loglevel config\n            // eslint-disable-next-line no-console\n            console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`, \"color: #FF0000\");\n        }\n        if (this.options.buildEnv !== _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.BUILD_ENV.PRODUCTION) {\n            // using console log because it shouldn't be affected by loglevel config\n            // eslint-disable-next-line no-console\n            console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`, \"color: #FF0000\");\n        }\n        if (params.error) {\n            this.dappState = params.state;\n            throw LoginError.loginFailed(params.error);\n        }\n        if (params.sessionId) {\n            this.currentStorage.set(\"sessionId\", params.sessionId);\n            this.sessionManager.sessionId = params.sessionId;\n        }\n        if (this.sessionManager.sessionId) {\n            const data = await this._authorizeSession();\n            // Fill state with correct info from session\n            // If session is invalid all the data is unset here.\n            this.updateState(data);\n            if (Object.keys(data).length === 0) {\n                // If session is invalid, unset the sessionId from localStorage.\n                this.currentStorage.set(\"sessionId\", \"\");\n            }\n        }\n    }\n    async login(params) {\n        if (!params.loginProvider) throw LoginError.invalidLoginParams(`loginProvider is required`);\n        // in case of redirect mode, redirect url will be dapp specified\n        // in case of popup mode, redirect url will be sdk specified\n        const defaultParams = {\n            redirectUrl: this.options.redirectUrl\n        };\n        const loginParams = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()({\n            loginProvider: params.loginProvider\n        }, defaultParams), params);\n        const dataObject = {\n            actionType: _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.OPENLOGIN_ACTIONS.LOGIN,\n            options: this.options,\n            params: loginParams\n        };\n        const result = await this.openloginHandler(`${this.baseUrl}/start`, dataObject, getTimeout(params.loginProvider));\n        if (this.options.uxMode === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.UX_MODE.REDIRECT) return null;\n        if (result.error) {\n            this.dappState = result.state;\n            throw LoginError.loginFailed(result.error);\n        }\n        this.sessionManager.sessionId = result.sessionId;\n        this.options.sessionNamespace = result.sessionNamespace;\n        this.currentStorage.set(\"sessionId\", result.sessionId);\n        await this.rehydrateSession();\n        return {\n            privKey: this.privKey\n        };\n    }\n    async logout() {\n        if (!this.sessionManager.sessionId) throw LoginError.userNotLoggedIn();\n        await this.sessionManager.invalidateSession();\n        this.updateState({\n            privKey: \"\",\n            coreKitKey: \"\",\n            coreKitEd25519PrivKey: \"\",\n            ed25519PrivKey: \"\",\n            walletKey: \"\",\n            oAuthPrivateKey: \"\",\n            tKey: \"\",\n            metadataNonce: \"\",\n            keyMode: undefined,\n            userInfo: {\n                name: \"\",\n                profileImage: \"\",\n                dappShare: \"\",\n                idToken: \"\",\n                oAuthIdToken: \"\",\n                oAuthAccessToken: \"\",\n                appState: \"\",\n                email: \"\",\n                verifier: \"\",\n                verifierId: \"\",\n                aggregateVerifier: \"\",\n                typeOfLogin: \"\",\n                isMfaEnabled: false\n            },\n            authToken: \"\",\n            sessionId: \"\",\n            factorKey: \"\",\n            signatures: [],\n            tssShareIndex: -1,\n            tssPubKey: \"\",\n            tssShare: \"\",\n            tssNonce: -1\n        });\n        this.currentStorage.set(\"sessionId\", \"\");\n    }\n    async setupMFA(params) {\n        if (!this.sessionId) throw LoginError.userNotLoggedIn();\n        // in case of redirect mode, redirect url will be dapp specified\n        // in case of popup mode, redirect url will be sdk specified\n        const defaultParams = {\n            redirectUrl: this.options.redirectUrl\n        };\n        const dataObject = {\n            actionType: _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.OPENLOGIN_ACTIONS.ENABLE_MFA,\n            options: this.options,\n            params: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()({}, defaultParams), params),\n            sessionId: this.sessionId\n        };\n        const result = await this.openloginHandler(`${this.baseUrl}/start`, dataObject);\n        if (this.options.uxMode === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.UX_MODE.REDIRECT) return undefined;\n        this.sessionManager.sessionId = result.sessionId;\n        this.options.sessionNamespace = result.sessionNamespace;\n        this.currentStorage.set(\"sessionId\", result.sessionId);\n        await this.rehydrateSession();\n        return true;\n    }\n    async changeSocialFactor(params) {\n        if (!this.sessionId) throw LoginError.userNotLoggedIn();\n        // in case of redirect mode, redirect url will be dapp specified\n        // in case of popup mode, redirect url will be sdk specified\n        const defaultParams = {\n            redirectUrl: this.options.redirectUrl\n        };\n        const dataObject = {\n            actionType: _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.OPENLOGIN_ACTIONS.MODIFY_MFA,\n            options: this.options,\n            params: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()({}, defaultParams), params),\n            sessionId: this.sessionId\n        };\n        const result = await this.openloginHandler(`${this.baseUrl}/start`, dataObject);\n        if (this.options.uxMode === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.UX_MODE.REDIRECT) return undefined;\n        this.sessionManager.sessionId = result.sessionId;\n        this.options.sessionNamespace = result.sessionNamespace;\n        this.currentStorage.set(\"sessionId\", result.sessionId);\n        await this.rehydrateSession();\n        return true;\n    }\n    getUserInfo() {\n        if (!this.sessionManager.sessionId) {\n            throw LoginError.userNotLoggedIn();\n        }\n        return this.state.userInfo;\n    }\n    async getLoginId(data) {\n        if (!this.sessionManager) throw InitializationError.notInitialized();\n        const loginId = _toruslabs_openlogin_session_manager__WEBPACK_IMPORTED_MODULE_4__.OpenloginSessionManager.generateRandomSessionKey();\n        const loginSessionMgr = new _toruslabs_openlogin_session_manager__WEBPACK_IMPORTED_MODULE_4__.OpenloginSessionManager({\n            sessionServerBaseUrl: this.options.storageServerUrl,\n            sessionNamespace: this.options.sessionNamespace,\n            sessionTime: 600,\n            // each login key must be used with 10 mins (might be used at the end of popup redirect)\n            sessionId: loginId\n        });\n        await loginSessionMgr.createSession(JSON.parse(JSON.stringify(data)));\n        return loginId;\n    }\n    async _authorizeSession() {\n        try {\n            if (!this.sessionManager.sessionId) return {};\n            const result = await this.sessionManager.authorizeSession();\n            return result;\n        } catch (err) {\n            loglevel.error(\"authorization failed\", err);\n            return {};\n        }\n    }\n    updateState(data) {\n        this.state = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_3___default()({}, this.state), data);\n    }\n    async rehydrateSession() {\n        const result = await this._authorizeSession();\n        this.updateState(result);\n    }\n    async openloginHandler(url, dataObject) {\n        let popupTimeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000 * 10;\n        const loginId = await this.getLoginId(dataObject);\n        const configParams = {\n            loginId,\n            sessionNamespace: this.options.sessionNamespace\n        };\n        if (this.options.uxMode === _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.UX_MODE.REDIRECT) {\n            const loginUrl = constructURL({\n                baseURL: url,\n                hash: {\n                    b64Params: (0,_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.jsonToBase64)(configParams)\n                }\n            });\n            window.location.href = loginUrl;\n            return undefined;\n        }\n        return new Promise((resolve, reject)=>{\n            const loginUrl = constructURL({\n                baseURL: url,\n                hash: {\n                    b64Params: (0,_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_5__.jsonToBase64)(configParams)\n                }\n            });\n            const currentWindow = new PopupHandler({\n                url: loginUrl,\n                timeout: popupTimeout\n            });\n            currentWindow.on(\"close\", ()=>{\n                reject(LoginError.popupClosed());\n            });\n            currentWindow.listenOnChannel(loginId).then(resolve).catch(reject);\n            try {\n                currentWindow.open();\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n}\n //# sourceMappingURL=openlogin.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9vcGVubG9naW4vZGlzdC9vcGVubG9naW4uZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRTtBQUN0QjtBQUNUO0FBQzRCO0FBQ2M7QUFDMEg7QUFDaEo7QUFDbkI7QUFDZ0I7QUFDRTtBQUM1QjtBQUU1QixNQUFNc0IsdUJBQXVCckIsd0RBQVdBO0lBQ3RDc0IsWUFBWUMsSUFBSSxFQUFFQyxPQUFPLENBQUU7UUFDekIsZ0NBQWdDO1FBQ2hDLEtBQUssQ0FBQ0E7UUFDTnpCLDRFQUFlQSxDQUFDLElBQUksRUFBRSxRQUFRLEtBQUs7UUFDbkNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxXQUFXLEtBQUs7UUFDdEMsSUFBSSxDQUFDd0IsSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ0MsT0FBTyxHQUFHQSxXQUFXO1FBQzFCLDZEQUE2RDtRQUM3REMsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxRQUFRO1lBQ2xDQyxPQUFPO1FBQ1Q7SUFDRjtJQUNBQyxTQUFTO1FBQ1AsT0FBTztZQUNMQyxNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNmTixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNmQyxTQUFTLElBQUksQ0FBQ0EsT0FBTztRQUN2QjtJQUNGO0lBQ0FNLFdBQVc7UUFDVCxPQUFPQyxLQUFLQyxTQUFTLENBQUMsSUFBSSxDQUFDSixNQUFNO0lBQ25DO0FBQ0Y7QUFDQSxNQUFNSyw0QkFBNEJaO0lBQ2hDQyxZQUFZQyxJQUFJLEVBQUVDLE9BQU8sQ0FBRTtRQUN6QixnQ0FBZ0M7UUFDaEMsS0FBSyxDQUFDRCxNQUFNQztRQUVaLDZEQUE2RDtRQUM3REMsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxRQUFRO1lBQ2xDQyxPQUFPO1FBQ1Q7SUFDRjtJQUNBLE9BQU9PLFNBQVNYLElBQUksRUFBRTtRQUNwQixJQUFJWSxlQUFlQyxVQUFVQyxNQUFNLEdBQUcsS0FB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ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL29wZW5sb2dpbi9kaXN0L29wZW5sb2dpbi5lc20uanM/MmNlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IHsgQ3VzdG9tRXJyb3IgfSBmcm9tICd0cy1jdXN0b20tZXJyb3InO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnbG9nbGV2ZWwnO1xuaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyJztcbmltcG9ydCB7IE9wZW5sb2dpblNlc3Npb25NYW5hZ2VyIH0gZnJvbSAnQHRvcnVzbGFicy9vcGVubG9naW4tc2Vzc2lvbi1tYW5hZ2VyJztcbmltcG9ydCB7IGJhc2U2NHVybCwgc2FmZWF0b2IsIHNhZmVidG9hLCBMT0dJTl9QUk9WSURFUiwgT1BFTkxPR0lOX05FVFdPUkssIEJVSUxEX0VOViwgVE9SVVNfTEVHQUNZX05FVFdPUkssIFVYX01PREUsIEJyb3dzZXJTdG9yYWdlLCBPUEVOTE9HSU5fQUNUSU9OUywganNvblRvQmFzZTY0IH0gZnJvbSAnQHRvcnVzbGFicy9vcGVubG9naW4tdXRpbHMnO1xuaW1wb3J0IHsgU2VjdXJlUHViU3ViIH0gZnJvbSAnQHRvcnVzbGFicy9zZWN1cmUtcHViLXN1Yic7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IHsgZ2V0UHVibGljLCBzaWduIH0gZnJvbSAnQHRvcnVzbGFicy9lY2NyeXB0byc7XG5pbXBvcnQgeyBrZWNjYWsyNTYgfSBmcm9tICdAdG9ydXNsYWJzL21ldGFkYXRhLWhlbHBlcnMnO1xuaW1wb3J0IGJvd3NlciBmcm9tICdib3dzZXInO1xuXG5jbGFzcyBPcGVubG9naW5FcnJvciBleHRlbmRzIEN1c3RvbUVycm9yIHtcbiAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSkge1xuICAgIC8vIHRha2VzIGNhcmUgb2Ygc3RhY2sgYW5kIHByb3RvXG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29kZVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1lc3NhZ2VcIiwgdm9pZCAwKTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgXCJcIjtcbiAgICAvLyBTZXQgbmFtZSBleHBsaWNpdGx5IGFzIG1pbmlmaWNhdGlvbiBjYW4gbWFuZ2xlIGNsYXNzIG5hbWVzXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICB2YWx1ZTogXCJPcGVubG9naW5FcnJvclwiXG4gICAgfSk7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2VcbiAgICB9O1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTigpKTtcbiAgfVxufVxuY2xhc3MgSW5pdGlhbGl6YXRpb25FcnJvciBleHRlbmRzIE9wZW5sb2dpbkVycm9yIHtcbiAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSkge1xuICAgIC8vIHRha2VzIGNhcmUgb2Ygc3RhY2sgYW5kIHByb3RvXG4gICAgc3VwZXIoY29kZSwgbWVzc2FnZSk7XG5cbiAgICAvLyBTZXQgbmFtZSBleHBsaWNpdGx5IGFzIG1pbmlmaWNhdGlvbiBjYW4gbWFuZ2xlIGNsYXNzIG5hbWVzXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICB2YWx1ZTogXCJJbml0aWFsaXphdGlvbkVycm9yXCJcbiAgICB9KTtcbiAgfVxuICBzdGF0aWMgZnJvbUNvZGUoY29kZSkge1xuICAgIGxldCBleHRyYU1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFwiXCI7XG4gICAgcmV0dXJuIG5ldyBJbml0aWFsaXphdGlvbkVycm9yKGNvZGUsIGAke0luaXRpYWxpemF0aW9uRXJyb3IubWVzc2FnZXNbY29kZV19LCAke2V4dHJhTWVzc2FnZX1gKTtcbiAgfVxuICBzdGF0aWMgaW52YWxpZFBhcmFtcygpIHtcbiAgICBsZXQgZXh0cmFNZXNzYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBcIlwiO1xuICAgIHJldHVybiBJbml0aWFsaXphdGlvbkVycm9yLmZyb21Db2RlKDUwMDEsIGV4dHJhTWVzc2FnZSk7XG4gIH1cbiAgc3RhdGljIG5vdEluaXRpYWxpemVkKCkge1xuICAgIGxldCBleHRyYU1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFwiXCI7XG4gICAgcmV0dXJuIEluaXRpYWxpemF0aW9uRXJyb3IuZnJvbUNvZGUoNTAwMiwgZXh0cmFNZXNzYWdlKTtcbiAgfVxufVxuXG4vKipcbiAqIGxvZ2luIGVycm9yc1xuICovXG5fZGVmaW5lUHJvcGVydHkoSW5pdGlhbGl6YXRpb25FcnJvciwgXCJtZXNzYWdlc1wiLCB7XG4gIDUwMDA6IFwiQ3VzdG9tXCIsXG4gIDUwMDE6IFwiSW52YWxpZCBjb25zdHJ1Y3RvciBwYXJhbXNcIixcbiAgNTAwMjogXCJTREsgbm90IGluaXRpYWxpemVkLiBwbGVhc2UgY2FsbCBpbml0IGZpcnN0XCJcbn0pO1xuY2xhc3MgTG9naW5FcnJvciBleHRlbmRzIE9wZW5sb2dpbkVycm9yIHtcbiAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSkge1xuICAgIC8vIHRha2VzIGNhcmUgb2Ygc3RhY2sgYW5kIHByb3RvXG4gICAgc3VwZXIoY29kZSwgbWVzc2FnZSk7XG5cbiAgICAvLyBTZXQgbmFtZSBleHBsaWNpdGx5IGFzIG1pbmlmaWNhdGlvbiBjYW4gbWFuZ2xlIGNsYXNzIG5hbWVzXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICB2YWx1ZTogXCJMb2dpbkVycm9yXCJcbiAgICB9KTtcbiAgfVxuICBzdGF0aWMgZnJvbUNvZGUoY29kZSkge1xuICAgIGxldCBleHRyYU1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFwiXCI7XG4gICAgcmV0dXJuIG5ldyBMb2dpbkVycm9yKGNvZGUsIGAke0xvZ2luRXJyb3IubWVzc2FnZXNbY29kZV19LCAke2V4dHJhTWVzc2FnZX1gKTtcbiAgfVxuICBzdGF0aWMgaW52YWxpZExvZ2luUGFyYW1zKCkge1xuICAgIGxldCBleHRyYU1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFwiXCI7XG4gICAgcmV0dXJuIExvZ2luRXJyb3IuZnJvbUNvZGUoNTExMSwgZXh0cmFNZXNzYWdlKTtcbiAgfVxuICBzdGF0aWMgdXNlck5vdExvZ2dlZEluKCkge1xuICAgIGxldCBleHRyYU1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFwiXCI7XG4gICAgcmV0dXJuIExvZ2luRXJyb3IuZnJvbUNvZGUoNTExMiwgZXh0cmFNZXNzYWdlKTtcbiAgfVxuICBzdGF0aWMgcG9wdXBDbG9zZWQoKSB7XG4gICAgbGV0IGV4dHJhTWVzc2FnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogXCJcIjtcbiAgICByZXR1cm4gTG9naW5FcnJvci5mcm9tQ29kZSg1MTEzLCBleHRyYU1lc3NhZ2UpO1xuICB9XG4gIHN0YXRpYyBsb2dpbkZhaWxlZCgpIHtcbiAgICBsZXQgZXh0cmFNZXNzYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBcIlwiO1xuICAgIHJldHVybiBMb2dpbkVycm9yLmZyb21Db2RlKDUxMTQsIGV4dHJhTWVzc2FnZSk7XG4gIH1cbiAgc3RhdGljIHBvcHVwQmxvY2tlZCgpIHtcbiAgICBsZXQgZXh0cmFNZXNzYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBcIlwiO1xuICAgIHJldHVybiBMb2dpbkVycm9yLmZyb21Db2RlKDUxMTUsIGV4dHJhTWVzc2FnZSk7XG4gIH1cbn1cbl9kZWZpbmVQcm9wZXJ0eShMb2dpbkVycm9yLCBcIm1lc3NhZ2VzXCIsIHtcbiAgNTAwMDogXCJDdXN0b21cIixcbiAgNTExMTogXCJJbnZhbGlkIGxvZ2luIHBhcmFtc1wiLFxuICA1MTEyOiBcIlVzZXIgbm90IGxvZ2dlZCBpbi5cIixcbiAgNTExMzogXCJsb2dpbiBwb3B1cCBoYXMgYmVlbiBjbG9zZWQgYnkgdGhlIHVzZXJcIixcbiAgNTExNDogXCJMb2dpbiBmYWlsZWRcIixcbiAgNTExNTogXCJQb3B1cCB3YXMgYmxvY2tlZC4gUGxlYXNlIGNhbGwgdGhpcyBmdW5jdGlvbiBhcyBzb29uIGFzIHVzZXIgY2xpY2tzIGJ1dHRvbiBvciB1c2UgcmVkaXJlY3QgbW9kZVwiXG59KTtcblxuY29uc3QgbG9nbGV2ZWwgPSBnZXRMb2dnZXIoXCJvcGVubG9naW5cIik7XG5sb2dsZXZlbC5zZXRMZXZlbChcImVycm9yXCIpO1xuXG4vLyBkb24ndCB1c2UgZGVzdHJ1Y3R1cmluZyBmb3IgcHJvY2Vzcy5lbnYgY2F1c2UgaXQgbWVzc2VzIHVwIHdlYnBhY2sgZW52IHBsdWdpblxuY29uc3QgdmVyc2lvbiA9IFwiNi4xLjBcIjtcbmFzeW5jIGZ1bmN0aW9uIHdoaXRlbGlzdFVybChjbGllbnRJZCwgYXBwS2V5LCBvcmlnaW4pIHtcbiAgY29uc3QgYXBwS2V5QnVmID0gQnVmZmVyLmZyb20oYXBwS2V5LnBhZFN0YXJ0KDY0LCBcIjBcIiksIFwiaGV4XCIpO1xuICBpZiAoYmFzZTY0dXJsLmVuY29kZShnZXRQdWJsaWMoYXBwS2V5QnVmKSkgIT09IGNsaWVudElkKSB0aHJvdyBuZXcgRXJyb3IoXCJhcHBLZXkgbWlzbWF0Y2hcIik7XG4gIGNvbnN0IHNpZyA9IGF3YWl0IHNpZ24oYXBwS2V5QnVmLCBrZWNjYWsyNTYoQnVmZmVyLmZyb20ob3JpZ2luLCBcInV0ZjhcIikpKTtcbiAgcmV0dXJuIGJhc2U2NHVybC5lbmNvZGUoc2lnKTtcbn1cbmZ1bmN0aW9uIGdldEhhc2hRdWVyeVBhcmFtcygpIHtcbiAgbGV0IHJlcGxhY2VVcmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gIHVybC5zZWFyY2hQYXJhbXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgIGlmIChrZXkgIT09IFwicmVzdWx0XCIpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgcXVlcnlSZXN1bHQgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcInJlc3VsdFwiKTtcbiAgaWYgKHF1ZXJ5UmVzdWx0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gSlNPTi5wYXJzZShzYWZlYXRvYihxdWVyeVJlc3VsdCkpO1xuICAgICAgT2JqZWN0LmtleXMocXVlcnlQYXJhbXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBxdWVyeVBhcmFtc1trZXldO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2xldmVsLmVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgaGFzaCA9IHVybC5oYXNoLnN1YnN0cmluZygxKTtcbiAgY29uc3QgaGFzaFVybCA9IG5ldyBVUkwoYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vPyR7aGFzaH1gKTtcbiAgaGFzaFVybC5zZWFyY2hQYXJhbXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgIGlmIChrZXkgIT09IFwicmVzdWx0XCIpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgaGFzaFJlc3VsdCA9IGhhc2hVcmwuc2VhcmNoUGFyYW1zLmdldChcInJlc3VsdFwiKTtcbiAgaWYgKGhhc2hSZXN1bHQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaGFzaFBhcmFtcyA9IEpTT04ucGFyc2Uoc2FmZWF0b2IoaGFzaFJlc3VsdCkpO1xuICAgICAgT2JqZWN0LmtleXMoaGFzaFBhcmFtcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICByZXN1bHRba2V5XSA9IGhhc2hQYXJhbXNba2V5XTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dsZXZlbC5lcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG4gIGlmIChyZXBsYWNlVXJsKSB7XG4gICAgY29uc3QgY2xlYW5VcmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIGNsZWFuVXJsLnNlYXJjaCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgaWYgKGhhc2hSZXN1bHQpIHtcbiAgICAgIGNvbnN0IGhhc2hQYXJhbXMgPSBKU09OLnBhcnNlKHNhZmVhdG9iKGhhc2hSZXN1bHQpKTtcbiAgICAgIGRlbGV0ZSBoYXNoUGFyYW1zLnNlc3Npb25JZDtcbiAgICAgIGRlbGV0ZSBoYXNoUGFyYW1zLnNlc3Npb25OYW1lc3BhY2U7XG4gICAgICBkZWxldGUgaGFzaFBhcmFtcy5lcnJvcjtcbiAgICAgIGNsZWFuVXJsLmhhc2ggPSBzYWZlYnRvYShKU09OLnN0cmluZ2lmeShoYXNoUGFyYW1zKSk7XG4gICAgfVxuICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHdpbmRvdy5oaXN0b3J5LnN0YXRlKSwge30sIHtcbiAgICAgIGFzOiBjbGVhblVybC5ocmVmLFxuICAgICAgdXJsOiBjbGVhblVybC5ocmVmXG4gICAgfSksIFwiXCIsIGNsZWFuVXJsLmhyZWYpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3RVUkwocGFyYW1zKSB7XG4gIGNvbnN0IHtcbiAgICBiYXNlVVJMLFxuICAgIHF1ZXJ5LFxuICAgIGhhc2hcbiAgfSA9IHBhcmFtcztcbiAgY29uc3QgdXJsID0gbmV3IFVSTChiYXNlVVJMKTtcbiAgaWYgKHF1ZXJ5KSB7XG4gICAgT2JqZWN0LmtleXMocXVlcnkpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgcXVlcnlba2V5XSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGhhc2gpIHtcbiAgICBjb25zdCBoID0gbmV3IFVSTChjb25zdHJ1Y3RVUkwoe1xuICAgICAgYmFzZVVSTCxcbiAgICAgIHF1ZXJ5OiBoYXNoXG4gICAgfSkpLnNlYXJjaFBhcmFtcy50b1N0cmluZygpO1xuICAgIHVybC5oYXNoID0gaDtcbiAgfVxuICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG59XG5mdW5jdGlvbiBnZXRQb3B1cEZlYXR1cmVzKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIFwiXCI7XG4gIC8vIEZpeGVzIGR1YWwtc2NyZWVuIHBvc2l0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb3N0IGJyb3dzZXJzICAgICAgRmlyZWZveFxuICBjb25zdCBkdWFsU2NyZWVuTGVmdCA9IHdpbmRvdy5zY3JlZW5MZWZ0ICE9PSB1bmRlZmluZWQgPyB3aW5kb3cuc2NyZWVuTGVmdCA6IHdpbmRvdy5zY3JlZW5YO1xuICBjb25zdCBkdWFsU2NyZWVuVG9wID0gd2luZG93LnNjcmVlblRvcCAhPT0gdW5kZWZpbmVkID8gd2luZG93LnNjcmVlblRvcCA6IHdpbmRvdy5zY3JlZW5ZO1xuICBjb25zdCB3ID0gMTIwMDtcbiAgY29uc3QgaCA9IDcwMDtcbiAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCA/IHdpbmRvdy5pbm5lcldpZHRoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogd2luZG93LnNjcmVlbi53aWR0aDtcbiAgY29uc3QgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ID8gd2luZG93LmlubmVySGVpZ2h0IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgY29uc3Qgc3lzdGVtWm9vbSA9IDE7IC8vIE5vIHJlbGlhYmxlIGVzdGltYXRlXG5cbiAgY29uc3QgbGVmdCA9IE1hdGguYWJzKCh3aWR0aCAtIHcpIC8gMiAvIHN5c3RlbVpvb20gKyBkdWFsU2NyZWVuTGVmdCk7XG4gIGNvbnN0IHRvcCA9IE1hdGguYWJzKChoZWlnaHQgLSBoKSAvIDIgLyBzeXN0ZW1ab29tICsgZHVhbFNjcmVlblRvcCk7XG4gIGNvbnN0IGZlYXR1cmVzID0gYHRpdGxlYmFyPTAsdG9vbGJhcj0wLHN0YXR1cz0wLGxvY2F0aW9uPTAsbWVudWJhcj0wLGhlaWdodD0ke2ggLyBzeXN0ZW1ab29tfSx3aWR0aD0ke3cgLyBzeXN0ZW1ab29tfSx0b3A9JHt0b3B9LGxlZnQ9JHtsZWZ0fWA7XG4gIHJldHVybiBmZWF0dXJlcztcbn1cbmZ1bmN0aW9uIGlzTW9iaWxlT3JUYWJsZXQoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGJyb3dzZXIgPSBib3dzZXIuZ2V0UGFyc2VyKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgY29uc3QgcGxhdGZvcm0gPSBicm93c2VyLmdldFBsYXRmb3JtKCk7XG4gIHJldHVybiBwbGF0Zm9ybS50eXBlID09PSBib3dzZXIuUExBVEZPUk1TX01BUC50YWJsZXQgfHwgcGxhdGZvcm0udHlwZSA9PT0gYm93c2VyLlBMQVRGT1JNU19NQVAubW9iaWxlO1xufVxuZnVuY3Rpb24gZ2V0VGltZW91dChsb2dpblByb3ZpZGVyKSB7XG4gIGlmICgobG9naW5Qcm92aWRlciA9PT0gTE9HSU5fUFJPVklERVIuRkFDRUJPT0sgfHwgbG9naW5Qcm92aWRlciA9PT0gTE9HSU5fUFJPVklERVIuTElORSkgJiYgaXNNb2JpbGVPclRhYmxldCgpKSB7XG4gICAgcmV0dXJuIDEwMDAgKiA2MCAqIDU7IC8vIDUgbWludXRlcyB0byBmaW5pc2ggdGhlIGxvZ2luXG4gIH1cblxuICByZXR1cm4gMTAwMCAqIDEwOyAvLyAxMCBzZWNvbmRzXG59XG5cbmNsYXNzIFBvcHVwSGFuZGxlciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgdXJsLFxuICAgICAgdGFyZ2V0LFxuICAgICAgZmVhdHVyZXMsXG4gICAgICB0aW1lb3V0ID0gMzAwMDBcbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcigpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVybFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhcmdldFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZlYXR1cmVzXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid2luZG93XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid2luZG93VGltZXJcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpQ2xvc2VkV2luZG93XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidGltZW91dFwiLCB2b2lkIDApO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0IHx8IFwiX2JsYW5rXCI7XG4gICAgdGhpcy5mZWF0dXJlcyA9IGZlYXR1cmVzIHx8IGdldFBvcHVwRmVhdHVyZXMoKTtcbiAgICB0aGlzLndpbmRvdyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLndpbmRvd1RpbWVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaUNsb3NlZFdpbmRvdyA9IGZhbHNlO1xuICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XG4gICAgdGhpcy5fc2V0dXBUaW1lcigpO1xuICB9XG4gIF9zZXR1cFRpbWVyKCkge1xuICAgIHRoaXMud2luZG93VGltZXIgPSBOdW1iZXIoc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMud2luZG93ICYmIHRoaXMud2luZG93LmNsb3NlZCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMud2luZG93VGltZXIpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuaUNsb3NlZFdpbmRvdykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwiY2xvc2VcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaUNsb3NlZFdpbmRvdyA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMud2luZG93ID0gdW5kZWZpbmVkO1xuICAgICAgICB9LCB0aGlzLnRpbWVvdXQpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMud2luZG93ID09PSB1bmRlZmluZWQpIGNsZWFySW50ZXJ2YWwodGhpcy53aW5kb3dUaW1lcik7XG4gICAgfSwgNTAwKSk7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB2YXIgX3RoaXMkd2luZG93O1xuICAgIHRoaXMud2luZG93ID0gd2luZG93Lm9wZW4odGhpcy51cmwsIHRoaXMudGFyZ2V0LCB0aGlzLmZlYXR1cmVzKTtcbiAgICBpZiAoIXRoaXMud2luZG93KSB0aHJvdyBMb2dpbkVycm9yLnBvcHVwQmxvY2tlZCgpO1xuICAgIGlmICgoX3RoaXMkd2luZG93ID0gdGhpcy53aW5kb3cpICE9PSBudWxsICYmIF90aGlzJHdpbmRvdyAhPT0gdm9pZCAwICYmIF90aGlzJHdpbmRvdy5mb2N1cykgdGhpcy53aW5kb3cuZm9jdXMoKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLmlDbG9zZWRXaW5kb3cgPSB0cnVlO1xuICAgIGlmICh0aGlzLndpbmRvdykgdGhpcy53aW5kb3cuY2xvc2UoKTtcbiAgfVxuICByZWRpcmVjdChsb2NhdGlvblJlcGxhY2VPblJlZGlyZWN0KSB7XG4gICAgaWYgKGxvY2F0aW9uUmVwbGFjZU9uUmVkaXJlY3QpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHRoaXMudXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLnVybDtcbiAgICB9XG4gIH1cbiAgYXN5bmMgbGlzdGVuT25DaGFubmVsKGxvZ2luSWQpIHtcbiAgICBjb25zdCBzZWN1cmVQdWJTdWIgPSBuZXcgU2VjdXJlUHViU3ViKCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHNlY3VyZVB1YlN1Yi5zdWJzY3JpYmUobG9naW5JZCk7XG4gICAgdGhpcy5jbG9zZSgpO1xuICAgIHNlY3VyZVB1YlN1Yi5jbGVhbnVwKCk7XG4gICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgaWYgKHBhcnNlZERhdGEuZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yOiBwYXJzZWREYXRhLmVycm9yLFxuICAgICAgICBzdGF0ZTogcGFyc2VkRGF0YS5zdGF0ZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZERhdGEuZGF0YTtcbiAgfVxufVxuXG5jbGFzcyBPcGVuTG9naW4ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhdGVcIiwge30pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXNzaW9uTWFuYWdlclwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN1cnJlbnRTdG9yYWdlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N0b3JhZ2VCYXNlS2V5XCIsIFwib3BlbmxvZ2luX3N0b3JlXCIpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhcHBTdGF0ZVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFkZFZlcnNpb25JblVybHNcIiwgdHJ1ZSk7XG4gICAgaWYgKCFvcHRpb25zLmNsaWVudElkKSB0aHJvdyBJbml0aWFsaXphdGlvbkVycm9yLmludmFsaWRQYXJhbXMoXCJjbGllbnRJZCBpcyByZXF1aXJlZFwiKTtcbiAgICBpZiAoIW9wdGlvbnMubmV0d29yaykgb3B0aW9ucy5uZXR3b3JrID0gT1BFTkxPR0lOX05FVFdPUksuU0FQUEhJUkVfTUFJTk5FVDtcbiAgICBpZiAoIW9wdGlvbnMuYnVpbGRFbnYpIG9wdGlvbnMuYnVpbGRFbnYgPSBCVUlMRF9FTlYuUFJPRFVDVElPTjtcbiAgICBpZiAob3B0aW9ucy5idWlsZEVudiA9PT0gQlVJTERfRU5WLkRFVkVMT1BNRU5UIHx8IG9wdGlvbnMuYnVpbGRFbnYgPT09IEJVSUxEX0VOVi5URVNUSU5HIHx8IG9wdGlvbnMuc2RrVXJsKSB0aGlzLmFkZFZlcnNpb25JblVybHMgPSBmYWxzZTtcbiAgICBpZiAoIW9wdGlvbnMuc2RrVXJsICYmICFvcHRpb25zLnVzZU1wYykge1xuICAgICAgaWYgKG9wdGlvbnMuYnVpbGRFbnYgPT09IEJVSUxEX0VOVi5ERVZFTE9QTUVOVCkge1xuICAgICAgICBvcHRpb25zLnNka1VybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCI7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYnVpbGRFbnYgPT09IEJVSUxEX0VOVi5TVEFHSU5HKSB7XG4gICAgICAgIG9wdGlvbnMuc2RrVXJsID0gXCJodHRwczovL3N0YWdpbmctYXV0aC53ZWIzYXV0aC5pb1wiO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmJ1aWxkRW52ID09PSBCVUlMRF9FTlYuVEVTVElORykge1xuICAgICAgICBvcHRpb25zLnNka1VybCA9IFwiaHR0cHM6Ly9kZXZlbG9wLWF1dGgud2ViM2F1dGguaW9cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuc2RrVXJsID0gXCJodHRwczovL2F1dGgud2ViM2F1dGguaW9cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudXNlTXBjICYmICFvcHRpb25zLnNka1VybCkge1xuICAgICAgaWYgKE9iamVjdC52YWx1ZXMoVE9SVVNfTEVHQUNZX05FVFdPUkspLmluY2x1ZGVzKG9wdGlvbnMubmV0d29yaykpIHRocm93IG5ldyBFcnJvcihcIk1QQyBpcyBub3Qgc3VwcG9ydGVkIG9uIGxlZ2FjeSBuZXR3b3Jrc1wiKTtcbiAgICAgIGlmIChvcHRpb25zLmJ1aWxkRW52ID09PSBCVUlMRF9FTlYuREVWRUxPUE1FTlQpIHtcbiAgICAgICAgb3B0aW9ucy5zZGtVcmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmJ1aWxkRW52ID09PSBCVUlMRF9FTlYuU1RBR0lORykge1xuICAgICAgICBvcHRpb25zLnNka1VybCA9IFwiaHR0cHM6Ly9zdGFnaW5nLW1wYy1hdXRoLndlYjNhdXRoLmlvXCI7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYnVpbGRFbnYgPT09IEJVSUxEX0VOVi5URVNUSU5HKSB7XG4gICAgICAgIG9wdGlvbnMuc2RrVXJsID0gXCJodHRwczovL2RldmVsb3AtbXBjLWF1dGgud2ViM2F1dGguaW9cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuc2RrVXJsID0gXCJodHRwczovL21wYy1hdXRoLndlYjNhdXRoLmlvXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5yZWRpcmVjdFVybCAmJiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBvcHRpb25zLnJlZGlyZWN0VXJsID0gYCR7d2luZG93LmxvY2F0aW9uLnByb3RvY29sfS8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH0ke3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZX1gO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMudXhNb2RlKSBvcHRpb25zLnV4TW9kZSA9IFVYX01PREUuUkVESVJFQ1Q7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnJlcGxhY2VVcmxPblJlZGlyZWN0ICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5yZXBsYWNlVXJsT25SZWRpcmVjdCA9IHRydWU7XG4gICAgaWYgKCFvcHRpb25zLm9yaWdpbkRhdGEpIG9wdGlvbnMub3JpZ2luRGF0YSA9IHt9O1xuICAgIGlmICghb3B0aW9ucy53aGl0ZUxhYmVsKSBvcHRpb25zLndoaXRlTGFiZWwgPSB7fTtcbiAgICBpZiAoIW9wdGlvbnMubG9naW5Db25maWcpIG9wdGlvbnMubG9naW5Db25maWcgPSB7fTtcbiAgICBpZiAoIW9wdGlvbnMubWZhU2V0dGluZ3MpIG9wdGlvbnMubWZhU2V0dGluZ3MgPSB7fTtcbiAgICBpZiAoIW9wdGlvbnMuc3RvcmFnZVNlcnZlclVybCkgb3B0aW9ucy5zdG9yYWdlU2VydmVyVXJsID0gXCJodHRwczovL2Jyb2FkY2FzdC1zZXJ2ZXIudG9yLnVzXCI7XG4gICAgaWYgKCFvcHRpb25zLnN0b3JhZ2VLZXkpIG9wdGlvbnMuc3RvcmFnZUtleSA9IFwibG9jYWxcIjtcbiAgICBpZiAoIW9wdGlvbnMud2ViYXV0aG5UcmFuc3BvcnRzKSBvcHRpb25zLndlYmF1dGhuVHJhbnNwb3J0cyA9IFtcImludGVybmFsXCJdO1xuICAgIGlmICghb3B0aW9ucy5zZXNzaW9uVGltZSkgb3B0aW9ucy5zZXNzaW9uVGltZSA9IDg2NDAwO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgZ2V0IHByaXZLZXkoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy51c2VNcGMpIHJldHVybiB0aGlzLnN0YXRlLmZhY3RvcktleSB8fCBcIlwiO1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnByaXZLZXkgPyB0aGlzLnN0YXRlLnByaXZLZXkucGFkU3RhcnQoNjQsIFwiMFwiKSA6IFwiXCI7XG4gIH1cbiAgZ2V0IGNvcmVLaXRLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY29yZUtpdEtleSA/IHRoaXMuc3RhdGUuY29yZUtpdEtleS5wYWRTdGFydCg2NCwgXCIwXCIpIDogXCJcIjtcbiAgfVxuICBnZXQgZWQyNTUxOVByaXZLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZWQyNTUxOVByaXZLZXkgPyB0aGlzLnN0YXRlLmVkMjU1MTlQcml2S2V5LnBhZFN0YXJ0KDEyOCwgXCIwXCIpIDogXCJcIjtcbiAgfVxuICBnZXQgY29yZUtpdEVkMjU1MTlLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY29yZUtpdEVkMjU1MTlQcml2S2V5ID8gdGhpcy5zdGF0ZS5jb3JlS2l0RWQyNTUxOVByaXZLZXkucGFkU3RhcnQoMTI4LCBcIjBcIikgOiBcIlwiO1xuICB9XG4gIGdldCBzZXNzaW9uSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2Vzc2lvbklkIHx8IFwiXCI7XG4gIH1cbiAgZ2V0IHNlc3Npb25OYW1lc3BhY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zZXNzaW9uTmFtZXNwYWNlIHx8IFwiXCI7XG4gIH1cbiAgZ2V0IGFwcFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnVzZXJJbmZvLmFwcFN0YXRlIHx8IHRoaXMuZGFwcFN0YXRlIHx8IFwiXCI7XG4gIH1cbiAgZ2V0IGJhc2VVcmwoKSB7XG4gICAgLy8gdGVzdGluZyBhbmQgZGV2ZWxvcCBkb24ndCBoYXZlIHZlcnNpb25pbmdcbiAgICBpZiAoIXRoaXMuYWRkVmVyc2lvbkluVXJscykgcmV0dXJuIGAke3RoaXMub3B0aW9ucy5zZGtVcmx9YDtcbiAgICByZXR1cm4gYCR7dGhpcy5vcHRpb25zLnNka1VybH0vdiR7dmVyc2lvbi5zcGxpdChcIi5cIilbMF19YDtcbiAgfVxuICBhc3luYyBpbml0KCkge1xuICAgIC8vIGdldCBzZXNzaW9uTmFtZXNwYWNlIGZyb20gdGhlIHJlZGlyZWN0IHJlc3VsdC5cbiAgICBjb25zdCBwYXJhbXMgPSBnZXRIYXNoUXVlcnlQYXJhbXModGhpcy5vcHRpb25zLnJlcGxhY2VVcmxPblJlZGlyZWN0KTtcbiAgICBpZiAocGFyYW1zLnNlc3Npb25OYW1lc3BhY2UpIHRoaXMub3B0aW9ucy5zZXNzaW9uTmFtZXNwYWNlID0gcGFyYW1zLnNlc3Npb25OYW1lc3BhY2U7XG4gICAgY29uc3Qgc3RvcmFnZUtleSA9IHRoaXMub3B0aW9ucy5zZXNzaW9uTmFtZXNwYWNlID8gYCR7dGhpcy5fc3RvcmFnZUJhc2VLZXl9XyR7dGhpcy5vcHRpb25zLnNlc3Npb25OYW1lc3BhY2V9YCA6IHRoaXMuX3N0b3JhZ2VCYXNlS2V5O1xuICAgIHRoaXMuY3VycmVudFN0b3JhZ2UgPSBCcm93c2VyU3RvcmFnZS5nZXRJbnN0YW5jZShzdG9yYWdlS2V5LCB0aGlzLm9wdGlvbnMuc3RvcmFnZUtleSk7XG4gICAgY29uc3Qgc2Vzc2lvbklkID0gdGhpcy5jdXJyZW50U3RvcmFnZS5nZXQoXCJzZXNzaW9uSWRcIik7XG4gICAgdGhpcy5zZXNzaW9uTWFuYWdlciA9IG5ldyBPcGVubG9naW5TZXNzaW9uTWFuYWdlcih7XG4gICAgICBzZXNzaW9uU2VydmVyQmFzZVVybDogdGhpcy5vcHRpb25zLnN0b3JhZ2VTZXJ2ZXJVcmwsXG4gICAgICBzZXNzaW9uTmFtZXNwYWNlOiB0aGlzLm9wdGlvbnMuc2Vzc2lvbk5hbWVzcGFjZSxcbiAgICAgIHNlc3Npb25UaW1lOiB0aGlzLm9wdGlvbnMuc2Vzc2lvblRpbWUsXG4gICAgICBzZXNzaW9uSWRcbiAgICB9KTtcbiAgICBpZiAodGhpcy5vcHRpb25zLm5ldHdvcmsgPT09IE9QRU5MT0dJTl9ORVRXT1JLLlRFU1RORVQgfHwgdGhpcy5vcHRpb25zLm5ldHdvcmsgPT09IE9QRU5MT0dJTl9ORVRXT1JLLlNBUFBISVJFX0RFVk5FVCkge1xuICAgICAgLy8gdXNpbmcgY29uc29sZSBsb2cgYmVjYXVzZSBpdCBzaG91bGRuJ3QgYmUgYWZmZWN0ZWQgYnkgbG9nbGV2ZWwgY29uZmlnXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS5sb2coYCVjIFdBUk5JTkchIFlvdSBhcmUgb24gJHt0aGlzLm9wdGlvbnMubmV0d29ya30uIFBsZWFzZSBzZXQgbmV0d29yazogJ21haW5uZXQnIG9yICdzYXBwaGlyZV9tYWlubmV0JyBpbiBwcm9kdWN0aW9uYCwgXCJjb2xvcjogI0ZGMDAwMFwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5idWlsZEVudiAhPT0gQlVJTERfRU5WLlBST0RVQ1RJT04pIHtcbiAgICAgIC8vIHVzaW5nIGNvbnNvbGUgbG9nIGJlY2F1c2UgaXQgc2hvdWxkbid0IGJlIGFmZmVjdGVkIGJ5IGxvZ2xldmVsIGNvbmZpZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUubG9nKGAlYyBXQVJOSU5HISBZb3UgYXJlIHVzaW5nIGJ1aWxkIGVudiAke3RoaXMub3B0aW9ucy5idWlsZEVudn0uIFBsZWFzZSBzZXQgYnVpbGRFbnY6ICdwcm9kdWN0aW9uJyBpbiBwcm9kdWN0aW9uYCwgXCJjb2xvcjogI0ZGMDAwMFwiKTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5lcnJvcikge1xuICAgICAgdGhpcy5kYXBwU3RhdGUgPSBwYXJhbXMuc3RhdGU7XG4gICAgICB0aHJvdyBMb2dpbkVycm9yLmxvZ2luRmFpbGVkKHBhcmFtcy5lcnJvcik7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuc2Vzc2lvbklkKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTdG9yYWdlLnNldChcInNlc3Npb25JZFwiLCBwYXJhbXMuc2Vzc2lvbklkKTtcbiAgICAgIHRoaXMuc2Vzc2lvbk1hbmFnZXIuc2Vzc2lvbklkID0gcGFyYW1zLnNlc3Npb25JZDtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2Vzc2lvbk1hbmFnZXIuc2Vzc2lvbklkKSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5fYXV0aG9yaXplU2Vzc2lvbigpO1xuICAgICAgLy8gRmlsbCBzdGF0ZSB3aXRoIGNvcnJlY3QgaW5mbyBmcm9tIHNlc3Npb25cbiAgICAgIC8vIElmIHNlc3Npb24gaXMgaW52YWxpZCBhbGwgdGhlIGRhdGEgaXMgdW5zZXQgaGVyZS5cbiAgICAgIHRoaXMudXBkYXRlU3RhdGUoZGF0YSk7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIElmIHNlc3Npb24gaXMgaW52YWxpZCwgdW5zZXQgdGhlIHNlc3Npb25JZCBmcm9tIGxvY2FsU3RvcmFnZS5cbiAgICAgICAgdGhpcy5jdXJyZW50U3RvcmFnZS5zZXQoXCJzZXNzaW9uSWRcIiwgXCJcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGFzeW5jIGxvZ2luKHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zLmxvZ2luUHJvdmlkZXIpIHRocm93IExvZ2luRXJyb3IuaW52YWxpZExvZ2luUGFyYW1zKGBsb2dpblByb3ZpZGVyIGlzIHJlcXVpcmVkYCk7XG5cbiAgICAvLyBpbiBjYXNlIG9mIHJlZGlyZWN0IG1vZGUsIHJlZGlyZWN0IHVybCB3aWxsIGJlIGRhcHAgc3BlY2lmaWVkXG4gICAgLy8gaW4gY2FzZSBvZiBwb3B1cCBtb2RlLCByZWRpcmVjdCB1cmwgd2lsbCBiZSBzZGsgc3BlY2lmaWVkXG4gICAgY29uc3QgZGVmYXVsdFBhcmFtcyA9IHtcbiAgICAgIHJlZGlyZWN0VXJsOiB0aGlzLm9wdGlvbnMucmVkaXJlY3RVcmxcbiAgICB9O1xuICAgIGNvbnN0IGxvZ2luUGFyYW1zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgIGxvZ2luUHJvdmlkZXI6IHBhcmFtcy5sb2dpblByb3ZpZGVyXG4gICAgfSwgZGVmYXVsdFBhcmFtcyksIHBhcmFtcyk7XG4gICAgY29uc3QgZGF0YU9iamVjdCA9IHtcbiAgICAgIGFjdGlvblR5cGU6IE9QRU5MT0dJTl9BQ1RJT05TLkxPR0lOLFxuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgcGFyYW1zOiBsb2dpblBhcmFtc1xuICAgIH07XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5vcGVubG9naW5IYW5kbGVyKGAke3RoaXMuYmFzZVVybH0vc3RhcnRgLCBkYXRhT2JqZWN0LCBnZXRUaW1lb3V0KHBhcmFtcy5sb2dpblByb3ZpZGVyKSk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy51eE1vZGUgPT09IFVYX01PREUuUkVESVJFQ1QpIHJldHVybiBudWxsO1xuICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICAgIHRoaXMuZGFwcFN0YXRlID0gcmVzdWx0LnN0YXRlO1xuICAgICAgdGhyb3cgTG9naW5FcnJvci5sb2dpbkZhaWxlZChyZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB0aGlzLnNlc3Npb25NYW5hZ2VyLnNlc3Npb25JZCA9IHJlc3VsdC5zZXNzaW9uSWQ7XG4gICAgdGhpcy5vcHRpb25zLnNlc3Npb25OYW1lc3BhY2UgPSByZXN1bHQuc2Vzc2lvbk5hbWVzcGFjZTtcbiAgICB0aGlzLmN1cnJlbnRTdG9yYWdlLnNldChcInNlc3Npb25JZFwiLCByZXN1bHQuc2Vzc2lvbklkKTtcbiAgICBhd2FpdCB0aGlzLnJlaHlkcmF0ZVNlc3Npb24oKTtcbiAgICByZXR1cm4ge1xuICAgICAgcHJpdktleTogdGhpcy5wcml2S2V5XG4gICAgfTtcbiAgfVxuICBhc3luYyBsb2dvdXQoKSB7XG4gICAgaWYgKCF0aGlzLnNlc3Npb25NYW5hZ2VyLnNlc3Npb25JZCkgdGhyb3cgTG9naW5FcnJvci51c2VyTm90TG9nZ2VkSW4oKTtcbiAgICBhd2FpdCB0aGlzLnNlc3Npb25NYW5hZ2VyLmludmFsaWRhdGVTZXNzaW9uKCk7XG4gICAgdGhpcy51cGRhdGVTdGF0ZSh7XG4gICAgICBwcml2S2V5OiBcIlwiLFxuICAgICAgY29yZUtpdEtleTogXCJcIixcbiAgICAgIGNvcmVLaXRFZDI1NTE5UHJpdktleTogXCJcIixcbiAgICAgIGVkMjU1MTlQcml2S2V5OiBcIlwiLFxuICAgICAgd2FsbGV0S2V5OiBcIlwiLFxuICAgICAgb0F1dGhQcml2YXRlS2V5OiBcIlwiLFxuICAgICAgdEtleTogXCJcIixcbiAgICAgIG1ldGFkYXRhTm9uY2U6IFwiXCIsXG4gICAgICBrZXlNb2RlOiB1bmRlZmluZWQsXG4gICAgICB1c2VySW5mbzoge1xuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBwcm9maWxlSW1hZ2U6IFwiXCIsXG4gICAgICAgIGRhcHBTaGFyZTogXCJcIixcbiAgICAgICAgaWRUb2tlbjogXCJcIixcbiAgICAgICAgb0F1dGhJZFRva2VuOiBcIlwiLFxuICAgICAgICBvQXV0aEFjY2Vzc1Rva2VuOiBcIlwiLFxuICAgICAgICBhcHBTdGF0ZTogXCJcIixcbiAgICAgICAgZW1haWw6IFwiXCIsXG4gICAgICAgIHZlcmlmaWVyOiBcIlwiLFxuICAgICAgICB2ZXJpZmllcklkOiBcIlwiLFxuICAgICAgICBhZ2dyZWdhdGVWZXJpZmllcjogXCJcIixcbiAgICAgICAgdHlwZU9mTG9naW46IFwiXCIsXG4gICAgICAgIGlzTWZhRW5hYmxlZDogZmFsc2VcbiAgICAgIH0sXG4gICAgICBhdXRoVG9rZW46IFwiXCIsXG4gICAgICBzZXNzaW9uSWQ6IFwiXCIsXG4gICAgICBmYWN0b3JLZXk6IFwiXCIsXG4gICAgICBzaWduYXR1cmVzOiBbXSxcbiAgICAgIHRzc1NoYXJlSW5kZXg6IC0xLFxuICAgICAgdHNzUHViS2V5OiBcIlwiLFxuICAgICAgdHNzU2hhcmU6IFwiXCIsXG4gICAgICB0c3NOb25jZTogLTFcbiAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRTdG9yYWdlLnNldChcInNlc3Npb25JZFwiLCBcIlwiKTtcbiAgfVxuICBhc3luYyBzZXR1cE1GQShwYXJhbXMpIHtcbiAgICBpZiAoIXRoaXMuc2Vzc2lvbklkKSB0aHJvdyBMb2dpbkVycm9yLnVzZXJOb3RMb2dnZWRJbigpO1xuXG4gICAgLy8gaW4gY2FzZSBvZiByZWRpcmVjdCBtb2RlLCByZWRpcmVjdCB1cmwgd2lsbCBiZSBkYXBwIHNwZWNpZmllZFxuICAgIC8vIGluIGNhc2Ugb2YgcG9wdXAgbW9kZSwgcmVkaXJlY3QgdXJsIHdpbGwgYmUgc2RrIHNwZWNpZmllZFxuICAgIGNvbnN0IGRlZmF1bHRQYXJhbXMgPSB7XG4gICAgICByZWRpcmVjdFVybDogdGhpcy5vcHRpb25zLnJlZGlyZWN0VXJsXG4gICAgfTtcbiAgICBjb25zdCBkYXRhT2JqZWN0ID0ge1xuICAgICAgYWN0aW9uVHlwZTogT1BFTkxPR0lOX0FDVElPTlMuRU5BQkxFX01GQSxcbiAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0UGFyYW1zKSwgcGFyYW1zKSxcbiAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcbiAgICB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMub3BlbmxvZ2luSGFuZGxlcihgJHt0aGlzLmJhc2VVcmx9L3N0YXJ0YCwgZGF0YU9iamVjdCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy51eE1vZGUgPT09IFVYX01PREUuUkVESVJFQ1QpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgdGhpcy5zZXNzaW9uTWFuYWdlci5zZXNzaW9uSWQgPSByZXN1bHQuc2Vzc2lvbklkO1xuICAgIHRoaXMub3B0aW9ucy5zZXNzaW9uTmFtZXNwYWNlID0gcmVzdWx0LnNlc3Npb25OYW1lc3BhY2U7XG4gICAgdGhpcy5jdXJyZW50U3RvcmFnZS5zZXQoXCJzZXNzaW9uSWRcIiwgcmVzdWx0LnNlc3Npb25JZCk7XG4gICAgYXdhaXQgdGhpcy5yZWh5ZHJhdGVTZXNzaW9uKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgYXN5bmMgY2hhbmdlU29jaWFsRmFjdG9yKHBhcmFtcykge1xuICAgIGlmICghdGhpcy5zZXNzaW9uSWQpIHRocm93IExvZ2luRXJyb3IudXNlck5vdExvZ2dlZEluKCk7XG5cbiAgICAvLyBpbiBjYXNlIG9mIHJlZGlyZWN0IG1vZGUsIHJlZGlyZWN0IHVybCB3aWxsIGJlIGRhcHAgc3BlY2lmaWVkXG4gICAgLy8gaW4gY2FzZSBvZiBwb3B1cCBtb2RlLCByZWRpcmVjdCB1cmwgd2lsbCBiZSBzZGsgc3BlY2lmaWVkXG4gICAgY29uc3QgZGVmYXVsdFBhcmFtcyA9IHtcbiAgICAgIHJlZGlyZWN0VXJsOiB0aGlzLm9wdGlvbnMucmVkaXJlY3RVcmxcbiAgICB9O1xuICAgIGNvbnN0IGRhdGFPYmplY3QgPSB7XG4gICAgICBhY3Rpb25UeXBlOiBPUEVOTE9HSU5fQUNUSU9OUy5NT0RJRllfTUZBLFxuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRQYXJhbXMpLCBwYXJhbXMpLFxuICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxuICAgIH07XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5vcGVubG9naW5IYW5kbGVyKGAke3RoaXMuYmFzZVVybH0vc3RhcnRgLCBkYXRhT2JqZWN0KTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnV4TW9kZSA9PT0gVVhfTU9ERS5SRURJUkVDVCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB0aGlzLnNlc3Npb25NYW5hZ2VyLnNlc3Npb25JZCA9IHJlc3VsdC5zZXNzaW9uSWQ7XG4gICAgdGhpcy5vcHRpb25zLnNlc3Npb25OYW1lc3BhY2UgPSByZXN1bHQuc2Vzc2lvbk5hbWVzcGFjZTtcbiAgICB0aGlzLmN1cnJlbnRTdG9yYWdlLnNldChcInNlc3Npb25JZFwiLCByZXN1bHQuc2Vzc2lvbklkKTtcbiAgICBhd2FpdCB0aGlzLnJlaHlkcmF0ZVNlc3Npb24oKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBnZXRVc2VySW5mbygpIHtcbiAgICBpZiAoIXRoaXMuc2Vzc2lvbk1hbmFnZXIuc2Vzc2lvbklkKSB7XG4gICAgICB0aHJvdyBMb2dpbkVycm9yLnVzZXJOb3RMb2dnZWRJbigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS51c2VySW5mbztcbiAgfVxuICBhc3luYyBnZXRMb2dpbklkKGRhdGEpIHtcbiAgICBpZiAoIXRoaXMuc2Vzc2lvbk1hbmFnZXIpIHRocm93IEluaXRpYWxpemF0aW9uRXJyb3Iubm90SW5pdGlhbGl6ZWQoKTtcbiAgICBjb25zdCBsb2dpbklkID0gT3BlbmxvZ2luU2Vzc2lvbk1hbmFnZXIuZ2VuZXJhdGVSYW5kb21TZXNzaW9uS2V5KCk7XG4gICAgY29uc3QgbG9naW5TZXNzaW9uTWdyID0gbmV3IE9wZW5sb2dpblNlc3Npb25NYW5hZ2VyKHtcbiAgICAgIHNlc3Npb25TZXJ2ZXJCYXNlVXJsOiB0aGlzLm9wdGlvbnMuc3RvcmFnZVNlcnZlclVybCxcbiAgICAgIHNlc3Npb25OYW1lc3BhY2U6IHRoaXMub3B0aW9ucy5zZXNzaW9uTmFtZXNwYWNlLFxuICAgICAgc2Vzc2lvblRpbWU6IDYwMCxcbiAgICAgIC8vIGVhY2ggbG9naW4ga2V5IG11c3QgYmUgdXNlZCB3aXRoIDEwIG1pbnMgKG1pZ2h0IGJlIHVzZWQgYXQgdGhlIGVuZCBvZiBwb3B1cCByZWRpcmVjdClcbiAgICAgIHNlc3Npb25JZDogbG9naW5JZFxuICAgIH0pO1xuICAgIGF3YWl0IGxvZ2luU2Vzc2lvbk1nci5jcmVhdGVTZXNzaW9uKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSkpKTtcbiAgICByZXR1cm4gbG9naW5JZDtcbiAgfVxuICBhc3luYyBfYXV0aG9yaXplU2Vzc2lvbigpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLnNlc3Npb25NYW5hZ2VyLnNlc3Npb25JZCkgcmV0dXJuIHt9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZXNzaW9uTWFuYWdlci5hdXRob3JpemVTZXNzaW9uKCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nbGV2ZWwuZXJyb3IoXCJhdXRob3JpemF0aW9uIGZhaWxlZFwiLCBlcnIpO1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfVxuICB1cGRhdGVTdGF0ZShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5zdGF0ZSksIGRhdGEpO1xuICB9XG4gIGFzeW5jIHJlaHlkcmF0ZVNlc3Npb24oKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fYXV0aG9yaXplU2Vzc2lvbigpO1xuICAgIHRoaXMudXBkYXRlU3RhdGUocmVzdWx0KTtcbiAgfVxuICBhc3luYyBvcGVubG9naW5IYW5kbGVyKHVybCwgZGF0YU9iamVjdCkge1xuICAgIGxldCBwb3B1cFRpbWVvdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDEwMDAgKiAxMDtcbiAgICBjb25zdCBsb2dpbklkID0gYXdhaXQgdGhpcy5nZXRMb2dpbklkKGRhdGFPYmplY3QpO1xuICAgIGNvbnN0IGNvbmZpZ1BhcmFtcyA9IHtcbiAgICAgIGxvZ2luSWQsXG4gICAgICBzZXNzaW9uTmFtZXNwYWNlOiB0aGlzLm9wdGlvbnMuc2Vzc2lvbk5hbWVzcGFjZVxuICAgIH07XG4gICAgaWYgKHRoaXMub3B0aW9ucy51eE1vZGUgPT09IFVYX01PREUuUkVESVJFQ1QpIHtcbiAgICAgIGNvbnN0IGxvZ2luVXJsID0gY29uc3RydWN0VVJMKHtcbiAgICAgICAgYmFzZVVSTDogdXJsLFxuICAgICAgICBoYXNoOiB7XG4gICAgICAgICAgYjY0UGFyYW1zOiBqc29uVG9CYXNlNjQoY29uZmlnUGFyYW1zKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbG9naW5Vcmw7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgbG9naW5VcmwgPSBjb25zdHJ1Y3RVUkwoe1xuICAgICAgICBiYXNlVVJMOiB1cmwsXG4gICAgICAgIGhhc2g6IHtcbiAgICAgICAgICBiNjRQYXJhbXM6IGpzb25Ub0Jhc2U2NChjb25maWdQYXJhbXMpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgY3VycmVudFdpbmRvdyA9IG5ldyBQb3B1cEhhbmRsZXIoe1xuICAgICAgICB1cmw6IGxvZ2luVXJsLFxuICAgICAgICB0aW1lb3V0OiBwb3B1cFRpbWVvdXRcbiAgICAgIH0pO1xuICAgICAgY3VycmVudFdpbmRvdy5vbihcImNsb3NlXCIsICgpID0+IHtcbiAgICAgICAgcmVqZWN0KExvZ2luRXJyb3IucG9wdXBDbG9zZWQoKSk7XG4gICAgICB9KTtcbiAgICAgIGN1cnJlbnRXaW5kb3cubGlzdGVuT25DaGFubmVsKGxvZ2luSWQpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGN1cnJlbnRXaW5kb3cub3BlbigpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBJbml0aWFsaXphdGlvbkVycm9yLCBMb2dpbkVycm9yLCBPcGVubG9naW5FcnJvciwgY29uc3RydWN0VVJMLCBPcGVuTG9naW4gYXMgZGVmYXVsdCwgZ2V0SGFzaFF1ZXJ5UGFyYW1zLCBnZXRQb3B1cEZlYXR1cmVzLCBnZXRUaW1lb3V0LCBpc01vYmlsZU9yVGFibGV0LCBsb2dsZXZlbCwgdmVyc2lvbiwgd2hpdGVsaXN0VXJsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVubG9naW4uZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9kZWZpbmVQcm9wZXJ0eSIsIkN1c3RvbUVycm9yIiwiZ2V0TG9nZ2VyIiwiX29iamVjdFNwcmVhZCIsIk9wZW5sb2dpblNlc3Npb25NYW5hZ2VyIiwiYmFzZTY0dXJsIiwic2FmZWF0b2IiLCJzYWZlYnRvYSIsIkxPR0lOX1BST1ZJREVSIiwiT1BFTkxPR0lOX05FVFdPUksiLCJCVUlMRF9FTlYiLCJUT1JVU19MRUdBQ1lfTkVUV09SSyIsIlVYX01PREUiLCJCcm93c2VyU3RvcmFnZSIsIk9QRU5MT0dJTl9BQ1RJT05TIiwianNvblRvQmFzZTY0IiwiU2VjdXJlUHViU3ViIiwiRXZlbnRFbWl0dGVyIiwiZ2V0UHVibGljIiwic2lnbiIsImtlY2NhazI1NiIsImJvd3NlciIsIk9wZW5sb2dpbkVycm9yIiwiY29uc3RydWN0b3IiLCJjb2RlIiwibWVzc2FnZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJ0b0pTT04iLCJuYW1lIiwidG9TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiSW5pdGlhbGl6YXRpb25FcnJvciIsImZyb21Db2RlIiwiZXh0cmFNZXNzYWdlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibWVzc2FnZXMiLCJpbnZhbGlkUGFyYW1zIiwibm90SW5pdGlhbGl6ZWQiLCJMb2dpbkVycm9yIiwiaW52YWxpZExvZ2luUGFyYW1zIiwidXNlck5vdExvZ2dlZEluIiwicG9wdXBDbG9zZWQiLCJsb2dpbkZhaWxlZCIsInBvcHVwQmxvY2tlZCIsImxvZ2xldmVsIiwic2V0TGV2ZWwiLCJ2ZXJzaW9uIiwid2hpdGVsaXN0VXJsIiwiY2xpZW50SWQiLCJhcHBLZXkiLCJvcmlnaW4iLCJhcHBLZXlCdWYiLCJCdWZmZXIiLCJmcm9tIiwicGFkU3RhcnQiLCJlbmNvZGUiLCJFcnJvciIsInNpZyIsImdldEhhc2hRdWVyeVBhcmFtcyIsInJlcGxhY2VVcmwiLCJyZXN1bHQiLCJ1cmwiLCJVUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzZWFyY2hQYXJhbXMiLCJmb3JFYWNoIiwia2V5IiwicXVlcnlSZXN1bHQiLCJnZXQiLCJxdWVyeVBhcmFtcyIsInBhcnNlIiwia2V5cyIsImVycm9yIiwiaGFzaCIsInN1YnN0cmluZyIsImhhc2hVcmwiLCJoYXNoUmVzdWx0IiwiaGFzaFBhcmFtcyIsImNsZWFuVXJsIiwicGF0aG5hbWUiLCJzZWFyY2giLCJzZXNzaW9uSWQiLCJzZXNzaW9uTmFtZXNwYWNlIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInN0YXRlIiwiYXMiLCJjb25zdHJ1Y3RVUkwiLCJwYXJhbXMiLCJiYXNlVVJMIiwicXVlcnkiLCJhcHBlbmQiLCJoIiwiZ2V0UG9wdXBGZWF0dXJlcyIsImR1YWxTY3JlZW5MZWZ0Iiwic2NyZWVuTGVmdCIsInNjcmVlblgiLCJkdWFsU2NyZWVuVG9wIiwic2NyZWVuVG9wIiwic2NyZWVuWSIsInciLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwic2NyZWVuIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJzeXN0ZW1ab29tIiwibGVmdCIsIk1hdGgiLCJhYnMiLCJ0b3AiLCJmZWF0dXJlcyIsImlzTW9iaWxlT3JUYWJsZXQiLCJicm93c2VyIiwiZ2V0UGFyc2VyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwicGxhdGZvcm0iLCJnZXRQbGF0Zm9ybSIsInR5cGUiLCJQTEFURk9STVNfTUFQIiwidGFibGV0IiwibW9iaWxlIiwiZ2V0VGltZW91dCIsImxvZ2luUHJvdmlkZXIiLCJGQUNFQk9PSyIsIkxJTkUiLCJQb3B1cEhhbmRsZXIiLCJfcmVmIiwidGFyZ2V0IiwidGltZW91dCIsIndpbmRvd1RpbWVyIiwiaUNsb3NlZFdpbmRvdyIsIl9zZXR1cFRpbWVyIiwiTnVtYmVyIiwic2V0SW50ZXJ2YWwiLCJjbG9zZWQiLCJjbGVhckludGVydmFsIiwic2V0VGltZW91dCIsImVtaXQiLCJvcGVuIiwiX3RoaXMkd2luZG93IiwiZm9jdXMiLCJjbG9zZSIsInJlZGlyZWN0IiwibG9jYXRpb25SZXBsYWNlT25SZWRpcmVjdCIsInJlcGxhY2UiLCJsaXN0ZW5PbkNoYW5uZWwiLCJsb2dpbklkIiwic2VjdXJlUHViU3ViIiwiZGF0YSIsInN1YnNjcmliZSIsImNsZWFudXAiLCJwYXJzZWREYXRhIiwiT3BlbkxvZ2luIiwib3B0aW9ucyIsIm5ldHdvcmsiLCJTQVBQSElSRV9NQUlOTkVUIiwiYnVpbGRFbnYiLCJQUk9EVUNUSU9OIiwiREVWRUxPUE1FTlQiLCJURVNUSU5HIiwic2RrVXJsIiwiYWRkVmVyc2lvbkluVXJscyIsInVzZU1wYyIsIlNUQUdJTkciLCJ2YWx1ZXMiLCJpbmNsdWRlcyIsInJlZGlyZWN0VXJsIiwicHJvdG9jb2wiLCJob3N0IiwidXhNb2RlIiwiUkVESVJFQ1QiLCJyZXBsYWNlVXJsT25SZWRpcmVjdCIsIm9yaWdpbkRhdGEiLCJ3aGl0ZUxhYmVsIiwibG9naW5Db25maWciLCJtZmFTZXR0aW5ncyIsInN0b3JhZ2VTZXJ2ZXJVcmwiLCJzdG9yYWdlS2V5Iiwid2ViYXV0aG5UcmFuc3BvcnRzIiwic2Vzc2lvblRpbWUiLCJwcml2S2V5IiwiZmFjdG9yS2V5IiwiY29yZUtpdEtleSIsImVkMjU1MTlQcml2S2V5IiwiY29yZUtpdEVkMjU1MTlLZXkiLCJjb3JlS2l0RWQyNTUxOVByaXZLZXkiLCJhcHBTdGF0ZSIsInVzZXJJbmZvIiwiZGFwcFN0YXRlIiwiYmFzZVVybCIsInNwbGl0IiwiaW5pdCIsIl9zdG9yYWdlQmFzZUtleSIsImN1cnJlbnRTdG9yYWdlIiwiZ2V0SW5zdGFuY2UiLCJzZXNzaW9uTWFuYWdlciIsInNlc3Npb25TZXJ2ZXJCYXNlVXJsIiwiVEVTVE5FVCIsIlNBUFBISVJFX0RFVk5FVCIsImNvbnNvbGUiLCJsb2ciLCJzZXQiLCJfYXV0aG9yaXplU2Vzc2lvbiIsInVwZGF0ZVN0YXRlIiwibG9naW4iLCJkZWZhdWx0UGFyYW1zIiwibG9naW5QYXJhbXMiLCJkYXRhT2JqZWN0IiwiYWN0aW9uVHlwZSIsIkxPR0lOIiwib3BlbmxvZ2luSGFuZGxlciIsInJlaHlkcmF0ZVNlc3Npb24iLCJsb2dvdXQiLCJpbnZhbGlkYXRlU2Vzc2lvbiIsIndhbGxldEtleSIsIm9BdXRoUHJpdmF0ZUtleSIsInRLZXkiLCJtZXRhZGF0YU5vbmNlIiwia2V5TW9kZSIsInByb2ZpbGVJbWFnZSIsImRhcHBTaGFyZSIsImlkVG9rZW4iLCJvQXV0aElkVG9rZW4iLCJvQXV0aEFjY2Vzc1Rva2VuIiwiZW1haWwiLCJ2ZXJpZmllciIsInZlcmlmaWVySWQiLCJhZ2dyZWdhdGVWZXJpZmllciIsInR5cGVPZkxvZ2luIiwiaXNNZmFFbmFibGVkIiwiYXV0aFRva2VuIiwic2lnbmF0dXJlcyIsInRzc1NoYXJlSW5kZXgiLCJ0c3NQdWJLZXkiLCJ0c3NTaGFyZSIsInRzc05vbmNlIiwic2V0dXBNRkEiLCJFTkFCTEVfTUZBIiwiY2hhbmdlU29jaWFsRmFjdG9yIiwiTU9ESUZZX01GQSIsImdldFVzZXJJbmZvIiwiZ2V0TG9naW5JZCIsImdlbmVyYXRlUmFuZG9tU2Vzc2lvbktleSIsImxvZ2luU2Vzc2lvbk1nciIsImNyZWF0ZVNlc3Npb24iLCJhdXRob3JpemVTZXNzaW9uIiwiZXJyIiwicG9wdXBUaW1lb3V0IiwiY29uZmlnUGFyYW1zIiwibG9naW5VcmwiLCJiNjRQYXJhbXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImN1cnJlbnRXaW5kb3ciLCJvbiIsInRoZW4iLCJjYXRjaCIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/openlogin/dist/openlogin.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/secure-pub-sub/dist/securePubSub.esm.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@toruslabs/secure-pub-sub/dist/securePubSub.esm.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SecurePubSub: () => (/* binding */ SecurePubSub)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @toruslabs/eccrypto */ \"(ssr)/./node_modules/@toruslabs/eccrypto/dist/eccrypto.esm.js\");\n/* harmony import */ var _toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @toruslabs/http-helpers */ \"(ssr)/./node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js\");\n/* harmony import */ var _toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @toruslabs/metadata-helpers */ \"(ssr)/./node_modules/@toruslabs/metadata-helpers/dist/metadataHelpers.esm.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! socket.io-client */ \"(ssr)/./node_modules/socket.io-client/build/esm-debug/index.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! loglevel */ \"(ssr)/./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nvar log = loglevel__WEBPACK_IMPORTED_MODULE_5___default().getLogger(\"SecurePubSub\");\nclass SecurePubSub {\n    constructor(){\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"options\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"SOCKET_CONN\", null);\n        this.options = options;\n        this.options.timeout = options.timeout || 600; // 10 mins is default timeout\n        this.options.serverUrl = options.serverUrl || \"https://broadcast-server.tor.us\";\n        this.options.enableLogging = options.enableLogging || false;\n        this.options.namespace = options.namespace || \"\";\n        if (this.options.enableLogging) log.enableAll();\n        else log.disableAll();\n    }\n    static setLogLevel(level) {\n        log.setLevel(level);\n        (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__.setLogLevel)(level);\n    }\n    async publish(topic, message) {\n        const topicPrivKey = (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.keccak256)(Buffer.from(topic, \"utf8\"));\n        const encryptedData = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.encryptData)(topicPrivKey.toString(\"hex\"), message);\n        const signature = await (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_1__.sign)(topicPrivKey, (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.keccak256)(Buffer.from(encryptedData, \"utf8\")));\n        const fetchBody = {\n            key: (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_1__.getPublic)(topicPrivKey).toString(\"hex\"),\n            // already padded\n            data: encryptedData,\n            signature: signature.toString(\"hex\"),\n            timeout: this.options.timeout,\n            namespace: this.options.namespace\n        };\n        return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_2__.post)(`${this.options.serverUrl}/channel/set`, fetchBody);\n    }\n    async subscribe(topic) {\n        let isPromisePending = true;\n        const topicPrivKey = (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.keccak256)(Buffer.from(topic, \"utf8\"));\n        const topicPubKey = (0,_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_1__.getPublic)(topicPrivKey).toString(\"hex\"); // already padded\n        const currentSocketConnection = this.getSocketConnection();\n        if (currentSocketConnection.connected) {\n            log.debug(\"already connected with socket\");\n            currentSocketConnection.emit(\"check_auth_status\", topicPubKey, {\n                namespace: this.options.namespace\n            });\n        } else {\n            currentSocketConnection.once(\"connect\", ()=>{\n                log.debug(\"connected with socket\");\n                currentSocketConnection.emit(\"check_auth_status\", topicPubKey, {\n                    namespace: this.options.namespace\n                });\n            });\n        }\n        const reconnect = ()=>{\n            currentSocketConnection.once(\"connect\", async ()=>{\n                log.debug(\"connected with socket using reconnect\");\n                if (isPromisePending) currentSocketConnection.emit(\"check_auth_status\", topicPubKey, {\n                    namespace: this.options.namespace\n                });\n            });\n        };\n        const visibilityListener = ()=>{\n            if (!isPromisePending) document.removeEventListener(\"visibilitychange\", visibilityListener);\n            // if not connected, then wait for connection and ping server for latest msg.\n            if (!currentSocketConnection.connected && document.visibilityState === \"visible\") {\n                reconnect();\n            }\n        };\n        const disconnectListener = ()=>{\n            log.debug(\"socket disconnected\", isPromisePending);\n            if (isPromisePending) {\n                log.error(\"socket disconnected unexpectedly, reconnecting socket\");\n                reconnect();\n            } else {\n                currentSocketConnection.removeListener(\"disconnect\", disconnectListener);\n            }\n        };\n        currentSocketConnection.on(\"disconnect\", disconnectListener);\n        const returnPromise = new Promise((resolve, reject)=>{\n            const listener = async (ev)=>{\n                try {\n                    const decData = await (0,_toruslabs_metadata_helpers__WEBPACK_IMPORTED_MODULE_3__.decryptData)(topicPrivKey.toString(\"hex\"), ev);\n                    log.info(\"got data\", decData);\n                    resolve(decData);\n                } catch (error) {\n                    log.error(error);\n                    reject(error);\n                } finally{\n                    isPromisePending = false;\n                    document.removeEventListener(\"visibilitychange\", visibilityListener);\n                }\n            };\n            log.info(\"listening to\", `${topicPubKey}_success`);\n            currentSocketConnection.once(`${topicPubKey}_success`, listener);\n        });\n        if (typeof document !== \"undefined\") document.addEventListener(\"visibilitychange\", visibilityListener);\n        return returnPromise;\n    }\n    cleanup() {\n        if (this.SOCKET_CONN) {\n            this.SOCKET_CONN.disconnect();\n            this.SOCKET_CONN = null;\n        }\n    }\n    getSocketConnection() {\n        if (this.SOCKET_CONN) return this.SOCKET_CONN;\n        const localSocketConnection = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_4__.io)(this.options.serverUrl, {\n            transports: [\n                \"websocket\",\n                \"polling\"\n            ],\n            // use WebSocket first, if available\n            withCredentials: true,\n            reconnectionDelayMax: 10000,\n            reconnectionAttempts: 10\n        });\n        localSocketConnection.on(\"connect_error\", (err)=>{\n            // revert to classic upgrade\n            localSocketConnection.io.opts.transports = [\n                \"polling\",\n                \"websocket\"\n            ];\n            log.error(\"connect error\", err);\n        });\n        localSocketConnection.on(\"connect\", async ()=>{\n            const { engine } = localSocketConnection.io;\n            log.debug(\"initially connected to\", engine.transport.name); // in most cases, prints \"polling\"\n            engine.once(\"upgrade\", ()=>{\n                // called when the transport is upgraded (i.e. from HTTP long-polling to WebSocket)\n                log.debug(\"upgraded\", engine.transport.name); // in most cases, prints \"websocket\"\n            });\n            engine.once(\"close\", (reason)=>{\n                // called when the underlying connection is closed\n                log.debug(\"connection closed\", reason);\n            });\n        });\n        localSocketConnection.on(\"error\", (err)=>{\n            log.error(\"socket errored\", err);\n            localSocketConnection.disconnect();\n        });\n        this.SOCKET_CONN = localSocketConnection;\n        return this.SOCKET_CONN;\n    }\n}\n //# sourceMappingURL=securePubSub.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zZWN1cmUtcHViLXN1Yi9kaXN0L3NlY3VyZVB1YlN1Yi5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQW9FO0FBQ2Q7QUFDTTtBQUNzQjtBQUM1QztBQUNUO0FBRTdCLElBQUlVLE1BQU1ELHlEQUFlLENBQUM7QUFFMUIsTUFBTUc7SUFDSkMsYUFBYztRQUNaLElBQUlDLFVBQVVDLFVBQVVDLE1BQU0sR0FBRyxLQUFLRCxTQUFTLENBQUMsRUFBRSxLQUFLRSxZQUFZRixTQUFTLENBQUMsRUFBRSxHQUFHLENBQUM7UUFDbkZmLDRFQUFlQSxDQUFDLElBQUksRUFBRSxXQUFXLEtBQUs7UUFDdENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxlQUFlO1FBQ3JDLElBQUksQ0FBQ2MsT0FBTyxHQUFHQTtRQUNmLElBQUksQ0FBQ0EsT0FBTyxDQUFDSSxPQUFPLEdBQUdKLFFBQVFJLE9BQU8sSUFBSSxLQUFLLDZCQUE2QjtRQUM1RSxJQUFJLENBQUNKLE9BQU8sQ0FBQ0ssU0FBUyxHQUFHTCxRQUFRSyxTQUFTLElBQUk7UUFDOUMsSUFBSSxDQUFDTCxPQUFPLENBQUNNLGFBQWEsR0FBR04sUUFBUU0sYUFBYSxJQUFJO1FBQ3RELElBQUksQ0FBQ04sT0FBTyxDQUFDTyxTQUFTLEdBQUdQLFFBQVFPLFNBQVMsSUFBSTtRQUM5QyxJQUFJLElBQUksQ0FBQ1AsT0FBTyxDQUFDTSxhQUFhLEVBQUVWLElBQUlZLFNBQVM7YUFBUVosSUFBSWEsVUFBVTtJQUNyRTtJQUNBLE9BQU9wQixZQUFZcUIsS0FBSyxFQUFFO1FBQ3hCZCxJQUFJZSxRQUFRLENBQUNEO1FBQ2JyQixvRUFBV0EsQ0FBQ3FCO0lBQ2Q7SUFDQSxNQUFNRSxRQUFRQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTtRQUM1QixNQUFNQyxlQUFleEIsc0VBQVNBLENBQUN5QixPQUFPQyxJQUFJLENBQUNKLE9BQU87UUFDbEQsTUFBTUssZ0JBQWdCLE1BQU0x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RixPQUFPN0IsSUFBSSxDQUFDLFNBQVNnQyxDQUFBQTtnQkFDbkIsa0RBQWtEO2dCQUNsRHBFLElBQUlrQyxLQUFLLENBQUMscUJBQXFCa0M7WUFDakM7UUFDRjtRQUNBVixzQkFBc0JiLEVBQUUsQ0FBQyxTQUFTa0IsQ0FBQUE7WUFDaEMvRCxJQUFJMkMsS0FBSyxDQUFDLGtCQUFrQm9CO1lBQzVCTCxzQkFBc0JELFVBQVU7UUFDbEM7UUFDQSxJQUFJLENBQUNELFdBQVcsR0FBR0U7UUFDbkIsT0FBTyxJQUFJLENBQUNGLFdBQVc7SUFDekI7QUFDRjtBQUV3QixDQUN4Qiw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvc2VjdXJlLXB1Yi1zdWIvZGlzdC9zZWN1cmVQdWJTdWIuZXNtLmpzPzE1ZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCB7IHNpZ24sIGdldFB1YmxpYyB9IGZyb20gJ0B0b3J1c2xhYnMvZWNjcnlwdG8nO1xuaW1wb3J0IHsgc2V0TG9nTGV2ZWwsIHBvc3QgfSBmcm9tICdAdG9ydXNsYWJzL2h0dHAtaGVscGVycyc7XG5pbXBvcnQgeyBrZWNjYWsyNTYsIGVuY3J5cHREYXRhLCBkZWNyeXB0RGF0YSB9IGZyb20gJ0B0b3J1c2xhYnMvbWV0YWRhdGEtaGVscGVycyc7XG5pbXBvcnQgeyBpbyB9IGZyb20gJ3NvY2tldC5pby1jbGllbnQnO1xuaW1wb3J0IGxvZyQxIGZyb20gJ2xvZ2xldmVsJztcblxudmFyIGxvZyA9IGxvZyQxLmdldExvZ2dlcihcIlNlY3VyZVB1YlN1YlwiKTtcblxuY2xhc3MgU2VjdXJlUHViU3ViIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJTT0NLRVRfQ09OTlwiLCBudWxsKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMub3B0aW9ucy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IDYwMDsgLy8gMTAgbWlucyBpcyBkZWZhdWx0IHRpbWVvdXRcbiAgICB0aGlzLm9wdGlvbnMuc2VydmVyVXJsID0gb3B0aW9ucy5zZXJ2ZXJVcmwgfHwgXCJodHRwczovL2Jyb2FkY2FzdC1zZXJ2ZXIudG9yLnVzXCI7XG4gICAgdGhpcy5vcHRpb25zLmVuYWJsZUxvZ2dpbmcgPSBvcHRpb25zLmVuYWJsZUxvZ2dpbmcgfHwgZmFsc2U7XG4gICAgdGhpcy5vcHRpb25zLm5hbWVzcGFjZSA9IG9wdGlvbnMubmFtZXNwYWNlIHx8IFwiXCI7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVMb2dnaW5nKSBsb2cuZW5hYmxlQWxsKCk7ZWxzZSBsb2cuZGlzYWJsZUFsbCgpO1xuICB9XG4gIHN0YXRpYyBzZXRMb2dMZXZlbChsZXZlbCkge1xuICAgIGxvZy5zZXRMZXZlbChsZXZlbCk7XG4gICAgc2V0TG9nTGV2ZWwobGV2ZWwpO1xuICB9XG4gIGFzeW5jIHB1Ymxpc2godG9waWMsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCB0b3BpY1ByaXZLZXkgPSBrZWNjYWsyNTYoQnVmZmVyLmZyb20odG9waWMsIFwidXRmOFwiKSk7XG4gICAgY29uc3QgZW5jcnlwdGVkRGF0YSA9IGF3YWl0IGVuY3J5cHREYXRhKHRvcGljUHJpdktleS50b1N0cmluZyhcImhleFwiKSwgbWVzc2FnZSk7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgc2lnbih0b3BpY1ByaXZLZXksIGtlY2NhazI1NihCdWZmZXIuZnJvbShlbmNyeXB0ZWREYXRhLCBcInV0ZjhcIikpKTtcbiAgICBjb25zdCBmZXRjaEJvZHkgPSB7XG4gICAgICBrZXk6IGdldFB1YmxpYyh0b3BpY1ByaXZLZXkpLnRvU3RyaW5nKFwiaGV4XCIpLFxuICAgICAgLy8gYWxyZWFkeSBwYWRkZWRcbiAgICAgIGRhdGE6IGVuY3J5cHRlZERhdGEsXG4gICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZS50b1N0cmluZyhcImhleFwiKSxcbiAgICAgIHRpbWVvdXQ6IHRoaXMub3B0aW9ucy50aW1lb3V0LFxuICAgICAgbmFtZXNwYWNlOiB0aGlzLm9wdGlvbnMubmFtZXNwYWNlXG4gICAgfTtcbiAgICByZXR1cm4gcG9zdChgJHt0aGlzLm9wdGlvbnMuc2VydmVyVXJsfS9jaGFubmVsL3NldGAsIGZldGNoQm9keSk7XG4gIH1cbiAgYXN5bmMgc3Vic2NyaWJlKHRvcGljKSB7XG4gICAgbGV0IGlzUHJvbWlzZVBlbmRpbmcgPSB0cnVlO1xuICAgIGNvbnN0IHRvcGljUHJpdktleSA9IGtlY2NhazI1NihCdWZmZXIuZnJvbSh0b3BpYywgXCJ1dGY4XCIpKTtcbiAgICBjb25zdCB0b3BpY1B1YktleSA9IGdldFB1YmxpYyh0b3BpY1ByaXZLZXkpLnRvU3RyaW5nKFwiaGV4XCIpOyAvLyBhbHJlYWR5IHBhZGRlZFxuICAgIGNvbnN0IGN1cnJlbnRTb2NrZXRDb25uZWN0aW9uID0gdGhpcy5nZXRTb2NrZXRDb25uZWN0aW9uKCk7XG4gICAgaWYgKGN1cnJlbnRTb2NrZXRDb25uZWN0aW9uLmNvbm5lY3RlZCkge1xuICAgICAgbG9nLmRlYnVnKFwiYWxyZWFkeSBjb25uZWN0ZWQgd2l0aCBzb2NrZXRcIik7XG4gICAgICBjdXJyZW50U29ja2V0Q29ubmVjdGlvbi5lbWl0KFwiY2hlY2tfYXV0aF9zdGF0dXNcIiwgdG9waWNQdWJLZXksIHtcbiAgICAgICAgbmFtZXNwYWNlOiB0aGlzLm9wdGlvbnMubmFtZXNwYWNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudFNvY2tldENvbm5lY3Rpb24ub25jZShcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgICBsb2cuZGVidWcoXCJjb25uZWN0ZWQgd2l0aCBzb2NrZXRcIik7XG4gICAgICAgIGN1cnJlbnRTb2NrZXRDb25uZWN0aW9uLmVtaXQoXCJjaGVja19hdXRoX3N0YXR1c1wiLCB0b3BpY1B1YktleSwge1xuICAgICAgICAgIG5hbWVzcGFjZTogdGhpcy5vcHRpb25zLm5hbWVzcGFjZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCByZWNvbm5lY3QgPSAoKSA9PiB7XG4gICAgICBjdXJyZW50U29ja2V0Q29ubmVjdGlvbi5vbmNlKFwiY29ubmVjdFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcImNvbm5lY3RlZCB3aXRoIHNvY2tldCB1c2luZyByZWNvbm5lY3RcIik7XG4gICAgICAgIGlmIChpc1Byb21pc2VQZW5kaW5nKSBjdXJyZW50U29ja2V0Q29ubmVjdGlvbi5lbWl0KFwiY2hlY2tfYXV0aF9zdGF0dXNcIiwgdG9waWNQdWJLZXksIHtcbiAgICAgICAgICBuYW1lc3BhY2U6IHRoaXMub3B0aW9ucy5uYW1lc3BhY2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHZpc2liaWxpdHlMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIGlmICghaXNQcm9taXNlUGVuZGluZykgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdmlzaWJpbGl0eUxpc3RlbmVyKTtcbiAgICAgIC8vIGlmIG5vdCBjb25uZWN0ZWQsIHRoZW4gd2FpdCBmb3IgY29ubmVjdGlvbiBhbmQgcGluZyBzZXJ2ZXIgZm9yIGxhdGVzdCBtc2cuXG4gICAgICBpZiAoIWN1cnJlbnRTb2NrZXRDb25uZWN0aW9uLmNvbm5lY3RlZCAmJiBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiKSB7XG4gICAgICAgIHJlY29ubmVjdCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZGlzY29ubmVjdExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgbG9nLmRlYnVnKFwic29ja2V0IGRpc2Nvbm5lY3RlZFwiLCBpc1Byb21pc2VQZW5kaW5nKTtcbiAgICAgIGlmIChpc1Byb21pc2VQZW5kaW5nKSB7XG4gICAgICAgIGxvZy5lcnJvcihcInNvY2tldCBkaXNjb25uZWN0ZWQgdW5leHBlY3RlZGx5LCByZWNvbm5lY3Rpbmcgc29ja2V0XCIpO1xuICAgICAgICByZWNvbm5lY3QoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRTb2NrZXRDb25uZWN0aW9uLnJlbW92ZUxpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCBkaXNjb25uZWN0TGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH07XG4gICAgY3VycmVudFNvY2tldENvbm5lY3Rpb24ub24oXCJkaXNjb25uZWN0XCIsIGRpc2Nvbm5lY3RMaXN0ZW5lcik7XG4gICAgY29uc3QgcmV0dXJuUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gYXN5bmMgZXYgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRlY0RhdGEgPSBhd2FpdCBkZWNyeXB0RGF0YSh0b3BpY1ByaXZLZXkudG9TdHJpbmcoXCJoZXhcIiksIGV2KTtcbiAgICAgICAgICBsb2cuaW5mbyhcImdvdCBkYXRhXCIsIGRlY0RhdGEpO1xuICAgICAgICAgIHJlc29sdmUoZGVjRGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgbG9nLmVycm9yKGVycm9yKTtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzUHJvbWlzZVBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB2aXNpYmlsaXR5TGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbG9nLmluZm8oXCJsaXN0ZW5pbmcgdG9cIiwgYCR7dG9waWNQdWJLZXl9X3N1Y2Nlc3NgKTtcbiAgICAgIGN1cnJlbnRTb2NrZXRDb25uZWN0aW9uLm9uY2UoYCR7dG9waWNQdWJLZXl9X3N1Y2Nlc3NgLCBsaXN0ZW5lcik7XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdmlzaWJpbGl0eUxpc3RlbmVyKTtcbiAgICByZXR1cm4gcmV0dXJuUHJvbWlzZTtcbiAgfVxuICBjbGVhbnVwKCkge1xuICAgIGlmICh0aGlzLlNPQ0tFVF9DT05OKSB7XG4gICAgICB0aGlzLlNPQ0tFVF9DT05OLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMuU09DS0VUX0NPTk4gPSBudWxsO1xuICAgIH1cbiAgfVxuICBnZXRTb2NrZXRDb25uZWN0aW9uKCkge1xuICAgIGlmICh0aGlzLlNPQ0tFVF9DT05OKSByZXR1cm4gdGhpcy5TT0NLRVRfQ09OTjtcbiAgICBjb25zdCBsb2NhbFNvY2tldENvbm5lY3Rpb24gPSBpbyh0aGlzLm9wdGlvbnMuc2VydmVyVXJsLCB7XG4gICAgICB0cmFuc3BvcnRzOiBbXCJ3ZWJzb2NrZXRcIiwgXCJwb2xsaW5nXCJdLFxuICAgICAgLy8gdXNlIFdlYlNvY2tldCBmaXJzdCwgaWYgYXZhaWxhYmxlXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICByZWNvbm5lY3Rpb25EZWxheU1heDogMTAwMDAsXG4gICAgICByZWNvbm5lY3Rpb25BdHRlbXB0czogMTBcbiAgICB9KTtcbiAgICBsb2NhbFNvY2tldENvbm5lY3Rpb24ub24oXCJjb25uZWN0X2Vycm9yXCIsIGVyciA9PiB7XG4gICAgICAvLyByZXZlcnQgdG8gY2xhc3NpYyB1cGdyYWRlXG4gICAgICBsb2NhbFNvY2tldENvbm5lY3Rpb24uaW8ub3B0cy50cmFuc3BvcnRzID0gW1wicG9sbGluZ1wiLCBcIndlYnNvY2tldFwiXTtcbiAgICAgIGxvZy5lcnJvcihcImNvbm5lY3QgZXJyb3JcIiwgZXJyKTtcbiAgICB9KTtcbiAgICBsb2NhbFNvY2tldENvbm5lY3Rpb24ub24oXCJjb25uZWN0XCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZW5naW5lXG4gICAgICB9ID0gbG9jYWxTb2NrZXRDb25uZWN0aW9uLmlvO1xuICAgICAgbG9nLmRlYnVnKFwiaW5pdGlhbGx5IGNvbm5lY3RlZCB0b1wiLCBlbmdpbmUudHJhbnNwb3J0Lm5hbWUpOyAvLyBpbiBtb3N0IGNhc2VzLCBwcmludHMgXCJwb2xsaW5nXCJcbiAgICAgIGVuZ2luZS5vbmNlKFwidXBncmFkZVwiLCAoKSA9PiB7XG4gICAgICAgIC8vIGNhbGxlZCB3aGVuIHRoZSB0cmFuc3BvcnQgaXMgdXBncmFkZWQgKGkuZS4gZnJvbSBIVFRQIGxvbmctcG9sbGluZyB0byBXZWJTb2NrZXQpXG4gICAgICAgIGxvZy5kZWJ1ZyhcInVwZ3JhZGVkXCIsIGVuZ2luZS50cmFuc3BvcnQubmFtZSk7IC8vIGluIG1vc3QgY2FzZXMsIHByaW50cyBcIndlYnNvY2tldFwiXG4gICAgICB9KTtcblxuICAgICAgZW5naW5lLm9uY2UoXCJjbG9zZVwiLCByZWFzb24gPT4ge1xuICAgICAgICAvLyBjYWxsZWQgd2hlbiB0aGUgdW5kZXJseWluZyBjb25uZWN0aW9uIGlzIGNsb3NlZFxuICAgICAgICBsb2cuZGVidWcoXCJjb25uZWN0aW9uIGNsb3NlZFwiLCByZWFzb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbG9jYWxTb2NrZXRDb25uZWN0aW9uLm9uKFwiZXJyb3JcIiwgZXJyID0+IHtcbiAgICAgIGxvZy5lcnJvcihcInNvY2tldCBlcnJvcmVkXCIsIGVycik7XG4gICAgICBsb2NhbFNvY2tldENvbm5lY3Rpb24uZGlzY29ubmVjdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuU09DS0VUX0NPTk4gPSBsb2NhbFNvY2tldENvbm5lY3Rpb247XG4gICAgcmV0dXJuIHRoaXMuU09DS0VUX0NPTk47XG4gIH1cbn1cblxuZXhwb3J0IHsgU2VjdXJlUHViU3ViIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWN1cmVQdWJTdWIuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9kZWZpbmVQcm9wZXJ0eSIsInNpZ24iLCJnZXRQdWJsaWMiLCJzZXRMb2dMZXZlbCIsInBvc3QiLCJrZWNjYWsyNTYiLCJlbmNyeXB0RGF0YSIsImRlY3J5cHREYXRhIiwiaW8iLCJsb2ckMSIsImxvZyIsImdldExvZ2dlciIsIlNlY3VyZVB1YlN1YiIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInRpbWVvdXQiLCJzZXJ2ZXJVcmwiLCJlbmFibGVMb2dnaW5nIiwibmFtZXNwYWNlIiwiZW5hYmxlQWxsIiwiZGlzYWJsZUFsbCIsImxldmVsIiwic2V0TGV2ZWwiLCJwdWJsaXNoIiwidG9waWMiLCJtZXNzYWdlIiwidG9waWNQcml2S2V5IiwiQnVmZmVyIiwiZnJvbSIsImVuY3J5cHRlZERhdGEiLCJ0b1N0cmluZyIsInNpZ25hdHVyZSIsImZldGNoQm9keSIsImtleSIsImRhdGEiLCJzdWJzY3JpYmUiLCJpc1Byb21pc2VQZW5kaW5nIiwidG9waWNQdWJLZXkiLCJjdXJyZW50U29ja2V0Q29ubmVjdGlvbiIsImdldFNvY2tldENvbm5lY3Rpb24iLCJjb25uZWN0ZWQiLCJkZWJ1ZyIsImVtaXQiLCJvbmNlIiwicmVjb25uZWN0IiwidmlzaWJpbGl0eUxpc3RlbmVyIiwiZG9jdW1lbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidmlzaWJpbGl0eVN0YXRlIiwiZGlzY29ubmVjdExpc3RlbmVyIiwiZXJyb3IiLCJyZW1vdmVMaXN0ZW5lciIsIm9uIiwicmV0dXJuUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibGlzdGVuZXIiLCJldiIsImRlY0RhdGEiLCJpbmZvIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFudXAiLCJTT0NLRVRfQ09OTiIsImRpc2Nvbm5lY3QiLCJsb2NhbFNvY2tldENvbm5lY3Rpb24iLCJ0cmFuc3BvcnRzIiwid2l0aENyZWRlbnRpYWxzIiwicmVjb25uZWN0aW9uRGVsYXlNYXgiLCJyZWNvbm5lY3Rpb25BdHRlbXB0cyIsImVyciIsIm9wdHMiLCJlbmdpbmUiLCJ0cmFuc3BvcnQiLCJuYW1lIiwicmVhc29uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/secure-pub-sub/dist/securePubSub.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/solana-embed/dist/solanaEmbed.esm.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@toruslabs/solana-embed/dist/solanaEmbed.esm.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BUTTON_POSITION: () => (/* binding */ BUTTON_POSITION),\n/* harmony export */   LOGIN_PROVIDER: () => (/* binding */ LOGIN_PROVIDER),\n/* harmony export */   PAYMENT_PROVIDER: () => (/* binding */ PAYMENT_PROVIDER),\n/* harmony export */   TORUS_BUILD_ENV: () => (/* binding */ TORUS_BUILD_ENV),\n/* harmony export */   TorusInPageProvider: () => (/* binding */ TorusInPageProvider),\n/* harmony export */   \"default\": () => (/* binding */ Torus)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/web3.js */ \"(ssr)/./node_modules/@solana/web3.js/lib/index.esm.js\");\n/* harmony import */ var _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @toruslabs/base-controllers */ \"(ssr)/./node_modules/@toruslabs/base-controllers/dist/baseControllers.esm.js\");\n/* harmony import */ var _toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @toruslabs/http-helpers */ \"(ssr)/./node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js\");\n/* harmony import */ var _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @toruslabs/openlogin-jrpc */ \"(ssr)/./node_modules/@toruslabs/solana-embed/node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js\");\n/* harmony import */ var eth_rpc_errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! eth-rpc-errors */ \"(ssr)/./node_modules/eth-rpc-errors/dist/index.js\");\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! pump */ \"(ssr)/./node_modules/pump/index.js\");\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(pump__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! loglevel */ \"(ssr)/./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! fast-deep-equal */ \"(ssr)/./node_modules/fast-deep-equal/index.js\");\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\nvar version = \"2.0.0\";\n/* eslint-disable @typescript-eslint/no-explicit-any */ function isStream(stream) {\n    return stream !== null && typeof stream === \"object\" && typeof stream.pipe === \"function\";\n}\nfunction isWritableStream(stream) {\n    return isStream(stream) && stream.writable !== false && typeof stream._write === \"function\" && typeof stream._writableState === \"object\";\n}\nfunction isReadableStream(stream) {\n    return isStream(stream) && stream.readable !== false && typeof stream._read === \"function\" && typeof stream._readableState === \"object\";\n}\nfunction isDuplexStream(stream) {\n    return isWritableStream(stream) && isReadableStream(stream);\n}\nvar messages = {\n    errors: {\n        disconnected: ()=>\"Torus: Lost connection to Torus.\",\n        permanentlyDisconnected: ()=>\"Torus: Disconnected from iframe. Page reload required.\",\n        unsupportedSync: (method)=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${method} without a callback parameter.`,\n        invalidDuplexStream: ()=>\"Must provide a Node.js-style duplex stream.\",\n        invalidOptions: (maxEventListeners)=>`Invalid options. Received: { maxEventListeners: ${maxEventListeners}}`,\n        invalidRequestArgs: ()=>`Expected a single, non-array, object argument.`,\n        invalidRequestMethod: ()=>`'args.method' must be a non-empty string.`,\n        invalidRequestParams: ()=>`'args.params' must be an object or array if provided.`,\n        invalidLoggerObject: ()=>`'args.logger' must be an object if provided.`,\n        invalidLoggerMethod: (method)=>`'args.logger' must include required method '${method}'.`\n    },\n    info: {\n        connected: (chainId)=>`Torus: Connected to chain with ID \"${chainId}\".`\n    },\n    warnings: {}\n};\nconst PAYMENT_PROVIDER = {\n    MOONPAY: \"moonpay\",\n    WYRE: \"wyre\",\n    RAMPNETWORK: \"rampnetwork\",\n    XANPOOL: \"xanpool\",\n    MERCURYO: \"mercuryo\",\n    TRANSAK: \"transak\"\n};\nconst TORUS_BUILD_ENV = {\n    PRODUCTION: \"production\",\n    DEVELOPMENT: \"development\",\n    TESTING: \"testing\"\n};\nconst BUTTON_POSITION = {\n    BOTTOM_LEFT: \"bottom-left\",\n    TOP_LEFT: \"top-left\",\n    BOTTOM_RIGHT: \"bottom-right\",\n    TOP_RIGHT: \"top-right\"\n};\nconst LOGIN_PROVIDER = {\n    GOOGLE: \"google\",\n    FACEBOOK: \"facebook\",\n    REDDIT: \"reddit\",\n    DISCORD: \"discord\",\n    TWITCH: \"twitch\",\n    APPLE: \"apple\",\n    LINE: \"line\",\n    GITHUB: \"github\",\n    KAKAO: \"kakao\",\n    LINKEDIN: \"linkedin\",\n    TWITTER: \"twitter\",\n    WEIBO: \"weibo\",\n    WECHAT: \"wechat\",\n    EMAIL_PASSWORDLESS: \"email_passwordless\"\n};\nconst translations = {\n    en: {\n        embed: {\n            continue: \"Continue\",\n            actionRequired: \"Authorization required\",\n            pendingAction: \"Click continue to proceed with your request in a popup\",\n            cookiesRequired: \"Cookies Required\",\n            enableCookies: \"Please enable cookies in your browser preferences to access Torus\",\n            clickHere: \"More Info\"\n        }\n    },\n    de: {\n        embed: {\n            continue: \"Fortsetzen\",\n            actionRequired: \"Autorisierung erforderlich\",\n            pendingAction: \"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren\",\n            cookiesRequired: \"Cookies ben\\xf6tigt\",\n            enableCookies: \"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen\",\n            clickHere: \"Mehr Info\"\n        }\n    },\n    ja: {\n        embed: {\n            continue: \"継続する\",\n            actionRequired: \"認証が必要です\",\n            pendingAction: \"続行をクリックして、ポップアップでリクエストを続行します\",\n            cookiesRequired: \"必要なクッキー\",\n            enableCookies: \"Torusにアクセスするには、ブラウザの設定でCookieを有効にしてください。\",\n            clickHere: \"詳しくは\"\n        }\n    },\n    ko: {\n        embed: {\n            continue: \"계속하다\",\n            actionRequired: \"승인 필요\",\n            pendingAction: \"팝업에서 요청을 진행하려면 계속을 클릭하십시오.\",\n            cookiesRequired: \"쿠키 필요\",\n            enableCookies: \"브라우저 환경 설정에서 쿠키를 활성화하여 Torus에 액세스하십시오.\",\n            clickHere: \"더 많은 정보\"\n        }\n    },\n    zh: {\n        embed: {\n            continue: \"继续\",\n            actionRequired: \"需要授权\",\n            pendingAction: \"单击继续以在弹出窗口中继续您的请求\",\n            cookiesRequired: \"必填Cookie\",\n            enableCookies: \"请在您的浏览器首选项中启用cookie以访问Torus。\",\n            clickHere: \"更多信息\"\n        }\n    }\n};\nvar configuration = {\n    supportedVerifierList: [\n        LOGIN_PROVIDER.GOOGLE,\n        LOGIN_PROVIDER.REDDIT,\n        LOGIN_PROVIDER.DISCORD\n    ],\n    api: \"https://api.tor.us\",\n    translations,\n    prodTorusUrl: \"\",\n    localStorageKeyPrefix: `torus-`\n};\nvar log = loglevel__WEBPACK_IMPORTED_MODULE_8___default().getLogger(\"solana-embed\");\n// utility functions\n/**\n * json-rpc-engine middleware that logs RPC errors and and validates req.method.\n *\n * @param log - The logging API to use.\n * @returns  json-rpc-engine middleware function\n */ function createErrorMiddleware() {\n    return (req, res, next)=>{\n        // json-rpc-engine will terminate the request when it notices this error\n        if (typeof req.method !== \"string\" || !req.method) {\n            res.error = eth_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.ethErrors.rpc.invalidRequest({\n                message: `The request 'method' must be a non-empty string.`,\n                data: req\n            });\n        }\n        next((done)=>{\n            const { error } = res;\n            if (!error) {\n                return done();\n            }\n            log.error(`Torus - RPC Error: ${error.message}`, error);\n            return done();\n        });\n    };\n}\n/**\n * Logs a stream disconnection error. Emits an 'error' if given an\n * EventEmitter that has listeners for the 'error' event.\n *\n * @param log - The logging API to use.\n * @param remoteLabel - The label of the disconnected stream.\n * @param error - The associated error to log.\n * @param emitter - The logging API to use.\n */ function logStreamDisconnectWarning(remoteLabel, error, emitter) {\n    let warningMsg = `Torus: Lost connection to \"${remoteLabel}\".`;\n    if (error?.stack) {\n        warningMsg += `\\n${error.stack}`;\n    }\n    log.warn(warningMsg);\n    if (emitter && emitter.listenerCount(\"error\") > 0) {\n        emitter.emit(\"error\", warningMsg);\n    }\n}\nconst getWindowId = ()=>Math.random().toString(36).slice(2);\nconst getTorusUrl = async (buildEnv)=>{\n    let torusUrl;\n    let logLevel;\n    // const versionUsed = version;\n    // log.info(\"solana embed version used: \", versionUsed);\n    switch(buildEnv){\n        case \"testing\":\n            torusUrl = \"https://solana-testing.tor.us\";\n            logLevel = \"debug\";\n            break;\n        case \"development\":\n            torusUrl = \"http://localhost:8080\";\n            logLevel = \"debug\";\n            break;\n        default:\n            torusUrl = `https://solana.tor.us`;\n            logLevel = \"error\";\n            break;\n    }\n    return {\n        torusUrl,\n        logLevel\n    };\n};\nconst getUserLanguage = ()=>{\n    let userLanguage = window.navigator.language || \"en-US\";\n    const userLanguages = userLanguage.split(\"-\");\n    userLanguage = Object.prototype.hasOwnProperty.call(configuration.translations, userLanguages[0]) ? userLanguages[0] : \"en\";\n    return userLanguage;\n};\nconst FEATURES_PROVIDER_CHANGE_WINDOW = {\n    height: 660,\n    width: 375\n};\nconst FEATURES_DEFAULT_WALLET_WINDOW = {\n    height: 740,\n    width: 1315\n};\nconst FEATURES_DEFAULT_POPUP_WINDOW = {\n    height: 700,\n    width: 1200\n};\nconst FEATURES_CONFIRM_WINDOW = {\n    height: 600,\n    width: 400\n};\nfunction storageAvailable(type) {\n    let storage;\n    try {\n        storage = window[type];\n        const x = \"__storage_test__\";\n        storage.setItem(x, x);\n        storage.removeItem(x);\n        return true;\n    } catch (error) {\n        const e = error;\n        return e && // everything except Firefox\n        (e.code === 22 || // Firefox\n        e.code === 1014 || // test name field too, because code might not be present\n        // everything except Firefox\n        e.name === \"QuotaExceededError\" || // Firefox\n        e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") && // acknowledge QuotaExceededError only if there's something already stored\n        storage && storage.length !== 0;\n    }\n}\n/**\n * popup handler utils\n */ function getPopupFeatures(_ref) {\n    let { width: w, height: h } = _ref;\n    // Fixes dual-screen position                             Most browsers      Firefox\n    const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n    const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n    const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;\n    const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;\n    const systemZoom = 1; // No reliable estimate\n    const left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n    const top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n    const features = `titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${h / systemZoom},width=${w / systemZoom},top=${top},left=${left}`;\n    return features;\n}\nclass BaseProvider extends _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.SafeEventEmitter {\n    constructor(connectionStream, _ref){\n        let { maxEventListeners = 100, jsonRpcStreamName = \"provider\" } = _ref;\n        super();\n        /**\n     * Indicating that this provider is a Torus provider.\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"isTorus\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"_rpcEngine\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"jsonRpcConnectionEvents\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"_state\", void 0);\n        if (!isDuplexStream(connectionStream)) {\n            throw new Error(messages.errors.invalidDuplexStream());\n        }\n        this.isTorus = true;\n        this.setMaxListeners(maxEventListeners);\n        this._handleConnect = this._handleConnect.bind(this);\n        this._handleDisconnect = this._handleDisconnect.bind(this);\n        this._handleStreamDisconnect = this._handleStreamDisconnect.bind(this);\n        this._rpcRequest = this._rpcRequest.bind(this);\n        this._initializeState = this._initializeState.bind(this);\n        this.request = this.request.bind(this);\n        this.sendAsync = this.sendAsync.bind(this);\n        // this.enable = this.enable.bind(this);\n        // setup connectionStream multiplexing\n        const mux = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.ObjectMultiplex();\n        pump__WEBPACK_IMPORTED_MODULE_7___default()(connectionStream, mux, connectionStream, this._handleStreamDisconnect.bind(this, \"Torus\"));\n        // ignore phishing warning message (handled elsewhere)\n        mux.ignoreStream(\"phishing\");\n        // setup own event listeners\n        // connect to async provider\n        const jsonRpcConnection = (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.createStreamMiddleware)();\n        pump__WEBPACK_IMPORTED_MODULE_7___default()(jsonRpcConnection.stream, mux.createStream(jsonRpcStreamName), jsonRpcConnection.stream, this._handleStreamDisconnect.bind(this, \"Torus RpcProvider\"));\n        // handle RPC requests via dapp-side rpc engine\n        const rpcEngine = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.JRPCEngine();\n        rpcEngine.push((0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.createIdRemapMiddleware)());\n        rpcEngine.push(createErrorMiddleware());\n        rpcEngine.push((0,_toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.createLoggerMiddleware)({\n            origin: location.origin\n        }));\n        rpcEngine.push(jsonRpcConnection.middleware);\n        this._rpcEngine = rpcEngine;\n        this.jsonRpcConnectionEvents = jsonRpcConnection.events;\n    }\n    /**\n   * Submits an RPC request for the given method, with the given params.\n   * Resolves with the result of the method call, or rejects on error.\n   */ async request(args) {\n        if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n            throw eth_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.ethErrors.rpc.invalidRequest({\n                message: messages.errors.invalidRequestArgs(),\n                data: args\n            });\n        }\n        const { method, params } = args;\n        if (typeof method !== \"string\" || method.length === 0) {\n            throw eth_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.ethErrors.rpc.invalidRequest({\n                message: messages.errors.invalidRequestMethod(),\n                data: args\n            });\n        }\n        if (params !== undefined && !Array.isArray(params) && (typeof params !== \"object\" || params === null)) {\n            throw eth_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.ethErrors.rpc.invalidRequest({\n                message: messages.errors.invalidRequestParams(),\n                data: args\n            });\n        }\n        return new Promise((resolve, reject)=>{\n            this._rpcRequest({\n                method,\n                params\n            }, (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.getRpcPromiseCallback)(resolve, reject));\n        });\n    }\n    /**\n   * Submits an RPC request per the given JSON-RPC request object.\n   */ send(payload, callback) {\n        this._rpcRequest(payload, callback);\n    }\n    /**\n   * Submits an RPC request per the given JSON-RPC request object.\n   */ sendAsync(payload) {\n        return new Promise((resolve, reject)=>{\n            this._rpcRequest(payload, (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.getRpcPromiseCallback)(resolve, reject));\n        });\n    }\n    /**\n   * Called when connection is lost to critical streams.\n   *\n   * emits TorusInpageProvider#disconnect\n   */ _handleStreamDisconnect(streamName, error) {\n        logStreamDisconnectWarning(streamName, error, this);\n        this._handleDisconnect(false, error ? error.message : undefined);\n    }\n}\nconst htmlToElement = (html)=>{\n    const template = window.document.createElement(\"template\");\n    const trimmedHtml = html.trim(); // Never return a text node of whitespace as the result\n    template.innerHTML = trimmedHtml;\n    return template.content.firstChild;\n};\nfunction isLegacyTransactionInstance(transaction) {\n    return transaction.version === undefined;\n}\nclass PopupHandler extends _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.SafeEventEmitter {\n    constructor(_ref){\n        let { url, target, features, timeout = 30000 } = _ref;\n        super();\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"url\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"target\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"features\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"window\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"windowTimer\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"iClosedWindow\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"timeout\", void 0);\n        this.url = url;\n        this.target = target || \"_blank\";\n        this.features = features || getPopupFeatures(FEATURES_DEFAULT_POPUP_WINDOW);\n        this.window = undefined;\n        this.windowTimer = undefined;\n        this.iClosedWindow = false;\n        this.timeout = timeout;\n        this._setupTimer();\n    }\n    _setupTimer() {\n        this.windowTimer = Number(setInterval(()=>{\n            if (this.window && this.window.closed) {\n                clearInterval(this.windowTimer);\n                setTimeout(()=>{\n                    if (!this.iClosedWindow) {\n                        this.emit(\"close\");\n                    }\n                    this.iClosedWindow = false;\n                    this.window = undefined;\n                }, this.timeout);\n            }\n            if (this.window === undefined) clearInterval(this.windowTimer);\n        }, 500));\n    }\n    open() {\n        this.window = window.open(this.url.href, this.target, this.features);\n        if (this.window?.focus) this.window.focus();\n        return Promise.resolve();\n    }\n    close() {\n        this.iClosedWindow = true;\n        if (this.window) this.window.close();\n    }\n    redirect(locationReplaceOnRedirect) {\n        if (locationReplaceOnRedirect) {\n            window.location.replace(this.url.href);\n        } else {\n            window.location.href = this.url.href;\n        }\n    }\n}\nclass TorusCommunicationProvider extends BaseProvider {\n    constructor(connectionStream, _ref){\n        let { maxEventListeners = 100, jsonRpcStreamName = \"provider\" } = _ref;\n        super(connectionStream, {\n            maxEventListeners,\n            jsonRpcStreamName\n        });\n        // private state\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"embedTranslations\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"torusUrl\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"dappStorageKey\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"windowRefs\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"tryWindowHandle\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"torusAlertContainer\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"torusIframe\", void 0);\n        this._state = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, TorusCommunicationProvider._defaultState);\n        // public state\n        this.torusUrl = \"\";\n        this.dappStorageKey = \"\";\n        const languageTranslations = configuration.translations[getUserLanguage()];\n        this.embedTranslations = languageTranslations.embed;\n        this.windowRefs = {};\n        // setup own event listeners\n        // EIP-1193 connect\n        this.on(\"connect\", ()=>{\n            this._state.isConnected = true;\n        });\n        const notificationHandler = (payload)=>{\n            const { method, params } = payload;\n            if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_NOTIFICATIONS.IFRAME_STATUS) {\n                const { isFullScreen, rid } = params;\n                this._displayIframe({\n                    isFull: isFullScreen,\n                    rid: rid\n                });\n            } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_NOTIFICATIONS.CREATE_WINDOW) {\n                const { windowId, url } = params;\n                this._createPopupBlockAlert(windowId, url);\n            } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_NOTIFICATIONS.CLOSE_WINDOW) {\n                this._handleCloseWindow(params);\n            } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_NOTIFICATIONS.USER_LOGGED_IN) {\n                const { currentLoginProvider } = params;\n                this._state.isLoggedIn = true;\n                this._state.currentLoginProvider = currentLoginProvider;\n            } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_NOTIFICATIONS.USER_LOGGED_OUT) {\n                this._state.isLoggedIn = false;\n                this._state.currentLoginProvider = null;\n                this._displayIframe();\n            }\n        };\n        this.jsonRpcConnectionEvents.on(\"notification\", notificationHandler);\n    }\n    get isLoggedIn() {\n        return this._state.isLoggedIn;\n    }\n    get isIFrameFullScreen() {\n        return this._state.isIFrameFullScreen;\n    }\n    /**\n   * Returns whether the inPage provider is connected to Torus.\n   */ isConnected() {\n        return this._state.isConnected;\n    }\n    async _initializeState(params) {\n        try {\n            const { torusUrl, dappStorageKey, torusAlertContainer, torusIframe } = params;\n            this.torusUrl = torusUrl;\n            this.dappStorageKey = dappStorageKey;\n            this.torusAlertContainer = torusAlertContainer;\n            this.torusIframe = torusIframe;\n            this.torusIframe.addEventListener(\"load\", ()=>{\n                // only do this if iframe is not full screen\n                if (!this._state.isIFrameFullScreen) this._displayIframe();\n            });\n            const { currentLoginProvider, isLoggedIn } = await this.request({\n                method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_JRPC_METHODS.GET_PROVIDER_STATE,\n                params: []\n            });\n            // indicate that we've connected, for EIP-1193 compliance\n            this._handleConnect(currentLoginProvider, isLoggedIn);\n        } catch (error) {\n            log.error(\"Torus: Failed to get initial state. Please report this bug.\", error);\n        } finally{\n            log.info(\"initialized communication state\");\n            this._state.initialized = true;\n            this.emit(\"_initialized\");\n        }\n    }\n    _handleWindow(windowId) {\n        let { url, target, features } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        const finalUrl = new URL(url || `${this.torusUrl}/redirect?windowId=${windowId}`);\n        if (this.dappStorageKey) {\n            // If multiple instances, it returns the first one\n            if (finalUrl.hash) finalUrl.hash += `&dappStorageKey=${this.dappStorageKey}`;\n            else finalUrl.hash = `#dappStorageKey=${this.dappStorageKey}`;\n        }\n        const handledWindow = new PopupHandler({\n            url: finalUrl,\n            target,\n            features\n        });\n        handledWindow.open();\n        if (!handledWindow.window) {\n            this._createPopupBlockAlert(windowId, finalUrl.href);\n            return;\n        }\n        // Add to collection only if window is opened\n        this.windowRefs[windowId] = handledWindow;\n        // We tell the iframe that the window has been successfully opened\n        this.request({\n            method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_JRPC_METHODS.OPENED_WINDOW,\n            params: {\n                windowId\n            }\n        });\n        handledWindow.once(\"close\", ()=>{\n            // user closed the window\n            delete this.windowRefs[windowId];\n            this.request({\n                method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_JRPC_METHODS.CLOSED_WINDOW,\n                params: {\n                    windowId\n                }\n            });\n        });\n    }\n    _displayIframe() {\n        let { isFull = false, rid = \"\" } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        const style = {};\n        // set phase\n        if (!isFull) {\n            style.display = this._state.torusWidgetVisibility ? \"block\" : \"none\";\n            style.height = \"70px\";\n            style.width = \"70px\";\n            switch(this._state.buttonPosition){\n                case BUTTON_POSITION.TOP_LEFT:\n                    style.top = \"0px\";\n                    style.left = \"0px\";\n                    style.right = \"auto\";\n                    style.bottom = \"auto\";\n                    break;\n                case BUTTON_POSITION.TOP_RIGHT:\n                    style.top = \"0px\";\n                    style.right = \"0px\";\n                    style.left = \"auto\";\n                    style.bottom = \"auto\";\n                    break;\n                case BUTTON_POSITION.BOTTOM_RIGHT:\n                    style.bottom = \"0px\";\n                    style.right = \"0px\";\n                    style.top = \"auto\";\n                    style.left = \"auto\";\n                    break;\n                case BUTTON_POSITION.BOTTOM_LEFT:\n                default:\n                    style.bottom = \"0px\";\n                    style.left = \"0px\";\n                    style.top = \"auto\";\n                    style.right = \"auto\";\n                    break;\n            }\n        } else {\n            style.display = \"block\";\n            style.width = \"100%\";\n            style.height = \"100%\";\n            style.top = \"0px\";\n            style.right = \"0px\";\n            style.left = \"0px\";\n            style.bottom = \"0px\";\n        }\n        Object.assign(this.torusIframe.style, style);\n        this._state.isIFrameFullScreen = isFull;\n        this.request({\n            method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_JRPC_METHODS.IFRAME_STATUS,\n            params: {\n                isIFrameFullScreen: isFull,\n                rid\n            }\n        });\n    }\n    hideTorusButton() {\n        this._state.torusWidgetVisibility = false;\n        this._displayIframe();\n    }\n    showTorusButton() {\n        this._state.torusWidgetVisibility = true;\n        this._displayIframe();\n    }\n    /**\n   * Internal RPC method. Forwards requests to background via the RPC engine.\n   * Also remap ids inbound and outbound\n   */ _rpcRequest(payload, callback) {\n        const cb = callback;\n        const _payload = payload;\n        if (!Array.isArray(_payload)) {\n            if (!_payload.jsonrpc) {\n                _payload.jsonrpc = \"2.0\";\n            }\n        }\n        this.tryWindowHandle(_payload, cb);\n    }\n    /**\n   * When the provider becomes connected, updates internal state and emits\n   * required events. Idempotent.\n   *\n   * @param currentLoginProvider - The login Provider\n   * emits TorusInpageProvider#connect\n   */ _handleConnect(currentLoginProvider, isLoggedIn) {\n        if (!this._state.isConnected) {\n            this._state.isConnected = true;\n            this.emit(\"connect\", {\n                currentLoginProvider,\n                isLoggedIn\n            });\n            log.debug(messages.info.connected(currentLoginProvider));\n        }\n    }\n    /**\n   * When the provider becomes disconnected, updates internal state and emits\n   * required events. Idempotent with respect to the isRecoverable parameter.\n   *\n   * Error codes per the CloseEvent status codes as required by EIP-1193:\n   * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n   *\n   * @param isRecoverable - Whether the disconnection is recoverable.\n   * @param errorMessage - A custom error message.\n   * emits TorusInpageProvider#disconnect\n   */ _handleDisconnect(isRecoverable, errorMessage) {\n        if (this._state.isConnected || !this._state.isPermanentlyDisconnected && !isRecoverable) {\n            this._state.isConnected = false;\n            let error;\n            if (isRecoverable) {\n                error = new eth_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.EthereumRpcError(1013, // Try again later\n                errorMessage || messages.errors.disconnected());\n                log.debug(error);\n            } else {\n                error = new eth_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.EthereumRpcError(1011, // Internal error\n                errorMessage || messages.errors.permanentlyDisconnected());\n                log.error(error);\n                this._state.currentLoginProvider = null;\n                this._state.isLoggedIn = false;\n                this._state.torusWidgetVisibility = false;\n                this._state.isIFrameFullScreen = false;\n                this._state.isPermanentlyDisconnected = true;\n            }\n            this.emit(\"disconnect\", error);\n        }\n    }\n    // Called if the iframe wants to close the window cause it is done processing the request\n    _handleCloseWindow(params) {\n        const { windowId } = params;\n        if (this.windowRefs[windowId]) {\n            this.windowRefs[windowId].close();\n            delete this.windowRefs[windowId];\n        }\n    }\n    async _createPopupBlockAlert(windowId, url) {\n        const logoUrl = this.getLogoUrl();\n        const torusAlert = htmlToElement('<div id=\"torusAlert\" class=\"torus-alert--v2\">' + `<div id=\"torusAlert__logo\"><img src=\"${logoUrl}\" /></div>` + \"<div>\" + `<h1 id=\"torusAlert__title\">${this.embedTranslations.actionRequired}</h1>` + `<p id=\"torusAlert__desc\">${this.embedTranslations.pendingAction}</p>` + \"</div>\" + \"</div>\");\n        const successAlert = htmlToElement(`<div><a id=\"torusAlert__btn\">${this.embedTranslations.continue}</a></div>`);\n        const btnContainer = htmlToElement('<div id=\"torusAlert__btn-container\"></div>');\n        btnContainer.appendChild(successAlert);\n        torusAlert.appendChild(btnContainer);\n        const bindOnLoad = ()=>{\n            successAlert.addEventListener(\"click\", ()=>{\n                this._handleWindow(windowId, {\n                    url,\n                    target: \"_blank\",\n                    features: getPopupFeatures(FEATURES_CONFIRM_WINDOW)\n                });\n                torusAlert.remove();\n                if (this.torusAlertContainer.children.length === 0) this.torusAlertContainer.style.display = \"none\";\n            });\n        };\n        const attachOnLoad = ()=>{\n            this.torusAlertContainer.appendChild(torusAlert);\n        };\n        attachOnLoad();\n        bindOnLoad();\n        this.torusAlertContainer.style.display = \"block\";\n    }\n    getLogoUrl() {\n        const logoUrl = `${this.torusUrl}/images/torus_icon-blue.svg`;\n        return logoUrl;\n    }\n}\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(TorusCommunicationProvider, \"_defaultState\", {\n    buttonPosition: \"bottom-left\",\n    currentLoginProvider: null,\n    isIFrameFullScreen: false,\n    hasEmittedConnection: false,\n    torusWidgetVisibility: false,\n    initialized: false,\n    isLoggedIn: false,\n    isPermanentlyDisconnected: false,\n    isConnected: false\n});\nclass TorusInPageProvider extends BaseProvider {\n    constructor(connectionStream, _ref){\n        let { maxEventListeners = 100, jsonRpcStreamName = \"provider\" } = _ref;\n        super(connectionStream, {\n            maxEventListeners,\n            jsonRpcStreamName\n        });\n        // private state\n        /**\n     * The chain ID of the currently connected Solana chain.\n     * See [chainId.network]{@link https://chainid.network} for more information.\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"chainId\", void 0);\n        /**\n     * The user's currently selected Solana address.\n     * If null, Torus is either locked or the user has not permitted any\n     * addresses to be viewed.\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"selectedAddress\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"tryWindowHandle\", void 0);\n        this._state = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, TorusInPageProvider._defaultState);\n        // public state\n        this.selectedAddress = null;\n        this.chainId = null;\n        this._handleAccountsChanged = this._handleAccountsChanged.bind(this);\n        this._handleChainChanged = this._handleChainChanged.bind(this);\n        this._handleUnlockStateChanged = this._handleUnlockStateChanged.bind(this);\n        // setup own event listeners\n        // EIP-1193 connect\n        this.on(\"connect\", ()=>{\n            this._state.isConnected = true;\n        });\n        const jsonRpcNotificationHandler = (payload)=>{\n            const { method, params } = payload;\n            if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.PROVIDER_NOTIFICATIONS.ACCOUNTS_CHANGED) {\n                this._handleAccountsChanged(params);\n            } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.PROVIDER_NOTIFICATIONS.UNLOCK_STATE_CHANGED) {\n                this._handleUnlockStateChanged(params);\n            } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.PROVIDER_NOTIFICATIONS.CHAIN_CHANGED) {\n                this._handleChainChanged(params);\n            }\n        };\n        // json rpc notification listener\n        this.jsonRpcConnectionEvents.on(\"notification\", jsonRpcNotificationHandler);\n    }\n    /**\n   * Returns whether the inpage provider is connected to Torus.\n   */ isConnected() {\n        return this._state.isConnected;\n    }\n    // Private Methods\n    //= ===================\n    /**\n   * Constructor helper.\n   * Populates initial state by calling 'wallet_getProviderState' and emits\n   * necessary events.\n   */ async _initializeState() {\n        try {\n            const { accounts, chainId, isUnlocked } = await this.request({\n                method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.PROVIDER_JRPC_METHODS.GET_PROVIDER_STATE,\n                params: []\n            });\n            // indicate that we've connected, for EIP-1193 compliance\n            this.emit(\"connect\", {\n                chainId\n            });\n            this._handleChainChanged({\n                chainId\n            });\n            this._handleUnlockStateChanged({\n                accounts,\n                isUnlocked\n            });\n            this._handleAccountsChanged(accounts);\n        } catch (error) {\n            log.error(\"Torus: Failed to get initial state. Please report this bug.\", error);\n        } finally{\n            log.info(\"initialized provider state\");\n            this._state.initialized = true;\n            this.emit(\"_initialized\");\n        }\n    }\n    /**\n   * Internal RPC method. Forwards requests to background via the RPC engine.\n   * Also remap ids inbound and outbound\n   */ _rpcRequest(payload, callback) {\n        let isInternal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        let cb = callback;\n        const _payload = payload;\n        if (!Array.isArray(_payload)) {\n            if (!_payload.jsonrpc) {\n                _payload.jsonrpc = \"2.0\";\n            }\n            if (_payload.method === \"solana_accounts\" || _payload.method === \"solana_requestAccounts\") {\n                // handle accounts changing\n                cb = (err, res)=>{\n                    this._handleAccountsChanged(res.result || [], _payload.method === \"solana_accounts\", isInternal);\n                    callback(err, res);\n                };\n            } else if (_payload.method === \"wallet_getProviderState\") {\n                this._rpcEngine.handle(payload, cb);\n                return;\n            }\n        }\n        this.tryWindowHandle(_payload, cb);\n    }\n    /**\n   * When the provider becomes connected, updates internal state and emits\n   * required events. Idempotent.\n   *\n   * @param chainId - The ID of the newly connected chain.\n   * emits TorusInpageProvider#connect\n   */ _handleConnect(chainId) {\n        if (!this._state.isConnected) {\n            this._state.isConnected = true;\n            this.emit(\"connect\", {\n                chainId\n            });\n            log.debug(messages.info.connected(chainId));\n        }\n    }\n    /**\n   * When the provider becomes disconnected, updates internal state and emits\n   * required events. Idempotent with respect to the isRecoverable parameter.\n   *\n   * Error codes per the CloseEvent status codes as required by EIP-1193:\n   * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n   *\n   * @param isRecoverable - Whether the disconnection is recoverable.\n   * @param errorMessage - A custom error message.\n   * emits TorusInpageProvider#disconnect\n   */ _handleDisconnect(isRecoverable, errorMessage) {\n        if (this._state.isConnected || !this._state.isPermanentlyDisconnected && !isRecoverable) {\n            this._state.isConnected = false;\n            let error;\n            if (isRecoverable) {\n                error = new eth_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.EthereumRpcError(1013, // Try again later\n                errorMessage || messages.errors.disconnected());\n                log.debug(error);\n            } else {\n                error = new eth_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.EthereumRpcError(1011, // Internal error\n                errorMessage || messages.errors.permanentlyDisconnected());\n                log.error(error);\n                this.chainId = null;\n                this._state.accounts = null;\n                this.selectedAddress = null;\n                this._state.isUnlocked = false;\n                this._state.isPermanentlyDisconnected = true;\n            }\n            this.emit(\"disconnect\", error);\n        }\n    }\n    /**\n   * Called when accounts may have changed.\n   */ _handleAccountsChanged(accounts) {\n        let isEthAccounts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        let isInternal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        // defensive programming\n        let finalAccounts = accounts;\n        if (!Array.isArray(finalAccounts)) {\n            log.error(\"Torus: Received non-array accounts parameter. Please report this bug.\", finalAccounts);\n            finalAccounts = [];\n        }\n        for (const account of accounts){\n            if (typeof account !== \"string\") {\n                log.error(\"Torus: Received non-string account. Please report this bug.\", accounts);\n                finalAccounts = [];\n                break;\n            }\n        }\n        // emit accountsChanged if anything about the accounts array has changed\n        if (!fast_deep_equal__WEBPACK_IMPORTED_MODULE_9___default()(this._state.accounts, finalAccounts)) {\n            // we should always have the correct accounts even before solana_accounts\n            // returns, except in cases where isInternal is true\n            if (isEthAccounts && Array.isArray(this._state.accounts) && this._state.accounts.length > 0 && !isInternal) {\n                log.error('Torus: \"solana_accounts\" unexpectedly updated accounts. Please report this bug.', finalAccounts);\n            }\n            this._state.accounts = finalAccounts;\n            this.emit(\"accountsChanged\", finalAccounts);\n        }\n        // handle selectedAddress\n        if (this.selectedAddress !== finalAccounts[0]) {\n            this.selectedAddress = finalAccounts[0] || null;\n        }\n    }\n    /**\n   * Upon receipt of a new chainId and networkVersion, emits corresponding\n   * events and sets relevant public state.\n   * Does nothing if neither the chainId nor the networkVersion are different\n   * from existing values.\n   *\n   * emits TorusInpageProvider#chainChanged\n   * @param networkInfo - An object with network info.\n   */ _handleChainChanged() {\n        let { chainId } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (!chainId) {\n            log.error(\"Torus: Received invalid network parameters. Please report this bug.\", {\n                chainId\n            });\n            return;\n        }\n        if (chainId === \"loading\") {\n            this._handleDisconnect(true);\n        } else {\n            this._handleConnect(chainId);\n            if (chainId !== this.chainId) {\n                this.chainId = chainId;\n                if (this._state.initialized) {\n                    this.emit(\"chainChanged\", this.chainId);\n                }\n            }\n        }\n    }\n    /**\n   * Upon receipt of a new isUnlocked state, sets relevant public state.\n   * Calls the accounts changed handler with the received accounts, or an empty\n   * array.\n   *\n   * Does nothing if the received value is equal to the existing value.\n   * There are no lock/unlock events.\n   *\n   * @param opts - Options bag.\n   */ _handleUnlockStateChanged() {\n        let { accounts, isUnlocked } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (typeof isUnlocked !== \"boolean\") {\n            log.error(\"Torus: Received invalid isUnlocked parameter. Please report this bug.\", {\n                isUnlocked\n            });\n            return;\n        }\n        if (isUnlocked !== this._state.isUnlocked) {\n            this._state.isUnlocked = isUnlocked;\n            this._handleAccountsChanged(accounts || []);\n        }\n    }\n}\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(TorusInPageProvider, \"_defaultState\", {\n    accounts: null,\n    isConnected: false,\n    isUnlocked: false,\n    initialized: false,\n    isPermanentlyDisconnected: false,\n    hasEmittedConnection: false\n});\n/**\n * Returns whether the given image URL exists\n */ function imgExists(url) {\n    return new Promise((resolve, reject)=>{\n        try {\n            const img = document.createElement(\"img\");\n            img.onload = ()=>resolve(true);\n            img.onerror = ()=>resolve(false);\n            img.src = url;\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\n/**\n * Extracts a name for the site from the DOM\n */ const getSiteName = (window1)=>{\n    const { document: document1 } = window1;\n    const siteName = document1.querySelector('head > meta[property=\"og:site_name\"]');\n    if (siteName) {\n        return siteName.content;\n    }\n    const metaTitle = document1.querySelector('head > meta[name=\"title\"]');\n    if (metaTitle) {\n        return metaTitle.content;\n    }\n    if (document1.title && document1.title.length > 0) {\n        return document1.title;\n    }\n    return window1.location.hostname;\n};\n/**\n * Extracts an icon for the site from the DOM\n */ async function getSiteIcon(window1) {\n    try {\n        const { document: document1 } = window1;\n        // Use the site's favicon if it exists\n        let icon = document1.querySelector('head > link[rel=\"shortcut icon\"]');\n        if (icon && await imgExists(icon.href)) {\n            return icon.href;\n        }\n        // Search through available icons in no particular order\n        icon = Array.from(document1.querySelectorAll('head > link[rel=\"icon\"]')).find((_icon)=>Boolean(_icon.href));\n        if (icon && await imgExists(icon.href)) {\n            return icon.href;\n        }\n        return \"\";\n    } catch (error) {\n        return \"\";\n    }\n}\n/**\n * Gets site metadata and returns it\n *\n */ const getSiteMetadata = async ()=>({\n        name: getSiteName(window),\n        icon: await getSiteIcon(window)\n    });\nconst PROVIDER_UNSAFE_METHODS = [\n    \"send_transaction\",\n    \"sign_transaction\",\n    \"sign_all_transactions\",\n    \"sign_message\",\n    \"connect\"\n];\nconst COMMUNICATION_UNSAFE_METHODS = [\n    _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_JRPC_METHODS.SET_PROVIDER\n];\nconst isLocalStorageAvailable = storageAvailable(\"localStorage\");\n// preload for iframe doesn't work https://bugs.chromium.org/p/chromium/issues/detail?id=593267\n(async function preLoadIframe() {\n    try {\n        if (typeof document === \"undefined\") return;\n        const torusIframeHtml = document.createElement(\"link\");\n        const { torusUrl } = await getTorusUrl(\"production\");\n        torusIframeHtml.href = `${torusUrl}/frame`;\n        torusIframeHtml.crossOrigin = \"anonymous\";\n        torusIframeHtml.type = \"text/html\";\n        torusIframeHtml.rel = \"prefetch\";\n        if (torusIframeHtml.relList && torusIframeHtml.relList.supports) {\n            if (torusIframeHtml.relList.supports(\"prefetch\")) {\n                document.head.appendChild(torusIframeHtml);\n            }\n        }\n    } catch (error) {\n        log.warn(error);\n    }\n})();\nclass Torus {\n    constructor(){\n        let { modalZIndex = 99999 } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"isInitialized\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"torusAlert\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"modalZIndex\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"alertZIndex\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"requestedLoginProvider\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"provider\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"communicationProvider\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"dappStorageKey\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"isTopupHidden\", false);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"torusAlertContainer\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"torusUrl\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"torusIframe\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(this, \"styleLink\", void 0);\n        this.torusUrl = \"\";\n        this.isInitialized = false; // init done\n        this.requestedLoginProvider = null;\n        this.modalZIndex = modalZIndex;\n        this.alertZIndex = modalZIndex + 1000;\n        this.dappStorageKey = \"\";\n    }\n    get isLoggedIn() {\n        if (!this.communicationProvider) return false;\n        return this.communicationProvider.isLoggedIn;\n    }\n    async init() {\n        let { buildEnv = TORUS_BUILD_ENV.PRODUCTION, enableLogging = false, network, showTorusButton = false, useLocalStorage = false, buttonPosition = BUTTON_POSITION.BOTTOM_LEFT, apiKey = \"torus-default\", extraParams = {}, whiteLabel } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (this.isInitialized) throw new Error(\"Already initialized\");\n        (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_4__.setAPIKey)(apiKey);\n        const { torusUrl, logLevel } = await getTorusUrl(buildEnv);\n        log.enableAll();\n        log.info(torusUrl, \"url loaded\");\n        log.info(`Solana Embed Version :${version}`);\n        this.torusUrl = torusUrl;\n        log.setDefaultLevel(logLevel);\n        if (enableLogging) log.enableAll();\n        else log.disableAll();\n        const dappStorageKey = this.handleDappStorageKey(useLocalStorage);\n        const torusIframeUrl = new URL(torusUrl);\n        if (torusIframeUrl.pathname.endsWith(\"/\")) torusIframeUrl.pathname += \"frame\";\n        else torusIframeUrl.pathname += \"/frame\";\n        const hashParams = new URLSearchParams();\n        if (dappStorageKey) hashParams.append(\"dappStorageKey\", dappStorageKey);\n        hashParams.append(\"origin\", window.location.origin);\n        torusIframeUrl.hash = hashParams.toString();\n        // Iframe code\n        this.torusIframe = htmlToElement(`<iframe\n        id=\"torusIframe\"\n        class=\"torusIframe\"\n        src=\"${torusIframeUrl.href}\"\n        style=\"display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()}\"\n      ></iframe>`);\n        this.torusAlertContainer = htmlToElement(`<div id=\"torusAlertContainer\" style=\"display:none; z-index: ${this.alertZIndex.toString()}\"></div>`);\n        this.styleLink = htmlToElement(`<link href=\"${torusUrl}/css/widget.css\" rel=\"stylesheet\" type=\"text/css\">`);\n        return new Promise((resolve, reject)=>{\n            try {\n                this.torusIframe.addEventListener(\"load\", async ()=>{\n                    const dappMetadata = await getSiteMetadata();\n                    // send init params here\n                    this.torusIframe.contentWindow.postMessage({\n                        buttonPosition,\n                        apiKey,\n                        network,\n                        dappMetadata,\n                        extraParams,\n                        whiteLabel\n                    }, torusIframeUrl.origin);\n                    await this._setupWeb3({\n                        torusUrl\n                    });\n                    if (showTorusButton) this.showTorusButton();\n                    if (whiteLabel?.topupHide) this.isTopupHidden = whiteLabel.topupHide;\n                    else this.hideTorusButton();\n                    this.isInitialized = true;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    window.torus = this;\n                    resolve();\n                });\n                window.document.head.appendChild(this.styleLink);\n                window.document.body.appendChild(this.torusIframe);\n                window.document.body.appendChild(this.torusAlertContainer);\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n    async login() {\n        let params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (!this.isInitialized) throw new Error(\"Call init() first\");\n        try {\n            this.requestedLoginProvider = params.loginProvider || null;\n            if (!this.requestedLoginProvider) {\n                this.communicationProvider._displayIframe({\n                    isFull: true\n                });\n            }\n            // If user is already logged in, we assume they have given access to the website\n            const res = await new Promise((resolve, reject)=>{\n                // We use this method because we want to update inPage provider state with account info\n                this.provider._rpcRequest({\n                    method: \"solana_requestAccounts\",\n                    params: [\n                        this.requestedLoginProvider,\n                        params.login_hint\n                    ]\n                }, (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.getRpcPromiseCallback)(resolve, reject));\n            });\n            if (Array.isArray(res) && res.length > 0) {\n                return res;\n            }\n            // This would never happen, but just in case\n            throw new Error(\"Login failed\");\n        } catch (error) {\n            log.error(\"login failed\", error);\n            throw error;\n        } finally{\n            if (this.communicationProvider.isIFrameFullScreen) this.communicationProvider._displayIframe();\n        }\n    }\n    async loginWithPrivateKey(loginParams) {\n        if (!this.isInitialized) throw new Error(\"Call init() first\");\n        const { privateKey, userInfo } = loginParams;\n        const { success } = await this.communicationProvider.request({\n            method: \"login_with_private_key\",\n            params: {\n                privateKey,\n                userInfo\n            }\n        });\n        if (!success) throw new Error(\"Login Failed\");\n    }\n    async logout() {\n        if (!this.communicationProvider.isLoggedIn) throw new Error(\"Not logged in\");\n        await this.communicationProvider.request({\n            method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_JRPC_METHODS.LOGOUT,\n            params: []\n        });\n        this.requestedLoginProvider = null;\n    }\n    async cleanUp() {\n        if (this.communicationProvider.isLoggedIn) {\n            await this.logout();\n        }\n        this.clearInit();\n    }\n    clearInit() {\n        function isElement(element) {\n            return element instanceof Element || element instanceof Document;\n        }\n        if (isElement(this.styleLink) && window.document.body.contains(this.styleLink)) {\n            this.styleLink.remove();\n            this.styleLink = undefined;\n        }\n        if (isElement(this.torusIframe) && window.document.body.contains(this.torusIframe)) {\n            this.torusIframe.remove();\n            this.torusIframe = undefined;\n        }\n        if (isElement(this.torusAlertContainer) && window.document.body.contains(this.torusAlertContainer)) {\n            this.torusAlert = undefined;\n            this.torusAlertContainer.remove();\n            this.torusAlertContainer = undefined;\n        }\n        this.isInitialized = false;\n    }\n    hideTorusButton() {\n        this.communicationProvider.hideTorusButton();\n    }\n    showTorusButton() {\n        this.communicationProvider.showTorusButton();\n    }\n    async setProvider(params) {\n        await this.communicationProvider.request({\n            method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_JRPC_METHODS.SET_PROVIDER,\n            params: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, params)\n        });\n    }\n    async showWallet(path) {\n        let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        const instanceId = await this.communicationProvider.request({\n            method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_JRPC_METHODS.WALLET_INSTANCE_ID,\n            params: []\n        });\n        const finalPath = path ? `/${path}` : \"\";\n        const finalUrl = new URL(`${this.torusUrl}/wallet${finalPath}`);\n        // Using URL constructor to prevent js injection and allow parameter validation.!\n        finalUrl.searchParams.append(\"instanceId\", instanceId);\n        Object.keys(params).forEach((x)=>{\n            finalUrl.searchParams.append(x, params[x]);\n        });\n        if (this.dappStorageKey) {\n            finalUrl.hash = `#dappStorageKey=${this.dappStorageKey}`;\n        }\n        // No need to track this window state. Hence, no _handleWindow call.\n        const walletWindow = new PopupHandler({\n            url: finalUrl,\n            features: getPopupFeatures(FEATURES_DEFAULT_WALLET_WINDOW)\n        });\n        walletWindow.open();\n    }\n    async getUserInfo() {\n        const userInfoResponse = await this.communicationProvider.request({\n            method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_JRPC_METHODS.USER_INFO,\n            params: []\n        });\n        return userInfoResponse;\n    }\n    async initiateTopup(provider, params) {\n        if (!this.isInitialized) throw new Error(\"Torus is not initialized\");\n        const windowId = getWindowId();\n        this.communicationProvider._handleWindow(windowId);\n        const topupResponse = await this.communicationProvider.request({\n            method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_3__.COMMUNICATION_JRPC_METHODS.TOPUP,\n            params: {\n                provider,\n                params,\n                windowId\n            }\n        });\n        return topupResponse;\n    }\n    // Solana specific API\n    async getAccounts() {\n        const response = await this.provider.request({\n            method: \"getAccounts\",\n            params: []\n        });\n        return response;\n    }\n    async sendTransaction(transaction) {\n        const isLegacyTransaction = isLegacyTransactionInstance(transaction);\n        const message = isLegacyTransaction ? transaction.serialize({\n            requireAllSignatures: false\n        }).toString(\"hex\") : Buffer.from(transaction.serialize()).toString(\"hex\");\n        const response = await this.provider.request({\n            method: \"send_transaction\",\n            params: {\n                message,\n                isLegacyTransaction\n            }\n        });\n        return response;\n    }\n    // support sendOptions\n    async signAndSendTransaction(transaction, options) {\n        const isLegacyTransaction = isLegacyTransactionInstance(transaction);\n        const message = isLegacyTransaction ? transaction.serialize({\n            requireAllSignatures: false\n        }).toString(\"hex\") : Buffer.from(transaction.serialize()).toString(\"hex\");\n        const response = await this.provider.request({\n            method: \"send_transaction\",\n            params: {\n                message,\n                options,\n                isLegacyTransaction\n            }\n        });\n        return {\n            signature: response\n        };\n    }\n    async signTransaction(transaction) {\n        const isLegacyTransaction = isLegacyTransactionInstance(transaction);\n        const message = isLegacyTransaction ? transaction.serializeMessage().toString(\"hex\") : Buffer.from(transaction.message.serialize()).toString(\"hex\");\n        const response = await this.provider.request({\n            method: \"sign_transaction\",\n            params: {\n                message,\n                messageOnly: true,\n                isLegacyTransaction\n            }\n        });\n        // reconstruct signature pair\n        const parsed = JSON.parse(response);\n        const signature = {\n            publicKey: new _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey(parsed.publicKey),\n            signature: Buffer.from(parsed.signature, \"hex\")\n        };\n        transaction.addSignature(signature.publicKey, signature.signature);\n        return transaction;\n    }\n    async signAllTransactions(transactions) {\n        let isLegacyTransaction;\n        const encodedMessage = transactions.map((tx)=>{\n            isLegacyTransaction = isLegacyTransactionInstance(tx);\n            return isLegacyTransaction ? tx.serializeMessage().toString(\"hex\") : Buffer.from(tx.message.serialize()).toString(\"hex\");\n        });\n        const responses = await this.provider.request({\n            method: \"sign_all_transactions\",\n            params: {\n                message: encodedMessage,\n                messageOnly: true,\n                isLegacyTransaction\n            }\n        });\n        // reconstruct signature pairs\n        const signatures = responses.map((item)=>{\n            const parsed = JSON.parse(item);\n            return {\n                publicKey: new _solana_web3_js__WEBPACK_IMPORTED_MODULE_2__.PublicKey(parsed.publicKey),\n                signature: Buffer.from(parsed.signature, \"hex\")\n            };\n        });\n        transactions.forEach((tx, idx)=>{\n            tx.addSignature(signatures[idx].publicKey, signatures[idx].signature);\n            return tx;\n        });\n        return transactions;\n    }\n    async signMessage(data) {\n        const response = await this.provider.request({\n            method: \"sign_message\",\n            params: {\n                data\n            }\n        });\n        return response;\n    }\n    async getGaslessPublicKey() {\n        const response = await this.provider.request({\n            method: \"get_gasless_public_key\",\n            params: []\n        });\n        return response;\n    }\n    // async connect(): Promise<boolean> {\n    //   const response = (await this.provider.request({\n    //     method: \"connect\",\n    //     params: {},\n    //   })) as boolean;\n    //   return response;\n    // }\n    handleDappStorageKey(useLocalStorage) {\n        const localStorageKey = `${configuration.localStorageKeyPrefix}${window.location.hostname}`;\n        let dappStorageKey = \"\";\n        if (isLocalStorageAvailable && useLocalStorage) {\n            const storedKey = window.localStorage.getItem(localStorageKey);\n            if (storedKey) dappStorageKey = storedKey;\n            else {\n                const generatedKey = `torus-app-${getWindowId()}`;\n                window.localStorage.setItem(localStorageKey, generatedKey);\n                dappStorageKey = generatedKey;\n            }\n        }\n        this.dappStorageKey = dappStorageKey;\n        return dappStorageKey;\n    }\n    async _setupWeb3(providerParams) {\n        log.info(\"setupWeb3 running\");\n        // setup background connection\n        const providerStream = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.BasePostMessageStream({\n            name: \"embed_torus\",\n            target: \"iframe_torus\",\n            targetWindow: this.torusIframe.contentWindow\n        });\n        // We create another LocalMessageDuplexStream for communication between dapp <> iframe\n        const communicationStream = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_5__.BasePostMessageStream({\n            name: \"embed_communication\",\n            target: \"iframe_communication\",\n            targetWindow: this.torusIframe.contentWindow\n        });\n        // compose the inPage provider\n        const inPageProvider = new TorusInPageProvider(providerStream, {});\n        const communicationProvider = new TorusCommunicationProvider(communicationStream, {});\n        inPageProvider.tryWindowHandle = (payload, cb)=>{\n            const _payload = payload;\n            if (!Array.isArray(_payload) && PROVIDER_UNSAFE_METHODS.includes(_payload.method)) {\n                if (!this.communicationProvider.isLoggedIn) throw new Error(\"User Not Logged In\");\n                const windowId = getWindowId();\n                communicationProvider._handleWindow(windowId, {\n                    target: \"_blank\",\n                    features: getPopupFeatures(FEATURES_CONFIRM_WINDOW)\n                });\n                // for inPageProvider methods sending windowId in request instead of params\n                // as params might be positional.\n                _payload.windowId = windowId;\n            }\n            inPageProvider._rpcEngine.handle(_payload, cb);\n        };\n        communicationProvider.tryWindowHandle = (payload, cb)=>{\n            const _payload = payload;\n            if (!Array.isArray(_payload) && COMMUNICATION_UNSAFE_METHODS.includes(_payload.method)) {\n                const windowId = getWindowId();\n                communicationProvider._handleWindow(windowId, {\n                    target: \"_blank\",\n                    features: getPopupFeatures(FEATURES_PROVIDER_CHANGE_WINDOW) // todo: are these features generic for all\n                });\n                // for communication methods sending window id in jrpc req params\n                _payload.params.windowId = windowId;\n            }\n            communicationProvider._rpcEngine.handle(_payload, cb);\n        };\n        // detect solana_requestAccounts and pipe to enable for now\n        const detectAccountRequestPrototypeModifier = (m)=>{\n            const originalMethod = inPageProvider[m];\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const self = this;\n            inPageProvider[m] = function providerFunc(request, cb) {\n                const { method, params = [] } = request;\n                if (method === \"solana_requestAccounts\") {\n                    if (!cb) return self.login({\n                        loginProvider: params[0]\n                    });\n                    self.login({\n                        loginProvider: params[0]\n                    })// eslint-disable-next-line promise/no-callback-in-promise\n                    .then((res)=>cb(null, res))// eslint-disable-next-line promise/no-callback-in-promise\n                    .catch((err)=>cb(err));\n                }\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                return originalMethod.apply(this, [\n                    request,\n                    cb\n                ]);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            };\n        };\n        // Detects call to solana_requestAccounts in request & sendAsync and passes to login\n        detectAccountRequestPrototypeModifier(\"request\");\n        detectAccountRequestPrototypeModifier(\"sendAsync\");\n        detectAccountRequestPrototypeModifier(\"send\");\n        const proxiedInPageProvider = new Proxy(inPageProvider, {\n            // straight up lie that we deleted the property so that it doesn't\n            // throw an error in strict mode\n            deleteProperty: ()=>true\n        });\n        const proxiedCommunicationProvider = new Proxy(communicationProvider, {\n            // straight up lie that we deleted the property so that it doesn't\n            // throw an error in strict mode\n            deleteProperty: ()=>true\n        });\n        this.provider = proxiedInPageProvider;\n        this.communicationProvider = proxiedCommunicationProvider;\n        await Promise.all([\n            inPageProvider._initializeState(),\n            communicationProvider._initializeState(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, providerParams), {}, {\n                dappStorageKey: this.dappStorageKey,\n                torusAlertContainer: this.torusAlertContainer,\n                torusIframe: this.torusIframe\n            }))\n        ]);\n        log.debug(\"Torus - injected provider\");\n    }\n}\n //# sourceMappingURL=solanaEmbed.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zb2xhbmEtZW1iZWQvZGlzdC9zb2xhbmFFbWJlZC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ0c7QUFDeEI7QUFDaUk7QUFDekg7QUFDcUk7QUFDNUg7QUFDckM7QUFDUTtBQUNLO0FBRXJDLElBQUlxQixVQUFVO0FBRWQscURBQXFELEdBQ3JELFNBQVNDLFNBQVNDLE1BQU07SUFDdEIsT0FBT0EsV0FBVyxRQUFRLE9BQU9BLFdBQVcsWUFBWSxPQUFPQSxPQUFPQyxJQUFJLEtBQUs7QUFDakY7QUFDQSxTQUFTQyxpQkFBaUJGLE1BQU07SUFDOUIsT0FBT0QsU0FBU0MsV0FBV0EsT0FBT0csUUFBUSxLQUFLLFNBQVMsT0FBT0gsT0FBT0ksTUFBTSxLQUFLLGNBQWMsT0FBT0osT0FBT0ssY0FBYyxLQUFLO0FBQ2xJO0FBQ0EsU0FBU0MsaUJBQWlCTixNQUFNO0lBQzlCLE9BQU9ELFNBQVNDLFdBQVdBLE9BQU9PLFFBQVEsS0FBSyxTQUFTLE9BQU9QLE9BQU9RLEtBQUssS0FBSyxjQUFjLE9BQU9SLE9BQU9TLGNBQWMsS0FBSztBQUNqSTtBQUNBLFNBQVNDLGVBQWVWLE1BQU07SUFDNUIsT0FBT0UsaUJBQWlCRixXQUFXTSxpQkFBaUJOO0FBQ3REO0FBRUEsSUFBSVcsV0FBVztJQUNiQyxRQUFRO1FBQ05DLGNBQWMsSUFBTTtRQUNwQkMseUJBQXlCLElBQU07UUFDL0JDLGlCQUFpQkMsQ0FBQUEsU0FBVSxDQUFDLDZFQUE2RSxFQUFFQSxPQUFPLDhCQUE4QixDQUFDO1FBQ2pKQyxxQkFBcUIsSUFBTTtRQUMzQkMsZ0JBQWdCQyxDQUFBQSxvQkFBcUIsQ0FBQyxnREFBZ0QsRUFBRUEsa0JBQWtCLENBQUMsQ0FBQztRQUM1R0Msb0JBQW9CLElBQU0sQ0FBQyw4Q0FBOEMsQ0FBQztRQUMxRUMsc0JBQXNCLElBQU0sQ0FBQyx5Q0FBeUMsQ0FBQztRQUN2RUMsc0JB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SSxDQUFDQSxXQUFXO1lBQy9CO1NBQUk7UUFDSjdLLElBQUl1TSxLQUFLLENBQUM7SUFDWjtBQUNGO0FBRXFILENBQ3JILDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvY2tldGgvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zb2xhbmEtZW1iZWQvZGlzdC9zb2xhbmFFbWJlZC5lc20uanM/MDA4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDInO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCB7IFB1YmxpY0tleSB9IGZyb20gJ0Bzb2xhbmEvd2ViMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVMb2dnZXJNaWRkbGV3YXJlLCBDT01NVU5JQ0FUSU9OX0pSUENfTUVUSE9EUywgQ09NTVVOSUNBVElPTl9OT1RJRklDQVRJT05TLCBQUk9WSURFUl9KUlBDX01FVEhPRFMsIFBST1ZJREVSX05PVElGSUNBVElPTlMgfSBmcm9tICdAdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMnO1xuaW1wb3J0IHsgc2V0QVBJS2V5IH0gZnJvbSAnQHRvcnVzbGFicy9odHRwLWhlbHBlcnMnO1xuaW1wb3J0IHsgU2FmZUV2ZW50RW1pdHRlciwgT2JqZWN0TXVsdGlwbGV4LCBjcmVhdGVTdHJlYW1NaWRkbGV3YXJlLCBKUlBDRW5naW5lLCBjcmVhdGVJZFJlbWFwTWlkZGxld2FyZSwgZ2V0UnBjUHJvbWlzZUNhbGxiYWNrLCBCYXNlUG9zdE1lc3NhZ2VTdHJlYW0gfSBmcm9tICdAdG9ydXNsYWJzL29wZW5sb2dpbi1qcnBjJztcbmltcG9ydCB7IGV0aEVycm9ycywgRXRoZXJldW1ScGNFcnJvciB9IGZyb20gJ2V0aC1ycGMtZXJyb3JzJztcbmltcG9ydCBwdW1wIGZyb20gJ3B1bXAnO1xuaW1wb3J0IGxvZ2xldmVsIGZyb20gJ2xvZ2xldmVsJztcbmltcG9ydCBkZXF1YWwgZnJvbSAnZmFzdC1kZWVwLWVxdWFsJztcblxudmFyIHZlcnNpb24gPSBcIjIuMC4wXCI7XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmZ1bmN0aW9uIGlzU3RyZWFtKHN0cmVhbSkge1xuICByZXR1cm4gc3RyZWFtICE9PSBudWxsICYmIHR5cGVvZiBzdHJlYW0gPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHN0cmVhbS5waXBlID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiBpc1dyaXRhYmxlU3RyZWFtKHN0cmVhbSkge1xuICByZXR1cm4gaXNTdHJlYW0oc3RyZWFtKSAmJiBzdHJlYW0ud3JpdGFibGUgIT09IGZhbHNlICYmIHR5cGVvZiBzdHJlYW0uX3dyaXRlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHN0cmVhbS5fd3JpdGFibGVTdGF0ZSA9PT0gXCJvYmplY3RcIjtcbn1cbmZ1bmN0aW9uIGlzUmVhZGFibGVTdHJlYW0oc3RyZWFtKSB7XG4gIHJldHVybiBpc1N0cmVhbShzdHJlYW0pICYmIHN0cmVhbS5yZWFkYWJsZSAhPT0gZmFsc2UgJiYgdHlwZW9mIHN0cmVhbS5fcmVhZCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBzdHJlYW0uX3JlYWRhYmxlU3RhdGUgPT09IFwib2JqZWN0XCI7XG59XG5mdW5jdGlvbiBpc0R1cGxleFN0cmVhbShzdHJlYW0pIHtcbiAgcmV0dXJuIGlzV3JpdGFibGVTdHJlYW0oc3RyZWFtKSAmJiBpc1JlYWRhYmxlU3RyZWFtKHN0cmVhbSk7XG59XG5cbnZhciBtZXNzYWdlcyA9IHtcbiAgZXJyb3JzOiB7XG4gICAgZGlzY29ubmVjdGVkOiAoKSA9PiBcIlRvcnVzOiBMb3N0IGNvbm5lY3Rpb24gdG8gVG9ydXMuXCIsXG4gICAgcGVybWFuZW50bHlEaXNjb25uZWN0ZWQ6ICgpID0+IFwiVG9ydXM6IERpc2Nvbm5lY3RlZCBmcm9tIGlmcmFtZS4gUGFnZSByZWxvYWQgcmVxdWlyZWQuXCIsXG4gICAgdW5zdXBwb3J0ZWRTeW5jOiBtZXRob2QgPT4gYFRvcnVzOiBUaGUgVG9ydXMgRXRoZXJldW0gcHJvdmlkZXIgZG9lcyBub3Qgc3VwcG9ydCBzeW5jaHJvbm91cyBtZXRob2RzIGxpa2UgJHttZXRob2R9IHdpdGhvdXQgYSBjYWxsYmFjayBwYXJhbWV0ZXIuYCxcbiAgICBpbnZhbGlkRHVwbGV4U3RyZWFtOiAoKSA9PiBcIk11c3QgcHJvdmlkZSBhIE5vZGUuanMtc3R5bGUgZHVwbGV4IHN0cmVhbS5cIixcbiAgICBpbnZhbGlkT3B0aW9uczogbWF4RXZlbnRMaXN0ZW5lcnMgPT4gYEludmFsaWQgb3B0aW9ucy4gUmVjZWl2ZWQ6IHsgbWF4RXZlbnRMaXN0ZW5lcnM6ICR7bWF4RXZlbnRMaXN0ZW5lcnN9fWAsXG4gICAgaW52YWxpZFJlcXVlc3RBcmdzOiAoKSA9PiBgRXhwZWN0ZWQgYSBzaW5nbGUsIG5vbi1hcnJheSwgb2JqZWN0IGFyZ3VtZW50LmAsXG4gICAgaW52YWxpZFJlcXVlc3RNZXRob2Q6ICgpID0+IGAnYXJncy5tZXRob2QnIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nLmAsXG4gICAgaW52YWxpZFJlcXVlc3RQYXJhbXM6ICgpID0+IGAnYXJncy5wYXJhbXMnIG11c3QgYmUgYW4gb2JqZWN0IG9yIGFycmF5IGlmIHByb3ZpZGVkLmAsXG4gICAgaW52YWxpZExvZ2dlck9iamVjdDogKCkgPT4gYCdhcmdzLmxvZ2dlcicgbXVzdCBiZSBhbiBvYmplY3QgaWYgcHJvdmlkZWQuYCxcbiAgICBpbnZhbGlkTG9nZ2VyTWV0aG9kOiBtZXRob2QgPT4gYCdhcmdzLmxvZ2dlcicgbXVzdCBpbmNsdWRlIHJlcXVpcmVkIG1ldGhvZCAnJHttZXRob2R9Jy5gXG4gIH0sXG4gIGluZm86IHtcbiAgICBjb25uZWN0ZWQ6IGNoYWluSWQgPT4gYFRvcnVzOiBDb25uZWN0ZWQgdG8gY2hhaW4gd2l0aCBJRCBcIiR7Y2hhaW5JZH1cIi5gXG4gIH0sXG4gIHdhcm5pbmdzOiB7fVxufTtcblxuY29uc3QgUEFZTUVOVF9QUk9WSURFUiA9IHtcbiAgTU9PTlBBWTogXCJtb29ucGF5XCIsXG4gIFdZUkU6IFwid3lyZVwiLFxuICBSQU1QTkVUV09SSzogXCJyYW1wbmV0d29ya1wiLFxuICBYQU5QT09MOiBcInhhbnBvb2xcIixcbiAgTUVSQ1VSWU86IFwibWVyY3VyeW9cIixcbiAgVFJBTlNBSzogXCJ0cmFuc2FrXCJcbn07XG5jb25zdCBUT1JVU19CVUlMRF9FTlYgPSB7XG4gIFBST0RVQ1RJT046IFwicHJvZHVjdGlvblwiLFxuICBERVZFTE9QTUVOVDogXCJkZXZlbG9wbWVudFwiLFxuICBURVNUSU5HOiBcInRlc3RpbmdcIlxufTtcbmNvbnN0IEJVVFRPTl9QT1NJVElPTiA9IHtcbiAgQk9UVE9NX0xFRlQ6IFwiYm90dG9tLWxlZnRcIixcbiAgVE9QX0xFRlQ6IFwidG9wLWxlZnRcIixcbiAgQk9UVE9NX1JJR0hUOiBcImJvdHRvbS1yaWdodFwiLFxuICBUT1BfUklHSFQ6IFwidG9wLXJpZ2h0XCJcbn07XG5jb25zdCBMT0dJTl9QUk9WSURFUiA9IHtcbiAgR09PR0xFOiBcImdvb2dsZVwiLFxuICBGQUNFQk9PSzogXCJmYWNlYm9va1wiLFxuICBSRURESVQ6IFwicmVkZGl0XCIsXG4gIERJU0NPUkQ6IFwiZGlzY29yZFwiLFxuICBUV0lUQ0g6IFwidHdpdGNoXCIsXG4gIEFQUExFOiBcImFwcGxlXCIsXG4gIExJTkU6IFwibGluZVwiLFxuICBHSVRIVUI6IFwiZ2l0aHViXCIsXG4gIEtBS0FPOiBcImtha2FvXCIsXG4gIExJTktFRElOOiBcImxpbmtlZGluXCIsXG4gIFRXSVRURVI6IFwidHdpdHRlclwiLFxuICBXRUlCTzogXCJ3ZWlib1wiLFxuICBXRUNIQVQ6IFwid2VjaGF0XCIsXG4gIEVNQUlMX1BBU1NXT1JETEVTUzogXCJlbWFpbF9wYXNzd29yZGxlc3NcIlxufTtcblxuY29uc3QgdHJhbnNsYXRpb25zID0ge1xuICBlbjoge1xuICAgIGVtYmVkOiB7XG4gICAgICBjb250aW51ZTogXCJDb250aW51ZVwiLFxuICAgICAgYWN0aW9uUmVxdWlyZWQ6IFwiQXV0aG9yaXphdGlvbiByZXF1aXJlZFwiLFxuICAgICAgcGVuZGluZ0FjdGlvbjogXCJDbGljayBjb250aW51ZSB0byBwcm9jZWVkIHdpdGggeW91ciByZXF1ZXN0IGluIGEgcG9wdXBcIixcbiAgICAgIGNvb2tpZXNSZXF1aXJlZDogXCJDb29raWVzIFJlcXVpcmVkXCIsXG4gICAgICBlbmFibGVDb29raWVzOiBcIlBsZWFzZSBlbmFibGUgY29va2llcyBpbiB5b3VyIGJyb3dzZXIgcHJlZmVyZW5jZXMgdG8gYWNjZXNzIFRvcnVzXCIsXG4gICAgICBjbGlja0hlcmU6IFwiTW9yZSBJbmZvXCJcbiAgICB9XG4gIH0sXG4gIGRlOiB7XG4gICAgZW1iZWQ6IHtcbiAgICAgIGNvbnRpbnVlOiBcIkZvcnRzZXR6ZW5cIixcbiAgICAgIGFjdGlvblJlcXVpcmVkOiBcIkF1dG9yaXNpZXJ1bmcgZXJmb3JkZXJsaWNoXCIsXG4gICAgICBwZW5kaW5nQWN0aW9uOiBcIktsaWNrZW4gU2llIGluIGVpbmVtIFBvcHVwIGF1ZiBXZWl0ZXIsIHVtIG1pdCBJaHJlciBBbmZyYWdlIGZvcnR6dWZhaHJlblwiLFxuICAgICAgY29va2llc1JlcXVpcmVkOiBcIkNvb2tpZXMgYmVuw7Z0aWd0XCIsXG4gICAgICBlbmFibGVDb29raWVzOiBcIkJpdHRlIGFrdGl2aWVyZW4gU2llIENvb2tpZXMgaW4gSWhyZW4gQnJvd3NlcmVpbnN0ZWxsdW5nZW4sIHVtIGF1ZiBUb3J1cyB6dXp1Z3JlaWZlblwiLFxuICAgICAgY2xpY2tIZXJlOiBcIk1laHIgSW5mb1wiXG4gICAgfVxuICB9LFxuICBqYToge1xuICAgIGVtYmVkOiB7XG4gICAgICBjb250aW51ZTogXCLntpnntprjgZnjgotcIixcbiAgICAgIGFjdGlvblJlcXVpcmVkOiBcIuiqjeiovOOBjOW/heimgeOBp+OBmVwiLFxuICAgICAgcGVuZGluZ0FjdGlvbjogXCLntprooYzjgpLjgq/jg6rjg4Pjgq/jgZfjgabjgIHjg53jg4Pjg5fjgqLjg4Pjg5fjgafjg6rjgq/jgqjjgrnjg4jjgpLntprooYzjgZfjgb7jgZlcIixcbiAgICAgIGNvb2tpZXNSZXF1aXJlZDogXCLlv4XopoHjgarjgq/jg4Pjgq3jg7xcIixcbiAgICAgIGVuYWJsZUNvb2tpZXM6IFwiVG9ydXPjgavjgqLjgq/jgrvjgrnjgZnjgovjgavjga/jgIHjg5bjg6njgqbjgrbjga7oqK3lrprjgadDb29raWXjgpLmnInlirnjgavjgZfjgabjgY/jgaDjgZXjgYTjgIJcIixcbiAgICAgIGNsaWNrSGVyZTogXCLoqbPjgZfjgY/jga9cIlxuICAgIH1cbiAgfSxcbiAga286IHtcbiAgICBlbWJlZDoge1xuICAgICAgY29udGludWU6IFwi6rOE7IaN7ZWY64ukXCIsXG4gICAgICBhY3Rpb25SZXF1aXJlZDogXCLsirnsnbgg7ZWE7JqUXCIsXG4gICAgICBwZW5kaW5nQWN0aW9uOiBcIu2MneyXheyXkOyEnCDsmpTssq3snYQg7KeE7ZaJ7ZWY66Ck66m0IOqzhOyGjeydhCDtgbTrpq3tlZjsi63si5zsmKQuXCIsXG4gICAgICBjb29raWVzUmVxdWlyZWQ6IFwi7L+g7YKkIO2VhOyalFwiLFxuICAgICAgZW5hYmxlQ29va2llczogXCLruIzrnbzsmrDsoIAg7ZmY6rK9IOyEpOygleyXkOyEnCDsv6DtgqTrpbwg7Zmc7ISx7ZmU7ZWY7JesIFRvcnVz7JeQIOyVoeyEuOyKpO2VmOyLreyLnOyYpC5cIixcbiAgICAgIGNsaWNrSGVyZTogXCLrjZQg66eO7J2AIOygleuztFwiXG4gICAgfVxuICB9LFxuICB6aDoge1xuICAgIGVtYmVkOiB7XG4gICAgICBjb250aW51ZTogXCLnu6fnu61cIixcbiAgICAgIGFjdGlvblJlcXVpcmVkOiBcIumcgOimgeaOiOadg1wiLFxuICAgICAgcGVuZGluZ0FjdGlvbjogXCLljZXlh7vnu6fnu63ku6XlnKjlvLnlh7rnqpflj6PkuK3nu6fnu63mgqjnmoTor7fmsYJcIixcbiAgICAgIGNvb2tpZXNSZXF1aXJlZDogXCLlv4XloatDb29raWVcIixcbiAgICAgIGVuYWJsZUNvb2tpZXM6IFwi6K+35Zyo5oKo55qE5rWP6KeI5Zmo6aaW6YCJ6aG55Lit5ZCv55SoY29va2ll5Lul6K6/6ZeuVG9ydXPjgIJcIixcbiAgICAgIGNsaWNrSGVyZTogXCLmm7TlpJrkv6Hmga9cIlxuICAgIH1cbiAgfVxufTtcbnZhciBjb25maWd1cmF0aW9uID0ge1xuICBzdXBwb3J0ZWRWZXJpZmllckxpc3Q6IFtMT0dJTl9QUk9WSURFUi5HT09HTEUsIExPR0lOX1BST1ZJREVSLlJFRERJVCwgTE9HSU5fUFJPVklERVIuRElTQ09SRF0sXG4gIGFwaTogXCJodHRwczovL2FwaS50b3IudXNcIixcbiAgdHJhbnNsYXRpb25zLFxuICBwcm9kVG9ydXNVcmw6IFwiXCIsXG4gIGxvY2FsU3RvcmFnZUtleVByZWZpeDogYHRvcnVzLWBcbn07XG5cbnZhciBsb2cgPSBsb2dsZXZlbC5nZXRMb2dnZXIoXCJzb2xhbmEtZW1iZWRcIik7XG5cbi8vIHV0aWxpdHkgZnVuY3Rpb25zXG5cbi8qKlxuICoganNvbi1ycGMtZW5naW5lIG1pZGRsZXdhcmUgdGhhdCBsb2dzIFJQQyBlcnJvcnMgYW5kIGFuZCB2YWxpZGF0ZXMgcmVxLm1ldGhvZC5cbiAqXG4gKiBAcGFyYW0gbG9nIC0gVGhlIGxvZ2dpbmcgQVBJIHRvIHVzZS5cbiAqIEByZXR1cm5zICBqc29uLXJwYy1lbmdpbmUgbWlkZGxld2FyZSBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBjcmVhdGVFcnJvck1pZGRsZXdhcmUoKSB7XG4gIHJldHVybiAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAvLyBqc29uLXJwYy1lbmdpbmUgd2lsbCB0ZXJtaW5hdGUgdGhlIHJlcXVlc3Qgd2hlbiBpdCBub3RpY2VzIHRoaXMgZXJyb3JcbiAgICBpZiAodHlwZW9mIHJlcS5tZXRob2QgIT09IFwic3RyaW5nXCIgfHwgIXJlcS5tZXRob2QpIHtcbiAgICAgIHJlcy5lcnJvciA9IGV0aEVycm9ycy5ycGMuaW52YWxpZFJlcXVlc3Qoe1xuICAgICAgICBtZXNzYWdlOiBgVGhlIHJlcXVlc3QgJ21ldGhvZCcgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuYCxcbiAgICAgICAgZGF0YTogcmVxXG4gICAgICB9KTtcbiAgICB9XG4gICAgbmV4dChkb25lID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZXJyb3JcbiAgICAgIH0gPSByZXM7XG4gICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICB9XG4gICAgICBsb2cuZXJyb3IoYFRvcnVzIC0gUlBDIEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuLyoqXG4gKiBMb2dzIGEgc3RyZWFtIGRpc2Nvbm5lY3Rpb24gZXJyb3IuIEVtaXRzIGFuICdlcnJvcicgaWYgZ2l2ZW4gYW5cbiAqIEV2ZW50RW1pdHRlciB0aGF0IGhhcyBsaXN0ZW5lcnMgZm9yIHRoZSAnZXJyb3InIGV2ZW50LlxuICpcbiAqIEBwYXJhbSBsb2cgLSBUaGUgbG9nZ2luZyBBUEkgdG8gdXNlLlxuICogQHBhcmFtIHJlbW90ZUxhYmVsIC0gVGhlIGxhYmVsIG9mIHRoZSBkaXNjb25uZWN0ZWQgc3RyZWFtLlxuICogQHBhcmFtIGVycm9yIC0gVGhlIGFzc29jaWF0ZWQgZXJyb3IgdG8gbG9nLlxuICogQHBhcmFtIGVtaXR0ZXIgLSBUaGUgbG9nZ2luZyBBUEkgdG8gdXNlLlxuICovXG5mdW5jdGlvbiBsb2dTdHJlYW1EaXNjb25uZWN0V2FybmluZyhyZW1vdGVMYWJlbCwgZXJyb3IsIGVtaXR0ZXIpIHtcbiAgbGV0IHdhcm5pbmdNc2cgPSBgVG9ydXM6IExvc3QgY29ubmVjdGlvbiB0byBcIiR7cmVtb3RlTGFiZWx9XCIuYDtcbiAgaWYgKGVycm9yPy5zdGFjaykge1xuICAgIHdhcm5pbmdNc2cgKz0gYFxcbiR7ZXJyb3Iuc3RhY2t9YDtcbiAgfVxuICBsb2cud2Fybih3YXJuaW5nTXNnKTtcbiAgaWYgKGVtaXR0ZXIgJiYgZW1pdHRlci5saXN0ZW5lckNvdW50KFwiZXJyb3JcIikgPiAwKSB7XG4gICAgZW1pdHRlci5lbWl0KFwiZXJyb3JcIiwgd2FybmluZ01zZyk7XG4gIH1cbn1cbmNvbnN0IGdldFdpbmRvd0lkID0gKCkgPT4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG5jb25zdCBnZXRUb3J1c1VybCA9IGFzeW5jIGJ1aWxkRW52ID0+IHtcbiAgbGV0IHRvcnVzVXJsO1xuICBsZXQgbG9nTGV2ZWw7XG4gIC8vIGNvbnN0IHZlcnNpb25Vc2VkID0gdmVyc2lvbjtcbiAgLy8gbG9nLmluZm8oXCJzb2xhbmEgZW1iZWQgdmVyc2lvbiB1c2VkOiBcIiwgdmVyc2lvblVzZWQpO1xuICBzd2l0Y2ggKGJ1aWxkRW52KSB7XG4gICAgY2FzZSBcInRlc3RpbmdcIjpcbiAgICAgIHRvcnVzVXJsID0gXCJodHRwczovL3NvbGFuYS10ZXN0aW5nLnRvci51c1wiO1xuICAgICAgbG9nTGV2ZWwgPSBcImRlYnVnXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZGV2ZWxvcG1lbnRcIjpcbiAgICAgIHRvcnVzVXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjgwODBcIjtcbiAgICAgIGxvZ0xldmVsID0gXCJkZWJ1Z1wiO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRvcnVzVXJsID0gYGh0dHBzOi8vc29sYW5hLnRvci51c2A7XG4gICAgICBsb2dMZXZlbCA9IFwiZXJyb3JcIjtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiB7XG4gICAgdG9ydXNVcmwsXG4gICAgbG9nTGV2ZWxcbiAgfTtcbn07XG5jb25zdCBnZXRVc2VyTGFuZ3VhZ2UgPSAoKSA9PiB7XG4gIGxldCB1c2VyTGFuZ3VhZ2UgPSB3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlIHx8IFwiZW4tVVNcIjtcbiAgY29uc3QgdXNlckxhbmd1YWdlcyA9IHVzZXJMYW5ndWFnZS5zcGxpdChcIi1cIik7XG4gIHVzZXJMYW5ndWFnZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb25maWd1cmF0aW9uLnRyYW5zbGF0aW9ucywgdXNlckxhbmd1YWdlc1swXSkgPyB1c2VyTGFuZ3VhZ2VzWzBdIDogXCJlblwiO1xuICByZXR1cm4gdXNlckxhbmd1YWdlO1xufTtcbmNvbnN0IEZFQVRVUkVTX1BST1ZJREVSX0NIQU5HRV9XSU5ET1cgPSB7XG4gIGhlaWdodDogNjYwLFxuICB3aWR0aDogMzc1XG59O1xuY29uc3QgRkVBVFVSRVNfREVGQVVMVF9XQUxMRVRfV0lORE9XID0ge1xuICBoZWlnaHQ6IDc0MCxcbiAgd2lkdGg6IDEzMTVcbn07XG5jb25zdCBGRUFUVVJFU19ERUZBVUxUX1BPUFVQX1dJTkRPVyA9IHtcbiAgaGVpZ2h0OiA3MDAsXG4gIHdpZHRoOiAxMjAwXG59O1xuY29uc3QgRkVBVFVSRVNfQ09ORklSTV9XSU5ET1cgPSB7XG4gIGhlaWdodDogNjAwLFxuICB3aWR0aDogNDAwXG59O1xuZnVuY3Rpb24gc3RvcmFnZUF2YWlsYWJsZSh0eXBlKSB7XG4gIGxldCBzdG9yYWdlO1xuICB0cnkge1xuICAgIHN0b3JhZ2UgPSB3aW5kb3dbdHlwZV07XG4gICAgY29uc3QgeCA9IFwiX19zdG9yYWdlX3Rlc3RfX1wiO1xuICAgIHN0b3JhZ2Uuc2V0SXRlbSh4LCB4KTtcbiAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc3QgZSA9IGVycm9yO1xuICAgIHJldHVybiBlICYmIChcbiAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XG4gICAgZS5jb2RlID09PSAyMiB8fFxuICAgIC8vIEZpcmVmb3hcbiAgICBlLmNvZGUgPT09IDEwMTQgfHxcbiAgICAvLyB0ZXN0IG5hbWUgZmllbGQgdG9vLCBiZWNhdXNlIGNvZGUgbWlnaHQgbm90IGJlIHByZXNlbnRcbiAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XG4gICAgZS5uYW1lID09PSBcIlF1b3RhRXhjZWVkZWRFcnJvclwiIHx8XG4gICAgLy8gRmlyZWZveFxuICAgIGUubmFtZSA9PT0gXCJOU19FUlJPUl9ET01fUVVPVEFfUkVBQ0hFRFwiKSAmJlxuICAgIC8vIGFja25vd2xlZGdlIFF1b3RhRXhjZWVkZWRFcnJvciBvbmx5IGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGFscmVhZHkgc3RvcmVkXG4gICAgc3RvcmFnZSAmJiBzdG9yYWdlLmxlbmd0aCAhPT0gMDtcbiAgfVxufVxuXG4vKipcbiAqIHBvcHVwIGhhbmRsZXIgdXRpbHNcbiAqL1xuZnVuY3Rpb24gZ2V0UG9wdXBGZWF0dXJlcyhfcmVmKSB7XG4gIGxldCB7XG4gICAgd2lkdGg6IHcsXG4gICAgaGVpZ2h0OiBoXG4gIH0gPSBfcmVmO1xuICAvLyBGaXhlcyBkdWFsLXNjcmVlbiBwb3NpdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9zdCBicm93c2VycyAgICAgIEZpcmVmb3hcbiAgY29uc3QgZHVhbFNjcmVlbkxlZnQgPSB3aW5kb3cuc2NyZWVuTGVmdCAhPT0gdW5kZWZpbmVkID8gd2luZG93LnNjcmVlbkxlZnQgOiB3aW5kb3cuc2NyZWVuWDtcbiAgY29uc3QgZHVhbFNjcmVlblRvcCA9IHdpbmRvdy5zY3JlZW5Ub3AgIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JlZW5Ub3AgOiB3aW5kb3cuc2NyZWVuWTtcbiAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCA/IHdpbmRvdy5pbm5lcldpZHRoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogd2luZG93LnNjcmVlbi53aWR0aDtcbiAgY29uc3QgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ID8gd2luZG93LmlubmVySGVpZ2h0IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgY29uc3Qgc3lzdGVtWm9vbSA9IDE7IC8vIE5vIHJlbGlhYmxlIGVzdGltYXRlXG5cbiAgY29uc3QgbGVmdCA9IE1hdGguYWJzKCh3aWR0aCAtIHcpIC8gMiAvIHN5c3RlbVpvb20gKyBkdWFsU2NyZWVuTGVmdCk7XG4gIGNvbnN0IHRvcCA9IE1hdGguYWJzKChoZWlnaHQgLSBoKSAvIDIgLyBzeXN0ZW1ab29tICsgZHVhbFNjcmVlblRvcCk7XG4gIGNvbnN0IGZlYXR1cmVzID0gYHRpdGxlYmFyPTAsdG9vbGJhcj0wLHN0YXR1cz0wLGxvY2F0aW9uPTAsbWVudWJhcj0wLGhlaWdodD0ke2ggLyBzeXN0ZW1ab29tfSx3aWR0aD0ke3cgLyBzeXN0ZW1ab29tfSx0b3A9JHt0b3B9LGxlZnQ9JHtsZWZ0fWA7XG4gIHJldHVybiBmZWF0dXJlcztcbn1cblxuY2xhc3MgQmFzZVByb3ZpZGVyIGV4dGVuZHMgU2FmZUV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb25TdHJlYW0sIF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgbWF4RXZlbnRMaXN0ZW5lcnMgPSAxMDAsXG4gICAgICBqc29uUnBjU3RyZWFtTmFtZSA9IFwicHJvdmlkZXJcIlxuICAgIH0gPSBfcmVmO1xuICAgIHN1cGVyKCk7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGluZyB0aGF0IHRoaXMgcHJvdmlkZXIgaXMgYSBUb3J1cyBwcm92aWRlci5cbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1RvcnVzXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3JwY0VuZ2luZVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImpzb25ScGNDb25uZWN0aW9uRXZlbnRzXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N0YXRlXCIsIHZvaWQgMCk7XG4gICAgaWYgKCFpc0R1cGxleFN0cmVhbShjb25uZWN0aW9uU3RyZWFtKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2VzLmVycm9ycy5pbnZhbGlkRHVwbGV4U3RyZWFtKCkpO1xuICAgIH1cbiAgICB0aGlzLmlzVG9ydXMgPSB0cnVlO1xuICAgIHRoaXMuc2V0TWF4TGlzdGVuZXJzKG1heEV2ZW50TGlzdGVuZXJzKTtcbiAgICB0aGlzLl9oYW5kbGVDb25uZWN0ID0gdGhpcy5faGFuZGxlQ29ubmVjdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZURpc2Nvbm5lY3QgPSB0aGlzLl9oYW5kbGVEaXNjb25uZWN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlU3RyZWFtRGlzY29ubmVjdCA9IHRoaXMuX2hhbmRsZVN0cmVhbURpc2Nvbm5lY3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ycGNSZXF1ZXN0ID0gdGhpcy5fcnBjUmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2luaXRpYWxpemVTdGF0ZSA9IHRoaXMuX2luaXRpYWxpemVTdGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVxdWVzdCA9IHRoaXMucmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2VuZEFzeW5jID0gdGhpcy5zZW5kQXN5bmMuYmluZCh0aGlzKTtcbiAgICAvLyB0aGlzLmVuYWJsZSA9IHRoaXMuZW5hYmxlLmJpbmQodGhpcyk7XG5cbiAgICAvLyBzZXR1cCBjb25uZWN0aW9uU3RyZWFtIG11bHRpcGxleGluZ1xuICAgIGNvbnN0IG11eCA9IG5ldyBPYmplY3RNdWx0aXBsZXgoKTtcbiAgICBwdW1wKGNvbm5lY3Rpb25TdHJlYW0sIG11eCwgY29ubmVjdGlvblN0cmVhbSwgdGhpcy5faGFuZGxlU3RyZWFtRGlzY29ubmVjdC5iaW5kKHRoaXMsIFwiVG9ydXNcIikpO1xuXG4gICAgLy8gaWdub3JlIHBoaXNoaW5nIHdhcm5pbmcgbWVzc2FnZSAoaGFuZGxlZCBlbHNld2hlcmUpXG4gICAgbXV4Lmlnbm9yZVN0cmVhbShcInBoaXNoaW5nXCIpO1xuXG4gICAgLy8gc2V0dXAgb3duIGV2ZW50IGxpc3RlbmVyc1xuICAgIC8vIGNvbm5lY3QgdG8gYXN5bmMgcHJvdmlkZXJcblxuICAgIGNvbnN0IGpzb25ScGNDb25uZWN0aW9uID0gY3JlYXRlU3RyZWFtTWlkZGxld2FyZSgpO1xuICAgIHB1bXAoanNvblJwY0Nvbm5lY3Rpb24uc3RyZWFtLCBtdXguY3JlYXRlU3RyZWFtKGpzb25ScGNTdHJlYW1OYW1lKSwganNvblJwY0Nvbm5lY3Rpb24uc3RyZWFtLCB0aGlzLl9oYW5kbGVTdHJlYW1EaXNjb25uZWN0LmJpbmQodGhpcywgXCJUb3J1cyBScGNQcm92aWRlclwiKSk7XG5cbiAgICAvLyBoYW5kbGUgUlBDIHJlcXVlc3RzIHZpYSBkYXBwLXNpZGUgcnBjIGVuZ2luZVxuICAgIGNvbnN0IHJwY0VuZ2luZSA9IG5ldyBKUlBDRW5naW5lKCk7XG4gICAgcnBjRW5naW5lLnB1c2goY3JlYXRlSWRSZW1hcE1pZGRsZXdhcmUoKSk7XG4gICAgcnBjRW5naW5lLnB1c2goY3JlYXRlRXJyb3JNaWRkbGV3YXJlKCkpO1xuICAgIHJwY0VuZ2luZS5wdXNoKGNyZWF0ZUxvZ2dlck1pZGRsZXdhcmUoe1xuICAgICAgb3JpZ2luOiBsb2NhdGlvbi5vcmlnaW5cbiAgICB9KSk7XG4gICAgcnBjRW5naW5lLnB1c2goanNvblJwY0Nvbm5lY3Rpb24ubWlkZGxld2FyZSk7XG4gICAgdGhpcy5fcnBjRW5naW5lID0gcnBjRW5naW5lO1xuICAgIHRoaXMuanNvblJwY0Nvbm5lY3Rpb25FdmVudHMgPSBqc29uUnBjQ29ubmVjdGlvbi5ldmVudHM7XG4gIH1cblxuICAvKipcbiAgICogU3VibWl0cyBhbiBSUEMgcmVxdWVzdCBmb3IgdGhlIGdpdmVuIG1ldGhvZCwgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1zLlxuICAgKiBSZXNvbHZlcyB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIG1ldGhvZCBjYWxsLCBvciByZWplY3RzIG9uIGVycm9yLlxuICAgKi9cbiAgYXN5bmMgcmVxdWVzdChhcmdzKSB7XG4gICAgaWYgKCFhcmdzIHx8IHR5cGVvZiBhcmdzICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkoYXJncykpIHtcbiAgICAgIHRocm93IGV0aEVycm9ycy5ycGMuaW52YWxpZFJlcXVlc3Qoe1xuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlcy5lcnJvcnMuaW52YWxpZFJlcXVlc3RBcmdzKCksXG4gICAgICAgIGRhdGE6IGFyZ3NcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBtZXRob2QsXG4gICAgICBwYXJhbXNcbiAgICB9ID0gYXJncztcbiAgICBpZiAodHlwZW9mIG1ldGhvZCAhPT0gXCJzdHJpbmdcIiB8fCBtZXRob2QubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBldGhFcnJvcnMucnBjLmludmFsaWRSZXF1ZXN0KHtcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZXMuZXJyb3JzLmludmFsaWRSZXF1ZXN0TWV0aG9kKCksXG4gICAgICAgIGRhdGE6IGFyZ3NcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQgJiYgIUFycmF5LmlzQXJyYXkocGFyYW1zKSAmJiAodHlwZW9mIHBhcmFtcyAhPT0gXCJvYmplY3RcIiB8fCBwYXJhbXMgPT09IG51bGwpKSB7XG4gICAgICB0aHJvdyBldGhFcnJvcnMucnBjLmludmFsaWRSZXF1ZXN0KHtcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZXMuZXJyb3JzLmludmFsaWRSZXF1ZXN0UGFyYW1zKCksXG4gICAgICAgIGRhdGE6IGFyZ3NcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fcnBjUmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcGFyYW1zXG4gICAgICB9LCBnZXRScGNQcm9taXNlQ2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0KSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFN1Ym1pdHMgYW4gUlBDIHJlcXVlc3QgcGVyIHRoZSBnaXZlbiBKU09OLVJQQyByZXF1ZXN0IG9iamVjdC5cbiAgICovXG4gIHNlbmQocGF5bG9hZCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9ycGNSZXF1ZXN0KHBheWxvYWQsIGNhbGxiYWNrKTtcbiAgfVxuICAvKipcbiAgICogU3VibWl0cyBhbiBSUEMgcmVxdWVzdCBwZXIgdGhlIGdpdmVuIEpTT04tUlBDIHJlcXVlc3Qgb2JqZWN0LlxuICAgKi9cbiAgc2VuZEFzeW5jKHBheWxvYWQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fcnBjUmVxdWVzdChwYXlsb2FkLCBnZXRScGNQcm9taXNlQ2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0KSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gY29ubmVjdGlvbiBpcyBsb3N0IHRvIGNyaXRpY2FsIHN0cmVhbXMuXG4gICAqXG4gICAqIGVtaXRzIFRvcnVzSW5wYWdlUHJvdmlkZXIjZGlzY29ubmVjdFxuICAgKi9cbiAgX2hhbmRsZVN0cmVhbURpc2Nvbm5lY3Qoc3RyZWFtTmFtZSwgZXJyb3IpIHtcbiAgICBsb2dTdHJlYW1EaXNjb25uZWN0V2FybmluZyhzdHJlYW1OYW1lLCBlcnJvciwgdGhpcyk7XG4gICAgdGhpcy5faGFuZGxlRGlzY29ubmVjdChmYWxzZSwgZXJyb3IgPyBlcnJvci5tZXNzYWdlIDogdW5kZWZpbmVkKTtcbiAgfVxuXG4gIC8vIFByaXZhdGUgTWV0aG9kc1xuICAvLz0gPT09PT09PT09PT09PT09PT09PVxuICAvKipcbiAgICogQ29uc3RydWN0b3IgaGVscGVyLlxuICAgKiBQb3B1bGF0ZXMgaW5pdGlhbCBzdGF0ZSBieSBjYWxsaW5nICd3YWxsZXRfZ2V0UHJvdmlkZXJTdGF0ZScgYW5kIGVtaXRzXG4gICAqIG5lY2Vzc2FyeSBldmVudHMuXG4gICAqL1xuICAvKipcbiAgICogSW50ZXJuYWwgUlBDIG1ldGhvZC4gRm9yd2FyZHMgcmVxdWVzdHMgdG8gYmFja2dyb3VuZCB2aWEgdGhlIFJQQyBlbmdpbmUuXG4gICAqIEFsc28gcmVtYXAgaWRzIGluYm91bmQgYW5kIG91dGJvdW5kXG4gICAqL1xuICAvKipcbiAgICogV2hlbiB0aGUgcHJvdmlkZXIgYmVjb21lcyBjb25uZWN0ZWQsIHVwZGF0ZXMgaW50ZXJuYWwgc3RhdGUgYW5kIGVtaXRzXG4gICAqIHJlcXVpcmVkIGV2ZW50cy4gSWRlbXBvdGVudC5cbiAgICpcbiAgICogQHBhcmFtIGNoYWluSWQgLSBUaGUgSUQgb2YgdGhlIG5ld2x5IGNvbm5lY3RlZCBjaGFpbi5cbiAgICogZW1pdHMgVG9ydXNJblBhZ2VQcm92aWRlciNjb25uZWN0XG4gICAqL1xuICAvKipcbiAgICogV2hlbiB0aGUgcHJvdmlkZXIgYmVjb21lcyBkaXNjb25uZWN0ZWQsIHVwZGF0ZXMgaW50ZXJuYWwgc3RhdGUgYW5kIGVtaXRzXG4gICAqIHJlcXVpcmVkIGV2ZW50cy4gSWRlbXBvdGVudCB3aXRoIHJlc3BlY3QgdG8gdGhlIGlzUmVjb3ZlcmFibGUgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBFcnJvciBjb2RlcyBwZXIgdGhlIENsb3NlRXZlbnQgc3RhdHVzIGNvZGVzIGFzIHJlcXVpcmVkIGJ5IEVJUC0xMTkzOlxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2xvc2VFdmVudCNTdGF0dXNfY29kZXNcbiAgICpcbiAgICogQHBhcmFtIGlzUmVjb3ZlcmFibGUgLSBXaGV0aGVyIHRoZSBkaXNjb25uZWN0aW9uIGlzIHJlY292ZXJhYmxlLlxuICAgKiBAcGFyYW0gZXJyb3JNZXNzYWdlIC0gQSBjdXN0b20gZXJyb3IgbWVzc2FnZS5cbiAgICogZW1pdHMgVG9ydXNJbnBhZ2VQcm92aWRlciNkaXNjb25uZWN0XG4gICAqL1xufVxuXG5jb25zdCBodG1sVG9FbGVtZW50ID0gaHRtbCA9PiB7XG4gIGNvbnN0IHRlbXBsYXRlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgY29uc3QgdHJpbW1lZEh0bWwgPSBodG1sLnRyaW0oKTsgLy8gTmV2ZXIgcmV0dXJuIGEgdGV4dCBub2RlIG9mIHdoaXRlc3BhY2UgYXMgdGhlIHJlc3VsdFxuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0cmltbWVkSHRtbDtcbiAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbn07XG5mdW5jdGlvbiBpc0xlZ2FjeVRyYW5zYWN0aW9uSW5zdGFuY2UodHJhbnNhY3Rpb24pIHtcbiAgcmV0dXJuIHRyYW5zYWN0aW9uLnZlcnNpb24gPT09IHVuZGVmaW5lZDtcbn1cblxuY2xhc3MgUG9wdXBIYW5kbGVyIGV4dGVuZHMgU2FmZUV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgdXJsLFxuICAgICAgdGFyZ2V0LFxuICAgICAgZmVhdHVyZXMsXG4gICAgICB0aW1lb3V0ID0gMzAwMDBcbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcigpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVybFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRhcmdldFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZlYXR1cmVzXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid2luZG93XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid2luZG93VGltZXJcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpQ2xvc2VkV2luZG93XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidGltZW91dFwiLCB2b2lkIDApO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0IHx8IFwiX2JsYW5rXCI7XG4gICAgdGhpcy5mZWF0dXJlcyA9IGZlYXR1cmVzIHx8IGdldFBvcHVwRmVhdHVyZXMoRkVBVFVSRVNfREVGQVVMVF9QT1BVUF9XSU5ET1cpO1xuICAgIHRoaXMud2luZG93ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMud2luZG93VGltZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pQ2xvc2VkV2luZG93ID0gZmFsc2U7XG4gICAgdGhpcy50aW1lb3V0ID0gdGltZW91dDtcbiAgICB0aGlzLl9zZXR1cFRpbWVyKCk7XG4gIH1cbiAgX3NldHVwVGltZXIoKSB7XG4gICAgdGhpcy53aW5kb3dUaW1lciA9IE51bWJlcihzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy53aW5kb3cgJiYgdGhpcy53aW5kb3cuY2xvc2VkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy53aW5kb3dUaW1lcik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5pQ2xvc2VkV2luZG93KSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJjbG9zZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5pQ2xvc2VkV2luZG93ID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy53aW5kb3cgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sIHRoaXMudGltZW91dCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy53aW5kb3cgPT09IHVuZGVmaW5lZCkgY2xlYXJJbnRlcnZhbCh0aGlzLndpbmRvd1RpbWVyKTtcbiAgICB9LCA1MDApKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMud2luZG93ID0gd2luZG93Lm9wZW4odGhpcy51cmwuaHJlZiwgdGhpcy50YXJnZXQsIHRoaXMuZmVhdHVyZXMpO1xuICAgIGlmICh0aGlzLndpbmRvdz8uZm9jdXMpIHRoaXMud2luZG93LmZvY3VzKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuaUNsb3NlZFdpbmRvdyA9IHRydWU7XG4gICAgaWYgKHRoaXMud2luZG93KSB0aGlzLndpbmRvdy5jbG9zZSgpO1xuICB9XG4gIHJlZGlyZWN0KGxvY2F0aW9uUmVwbGFjZU9uUmVkaXJlY3QpIHtcbiAgICBpZiAobG9jYXRpb25SZXBsYWNlT25SZWRpcmVjdCkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UodGhpcy51cmwuaHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy51cmwuaHJlZjtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgVG9ydXNDb21tdW5pY2F0aW9uUHJvdmlkZXIgZXh0ZW5kcyBCYXNlUHJvdmlkZXIge1xuICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uU3RyZWFtLCBfcmVmKSB7XG4gICAgbGV0IHtcbiAgICAgIG1heEV2ZW50TGlzdGVuZXJzID0gMTAwLFxuICAgICAganNvblJwY1N0cmVhbU5hbWUgPSBcInByb3ZpZGVyXCJcbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcihjb25uZWN0aW9uU3RyZWFtLCB7XG4gICAgICBtYXhFdmVudExpc3RlbmVycyxcbiAgICAgIGpzb25ScGNTdHJlYW1OYW1lXG4gICAgfSk7XG5cbiAgICAvLyBwcml2YXRlIHN0YXRlXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZW1iZWRUcmFuc2xhdGlvbnNcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3J1c1VybFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhcHBTdG9yYWdlS2V5XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid2luZG93UmVmc1wiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRyeVdpbmRvd0hhbmRsZVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcnVzQWxlcnRDb250YWluZXJcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3J1c0lmcmFtZVwiLCB2b2lkIDApO1xuICAgIHRoaXMuX3N0YXRlID0gX29iamVjdFNwcmVhZCh7fSwgVG9ydXNDb21tdW5pY2F0aW9uUHJvdmlkZXIuX2RlZmF1bHRTdGF0ZSk7XG5cbiAgICAvLyBwdWJsaWMgc3RhdGVcbiAgICB0aGlzLnRvcnVzVXJsID0gXCJcIjtcbiAgICB0aGlzLmRhcHBTdG9yYWdlS2V5ID0gXCJcIjtcbiAgICBjb25zdCBsYW5ndWFnZVRyYW5zbGF0aW9ucyA9IGNvbmZpZ3VyYXRpb24udHJhbnNsYXRpb25zW2dldFVzZXJMYW5ndWFnZSgpXTtcbiAgICB0aGlzLmVtYmVkVHJhbnNsYXRpb25zID0gbGFuZ3VhZ2VUcmFuc2xhdGlvbnMuZW1iZWQ7XG4gICAgdGhpcy53aW5kb3dSZWZzID0ge307XG5cbiAgICAvLyBzZXR1cCBvd24gZXZlbnQgbGlzdGVuZXJzXG5cbiAgICAvLyBFSVAtMTE5MyBjb25uZWN0XG4gICAgdGhpcy5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5fc3RhdGUuaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbkhhbmRsZXIgPSBwYXlsb2FkID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBwYXJhbXNcbiAgICAgIH0gPSBwYXlsb2FkO1xuICAgICAgaWYgKG1ldGhvZCA9PT0gQ09NTVVOSUNBVElPTl9OT1RJRklDQVRJT05TLklGUkFNRV9TVEFUVVMpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGlzRnVsbFNjcmVlbixcbiAgICAgICAgICByaWRcbiAgICAgICAgfSA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5fZGlzcGxheUlmcmFtZSh7XG4gICAgICAgICAgaXNGdWxsOiBpc0Z1bGxTY3JlZW4sXG4gICAgICAgICAgcmlkOiByaWRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gQ09NTVVOSUNBVElPTl9OT1RJRklDQVRJT05TLkNSRUFURV9XSU5ET1cpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHdpbmRvd0lkLFxuICAgICAgICAgIHVybFxuICAgICAgICB9ID0gcGFyYW1zO1xuICAgICAgICB0aGlzLl9jcmVhdGVQb3B1cEJsb2NrQWxlcnQod2luZG93SWQsIHVybCk7XG4gICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gQ09NTVVOSUNBVElPTl9OT1RJRklDQVRJT05TLkNMT1NFX1dJTkRPVykge1xuICAgICAgICB0aGlzLl9oYW5kbGVDbG9zZVdpbmRvdyhwYXJhbXMpO1xuICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IENPTU1VTklDQVRJT05fTk9USUZJQ0FUSU9OUy5VU0VSX0xPR0dFRF9JTikge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgY3VycmVudExvZ2luUHJvdmlkZXJcbiAgICAgICAgfSA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5fc3RhdGUuaXNMb2dnZWRJbiA9IHRydWU7XG4gICAgICAgIHRoaXMuX3N0YXRlLmN1cnJlbnRMb2dpblByb3ZpZGVyID0gY3VycmVudExvZ2luUHJvdmlkZXI7XG4gICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gQ09NTVVOSUNBVElPTl9OT1RJRklDQVRJT05TLlVTRVJfTE9HR0VEX09VVCkge1xuICAgICAgICB0aGlzLl9zdGF0ZS5pc0xvZ2dlZEluID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXRlLmN1cnJlbnRMb2dpblByb3ZpZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZGlzcGxheUlmcmFtZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5qc29uUnBjQ29ubmVjdGlvbkV2ZW50cy5vbihcIm5vdGlmaWNhdGlvblwiLCBub3RpZmljYXRpb25IYW5kbGVyKTtcbiAgfVxuICBnZXQgaXNMb2dnZWRJbigpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGUuaXNMb2dnZWRJbjtcbiAgfVxuICBnZXQgaXNJRnJhbWVGdWxsU2NyZWVuKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZS5pc0lGcmFtZUZ1bGxTY3JlZW47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBpblBhZ2UgcHJvdmlkZXIgaXMgY29ubmVjdGVkIHRvIFRvcnVzLlxuICAgKi9cbiAgaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkO1xuICB9XG4gIGFzeW5jIF9pbml0aWFsaXplU3RhdGUocGFyYW1zKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdG9ydXNVcmwsXG4gICAgICAgIGRhcHBTdG9yYWdlS2V5LFxuICAgICAgICB0b3J1c0FsZXJ0Q29udGFpbmVyLFxuICAgICAgICB0b3J1c0lmcmFtZVxuICAgICAgfSA9IHBhcmFtcztcbiAgICAgIHRoaXMudG9ydXNVcmwgPSB0b3J1c1VybDtcbiAgICAgIHRoaXMuZGFwcFN0b3JhZ2VLZXkgPSBkYXBwU3RvcmFnZUtleTtcbiAgICAgIHRoaXMudG9ydXNBbGVydENvbnRhaW5lciA9IHRvcnVzQWxlcnRDb250YWluZXI7XG4gICAgICB0aGlzLnRvcnVzSWZyYW1lID0gdG9ydXNJZnJhbWU7XG4gICAgICB0aGlzLnRvcnVzSWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgLy8gb25seSBkbyB0aGlzIGlmIGlmcmFtZSBpcyBub3QgZnVsbCBzY3JlZW5cbiAgICAgICAgaWYgKCF0aGlzLl9zdGF0ZS5pc0lGcmFtZUZ1bGxTY3JlZW4pIHRoaXMuX2Rpc3BsYXlJZnJhbWUoKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjdXJyZW50TG9naW5Qcm92aWRlcixcbiAgICAgICAgaXNMb2dnZWRJblxuICAgICAgfSA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMuR0VUX1BST1ZJREVSX1NUQVRFLFxuICAgICAgICBwYXJhbXM6IFtdXG4gICAgICB9KTtcblxuICAgICAgLy8gaW5kaWNhdGUgdGhhdCB3ZSd2ZSBjb25uZWN0ZWQsIGZvciBFSVAtMTE5MyBjb21wbGlhbmNlXG4gICAgICB0aGlzLl9oYW5kbGVDb25uZWN0KGN1cnJlbnRMb2dpblByb3ZpZGVyLCBpc0xvZ2dlZEluKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKFwiVG9ydXM6IEZhaWxlZCB0byBnZXQgaW5pdGlhbCBzdGF0ZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGJ1Zy5cIiwgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBsb2cuaW5mbyhcImluaXRpYWxpemVkIGNvbW11bmljYXRpb24gc3RhdGVcIik7XG4gICAgICB0aGlzLl9zdGF0ZS5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICB0aGlzLmVtaXQoXCJfaW5pdGlhbGl6ZWRcIik7XG4gICAgfVxuICB9XG4gIF9oYW5kbGVXaW5kb3cod2luZG93SWQpIHtcbiAgICBsZXQge1xuICAgICAgdXJsLFxuICAgICAgdGFyZ2V0LFxuICAgICAgZmVhdHVyZXNcbiAgICB9ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBjb25zdCBmaW5hbFVybCA9IG5ldyBVUkwodXJsIHx8IGAke3RoaXMudG9ydXNVcmx9L3JlZGlyZWN0P3dpbmRvd0lkPSR7d2luZG93SWR9YCk7XG4gICAgaWYgKHRoaXMuZGFwcFN0b3JhZ2VLZXkpIHtcbiAgICAgIC8vIElmIG11bHRpcGxlIGluc3RhbmNlcywgaXQgcmV0dXJucyB0aGUgZmlyc3Qgb25lXG4gICAgICBpZiAoZmluYWxVcmwuaGFzaCkgZmluYWxVcmwuaGFzaCArPSBgJmRhcHBTdG9yYWdlS2V5PSR7dGhpcy5kYXBwU3RvcmFnZUtleX1gO2Vsc2UgZmluYWxVcmwuaGFzaCA9IGAjZGFwcFN0b3JhZ2VLZXk9JHt0aGlzLmRhcHBTdG9yYWdlS2V5fWA7XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZWRXaW5kb3cgPSBuZXcgUG9wdXBIYW5kbGVyKHtcbiAgICAgIHVybDogZmluYWxVcmwsXG4gICAgICB0YXJnZXQsXG4gICAgICBmZWF0dXJlc1xuICAgIH0pO1xuICAgIGhhbmRsZWRXaW5kb3cub3BlbigpO1xuICAgIGlmICghaGFuZGxlZFdpbmRvdy53aW5kb3cpIHtcbiAgICAgIHRoaXMuX2NyZWF0ZVBvcHVwQmxvY2tBbGVydCh3aW5kb3dJZCwgZmluYWxVcmwuaHJlZik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEFkZCB0byBjb2xsZWN0aW9uIG9ubHkgaWYgd2luZG93IGlzIG9wZW5lZFxuICAgIHRoaXMud2luZG93UmVmc1t3aW5kb3dJZF0gPSBoYW5kbGVkV2luZG93O1xuICAgIC8vIFdlIHRlbGwgdGhlIGlmcmFtZSB0aGF0IHRoZSB3aW5kb3cgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IG9wZW5lZFxuICAgIHRoaXMucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IENPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTLk9QRU5FRF9XSU5ET1csXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgd2luZG93SWRcbiAgICAgIH1cbiAgICB9KTtcbiAgICBoYW5kbGVkV2luZG93Lm9uY2UoXCJjbG9zZVwiLCAoKSA9PiB7XG4gICAgICAvLyB1c2VyIGNsb3NlZCB0aGUgd2luZG93XG4gICAgICBkZWxldGUgdGhpcy53aW5kb3dSZWZzW3dpbmRvd0lkXTtcbiAgICAgIHRoaXMucmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMuQ0xPU0VEX1dJTkRPVyxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgd2luZG93SWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgX2Rpc3BsYXlJZnJhbWUoKSB7XG4gICAgbGV0IHtcbiAgICAgIGlzRnVsbCA9IGZhbHNlLFxuICAgICAgcmlkID0gXCJcIlxuICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGNvbnN0IHN0eWxlID0ge307XG4gICAgLy8gc2V0IHBoYXNlXG4gICAgaWYgKCFpc0Z1bGwpIHtcbiAgICAgIHN0eWxlLmRpc3BsYXkgPSB0aGlzLl9zdGF0ZS50b3J1c1dpZGdldFZpc2liaWxpdHkgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgICAgIHN0eWxlLmhlaWdodCA9IFwiNzBweFwiO1xuICAgICAgc3R5bGUud2lkdGggPSBcIjcwcHhcIjtcbiAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUuYnV0dG9uUG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSBCVVRUT05fUE9TSVRJT04uVE9QX0xFRlQ6XG4gICAgICAgICAgc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgICBzdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgICBzdHlsZS5yaWdodCA9IFwiYXV0b1wiO1xuICAgICAgICAgIHN0eWxlLmJvdHRvbSA9IFwiYXV0b1wiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEJVVFRPTl9QT1NJVElPTi5UT1BfUklHSFQ6XG4gICAgICAgICAgc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgICBzdHlsZS5yaWdodCA9IFwiMHB4XCI7XG4gICAgICAgICAgc3R5bGUubGVmdCA9IFwiYXV0b1wiO1xuICAgICAgICAgIHN0eWxlLmJvdHRvbSA9IFwiYXV0b1wiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEJVVFRPTl9QT1NJVElPTi5CT1RUT01fUklHSFQ6XG4gICAgICAgICAgc3R5bGUuYm90dG9tID0gXCIwcHhcIjtcbiAgICAgICAgICBzdHlsZS5yaWdodCA9IFwiMHB4XCI7XG4gICAgICAgICAgc3R5bGUudG9wID0gXCJhdXRvXCI7XG4gICAgICAgICAgc3R5bGUubGVmdCA9IFwiYXV0b1wiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEJVVFRPTl9QT1NJVElPTi5CT1RUT01fTEVGVDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBzdHlsZS5ib3R0b20gPSBcIjBweFwiO1xuICAgICAgICAgIHN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICAgIHN0eWxlLnRvcCA9IFwiYXV0b1wiO1xuICAgICAgICAgIHN0eWxlLnJpZ2h0ID0gXCJhdXRvXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBzdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICBzdHlsZS50b3AgPSBcIjBweFwiO1xuICAgICAgc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICAgICAgc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICBzdHlsZS5ib3R0b20gPSBcIjBweFwiO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHRoaXMudG9ydXNJZnJhbWUuc3R5bGUsIHN0eWxlKTtcbiAgICB0aGlzLl9zdGF0ZS5pc0lGcmFtZUZ1bGxTY3JlZW4gPSBpc0Z1bGw7XG4gICAgdGhpcy5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMuSUZSQU1FX1NUQVRVUyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBpc0lGcmFtZUZ1bGxTY3JlZW46IGlzRnVsbCxcbiAgICAgICAgcmlkXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaGlkZVRvcnVzQnV0dG9uKCkge1xuICAgIHRoaXMuX3N0YXRlLnRvcnVzV2lkZ2V0VmlzaWJpbGl0eSA9IGZhbHNlO1xuICAgIHRoaXMuX2Rpc3BsYXlJZnJhbWUoKTtcbiAgfVxuICBzaG93VG9ydXNCdXR0b24oKSB7XG4gICAgdGhpcy5fc3RhdGUudG9ydXNXaWRnZXRWaXNpYmlsaXR5ID0gdHJ1ZTtcbiAgICB0aGlzLl9kaXNwbGF5SWZyYW1lKCk7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJuYWwgUlBDIG1ldGhvZC4gRm9yd2FyZHMgcmVxdWVzdHMgdG8gYmFja2dyb3VuZCB2aWEgdGhlIFJQQyBlbmdpbmUuXG4gICAqIEFsc28gcmVtYXAgaWRzIGluYm91bmQgYW5kIG91dGJvdW5kXG4gICAqL1xuICBfcnBjUmVxdWVzdChwYXlsb2FkLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGNiID0gY2FsbGJhY2s7XG4gICAgY29uc3QgX3BheWxvYWQgPSBwYXlsb2FkO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShfcGF5bG9hZCkpIHtcbiAgICAgIGlmICghX3BheWxvYWQuanNvbnJwYykge1xuICAgICAgICBfcGF5bG9hZC5qc29ucnBjID0gXCIyLjBcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50cnlXaW5kb3dIYW5kbGUoX3BheWxvYWQsIGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBwcm92aWRlciBiZWNvbWVzIGNvbm5lY3RlZCwgdXBkYXRlcyBpbnRlcm5hbCBzdGF0ZSBhbmQgZW1pdHNcbiAgICogcmVxdWlyZWQgZXZlbnRzLiBJZGVtcG90ZW50LlxuICAgKlxuICAgKiBAcGFyYW0gY3VycmVudExvZ2luUHJvdmlkZXIgLSBUaGUgbG9naW4gUHJvdmlkZXJcbiAgICogZW1pdHMgVG9ydXNJbnBhZ2VQcm92aWRlciNjb25uZWN0XG4gICAqL1xuICBfaGFuZGxlQ29ubmVjdChjdXJyZW50TG9naW5Qcm92aWRlciwgaXNMb2dnZWRJbikge1xuICAgIGlmICghdGhpcy5fc3RhdGUuaXNDb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RcIiwge1xuICAgICAgICBjdXJyZW50TG9naW5Qcm92aWRlcixcbiAgICAgICAgaXNMb2dnZWRJblxuICAgICAgfSk7XG4gICAgICBsb2cuZGVidWcobWVzc2FnZXMuaW5mby5jb25uZWN0ZWQoY3VycmVudExvZ2luUHJvdmlkZXIpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2hlbiB0aGUgcHJvdmlkZXIgYmVjb21lcyBkaXNjb25uZWN0ZWQsIHVwZGF0ZXMgaW50ZXJuYWwgc3RhdGUgYW5kIGVtaXRzXG4gICAqIHJlcXVpcmVkIGV2ZW50cy4gSWRlbXBvdGVudCB3aXRoIHJlc3BlY3QgdG8gdGhlIGlzUmVjb3ZlcmFibGUgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBFcnJvciBjb2RlcyBwZXIgdGhlIENsb3NlRXZlbnQgc3RhdHVzIGNvZGVzIGFzIHJlcXVpcmVkIGJ5IEVJUC0xMTkzOlxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2xvc2VFdmVudCNTdGF0dXNfY29kZXNcbiAgICpcbiAgICogQHBhcmFtIGlzUmVjb3ZlcmFibGUgLSBXaGV0aGVyIHRoZSBkaXNjb25uZWN0aW9uIGlzIHJlY292ZXJhYmxlLlxuICAgKiBAcGFyYW0gZXJyb3JNZXNzYWdlIC0gQSBjdXN0b20gZXJyb3IgbWVzc2FnZS5cbiAgICogZW1pdHMgVG9ydXNJbnBhZ2VQcm92aWRlciNkaXNjb25uZWN0XG4gICAqL1xuICBfaGFuZGxlRGlzY29ubmVjdChpc1JlY292ZXJhYmxlLCBlcnJvck1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5fc3RhdGUuaXNDb25uZWN0ZWQgfHwgIXRoaXMuX3N0YXRlLmlzUGVybWFuZW50bHlEaXNjb25uZWN0ZWQgJiYgIWlzUmVjb3ZlcmFibGUpIHtcbiAgICAgIHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICBsZXQgZXJyb3I7XG4gICAgICBpZiAoaXNSZWNvdmVyYWJsZSkge1xuICAgICAgICBlcnJvciA9IG5ldyBFdGhlcmV1bVJwY0Vycm9yKDEwMTMsXG4gICAgICAgIC8vIFRyeSBhZ2FpbiBsYXRlclxuICAgICAgICBlcnJvck1lc3NhZ2UgfHwgbWVzc2FnZXMuZXJyb3JzLmRpc2Nvbm5lY3RlZCgpKTtcbiAgICAgICAgbG9nLmRlYnVnKGVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yID0gbmV3IEV0aGVyZXVtUnBjRXJyb3IoMTAxMSxcbiAgICAgICAgLy8gSW50ZXJuYWwgZXJyb3JcbiAgICAgICAgZXJyb3JNZXNzYWdlIHx8IG1lc3NhZ2VzLmVycm9ycy5wZXJtYW5lbnRseURpc2Nvbm5lY3RlZCgpKTtcbiAgICAgICAgbG9nLmVycm9yKGVycm9yKTtcbiAgICAgICAgdGhpcy5fc3RhdGUuY3VycmVudExvZ2luUHJvdmlkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdGF0ZS5pc0xvZ2dlZEluID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXRlLnRvcnVzV2lkZ2V0VmlzaWJpbGl0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdGF0ZS5pc0lGcmFtZUZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc3RhdGUuaXNQZXJtYW5lbnRseURpc2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLmVtaXQoXCJkaXNjb25uZWN0XCIsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvLyBDYWxsZWQgaWYgdGhlIGlmcmFtZSB3YW50cyB0byBjbG9zZSB0aGUgd2luZG93IGNhdXNlIGl0IGlzIGRvbmUgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdFxuICBfaGFuZGxlQ2xvc2VXaW5kb3cocGFyYW1zKSB7XG4gICAgY29uc3Qge1xuICAgICAgd2luZG93SWRcbiAgICB9ID0gcGFyYW1zO1xuICAgIGlmICh0aGlzLndpbmRvd1JlZnNbd2luZG93SWRdKSB7XG4gICAgICB0aGlzLndpbmRvd1JlZnNbd2luZG93SWRdLmNsb3NlKCk7XG4gICAgICBkZWxldGUgdGhpcy53aW5kb3dSZWZzW3dpbmRvd0lkXTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgX2NyZWF0ZVBvcHVwQmxvY2tBbGVydCh3aW5kb3dJZCwgdXJsKSB7XG4gICAgY29uc3QgbG9nb1VybCA9IHRoaXMuZ2V0TG9nb1VybCgpO1xuICAgIGNvbnN0IHRvcnVzQWxlcnQgPSBodG1sVG9FbGVtZW50KCc8ZGl2IGlkPVwidG9ydXNBbGVydFwiIGNsYXNzPVwidG9ydXMtYWxlcnQtLXYyXCI+JyArIGA8ZGl2IGlkPVwidG9ydXNBbGVydF9fbG9nb1wiPjxpbWcgc3JjPVwiJHtsb2dvVXJsfVwiIC8+PC9kaXY+YCArIFwiPGRpdj5cIiArIGA8aDEgaWQ9XCJ0b3J1c0FsZXJ0X190aXRsZVwiPiR7dGhpcy5lbWJlZFRyYW5zbGF0aW9ucy5hY3Rpb25SZXF1aXJlZH08L2gxPmAgKyBgPHAgaWQ9XCJ0b3J1c0FsZXJ0X19kZXNjXCI+JHt0aGlzLmVtYmVkVHJhbnNsYXRpb25zLnBlbmRpbmdBY3Rpb259PC9wPmAgKyBcIjwvZGl2PlwiICsgXCI8L2Rpdj5cIik7XG4gICAgY29uc3Qgc3VjY2Vzc0FsZXJ0ID0gaHRtbFRvRWxlbWVudChgPGRpdj48YSBpZD1cInRvcnVzQWxlcnRfX2J0blwiPiR7dGhpcy5lbWJlZFRyYW5zbGF0aW9ucy5jb250aW51ZX08L2E+PC9kaXY+YCk7XG4gICAgY29uc3QgYnRuQ29udGFpbmVyID0gaHRtbFRvRWxlbWVudCgnPGRpdiBpZD1cInRvcnVzQWxlcnRfX2J0bi1jb250YWluZXJcIj48L2Rpdj4nKTtcbiAgICBidG5Db250YWluZXIuYXBwZW5kQ2hpbGQoc3VjY2Vzc0FsZXJ0KTtcbiAgICB0b3J1c0FsZXJ0LmFwcGVuZENoaWxkKGJ0bkNvbnRhaW5lcik7XG4gICAgY29uc3QgYmluZE9uTG9hZCA9ICgpID0+IHtcbiAgICAgIHN1Y2Nlc3NBbGVydC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3cod2luZG93SWQsIHtcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgIGZlYXR1cmVzOiBnZXRQb3B1cEZlYXR1cmVzKEZFQVRVUkVTX0NPTkZJUk1fV0lORE9XKVxuICAgICAgICB9KTtcbiAgICAgICAgdG9ydXNBbGVydC5yZW1vdmUoKTtcbiAgICAgICAgaWYgKHRoaXMudG9ydXNBbGVydENvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGggPT09IDApIHRoaXMudG9ydXNBbGVydENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGF0dGFjaE9uTG9hZCA9ICgpID0+IHtcbiAgICAgIHRoaXMudG9ydXNBbGVydENvbnRhaW5lci5hcHBlbmRDaGlsZCh0b3J1c0FsZXJ0KTtcbiAgICB9O1xuICAgIGF0dGFjaE9uTG9hZCgpO1xuICAgIGJpbmRPbkxvYWQoKTtcbiAgICB0aGlzLnRvcnVzQWxlcnRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgfVxuICBnZXRMb2dvVXJsKCkge1xuICAgIGNvbnN0IGxvZ29VcmwgPSBgJHt0aGlzLnRvcnVzVXJsfS9pbWFnZXMvdG9ydXNfaWNvbi1ibHVlLnN2Z2A7XG4gICAgcmV0dXJuIGxvZ29Vcmw7XG4gIH1cbn1cbl9kZWZpbmVQcm9wZXJ0eShUb3J1c0NvbW11bmljYXRpb25Qcm92aWRlciwgXCJfZGVmYXVsdFN0YXRlXCIsIHtcbiAgYnV0dG9uUG9zaXRpb246IFwiYm90dG9tLWxlZnRcIixcbiAgY3VycmVudExvZ2luUHJvdmlkZXI6IG51bGwsXG4gIGlzSUZyYW1lRnVsbFNjcmVlbjogZmFsc2UsXG4gIGhhc0VtaXR0ZWRDb25uZWN0aW9uOiBmYWxzZSxcbiAgdG9ydXNXaWRnZXRWaXNpYmlsaXR5OiBmYWxzZSxcbiAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICBpc0xvZ2dlZEluOiBmYWxzZSxcbiAgaXNQZXJtYW5lbnRseURpc2Nvbm5lY3RlZDogZmFsc2UsXG4gIGlzQ29ubmVjdGVkOiBmYWxzZVxufSk7XG5cbmNsYXNzIFRvcnVzSW5QYWdlUHJvdmlkZXIgZXh0ZW5kcyBCYXNlUHJvdmlkZXIge1xuICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uU3RyZWFtLCBfcmVmKSB7XG4gICAgbGV0IHtcbiAgICAgIG1heEV2ZW50TGlzdGVuZXJzID0gMTAwLFxuICAgICAganNvblJwY1N0cmVhbU5hbWUgPSBcInByb3ZpZGVyXCJcbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcihjb25uZWN0aW9uU3RyZWFtLCB7XG4gICAgICBtYXhFdmVudExpc3RlbmVycyxcbiAgICAgIGpzb25ScGNTdHJlYW1OYW1lXG4gICAgfSk7XG5cbiAgICAvLyBwcml2YXRlIHN0YXRlXG4gICAgLyoqXG4gICAgICogVGhlIGNoYWluIElEIG9mIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIFNvbGFuYSBjaGFpbi5cbiAgICAgKiBTZWUgW2NoYWluSWQubmV0d29ya117QGxpbmsgaHR0cHM6Ly9jaGFpbmlkLm5ldHdvcmt9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYWluSWRcIiwgdm9pZCAwKTtcbiAgICAvKipcbiAgICAgKiBUaGUgdXNlcidzIGN1cnJlbnRseSBzZWxlY3RlZCBTb2xhbmEgYWRkcmVzcy5cbiAgICAgKiBJZiBudWxsLCBUb3J1cyBpcyBlaXRoZXIgbG9ja2VkIG9yIHRoZSB1c2VyIGhhcyBub3QgcGVybWl0dGVkIGFueVxuICAgICAqIGFkZHJlc3NlcyB0byBiZSB2aWV3ZWQuXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2VsZWN0ZWRBZGRyZXNzXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidHJ5V2luZG93SGFuZGxlXCIsIHZvaWQgMCk7XG4gICAgdGhpcy5fc3RhdGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBUb3J1c0luUGFnZVByb3ZpZGVyLl9kZWZhdWx0U3RhdGUpO1xuXG4gICAgLy8gcHVibGljIHN0YXRlXG4gICAgdGhpcy5zZWxlY3RlZEFkZHJlc3MgPSBudWxsO1xuICAgIHRoaXMuY2hhaW5JZCA9IG51bGw7XG4gICAgdGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkID0gdGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlQ2hhaW5DaGFuZ2VkID0gdGhpcy5faGFuZGxlQ2hhaW5DaGFuZ2VkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlVW5sb2NrU3RhdGVDaGFuZ2VkID0gdGhpcy5faGFuZGxlVW5sb2NrU3RhdGVDaGFuZ2VkLmJpbmQodGhpcyk7XG5cbiAgICAvLyBzZXR1cCBvd24gZXZlbnQgbGlzdGVuZXJzXG5cbiAgICAvLyBFSVAtMTE5MyBjb25uZWN0XG4gICAgdGhpcy5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5fc3RhdGUuaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIGNvbnN0IGpzb25ScGNOb3RpZmljYXRpb25IYW5kbGVyID0gcGF5bG9hZCA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcGFyYW1zXG4gICAgICB9ID0gcGF5bG9hZDtcbiAgICAgIGlmIChtZXRob2QgPT09IFBST1ZJREVSX05PVElGSUNBVElPTlMuQUNDT1VOVFNfQ0hBTkdFRCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVBY2NvdW50c0NoYW5nZWQocGFyYW1zKTtcbiAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSBQUk9WSURFUl9OT1RJRklDQVRJT05TLlVOTE9DS19TVEFURV9DSEFOR0VEKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVVubG9ja1N0YXRlQ2hhbmdlZChwYXJhbXMpO1xuICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IFBST1ZJREVSX05PVElGSUNBVElPTlMuQ0hBSU5fQ0hBTkdFRCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVDaGFpbkNoYW5nZWQocGFyYW1zKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8ganNvbiBycGMgbm90aWZpY2F0aW9uIGxpc3RlbmVyXG4gICAgdGhpcy5qc29uUnBjQ29ubmVjdGlvbkV2ZW50cy5vbihcIm5vdGlmaWNhdGlvblwiLCBqc29uUnBjTm90aWZpY2F0aW9uSGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBpbnBhZ2UgcHJvdmlkZXIgaXMgY29ubmVjdGVkIHRvIFRvcnVzLlxuICAgKi9cbiAgaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkO1xuICB9XG5cbiAgLy8gUHJpdmF0ZSBNZXRob2RzXG4gIC8vPSA9PT09PT09PT09PT09PT09PT09XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBoZWxwZXIuXG4gICAqIFBvcHVsYXRlcyBpbml0aWFsIHN0YXRlIGJ5IGNhbGxpbmcgJ3dhbGxldF9nZXRQcm92aWRlclN0YXRlJyBhbmQgZW1pdHNcbiAgICogbmVjZXNzYXJ5IGV2ZW50cy5cbiAgICovXG4gIGFzeW5jIF9pbml0aWFsaXplU3RhdGUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgYWNjb3VudHMsXG4gICAgICAgIGNoYWluSWQsXG4gICAgICAgIGlzVW5sb2NrZWRcbiAgICAgIH0gPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6IFBST1ZJREVSX0pSUENfTUVUSE9EUy5HRVRfUFJPVklERVJfU1RBVEUsXG4gICAgICAgIHBhcmFtczogW11cbiAgICAgIH0pO1xuXG4gICAgICAvLyBpbmRpY2F0ZSB0aGF0IHdlJ3ZlIGNvbm5lY3RlZCwgZm9yIEVJUC0xMTkzIGNvbXBsaWFuY2VcbiAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RcIiwge1xuICAgICAgICBjaGFpbklkXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYWluQ2hhbmdlZCh7XG4gICAgICAgIGNoYWluSWRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faGFuZGxlVW5sb2NrU3RhdGVDaGFuZ2VkKHtcbiAgICAgICAgYWNjb3VudHMsXG4gICAgICAgIGlzVW5sb2NrZWRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkKGFjY291bnRzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKFwiVG9ydXM6IEZhaWxlZCB0byBnZXQgaW5pdGlhbCBzdGF0ZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGJ1Zy5cIiwgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBsb2cuaW5mbyhcImluaXRpYWxpemVkIHByb3ZpZGVyIHN0YXRlXCIpO1xuICAgICAgdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5lbWl0KFwiX2luaXRpYWxpemVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCBSUEMgbWV0aG9kLiBGb3J3YXJkcyByZXF1ZXN0cyB0byBiYWNrZ3JvdW5kIHZpYSB0aGUgUlBDIGVuZ2luZS5cbiAgICogQWxzbyByZW1hcCBpZHMgaW5ib3VuZCBhbmQgb3V0Ym91bmRcbiAgICovXG4gIF9ycGNSZXF1ZXN0KHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgbGV0IGlzSW50ZXJuYWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICAgIGxldCBjYiA9IGNhbGxiYWNrO1xuICAgIGNvbnN0IF9wYXlsb2FkID0gcGF5bG9hZDtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoX3BheWxvYWQpKSB7XG4gICAgICBpZiAoIV9wYXlsb2FkLmpzb25ycGMpIHtcbiAgICAgICAgX3BheWxvYWQuanNvbnJwYyA9IFwiMi4wXCI7XG4gICAgICB9XG4gICAgICBpZiAoX3BheWxvYWQubWV0aG9kID09PSBcInNvbGFuYV9hY2NvdW50c1wiIHx8IF9wYXlsb2FkLm1ldGhvZCA9PT0gXCJzb2xhbmFfcmVxdWVzdEFjY291bnRzXCIpIHtcbiAgICAgICAgLy8gaGFuZGxlIGFjY291bnRzIGNoYW5naW5nXG4gICAgICAgIGNiID0gKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkKHJlcy5yZXN1bHQgfHwgW10sIF9wYXlsb2FkLm1ldGhvZCA9PT0gXCJzb2xhbmFfYWNjb3VudHNcIiwgaXNJbnRlcm5hbCk7XG4gICAgICAgICAgY2FsbGJhY2soZXJyLCByZXMpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChfcGF5bG9hZC5tZXRob2QgPT09IFwid2FsbGV0X2dldFByb3ZpZGVyU3RhdGVcIikge1xuICAgICAgICB0aGlzLl9ycGNFbmdpbmUuaGFuZGxlKHBheWxvYWQsIGNiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnRyeVdpbmRvd0hhbmRsZShfcGF5bG9hZCwgY2IpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHByb3ZpZGVyIGJlY29tZXMgY29ubmVjdGVkLCB1cGRhdGVzIGludGVybmFsIHN0YXRlIGFuZCBlbWl0c1xuICAgKiByZXF1aXJlZCBldmVudHMuIElkZW1wb3RlbnQuXG4gICAqXG4gICAqIEBwYXJhbSBjaGFpbklkIC0gVGhlIElEIG9mIHRoZSBuZXdseSBjb25uZWN0ZWQgY2hhaW4uXG4gICAqIGVtaXRzIFRvcnVzSW5wYWdlUHJvdmlkZXIjY29ubmVjdFxuICAgKi9cbiAgX2hhbmRsZUNvbm5lY3QoY2hhaW5JZCkge1xuICAgIGlmICghdGhpcy5fc3RhdGUuaXNDb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RcIiwge1xuICAgICAgICBjaGFpbklkXG4gICAgICB9KTtcbiAgICAgIGxvZy5kZWJ1ZyhtZXNzYWdlcy5pbmZvLmNvbm5lY3RlZChjaGFpbklkKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHByb3ZpZGVyIGJlY29tZXMgZGlzY29ubmVjdGVkLCB1cGRhdGVzIGludGVybmFsIHN0YXRlIGFuZCBlbWl0c1xuICAgKiByZXF1aXJlZCBldmVudHMuIElkZW1wb3RlbnQgd2l0aCByZXNwZWN0IHRvIHRoZSBpc1JlY292ZXJhYmxlIHBhcmFtZXRlci5cbiAgICpcbiAgICogRXJyb3IgY29kZXMgcGVyIHRoZSBDbG9zZUV2ZW50IHN0YXR1cyBjb2RlcyBhcyByZXF1aXJlZCBieSBFSVAtMTE5MzpcbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Nsb3NlRXZlbnQjU3RhdHVzX2NvZGVzXG4gICAqXG4gICAqIEBwYXJhbSBpc1JlY292ZXJhYmxlIC0gV2hldGhlciB0aGUgZGlzY29ubmVjdGlvbiBpcyByZWNvdmVyYWJsZS5cbiAgICogQHBhcmFtIGVycm9yTWVzc2FnZSAtIEEgY3VzdG9tIGVycm9yIG1lc3NhZ2UuXG4gICAqIGVtaXRzIFRvcnVzSW5wYWdlUHJvdmlkZXIjZGlzY29ubmVjdFxuICAgKi9cbiAgX2hhbmRsZURpc2Nvbm5lY3QoaXNSZWNvdmVyYWJsZSwgZXJyb3JNZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkIHx8ICF0aGlzLl9zdGF0ZS5pc1Blcm1hbmVudGx5RGlzY29ubmVjdGVkICYmICFpc1JlY292ZXJhYmxlKSB7XG4gICAgICB0aGlzLl9zdGF0ZS5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgbGV0IGVycm9yO1xuICAgICAgaWYgKGlzUmVjb3ZlcmFibGUpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgRXRoZXJldW1ScGNFcnJvcigxMDEzLFxuICAgICAgICAvLyBUcnkgYWdhaW4gbGF0ZXJcbiAgICAgICAgZXJyb3JNZXNzYWdlIHx8IG1lc3NhZ2VzLmVycm9ycy5kaXNjb25uZWN0ZWQoKSk7XG4gICAgICAgIGxvZy5kZWJ1ZyhlcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvciA9IG5ldyBFdGhlcmV1bVJwY0Vycm9yKDEwMTEsXG4gICAgICAgIC8vIEludGVybmFsIGVycm9yXG4gICAgICAgIGVycm9yTWVzc2FnZSB8fCBtZXNzYWdlcy5lcnJvcnMucGVybWFuZW50bHlEaXNjb25uZWN0ZWQoKSk7XG4gICAgICAgIGxvZy5lcnJvcihlcnJvcik7XG4gICAgICAgIHRoaXMuY2hhaW5JZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0YXRlLmFjY291bnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFkZHJlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdGF0ZS5pc1VubG9ja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXRlLmlzUGVybWFuZW50bHlEaXNjb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5lbWl0KFwiZGlzY29ubmVjdFwiLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGFjY291bnRzIG1heSBoYXZlIGNoYW5nZWQuXG4gICAqL1xuICBfaGFuZGxlQWNjb3VudHNDaGFuZ2VkKGFjY291bnRzKSB7XG4gICAgbGV0IGlzRXRoQWNjb3VudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgIGxldCBpc0ludGVybmFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAvLyBkZWZlbnNpdmUgcHJvZ3JhbW1pbmdcbiAgICBsZXQgZmluYWxBY2NvdW50cyA9IGFjY291bnRzO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShmaW5hbEFjY291bnRzKSkge1xuICAgICAgbG9nLmVycm9yKFwiVG9ydXM6IFJlY2VpdmVkIG5vbi1hcnJheSBhY2NvdW50cyBwYXJhbWV0ZXIuIFBsZWFzZSByZXBvcnQgdGhpcyBidWcuXCIsIGZpbmFsQWNjb3VudHMpO1xuICAgICAgZmluYWxBY2NvdW50cyA9IFtdO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGFjY291bnQgb2YgYWNjb3VudHMpIHtcbiAgICAgIGlmICh0eXBlb2YgYWNjb3VudCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBsb2cuZXJyb3IoXCJUb3J1czogUmVjZWl2ZWQgbm9uLXN0cmluZyBhY2NvdW50LiBQbGVhc2UgcmVwb3J0IHRoaXMgYnVnLlwiLCBhY2NvdW50cyk7XG4gICAgICAgIGZpbmFsQWNjb3VudHMgPSBbXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZW1pdCBhY2NvdW50c0NoYW5nZWQgaWYgYW55dGhpbmcgYWJvdXQgdGhlIGFjY291bnRzIGFycmF5IGhhcyBjaGFuZ2VkXG4gICAgaWYgKCFkZXF1YWwodGhpcy5fc3RhdGUuYWNjb3VudHMsIGZpbmFsQWNjb3VudHMpKSB7XG4gICAgICAvLyB3ZSBzaG91bGQgYWx3YXlzIGhhdmUgdGhlIGNvcnJlY3QgYWNjb3VudHMgZXZlbiBiZWZvcmUgc29sYW5hX2FjY291bnRzXG4gICAgICAvLyByZXR1cm5zLCBleGNlcHQgaW4gY2FzZXMgd2hlcmUgaXNJbnRlcm5hbCBpcyB0cnVlXG4gICAgICBpZiAoaXNFdGhBY2NvdW50cyAmJiBBcnJheS5pc0FycmF5KHRoaXMuX3N0YXRlLmFjY291bnRzKSAmJiB0aGlzLl9zdGF0ZS5hY2NvdW50cy5sZW5ndGggPiAwICYmICFpc0ludGVybmFsKSB7XG4gICAgICAgIGxvZy5lcnJvcignVG9ydXM6IFwic29sYW5hX2FjY291bnRzXCIgdW5leHBlY3RlZGx5IHVwZGF0ZWQgYWNjb3VudHMuIFBsZWFzZSByZXBvcnQgdGhpcyBidWcuJywgZmluYWxBY2NvdW50cyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zdGF0ZS5hY2NvdW50cyA9IGZpbmFsQWNjb3VudHM7XG4gICAgICB0aGlzLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIiwgZmluYWxBY2NvdW50cyk7XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIHNlbGVjdGVkQWRkcmVzc1xuICAgIGlmICh0aGlzLnNlbGVjdGVkQWRkcmVzcyAhPT0gZmluYWxBY2NvdW50c1swXSkge1xuICAgICAgdGhpcy5zZWxlY3RlZEFkZHJlc3MgPSBmaW5hbEFjY291bnRzWzBdIHx8IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwb24gcmVjZWlwdCBvZiBhIG5ldyBjaGFpbklkIGFuZCBuZXR3b3JrVmVyc2lvbiwgZW1pdHMgY29ycmVzcG9uZGluZ1xuICAgKiBldmVudHMgYW5kIHNldHMgcmVsZXZhbnQgcHVibGljIHN0YXRlLlxuICAgKiBEb2VzIG5vdGhpbmcgaWYgbmVpdGhlciB0aGUgY2hhaW5JZCBub3IgdGhlIG5ldHdvcmtWZXJzaW9uIGFyZSBkaWZmZXJlbnRcbiAgICogZnJvbSBleGlzdGluZyB2YWx1ZXMuXG4gICAqXG4gICAqIGVtaXRzIFRvcnVzSW5wYWdlUHJvdmlkZXIjY2hhaW5DaGFuZ2VkXG4gICAqIEBwYXJhbSBuZXR3b3JrSW5mbyAtIEFuIG9iamVjdCB3aXRoIG5ldHdvcmsgaW5mby5cbiAgICovXG4gIF9oYW5kbGVDaGFpbkNoYW5nZWQoKSB7XG4gICAgbGV0IHtcbiAgICAgIGNoYWluSWRcbiAgICB9ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBpZiAoIWNoYWluSWQpIHtcbiAgICAgIGxvZy5lcnJvcihcIlRvcnVzOiBSZWNlaXZlZCBpbnZhbGlkIG5ldHdvcmsgcGFyYW1ldGVycy4gUGxlYXNlIHJlcG9ydCB0aGlzIGJ1Zy5cIiwge1xuICAgICAgICBjaGFpbklkXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNoYWluSWQgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICB0aGlzLl9oYW5kbGVEaXNjb25uZWN0KHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oYW5kbGVDb25uZWN0KGNoYWluSWQpO1xuICAgICAgaWYgKGNoYWluSWQgIT09IHRoaXMuY2hhaW5JZCkge1xuICAgICAgICB0aGlzLmNoYWluSWQgPSBjaGFpbklkO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJjaGFpbkNoYW5nZWRcIiwgdGhpcy5jaGFpbklkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcG9uIHJlY2VpcHQgb2YgYSBuZXcgaXNVbmxvY2tlZCBzdGF0ZSwgc2V0cyByZWxldmFudCBwdWJsaWMgc3RhdGUuXG4gICAqIENhbGxzIHRoZSBhY2NvdW50cyBjaGFuZ2VkIGhhbmRsZXIgd2l0aCB0aGUgcmVjZWl2ZWQgYWNjb3VudHMsIG9yIGFuIGVtcHR5XG4gICAqIGFycmF5LlxuICAgKlxuICAgKiBEb2VzIG5vdGhpbmcgaWYgdGhlIHJlY2VpdmVkIHZhbHVlIGlzIGVxdWFsIHRvIHRoZSBleGlzdGluZyB2YWx1ZS5cbiAgICogVGhlcmUgYXJlIG5vIGxvY2svdW5sb2NrIGV2ZW50cy5cbiAgICpcbiAgICogQHBhcmFtIG9wdHMgLSBPcHRpb25zIGJhZy5cbiAgICovXG4gIF9oYW5kbGVVbmxvY2tTdGF0ZUNoYW5nZWQoKSB7XG4gICAgbGV0IHtcbiAgICAgIGFjY291bnRzLFxuICAgICAgaXNVbmxvY2tlZFxuICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGlmICh0eXBlb2YgaXNVbmxvY2tlZCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGxvZy5lcnJvcihcIlRvcnVzOiBSZWNlaXZlZCBpbnZhbGlkIGlzVW5sb2NrZWQgcGFyYW1ldGVyLiBQbGVhc2UgcmVwb3J0IHRoaXMgYnVnLlwiLCB7XG4gICAgICAgIGlzVW5sb2NrZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNVbmxvY2tlZCAhPT0gdGhpcy5fc3RhdGUuaXNVbmxvY2tlZCkge1xuICAgICAgdGhpcy5fc3RhdGUuaXNVbmxvY2tlZCA9IGlzVW5sb2NrZWQ7XG4gICAgICB0aGlzLl9oYW5kbGVBY2NvdW50c0NoYW5nZWQoYWNjb3VudHMgfHwgW10pO1xuICAgIH1cbiAgfVxufVxuX2RlZmluZVByb3BlcnR5KFRvcnVzSW5QYWdlUHJvdmlkZXIsIFwiX2RlZmF1bHRTdGF0ZVwiLCB7XG4gIGFjY291bnRzOiBudWxsLFxuICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gIGlzVW5sb2NrZWQ6IGZhbHNlLFxuICBpbml0aWFsaXplZDogZmFsc2UsXG4gIGlzUGVybWFuZW50bHlEaXNjb25uZWN0ZWQ6IGZhbHNlLFxuICBoYXNFbWl0dGVkQ29ubmVjdGlvbjogZmFsc2Vcbn0pO1xuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gaW1hZ2UgVVJMIGV4aXN0c1xuICovXG5mdW5jdGlvbiBpbWdFeGlzdHModXJsKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZSh0cnVlKTtcbiAgICAgIGltZy5vbmVycm9yID0gKCkgPT4gcmVzb2x2ZShmYWxzZSk7XG4gICAgICBpbWcuc3JjID0gdXJsO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEV4dHJhY3RzIGEgbmFtZSBmb3IgdGhlIHNpdGUgZnJvbSB0aGUgRE9NXG4gKi9cbmNvbnN0IGdldFNpdGVOYW1lID0gd2luZG93ID0+IHtcbiAgY29uc3Qge1xuICAgIGRvY3VtZW50XG4gIH0gPSB3aW5kb3c7XG4gIGNvbnN0IHNpdGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCA+IG1ldGFbcHJvcGVydHk9XCJvZzpzaXRlX25hbWVcIl0nKTtcbiAgaWYgKHNpdGVOYW1lKSB7XG4gICAgcmV0dXJuIHNpdGVOYW1lLmNvbnRlbnQ7XG4gIH1cbiAgY29uc3QgbWV0YVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCA+IG1ldGFbbmFtZT1cInRpdGxlXCJdJyk7XG4gIGlmIChtZXRhVGl0bGUpIHtcbiAgICByZXR1cm4gbWV0YVRpdGxlLmNvbnRlbnQ7XG4gIH1cbiAgaWYgKGRvY3VtZW50LnRpdGxlICYmIGRvY3VtZW50LnRpdGxlLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gZG9jdW1lbnQudGl0bGU7XG4gIH1cbiAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbn07XG5cbi8qKlxuICogRXh0cmFjdHMgYW4gaWNvbiBmb3IgdGhlIHNpdGUgZnJvbSB0aGUgRE9NXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFNpdGVJY29uKHdpbmRvdykge1xuICB0cnkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRvY3VtZW50XG4gICAgfSA9IHdpbmRvdztcblxuICAgIC8vIFVzZSB0aGUgc2l0ZSdzIGZhdmljb24gaWYgaXQgZXhpc3RzXG4gICAgbGV0IGljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkID4gbGlua1tyZWw9XCJzaG9ydGN1dCBpY29uXCJdJyk7XG4gICAgaWYgKGljb24gJiYgKGF3YWl0IGltZ0V4aXN0cyhpY29uLmhyZWYpKSkge1xuICAgICAgcmV0dXJuIGljb24uaHJlZjtcbiAgICB9XG5cbiAgICAvLyBTZWFyY2ggdGhyb3VnaCBhdmFpbGFibGUgaWNvbnMgaW4gbm8gcGFydGljdWxhciBvcmRlclxuICAgIGljb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2hlYWQgPiBsaW5rW3JlbD1cImljb25cIl0nKSkuZmluZChfaWNvbiA9PiBCb29sZWFuKF9pY29uLmhyZWYpKTtcbiAgICBpZiAoaWNvbiAmJiAoYXdhaXQgaW1nRXhpc3RzKGljb24uaHJlZikpKSB7XG4gICAgICByZXR1cm4gaWNvbi5ocmVmO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgc2l0ZSBtZXRhZGF0YSBhbmQgcmV0dXJucyBpdFxuICpcbiAqL1xuY29uc3QgZ2V0U2l0ZU1ldGFkYXRhID0gYXN5bmMgKCkgPT4gKHtcbiAgbmFtZTogZ2V0U2l0ZU5hbWUod2luZG93KSxcbiAgaWNvbjogYXdhaXQgZ2V0U2l0ZUljb24od2luZG93KVxufSk7XG5cbmNvbnN0IFBST1ZJREVSX1VOU0FGRV9NRVRIT0RTID0gW1wic2VuZF90cmFuc2FjdGlvblwiLCBcInNpZ25fdHJhbnNhY3Rpb25cIiwgXCJzaWduX2FsbF90cmFuc2FjdGlvbnNcIiwgXCJzaWduX21lc3NhZ2VcIiwgXCJjb25uZWN0XCJdO1xuY29uc3QgQ09NTVVOSUNBVElPTl9VTlNBRkVfTUVUSE9EUyA9IFtDT01NVU5JQ0FUSU9OX0pSUENfTUVUSE9EUy5TRVRfUFJPVklERVJdO1xuY29uc3QgaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUgPSBzdG9yYWdlQXZhaWxhYmxlKFwibG9jYWxTdG9yYWdlXCIpO1xuXG4vLyBwcmVsb2FkIGZvciBpZnJhbWUgZG9lc24ndCB3b3JrIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU5MzI2N1xuKGFzeW5jIGZ1bmN0aW9uIHByZUxvYWRJZnJhbWUoKSB7XG4gIHRyeSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuICAgIGNvbnN0IHRvcnVzSWZyYW1lSHRtbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgIGNvbnN0IHtcbiAgICAgIHRvcnVzVXJsXG4gICAgfSA9IGF3YWl0IGdldFRvcnVzVXJsKFwicHJvZHVjdGlvblwiKTtcbiAgICB0b3J1c0lmcmFtZUh0bWwuaHJlZiA9IGAke3RvcnVzVXJsfS9mcmFtZWA7XG4gICAgdG9ydXNJZnJhbWVIdG1sLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcbiAgICB0b3J1c0lmcmFtZUh0bWwudHlwZSA9IFwidGV4dC9odG1sXCI7XG4gICAgdG9ydXNJZnJhbWVIdG1sLnJlbCA9IFwicHJlZmV0Y2hcIjtcbiAgICBpZiAodG9ydXNJZnJhbWVIdG1sLnJlbExpc3QgJiYgdG9ydXNJZnJhbWVIdG1sLnJlbExpc3Quc3VwcG9ydHMpIHtcbiAgICAgIGlmICh0b3J1c0lmcmFtZUh0bWwucmVsTGlzdC5zdXBwb3J0cyhcInByZWZldGNoXCIpKSB7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodG9ydXNJZnJhbWVIdG1sKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nLndhcm4oZXJyb3IpO1xuICB9XG59KSgpO1xuY2xhc3MgVG9ydXMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQge1xuICAgICAgbW9kYWxaSW5kZXggPSA5OTk5OVxuICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzSW5pdGlhbGl6ZWRcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3J1c0FsZXJ0XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibW9kYWxaSW5kZXhcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJhbGVydFpJbmRleFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlcXVlc3RlZExvZ2luUHJvdmlkZXJcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcm92aWRlclwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbW11bmljYXRpb25Qcm92aWRlclwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhcHBTdG9yYWdlS2V5XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNUb3B1cEhpZGRlblwiLCBmYWxzZSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG9ydXNBbGVydENvbnRhaW5lclwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcnVzVXJsXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG9ydXNJZnJhbWVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHlsZUxpbmtcIiwgdm9pZCAwKTtcbiAgICB0aGlzLnRvcnVzVXJsID0gXCJcIjtcbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZTsgLy8gaW5pdCBkb25lXG4gICAgdGhpcy5yZXF1ZXN0ZWRMb2dpblByb3ZpZGVyID0gbnVsbDtcbiAgICB0aGlzLm1vZGFsWkluZGV4ID0gbW9kYWxaSW5kZXg7XG4gICAgdGhpcy5hbGVydFpJbmRleCA9IG1vZGFsWkluZGV4ICsgMTAwMDtcbiAgICB0aGlzLmRhcHBTdG9yYWdlS2V5ID0gXCJcIjtcbiAgfVxuICBnZXQgaXNMb2dnZWRJbigpIHtcbiAgICBpZiAoIXRoaXMuY29tbXVuaWNhdGlvblByb3ZpZGVyKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMuY29tbXVuaWNhdGlvblByb3ZpZGVyLmlzTG9nZ2VkSW47XG4gIH1cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICBsZXQge1xuICAgICAgYnVpbGRFbnYgPSBUT1JVU19CVUlMRF9FTlYuUFJPRFVDVElPTixcbiAgICAgIGVuYWJsZUxvZ2dpbmcgPSBmYWxzZSxcbiAgICAgIG5ldHdvcmssXG4gICAgICBzaG93VG9ydXNCdXR0b24gPSBmYWxzZSxcbiAgICAgIHVzZUxvY2FsU3RvcmFnZSA9IGZhbHNlLFxuICAgICAgYnV0dG9uUG9zaXRpb24gPSBCVVRUT05fUE9TSVRJT04uQk9UVE9NX0xFRlQsXG4gICAgICBhcGlLZXkgPSBcInRvcnVzLWRlZmF1bHRcIixcbiAgICAgIGV4dHJhUGFyYW1zID0ge30sXG4gICAgICB3aGl0ZUxhYmVsXG4gICAgfSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCkgdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSBpbml0aWFsaXplZFwiKTtcbiAgICBzZXRBUElLZXkoYXBpS2V5KTtcbiAgICBjb25zdCB7XG4gICAgICB0b3J1c1VybCxcbiAgICAgIGxvZ0xldmVsXG4gICAgfSA9IGF3YWl0IGdldFRvcnVzVXJsKGJ1aWxkRW52KTtcbiAgICBsb2cuZW5hYmxlQWxsKCk7XG4gICAgbG9nLmluZm8odG9ydXNVcmwsIFwidXJsIGxvYWRlZFwiKTtcbiAgICBsb2cuaW5mbyhgU29sYW5hIEVtYmVkIFZlcnNpb24gOiR7dmVyc2lvbn1gKTtcbiAgICB0aGlzLnRvcnVzVXJsID0gdG9ydXNVcmw7XG4gICAgbG9nLnNldERlZmF1bHRMZXZlbChsb2dMZXZlbCk7XG4gICAgaWYgKGVuYWJsZUxvZ2dpbmcpIGxvZy5lbmFibGVBbGwoKTtlbHNlIGxvZy5kaXNhYmxlQWxsKCk7XG4gICAgY29uc3QgZGFwcFN0b3JhZ2VLZXkgPSB0aGlzLmhhbmRsZURhcHBTdG9yYWdlS2V5KHVzZUxvY2FsU3RvcmFnZSk7XG4gICAgY29uc3QgdG9ydXNJZnJhbWVVcmwgPSBuZXcgVVJMKHRvcnVzVXJsKTtcbiAgICBpZiAodG9ydXNJZnJhbWVVcmwucGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpKSB0b3J1c0lmcmFtZVVybC5wYXRobmFtZSArPSBcImZyYW1lXCI7ZWxzZSB0b3J1c0lmcmFtZVVybC5wYXRobmFtZSArPSBcIi9mcmFtZVwiO1xuICAgIGNvbnN0IGhhc2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgaWYgKGRhcHBTdG9yYWdlS2V5KSBoYXNoUGFyYW1zLmFwcGVuZChcImRhcHBTdG9yYWdlS2V5XCIsIGRhcHBTdG9yYWdlS2V5KTtcbiAgICBoYXNoUGFyYW1zLmFwcGVuZChcIm9yaWdpblwiLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKTtcbiAgICB0b3J1c0lmcmFtZVVybC5oYXNoID0gaGFzaFBhcmFtcy50b1N0cmluZygpO1xuXG4gICAgLy8gSWZyYW1lIGNvZGVcbiAgICB0aGlzLnRvcnVzSWZyYW1lID0gaHRtbFRvRWxlbWVudChgPGlmcmFtZVxuICAgICAgICBpZD1cInRvcnVzSWZyYW1lXCJcbiAgICAgICAgY2xhc3M9XCJ0b3J1c0lmcmFtZVwiXG4gICAgICAgIHNyYz1cIiR7dG9ydXNJZnJhbWVVcmwuaHJlZn1cIlxuICAgICAgICBzdHlsZT1cImRpc3BsYXk6IG5vbmU7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyByaWdodDogMDsgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiAwOyB6LWluZGV4OiAke3RoaXMubW9kYWxaSW5kZXgudG9TdHJpbmcoKX1cIlxuICAgICAgPjwvaWZyYW1lPmApO1xuICAgIHRoaXMudG9ydXNBbGVydENvbnRhaW5lciA9IGh0bWxUb0VsZW1lbnQoYDxkaXYgaWQ9XCJ0b3J1c0FsZXJ0Q29udGFpbmVyXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7IHotaW5kZXg6ICR7dGhpcy5hbGVydFpJbmRleC50b1N0cmluZygpfVwiPjwvZGl2PmApO1xuICAgIHRoaXMuc3R5bGVMaW5rID0gaHRtbFRvRWxlbWVudChgPGxpbmsgaHJlZj1cIiR7dG9ydXNVcmx9L2Nzcy93aWRnZXQuY3NzXCIgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiPmApO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnRvcnVzSWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCBkYXBwTWV0YWRhdGEgPSBhd2FpdCBnZXRTaXRlTWV0YWRhdGEoKTtcbiAgICAgICAgICAvLyBzZW5kIGluaXQgcGFyYW1zIGhlcmVcbiAgICAgICAgICB0aGlzLnRvcnVzSWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgYnV0dG9uUG9zaXRpb24sXG4gICAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgICBuZXR3b3JrLFxuICAgICAgICAgICAgZGFwcE1ldGFkYXRhLFxuICAgICAgICAgICAgZXh0cmFQYXJhbXMsXG4gICAgICAgICAgICB3aGl0ZUxhYmVsXG4gICAgICAgICAgfSwgdG9ydXNJZnJhbWVVcmwub3JpZ2luKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLl9zZXR1cFdlYjMoe1xuICAgICAgICAgICAgdG9ydXNVcmxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoc2hvd1RvcnVzQnV0dG9uKSB0aGlzLnNob3dUb3J1c0J1dHRvbigpO1xuICAgICAgICAgIGlmICh3aGl0ZUxhYmVsPy50b3B1cEhpZGUpIHRoaXMuaXNUb3B1cEhpZGRlbiA9IHdoaXRlTGFiZWwudG9wdXBIaWRlO2Vsc2UgdGhpcy5oaWRlVG9ydXNCdXR0b24oKTtcbiAgICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgd2luZG93LnRvcnVzID0gdGhpcztcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGlzLnN0eWxlTGluayk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9ydXNJZnJhbWUpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnRvcnVzQWxlcnRDb250YWluZXIpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBhc3luYyBsb2dpbigpIHtcbiAgICBsZXQgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkgdGhyb3cgbmV3IEVycm9yKFwiQ2FsbCBpbml0KCkgZmlyc3RcIik7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucmVxdWVzdGVkTG9naW5Qcm92aWRlciA9IHBhcmFtcy5sb2dpblByb3ZpZGVyIHx8IG51bGw7XG4gICAgICBpZiAoIXRoaXMucmVxdWVzdGVkTG9naW5Qcm92aWRlcikge1xuICAgICAgICB0aGlzLmNvbW11bmljYXRpb25Qcm92aWRlci5fZGlzcGxheUlmcmFtZSh7XG4gICAgICAgICAgaXNGdWxsOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gSWYgdXNlciBpcyBhbHJlYWR5IGxvZ2dlZCBpbiwgd2UgYXNzdW1lIHRoZXkgaGF2ZSBnaXZlbiBhY2Nlc3MgdG8gdGhlIHdlYnNpdGVcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gV2UgdXNlIHRoaXMgbWV0aG9kIGJlY2F1c2Ugd2Ugd2FudCB0byB1cGRhdGUgaW5QYWdlIHByb3ZpZGVyIHN0YXRlIHdpdGggYWNjb3VudCBpbmZvXG4gICAgICAgIHRoaXMucHJvdmlkZXIuX3JwY1JlcXVlc3Qoe1xuICAgICAgICAgIG1ldGhvZDogXCJzb2xhbmFfcmVxdWVzdEFjY291bnRzXCIsXG4gICAgICAgICAgcGFyYW1zOiBbdGhpcy5yZXF1ZXN0ZWRMb2dpblByb3ZpZGVyLCBwYXJhbXMubG9naW5faGludF1cbiAgICAgICAgfSwgZ2V0UnBjUHJvbWlzZUNhbGxiYWNrKHJlc29sdmUsIHJlamVjdCkpO1xuICAgICAgfSk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXMpICYmIHJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIHdvdWxkIG5ldmVyIGhhcHBlbiwgYnV0IGp1c3QgaW4gY2FzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTG9naW4gZmFpbGVkXCIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2cuZXJyb3IoXCJsb2dpbiBmYWlsZWRcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmICh0aGlzLmNvbW11bmljYXRpb25Qcm92aWRlci5pc0lGcmFtZUZ1bGxTY3JlZW4pIHRoaXMuY29tbXVuaWNhdGlvblByb3ZpZGVyLl9kaXNwbGF5SWZyYW1lKCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGxvZ2luV2l0aFByaXZhdGVLZXkobG9naW5QYXJhbXMpIHtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkgdGhyb3cgbmV3IEVycm9yKFwiQ2FsbCBpbml0KCkgZmlyc3RcIik7XG4gICAgY29uc3Qge1xuICAgICAgcHJpdmF0ZUtleSxcbiAgICAgIHVzZXJJbmZvXG4gICAgfSA9IGxvZ2luUGFyYW1zO1xuICAgIGNvbnN0IHtcbiAgICAgIHN1Y2Nlc3NcbiAgICB9ID0gYXdhaXQgdGhpcy5jb21tdW5pY2F0aW9uUHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwibG9naW5fd2l0aF9wcml2YXRlX2tleVwiLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHByaXZhdGVLZXksXG4gICAgICAgIHVzZXJJbmZvXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFzdWNjZXNzKSB0aHJvdyBuZXcgRXJyb3IoXCJMb2dpbiBGYWlsZWRcIik7XG4gIH1cbiAgYXN5bmMgbG9nb3V0KCkge1xuICAgIGlmICghdGhpcy5jb21tdW5pY2F0aW9uUHJvdmlkZXIuaXNMb2dnZWRJbikgdGhyb3cgbmV3IEVycm9yKFwiTm90IGxvZ2dlZCBpblwiKTtcbiAgICBhd2FpdCB0aGlzLmNvbW11bmljYXRpb25Qcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMuTE9HT1VULFxuICAgICAgcGFyYW1zOiBbXVxuICAgIH0pO1xuICAgIHRoaXMucmVxdWVzdGVkTG9naW5Qcm92aWRlciA9IG51bGw7XG4gIH1cbiAgYXN5bmMgY2xlYW5VcCgpIHtcbiAgICBpZiAodGhpcy5jb21tdW5pY2F0aW9uUHJvdmlkZXIuaXNMb2dnZWRJbikge1xuICAgICAgYXdhaXQgdGhpcy5sb2dvdXQoKTtcbiAgICB9XG4gICAgdGhpcy5jbGVhckluaXQoKTtcbiAgfVxuICBjbGVhckluaXQoKSB7XG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgRG9jdW1lbnQ7XG4gICAgfVxuICAgIGlmIChpc0VsZW1lbnQodGhpcy5zdHlsZUxpbmspICYmIHdpbmRvdy5kb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuc3R5bGVMaW5rKSkge1xuICAgICAgdGhpcy5zdHlsZUxpbmsucmVtb3ZlKCk7XG4gICAgICB0aGlzLnN0eWxlTGluayA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGlzRWxlbWVudCh0aGlzLnRvcnVzSWZyYW1lKSAmJiB3aW5kb3cuZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLnRvcnVzSWZyYW1lKSkge1xuICAgICAgdGhpcy50b3J1c0lmcmFtZS5yZW1vdmUoKTtcbiAgICAgIHRoaXMudG9ydXNJZnJhbWUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChpc0VsZW1lbnQodGhpcy50b3J1c0FsZXJ0Q29udGFpbmVyKSAmJiB3aW5kb3cuZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLnRvcnVzQWxlcnRDb250YWluZXIpKSB7XG4gICAgICB0aGlzLnRvcnVzQWxlcnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnRvcnVzQWxlcnRDb250YWluZXIucmVtb3ZlKCk7XG4gICAgICB0aGlzLnRvcnVzQWxlcnRDb250YWluZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICB9XG4gIGhpZGVUb3J1c0J1dHRvbigpIHtcbiAgICB0aGlzLmNvbW11bmljYXRpb25Qcm92aWRlci5oaWRlVG9ydXNCdXR0b24oKTtcbiAgfVxuICBzaG93VG9ydXNCdXR0b24oKSB7XG4gICAgdGhpcy5jb21tdW5pY2F0aW9uUHJvdmlkZXIuc2hvd1RvcnVzQnV0dG9uKCk7XG4gIH1cbiAgYXN5bmMgc2V0UHJvdmlkZXIocGFyYW1zKSB7XG4gICAgYXdhaXQgdGhpcy5jb21tdW5pY2F0aW9uUHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IENPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTLlNFVF9QUk9WSURFUixcbiAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zKVxuICAgIH0pO1xuICB9XG4gIGFzeW5jIHNob3dXYWxsZXQocGF0aCkge1xuICAgIGxldCBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGNvbnN0IGluc3RhbmNlSWQgPSBhd2FpdCB0aGlzLmNvbW11bmljYXRpb25Qcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogQ09NTVVOSUNBVElPTl9KUlBDX01FVEhPRFMuV0FMTEVUX0lOU1RBTkNFX0lELFxuICAgICAgcGFyYW1zOiBbXVxuICAgIH0pO1xuICAgIGNvbnN0IGZpbmFsUGF0aCA9IHBhdGggPyBgLyR7cGF0aH1gIDogXCJcIjtcbiAgICBjb25zdCBmaW5hbFVybCA9IG5ldyBVUkwoYCR7dGhpcy50b3J1c1VybH0vd2FsbGV0JHtmaW5hbFBhdGh9YCk7XG4gICAgLy8gVXNpbmcgVVJMIGNvbnN0cnVjdG9yIHRvIHByZXZlbnQganMgaW5qZWN0aW9uIGFuZCBhbGxvdyBwYXJhbWV0ZXIgdmFsaWRhdGlvbi4hXG4gICAgZmluYWxVcmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImluc3RhbmNlSWRcIiwgaW5zdGFuY2VJZCk7XG4gICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKHggPT4ge1xuICAgICAgZmluYWxVcmwuc2VhcmNoUGFyYW1zLmFwcGVuZCh4LCBwYXJhbXNbeF0pO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLmRhcHBTdG9yYWdlS2V5KSB7XG4gICAgICBmaW5hbFVybC5oYXNoID0gYCNkYXBwU3RvcmFnZUtleT0ke3RoaXMuZGFwcFN0b3JhZ2VLZXl9YDtcbiAgICB9XG4gICAgLy8gTm8gbmVlZCB0byB0cmFjayB0aGlzIHdpbmRvdyBzdGF0ZS4gSGVuY2UsIG5vIF9oYW5kbGVXaW5kb3cgY2FsbC5cbiAgICBjb25zdCB3YWxsZXRXaW5kb3cgPSBuZXcgUG9wdXBIYW5kbGVyKHtcbiAgICAgIHVybDogZmluYWxVcmwsXG4gICAgICBmZWF0dXJlczogZ2V0UG9wdXBGZWF0dXJlcyhGRUFUVVJFU19ERUZBVUxUX1dBTExFVF9XSU5ET1cpXG4gICAgfSk7XG4gICAgd2FsbGV0V2luZG93Lm9wZW4oKTtcbiAgfVxuICBhc3luYyBnZXRVc2VySW5mbygpIHtcbiAgICBjb25zdCB1c2VySW5mb1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5jb21tdW5pY2F0aW9uUHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IENPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTLlVTRVJfSU5GTyxcbiAgICAgIHBhcmFtczogW11cbiAgICB9KTtcbiAgICByZXR1cm4gdXNlckluZm9SZXNwb25zZTtcbiAgfVxuICBhc3luYyBpbml0aWF0ZVRvcHVwKHByb3ZpZGVyLCBwYXJhbXMpIHtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkgdGhyb3cgbmV3IEVycm9yKFwiVG9ydXMgaXMgbm90IGluaXRpYWxpemVkXCIpO1xuICAgIGNvbnN0IHdpbmRvd0lkID0gZ2V0V2luZG93SWQoKTtcbiAgICB0aGlzLmNvbW11bmljYXRpb25Qcm92aWRlci5faGFuZGxlV2luZG93KHdpbmRvd0lkKTtcbiAgICBjb25zdCB0b3B1cFJlc3BvbnNlID0gYXdhaXQgdGhpcy5jb21tdW5pY2F0aW9uUHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IENPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTLlRPUFVQLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHdpbmRvd0lkXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvcHVwUmVzcG9uc2U7XG4gIH1cblxuICAvLyBTb2xhbmEgc3BlY2lmaWMgQVBJXG4gIGFzeW5jIGdldEFjY291bnRzKCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJnZXRBY2NvdW50c1wiLFxuICAgICAgcGFyYW1zOiBbXVxuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuICBhc3luYyBzZW5kVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgICBjb25zdCBpc0xlZ2FjeVRyYW5zYWN0aW9uID0gaXNMZWdhY3lUcmFuc2FjdGlvbkluc3RhbmNlKHRyYW5zYWN0aW9uKTtcbiAgICBjb25zdCBtZXNzYWdlID0gaXNMZWdhY3lUcmFuc2FjdGlvbiA/IHRyYW5zYWN0aW9uLnNlcmlhbGl6ZSh7XG4gICAgICByZXF1aXJlQWxsU2lnbmF0dXJlczogZmFsc2VcbiAgICB9KS50b1N0cmluZyhcImhleFwiKSA6IEJ1ZmZlci5mcm9tKHRyYW5zYWN0aW9uLnNlcmlhbGl6ZSgpKS50b1N0cmluZyhcImhleFwiKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic2VuZF90cmFuc2FjdGlvblwiLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIGlzTGVnYWN5VHJhbnNhY3Rpb25cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvLyBzdXBwb3J0IHNlbmRPcHRpb25zXG4gIGFzeW5jIHNpZ25BbmRTZW5kVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24sIG9wdGlvbnMpIHtcbiAgICBjb25zdCBpc0xlZ2FjeVRyYW5zYWN0aW9uID0gaXNMZWdhY3lUcmFuc2FjdGlvbkluc3RhbmNlKHRyYW5zYWN0aW9uKTtcbiAgICBjb25zdCBtZXNzYWdlID0gaXNMZWdhY3lUcmFuc2FjdGlvbiA/IHRyYW5zYWN0aW9uLnNlcmlhbGl6ZSh7XG4gICAgICByZXF1aXJlQWxsU2lnbmF0dXJlczogZmFsc2VcbiAgICB9KS50b1N0cmluZyhcImhleFwiKSA6IEJ1ZmZlci5mcm9tKHRyYW5zYWN0aW9uLnNlcmlhbGl6ZSgpKS50b1N0cmluZyhcImhleFwiKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic2VuZF90cmFuc2FjdGlvblwiLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGlzTGVnYWN5VHJhbnNhY3Rpb25cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgc2lnbmF0dXJlOiByZXNwb25zZVxuICAgIH07XG4gIH1cbiAgYXN5bmMgc2lnblRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKSB7XG4gICAgY29uc3QgaXNMZWdhY3lUcmFuc2FjdGlvbiA9IGlzTGVnYWN5VHJhbnNhY3Rpb25JbnN0YW5jZSh0cmFuc2FjdGlvbik7XG4gICAgY29uc3QgbWVzc2FnZSA9IGlzTGVnYWN5VHJhbnNhY3Rpb24gPyB0cmFuc2FjdGlvbi5zZXJpYWxpemVNZXNzYWdlKCkudG9TdHJpbmcoXCJoZXhcIikgOiBCdWZmZXIuZnJvbSh0cmFuc2FjdGlvbi5tZXNzYWdlLnNlcmlhbGl6ZSgpKS50b1N0cmluZyhcImhleFwiKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic2lnbl90cmFuc2FjdGlvblwiLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIG1lc3NhZ2VPbmx5OiB0cnVlLFxuICAgICAgICBpc0xlZ2FjeVRyYW5zYWN0aW9uXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyByZWNvbnN0cnVjdCBzaWduYXR1cmUgcGFpclxuICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IHtcbiAgICAgIHB1YmxpY0tleTogbmV3IFB1YmxpY0tleShwYXJzZWQucHVibGljS2V5KSxcbiAgICAgIHNpZ25hdHVyZTogQnVmZmVyLmZyb20ocGFyc2VkLnNpZ25hdHVyZSwgXCJoZXhcIilcbiAgICB9O1xuICAgIHRyYW5zYWN0aW9uLmFkZFNpZ25hdHVyZShzaWduYXR1cmUucHVibGljS2V5LCBzaWduYXR1cmUuc2lnbmF0dXJlKTtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb247XG4gIH1cbiAgYXN5bmMgc2lnbkFsbFRyYW5zYWN0aW9ucyh0cmFuc2FjdGlvbnMpIHtcbiAgICBsZXQgaXNMZWdhY3lUcmFuc2FjdGlvbjtcbiAgICBjb25zdCBlbmNvZGVkTWVzc2FnZSA9IHRyYW5zYWN0aW9ucy5tYXAodHggPT4ge1xuICAgICAgaXNMZWdhY3lUcmFuc2FjdGlvbiA9IGlzTGVnYWN5VHJhbnNhY3Rpb25JbnN0YW5jZSh0eCk7XG4gICAgICByZXR1cm4gaXNMZWdhY3lUcmFuc2FjdGlvbiA/IHR4LnNlcmlhbGl6ZU1lc3NhZ2UoKS50b1N0cmluZyhcImhleFwiKSA6IEJ1ZmZlci5mcm9tKHR4Lm1lc3NhZ2Uuc2VyaWFsaXplKCkpLnRvU3RyaW5nKFwiaGV4XCIpO1xuICAgIH0pO1xuICAgIGNvbnN0IHJlc3BvbnNlcyA9IGF3YWl0IHRoaXMucHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic2lnbl9hbGxfdHJhbnNhY3Rpb25zXCIsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbWVzc2FnZTogZW5jb2RlZE1lc3NhZ2UsXG4gICAgICAgIG1lc3NhZ2VPbmx5OiB0cnVlLFxuICAgICAgICBpc0xlZ2FjeVRyYW5zYWN0aW9uXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyByZWNvbnN0cnVjdCBzaWduYXR1cmUgcGFpcnNcbiAgICBjb25zdCBzaWduYXR1cmVzID0gcmVzcG9uc2VzLm1hcChpdGVtID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoaXRlbSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwdWJsaWNLZXk6IG5ldyBQdWJsaWNLZXkocGFyc2VkLnB1YmxpY0tleSksXG4gICAgICAgIHNpZ25hdHVyZTogQnVmZmVyLmZyb20ocGFyc2VkLnNpZ25hdHVyZSwgXCJoZXhcIilcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdHJhbnNhY3Rpb25zLmZvckVhY2goKHR4LCBpZHgpID0+IHtcbiAgICAgIHR4LmFkZFNpZ25hdHVyZShzaWduYXR1cmVzW2lkeF0ucHVibGljS2V5LCBzaWduYXR1cmVzW2lkeF0uc2lnbmF0dXJlKTtcbiAgICAgIHJldHVybiB0eDtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25zO1xuICB9XG4gIGFzeW5jIHNpZ25NZXNzYWdlKGRhdGEpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic2lnbl9tZXNzYWdlXCIsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgZGF0YVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuICBhc3luYyBnZXRHYXNsZXNzUHVibGljS2V5KCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJnZXRfZ2FzbGVzc19wdWJsaWNfa2V5XCIsXG4gICAgICBwYXJhbXM6IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLy8gYXN5bmMgY29ubmVjdCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgLy8gICBjb25zdCByZXNwb25zZSA9IChhd2FpdCB0aGlzLnByb3ZpZGVyLnJlcXVlc3Qoe1xuICAvLyAgICAgbWV0aG9kOiBcImNvbm5lY3RcIixcbiAgLy8gICAgIHBhcmFtczoge30sXG4gIC8vICAgfSkpIGFzIGJvb2xlYW47XG4gIC8vICAgcmV0dXJuIHJlc3BvbnNlO1xuICAvLyB9XG5cbiAgaGFuZGxlRGFwcFN0b3JhZ2VLZXkodXNlTG9jYWxTdG9yYWdlKSB7XG4gICAgY29uc3QgbG9jYWxTdG9yYWdlS2V5ID0gYCR7Y29uZmlndXJhdGlvbi5sb2NhbFN0b3JhZ2VLZXlQcmVmaXh9JHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9YDtcbiAgICBsZXQgZGFwcFN0b3JhZ2VLZXkgPSBcIlwiO1xuICAgIGlmIChpc0xvY2FsU3RvcmFnZUF2YWlsYWJsZSAmJiB1c2VMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIGNvbnN0IHN0b3JlZEtleSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2NhbFN0b3JhZ2VLZXkpO1xuICAgICAgaWYgKHN0b3JlZEtleSkgZGFwcFN0b3JhZ2VLZXkgPSBzdG9yZWRLZXk7ZWxzZSB7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZEtleSA9IGB0b3J1cy1hcHAtJHtnZXRXaW5kb3dJZCgpfWA7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFN0b3JhZ2VLZXksIGdlbmVyYXRlZEtleSk7XG4gICAgICAgIGRhcHBTdG9yYWdlS2V5ID0gZ2VuZXJhdGVkS2V5O1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmRhcHBTdG9yYWdlS2V5ID0gZGFwcFN0b3JhZ2VLZXk7XG4gICAgcmV0dXJuIGRhcHBTdG9yYWdlS2V5O1xuICB9XG4gIGFzeW5jIF9zZXR1cFdlYjMocHJvdmlkZXJQYXJhbXMpIHtcbiAgICBsb2cuaW5mbyhcInNldHVwV2ViMyBydW5uaW5nXCIpO1xuICAgIC8vIHNldHVwIGJhY2tncm91bmQgY29ubmVjdGlvblxuICAgIGNvbnN0IHByb3ZpZGVyU3RyZWFtID0gbmV3IEJhc2VQb3N0TWVzc2FnZVN0cmVhbSh7XG4gICAgICBuYW1lOiBcImVtYmVkX3RvcnVzXCIsXG4gICAgICB0YXJnZXQ6IFwiaWZyYW1lX3RvcnVzXCIsXG4gICAgICB0YXJnZXRXaW5kb3c6IHRoaXMudG9ydXNJZnJhbWUuY29udGVudFdpbmRvd1xuICAgIH0pO1xuXG4gICAgLy8gV2UgY3JlYXRlIGFub3RoZXIgTG9jYWxNZXNzYWdlRHVwbGV4U3RyZWFtIGZvciBjb21tdW5pY2F0aW9uIGJldHdlZW4gZGFwcCA8PiBpZnJhbWVcbiAgICBjb25zdCBjb21tdW5pY2F0aW9uU3RyZWFtID0gbmV3IEJhc2VQb3N0TWVzc2FnZVN0cmVhbSh7XG4gICAgICBuYW1lOiBcImVtYmVkX2NvbW11bmljYXRpb25cIixcbiAgICAgIHRhcmdldDogXCJpZnJhbWVfY29tbXVuaWNhdGlvblwiLFxuICAgICAgdGFyZ2V0V2luZG93OiB0aGlzLnRvcnVzSWZyYW1lLmNvbnRlbnRXaW5kb3dcbiAgICB9KTtcblxuICAgIC8vIGNvbXBvc2UgdGhlIGluUGFnZSBwcm92aWRlclxuICAgIGNvbnN0IGluUGFnZVByb3ZpZGVyID0gbmV3IFRvcnVzSW5QYWdlUHJvdmlkZXIocHJvdmlkZXJTdHJlYW0sIHt9KTtcbiAgICBjb25zdCBjb21tdW5pY2F0aW9uUHJvdmlkZXIgPSBuZXcgVG9ydXNDb21tdW5pY2F0aW9uUHJvdmlkZXIoY29tbXVuaWNhdGlvblN0cmVhbSwge30pO1xuICAgIGluUGFnZVByb3ZpZGVyLnRyeVdpbmRvd0hhbmRsZSA9IChwYXlsb2FkLCBjYikgPT4ge1xuICAgICAgY29uc3QgX3BheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KF9wYXlsb2FkKSAmJiBQUk9WSURFUl9VTlNBRkVfTUVUSE9EUy5pbmNsdWRlcyhfcGF5bG9hZC5tZXRob2QpKSB7XG4gICAgICAgIGlmICghdGhpcy5jb21tdW5pY2F0aW9uUHJvdmlkZXIuaXNMb2dnZWRJbikgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBOb3QgTG9nZ2VkIEluXCIpO1xuICAgICAgICBjb25zdCB3aW5kb3dJZCA9IGdldFdpbmRvd0lkKCk7XG4gICAgICAgIGNvbW11bmljYXRpb25Qcm92aWRlci5faGFuZGxlV2luZG93KHdpbmRvd0lkLCB7XG4gICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgIGZlYXR1cmVzOiBnZXRQb3B1cEZlYXR1cmVzKEZFQVRVUkVTX0NPTkZJUk1fV0lORE9XKVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gZm9yIGluUGFnZVByb3ZpZGVyIG1ldGhvZHMgc2VuZGluZyB3aW5kb3dJZCBpbiByZXF1ZXN0IGluc3RlYWQgb2YgcGFyYW1zXG4gICAgICAgIC8vIGFzIHBhcmFtcyBtaWdodCBiZSBwb3NpdGlvbmFsLlxuICAgICAgICBfcGF5bG9hZC53aW5kb3dJZCA9IHdpbmRvd0lkO1xuICAgICAgfVxuICAgICAgaW5QYWdlUHJvdmlkZXIuX3JwY0VuZ2luZS5oYW5kbGUoX3BheWxvYWQsIGNiKTtcbiAgICB9O1xuICAgIGNvbW11bmljYXRpb25Qcm92aWRlci50cnlXaW5kb3dIYW5kbGUgPSAocGF5bG9hZCwgY2IpID0+IHtcbiAgICAgIGNvbnN0IF9wYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShfcGF5bG9hZCkgJiYgQ09NTVVOSUNBVElPTl9VTlNBRkVfTUVUSE9EUy5pbmNsdWRlcyhfcGF5bG9hZC5tZXRob2QpKSB7XG4gICAgICAgIGNvbnN0IHdpbmRvd0lkID0gZ2V0V2luZG93SWQoKTtcbiAgICAgICAgY29tbXVuaWNhdGlvblByb3ZpZGVyLl9oYW5kbGVXaW5kb3cod2luZG93SWQsIHtcbiAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgZmVhdHVyZXM6IGdldFBvcHVwRmVhdHVyZXMoRkVBVFVSRVNfUFJPVklERVJfQ0hBTkdFX1dJTkRPVykgLy8gdG9kbzogYXJlIHRoZXNlIGZlYXR1cmVzIGdlbmVyaWMgZm9yIGFsbFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gZm9yIGNvbW11bmljYXRpb24gbWV0aG9kcyBzZW5kaW5nIHdpbmRvdyBpZCBpbiBqcnBjIHJlcSBwYXJhbXNcbiAgICAgICAgX3BheWxvYWQucGFyYW1zLndpbmRvd0lkID0gd2luZG93SWQ7XG4gICAgICB9XG4gICAgICBjb21tdW5pY2F0aW9uUHJvdmlkZXIuX3JwY0VuZ2luZS5oYW5kbGUoX3BheWxvYWQsIGNiKTtcbiAgICB9O1xuXG4gICAgLy8gZGV0ZWN0IHNvbGFuYV9yZXF1ZXN0QWNjb3VudHMgYW5kIHBpcGUgdG8gZW5hYmxlIGZvciBub3dcbiAgICBjb25zdCBkZXRlY3RBY2NvdW50UmVxdWVzdFByb3RvdHlwZU1vZGlmaWVyID0gbSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IGluUGFnZVByb3ZpZGVyW21dO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIGluUGFnZVByb3ZpZGVyW21dID0gZnVuY3Rpb24gcHJvdmlkZXJGdW5jKHJlcXVlc3QsIGNiKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgcGFyYW1zID0gW11cbiAgICAgICAgfSA9IHJlcXVlc3Q7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwic29sYW5hX3JlcXVlc3RBY2NvdW50c1wiKSB7XG4gICAgICAgICAgaWYgKCFjYikgcmV0dXJuIHNlbGYubG9naW4oe1xuICAgICAgICAgICAgbG9naW5Qcm92aWRlcjogcGFyYW1zWzBdXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2VsZi5sb2dpbih7XG4gICAgICAgICAgICBsb2dpblByb3ZpZGVyOiBwYXJhbXNbMF1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcm9taXNlL25vLWNhbGxiYWNrLWluLXByb21pc2VcbiAgICAgICAgICAudGhlbihyZXMgPT4gY2IobnVsbCwgcmVzKSlcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJvbWlzZS9uby1jYWxsYmFjay1pbi1wcm9taXNlXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiBjYihlcnIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsTWV0aG9kLmFwcGx5KHRoaXMsIFtyZXF1ZXN0LCBjYl0pO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gRGV0ZWN0cyBjYWxsIHRvIHNvbGFuYV9yZXF1ZXN0QWNjb3VudHMgaW4gcmVxdWVzdCAmIHNlbmRBc3luYyBhbmQgcGFzc2VzIHRvIGxvZ2luXG4gICAgZGV0ZWN0QWNjb3VudFJlcXVlc3RQcm90b3R5cGVNb2RpZmllcihcInJlcXVlc3RcIik7XG4gICAgZGV0ZWN0QWNjb3VudFJlcXVlc3RQcm90b3R5cGVNb2RpZmllcihcInNlbmRBc3luY1wiKTtcbiAgICBkZXRlY3RBY2NvdW50UmVxdWVzdFByb3RvdHlwZU1vZGlmaWVyKFwic2VuZFwiKTtcbiAgICBjb25zdCBwcm94aWVkSW5QYWdlUHJvdmlkZXIgPSBuZXcgUHJveHkoaW5QYWdlUHJvdmlkZXIsIHtcbiAgICAgIC8vIHN0cmFpZ2h0IHVwIGxpZSB0aGF0IHdlIGRlbGV0ZWQgdGhlIHByb3BlcnR5IHNvIHRoYXQgaXQgZG9lc24ndFxuICAgICAgLy8gdGhyb3cgYW4gZXJyb3IgaW4gc3RyaWN0IG1vZGVcbiAgICAgIGRlbGV0ZVByb3BlcnR5OiAoKSA9PiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3QgcHJveGllZENvbW11bmljYXRpb25Qcm92aWRlciA9IG5ldyBQcm94eShjb21tdW5pY2F0aW9uUHJvdmlkZXIsIHtcbiAgICAgIC8vIHN0cmFpZ2h0IHVwIGxpZSB0aGF0IHdlIGRlbGV0ZWQgdGhlIHByb3BlcnR5IHNvIHRoYXQgaXQgZG9lc24ndFxuICAgICAgLy8gdGhyb3cgYW4gZXJyb3IgaW4gc3RyaWN0IG1vZGVcbiAgICAgIGRlbGV0ZVByb3BlcnR5OiAoKSA9PiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5wcm92aWRlciA9IHByb3hpZWRJblBhZ2VQcm92aWRlcjtcbiAgICB0aGlzLmNvbW11bmljYXRpb25Qcm92aWRlciA9IHByb3hpZWRDb21tdW5pY2F0aW9uUHJvdmlkZXI7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW2luUGFnZVByb3ZpZGVyLl9pbml0aWFsaXplU3RhdGUoKSwgY29tbXVuaWNhdGlvblByb3ZpZGVyLl9pbml0aWFsaXplU3RhdGUoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm92aWRlclBhcmFtcyksIHt9LCB7XG4gICAgICBkYXBwU3RvcmFnZUtleTogdGhpcy5kYXBwU3RvcmFnZUtleSxcbiAgICAgIHRvcnVzQWxlcnRDb250YWluZXI6IHRoaXMudG9ydXNBbGVydENvbnRhaW5lcixcbiAgICAgIHRvcnVzSWZyYW1lOiB0aGlzLnRvcnVzSWZyYW1lXG4gICAgfSkpXSk7XG4gICAgbG9nLmRlYnVnKFwiVG9ydXMgLSBpbmplY3RlZCBwcm92aWRlclwiKTtcbiAgfVxufVxuXG5leHBvcnQgeyBCVVRUT05fUE9TSVRJT04sIExPR0lOX1BST1ZJREVSLCBQQVlNRU5UX1BST1ZJREVSLCBUT1JVU19CVUlMRF9FTlYsIFRvcnVzSW5QYWdlUHJvdmlkZXIsIFRvcnVzIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNvbGFuYUVtYmVkLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfb2JqZWN0U3ByZWFkIiwiX2RlZmluZVByb3BlcnR5IiwiUHVibGljS2V5IiwiY3JlYXRlTG9nZ2VyTWlkZGxld2FyZSIsIkNPTU1VTklDQVRJT05fSlJQQ19NRVRIT0RTIiwiQ09NTVVOSUNBVElPTl9OT1RJRklDQVRJT05TIiwiUFJPVklERVJfSlJQQ19NRVRIT0RTIiwiUFJPVklERVJfTk9USUZJQ0FUSU9OUyIsInNldEFQSUtleSIsIlNhZmVFdmVudEVtaXR0ZXIiLCJPYmplY3RNdWx0aXBsZXgiLCJjcmVhdGVTdHJlYW1NaWRkbGV3YXJlIiwiSlJQQ0VuZ2luZSIsImNyZWF0ZUlkUmVtYXBNaWRkbGV3YXJlIiwiZ2V0UnBjUHJvbWlzZUNhbGxiYWNrIiwiQmFzZVBvc3RNZXNzYWdlU3RyZWFtIiwiZXRoRXJyb3JzIiwiRXRoZXJldW1ScGNFcnJvciIsInB1bXAiLCJsb2dsZXZlbCIsImRlcXVhbCIsInZlcnNpb24iLCJpc1N0cmVhbSIsInN0cmVhbSIsInBpcGUiLCJpc1dyaXRhYmxlU3RyZWFtIiwid3JpdGFibGUiLCJfd3JpdGUiLCJfd3JpdGFibGVTdGF0ZSIsImlzUmVhZGFibGVTdHJlYW0iLCJyZWFkYWJsZSIsIl9yZWFkIiwiX3JlYWRhYmxlU3RhdGUiLCJpc0R1cGxleFN0cmVhbSIsIm1lc3NhZ2VzIiwiZXJyb3JzIiwiZGlzY29ubmVjdGVkIiwicGVybWFuZW50bHlEaXNjb25uZWN0ZWQiLCJ1bnN1cHBvcnRlZFN5bmMiLCJtZXRob2QiLCJpbnZhbGlkRHVwbGV4U3RyZWFtIiwiaW52YWxpZE9wdGlvbnMiLCJtYXhFdmVudExpc3RlbmVycyIsImludmFsaWRSZXF1ZXN0QXJncyIsImludmFsaWRSZXF1ZXN0TWV0aG9kIiwiaW52YWxpZFJlcXVlc3RQYXJhbXMiLCJpbnZhbGlkTG9nZ2VyT2JqZWN0IiwiaW52YWxpZExvZ2dlck1ldGhvZCIsImluZm8iLCJjb25uZWN0ZWQiLCJjaGFpbklkIiwid2FybmluZ3MiLCJQQVlNRU5UX1BST1ZJREVSIiwiTU9PTlBBWSIsIldZUkUiLCJSQU1QTkVUV09SSyIsIlhBTlBPT0wiLCJNRVJDVVJZTyIsIlRSQU5TQUsiLCJUT1JVU19CVUlMRF9FTlYiLCJQUk9EVUNUSU9OIiwiREVWRUxPUE1FTlQiLCJURVNUSU5HIiwiQlVUVE9OX1BPU0lUSU9OIiwiQk9UVE9NX0xFRlQiLCJUT1BfTEVGVCIsIkJPVFRPTV9SSUdIVCIsIlRPUF9SSUdIVCIsIkxPR0lOX1BST1ZJREVSIiwiR09PR0xFIiwiRkFDRUJPT0siLCJSRURESVQiLCJESVNDT1JEIiwiVFdJVENIIiwiQVBQTEUiLCJMSU5FIiwiR0lUSFVCIiwiS0FLQU8iLCJMSU5LRURJTiIsIlRXSVRURVIiLCJXRUlCTyIsIldFQ0hBVCIsIkVNQUlMX1BBU1NXT1JETEVTUyIsInRyYW5zbGF0aW9ucyIsImVuIiwiZW1iZWQiLCJjb250aW51ZSIsImFjdGlvblJlcXVpcmVkIiwicGVuZGluZ0FjdGlvbiIsImNvb2tpZXNSZXF1aXJlZCIsImVuYWJsZUNvb2tpZXMiLCJjbGlja0hlcmUiLCJkZSIsImphIiwia28iLCJ6aCIsImNvbmZpZ3VyYXRpb24iLCJzdXBwb3J0ZWRWZXJpZmllckxpc3QiLCJhcGkiLCJwcm9kVG9ydXNVcmwiLCJsb2NhbFN0b3JhZ2VLZXlQcmVmaXgiLCJsb2ciLCJnZXRMb2dnZXIiLCJjcmVhdGVFcnJvck1pZGRsZXdhcmUiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZXJyb3IiLCJycGMiLCJpbnZhbGlkUmVxdWVzdCIsIm1lc3NhZ2UiLCJkYXRhIiwiZG9uZSIsImxvZ1N0cmVhbURpc2Nvbm5lY3RXYXJuaW5nIiwicmVtb3RlTGFiZWwiLCJlbWl0dGVyIiwid2FybmluZ01zZyIsInN0YWNrIiwid2FybiIsImxpc3RlbmVyQ291bnQiLCJlbWl0IiwiZ2V0V2luZG93SWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsImdldFRvcnVzVXJsIiwiYnVpbGRFbnYiLCJ0b3J1c1VybCIsImxvZ0xldmVsIiwiZ2V0VXNlckxhbmd1YWdlIiwidXNlckxhbmd1YWdlIiwid2luZG93IiwibmF2aWdhdG9yIiwibGFuZ3VhZ2UiLCJ1c2VyTGFuZ3VhZ2VzIiwic3BsaXQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJGRUFUVVJFU19QUk9WSURFUl9DSEFOR0VfV0lORE9XIiwiaGVpZ2h0Iiwid2lkdGgiLCJGRUFUVVJFU19ERUZBVUxUX1dBTExFVF9XSU5ET1ciLCJGRUFUVVJFU19ERUZBVUxUX1BPUFVQX1dJTkRPVyIsIkZFQVRVUkVTX0NPTkZJUk1fV0lORE9XIiwic3RvcmFnZUF2YWlsYWJsZSIsInR5cGUiLCJzdG9yYWdlIiwieCIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZSIsImNvZGUiLCJuYW1lIiwibGVuZ3RoIiwiZ2V0UG9wdXBGZWF0dXJlcyIsIl9yZWYiLCJ3IiwiaCIsImR1YWxTY3JlZW5MZWZ0Iiwic2NyZWVuTGVmdCIsInVuZGVmaW5lZCIsInNjcmVlblgiLCJkdWFsU2NyZWVuVG9wIiwic2NyZWVuVG9wIiwic2NyZWVuWSIsImlubmVyV2lkdGgiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwic2NyZWVuIiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJzeXN0ZW1ab29tIiwibGVmdCIsImFicyIsInRvcCIsImZlYXR1cmVzIiwiQmFzZVByb3ZpZGVyIiwiY29uc3RydWN0b3IiLCJjb25uZWN0aW9uU3RyZWFtIiwianNvblJwY1N0cmVhbU5hbWUiLCJFcnJvciIsImlzVG9ydXMiLCJzZXRNYXhMaXN0ZW5lcnMiLCJfaGFuZGxlQ29ubmVjdCIsImJpbmQiLCJfaGFuZGxlRGlzY29ubmVjdCIsIl9oYW5kbGVTdHJlYW1EaXNjb25uZWN0IiwiX3JwY1JlcXVlc3QiLCJfaW5pdGlhbGl6ZVN0YXRlIiwicmVxdWVzdCIsInNlbmRBc3luYyIsIm11eCIsImlnbm9yZVN0cmVhbSIsImpzb25ScGNDb25uZWN0aW9uIiwiY3JlYXRlU3RyZWFtIiwicnBjRW5naW5lIiwicHVzaCIsIm9yaWdpbiIsImxvY2F0aW9uIiwibWlkZGxld2FyZSIsIl9ycGNFbmdpbmUiLCJqc29uUnBjQ29ubmVjdGlvbkV2ZW50cyIsImV2ZW50cyIsImFyZ3MiLCJBcnJheSIsImlzQXJyYXkiLCJwYXJhbXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNlbmQiLCJwYXlsb2FkIiwiY2FsbGJhY2siLCJzdHJlYW1OYW1lIiwiaHRtbFRvRWxlbWVudCIsImh0bWwiLCJ0ZW1wbGF0ZSIsImNyZWF0ZUVsZW1lbnQiLCJ0cmltbWVkSHRtbCIsInRyaW0iLCJpbm5lckhUTUwiLCJjb250ZW50IiwiZmlyc3RDaGlsZCIsImlzTGVnYWN5VHJhbnNhY3Rpb25JbnN0YW5jZSIsInRyYW5zYWN0aW9uIiwiUG9wdXBIYW5kbGVyIiwidXJsIiwidGFyZ2V0IiwidGltZW91dCIsIndpbmRvd1RpbWVyIiwiaUNsb3NlZFdpbmRvdyIsIl9zZXR1cFRpbWVyIiwiTnVtYmVyIiwic2V0SW50ZXJ2YWwiLCJjbG9zZWQiLCJjbGVhckludGVydmFsIiwic2V0VGltZW91dCIsIm9wZW4iLCJocmVmIiwiZm9jdXMiLCJjbG9zZSIsInJlZGlyZWN0IiwibG9jYXRpb25SZXBsYWNlT25SZWRpcmVjdCIsInJlcGxhY2UiLCJUb3J1c0NvbW11bmljYXRpb25Qcm92aWRlciIsIl9zdGF0ZSIsIl9kZWZhdWx0U3RhdGUiLCJkYXBwU3RvcmFnZUtleSIsImxhbmd1YWdlVHJhbnNsYXRpb25zIiwiZW1iZWRUcmFuc2xhdGlvbnMiLCJ3aW5kb3dSZWZzIiwib24iLCJpc0Nvbm5lY3RlZCIsIm5vdGlmaWNhdGlvbkhhbmRsZXIiLCJJRlJBTUVfU1RBVFVTIiwiaXNGdWxsU2NyZWVuIiwicmlkIiwiX2Rpc3BsYXlJZnJhbWUiLCJpc0Z1bGwiLCJDUkVBVEVfV0lORE9XIiwid2luZG93SWQiLCJfY3JlYXRlUG9wdXBCbG9ja0FsZXJ0IiwiQ0xPU0VfV0lORE9XIiwiX2hhbmRsZUNsb3NlV2luZG93IiwiVVNFUl9MT0dHRURfSU4iLCJjdXJyZW50TG9naW5Qcm92aWRlciIsImlzTG9nZ2VkSW4iLCJVU0VSX0xPR0dFRF9PVVQiLCJpc0lGcmFtZUZ1bGxTY3JlZW4iLCJ0b3J1c0FsZXJ0Q29udGFpbmVyIiwidG9ydXNJZnJhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiR0VUX1BST1ZJREVSX1NUQVRFIiwiaW5pdGlhbGl6ZWQiLCJfaGFuZGxlV2luZG93IiwiYXJndW1lbnRzIiwiZmluYWxVcmwiLCJVUkwiLCJoYXNoIiwiaGFuZGxlZFdpbmRvdyIsIk9QRU5FRF9XSU5ET1ciLCJvbmNlIiwiQ0xPU0VEX1dJTkRPVyIsInN0eWxlIiwiZGlzcGxheSIsInRvcnVzV2lkZ2V0VmlzaWJpbGl0eSIsImJ1dHRvblBvc2l0aW9uIiwicmlnaHQiLCJib3R0b20iLCJhc3NpZ24iLCJoaWRlVG9ydXNCdXR0b24iLCJzaG93VG9ydXNCdXR0b24iLCJjYiIsIl9wYXlsb2FkIiwianNvbnJwYyIsInRyeVdpbmRvd0hhbmRsZSIsImRlYnVnIiwiaXNSZWNvdmVyYWJsZSIsImVycm9yTWVzc2FnZSIsImlzUGVybWFuZW50bHlEaXNjb25uZWN0ZWQiLCJsb2dvVXJsIiwiZ2V0TG9nb1VybCIsInRvcnVzQWxlcnQiLCJzdWNjZXNzQWxlcnQiLCJidG5Db250YWluZXIiLCJhcHBlbmRDaGlsZCIsImJpbmRPbkxvYWQiLCJyZW1vdmUiLCJjaGlsZHJlbiIsImF0dGFjaE9uTG9hZCIsImhhc0VtaXR0ZWRDb25uZWN0aW9uIiwiVG9ydXNJblBhZ2VQcm92aWRlciIsInNlbGVjdGVkQWRkcmVzcyIsIl9oYW5kbGVBY2NvdW50c0NoYW5nZWQiLCJfaGFuZGxlQ2hhaW5DaGFuZ2VkIiwiX2hhbmRsZVVubG9ja1N0YXRlQ2hhbmdlZCIsImpzb25ScGNOb3RpZmljYXRpb25IYW5kbGVyIiwiQUNDT1VOVFNfQ0hBTkdFRCIsIlVOTE9DS19TVEFURV9DSEFOR0VEIiwiQ0hBSU5fQ0hBTkdFRCIsImFjY291bnRzIiwiaXNVbmxvY2tlZCIsImlzSW50ZXJuYWwiLCJlcnIiLCJyZXN1bHQiLCJoYW5kbGUiLCJpc0V0aEFjY291bnRzIiwiZmluYWxBY2NvdW50cyIsImFjY291bnQiLCJpbWdFeGlzdHMiLCJpbWciLCJvbmxvYWQiLCJvbmVycm9yIiwic3JjIiwiZ2V0U2l0ZU5hbWUiLCJzaXRlTmFtZSIsInF1ZXJ5U2VsZWN0b3IiLCJtZXRhVGl0bGUiLCJ0aXRsZSIsImhvc3RuYW1lIiwiZ2V0U2l0ZUljb24iLCJpY29uIiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmaW5kIiwiX2ljb24iLCJCb29sZWFuIiwiZ2V0U2l0ZU1ldGFkYXRhIiwiUFJPVklERVJfVU5TQUZFX01FVEhPRFMiLCJDT01NVU5JQ0FUSU9OX1VOU0FGRV9NRVRIT0RTIiwiU0VUX1BST1ZJREVSIiwiaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUiLCJwcmVMb2FkSWZyYW1lIiwidG9ydXNJZnJhbWVIdG1sIiwiY3Jvc3NPcmlnaW4iLCJyZWwiLCJyZWxMaXN0Iiwic3VwcG9ydHMiLCJoZWFkIiwiVG9ydXMiLCJtb2RhbFpJbmRleCIsImlzSW5pdGlhbGl6ZWQiLCJyZXF1ZXN0ZWRMb2dpblByb3ZpZGVyIiwiYWxlcnRaSW5kZXgiLCJjb21tdW5pY2F0aW9uUHJvdmlkZXIiLCJpbml0IiwiZW5hYmxlTG9nZ2luZyIsIm5ldHdvcmsiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJhcGlLZXkiLCJleHRyYVBhcmFtcyIsIndoaXRlTGFiZWwiLCJlbmFibGVBbGwiLCJzZXREZWZhdWx0TGV2ZWwiLCJkaXNhYmxlQWxsIiwiaGFuZGxlRGFwcFN0b3JhZ2VLZXkiLCJ0b3J1c0lmcmFtZVVybCIsInBhdGhuYW1lIiwiZW5kc1dpdGgiLCJoYXNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwic3R5bGVMaW5rIiwiZGFwcE1ldGFkYXRhIiwiY29udGVudFdpbmRvdyIsInBvc3RNZXNzYWdlIiwiX3NldHVwV2ViMyIsInRvcHVwSGlkZSIsImlzVG9wdXBIaWRkZW4iLCJ0b3J1cyIsImJvZHkiLCJsb2dpbiIsImxvZ2luUHJvdmlkZXIiLCJwcm92aWRlciIsImxvZ2luX2hpbnQiLCJsb2dpbldpdGhQcml2YXRlS2V5IiwibG9naW5QYXJhbXMiLCJwcml2YXRlS2V5IiwidXNlckluZm8iLCJzdWNjZXNzIiwibG9nb3V0IiwiTE9HT1VUIiwiY2xlYW5VcCIsImNsZWFySW5pdCIsImlzRWxlbWVudCIsImVsZW1lbnQiLCJFbGVtZW50IiwiRG9jdW1lbnQiLCJjb250YWlucyIsInNldFByb3ZpZGVyIiwic2hvd1dhbGxldCIsInBhdGgiLCJpbnN0YW5jZUlkIiwiV0FMTEVUX0lOU1RBTkNFX0lEIiwiZmluYWxQYXRoIiwic2VhcmNoUGFyYW1zIiwia2V5cyIsImZvckVhY2giLCJ3YWxsZXRXaW5kb3ciLCJnZXRVc2VySW5mbyIsInVzZXJJbmZvUmVzcG9uc2UiLCJVU0VSX0lORk8iLCJpbml0aWF0ZVRvcHVwIiwidG9wdXBSZXNwb25zZSIsIlRPUFVQIiwiZ2V0QWNjb3VudHMiLCJyZXNwb25zZSIsInNlbmRUcmFuc2FjdGlvbiIsImlzTGVnYWN5VHJhbnNhY3Rpb24iLCJzZXJpYWxpemUiLCJyZXF1aXJlQWxsU2lnbmF0dXJlcyIsIkJ1ZmZlciIsInNpZ25BbmRTZW5kVHJhbnNhY3Rpb24iLCJvcHRpb25zIiwic2lnbmF0dXJlIiwic2lnblRyYW5zYWN0aW9uIiwic2VyaWFsaXplTWVzc2FnZSIsIm1lc3NhZ2VPbmx5IiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwicHVibGljS2V5IiwiYWRkU2lnbmF0dXJlIiwic2lnbkFsbFRyYW5zYWN0aW9ucyIsInRyYW5zYWN0aW9ucyIsImVuY29kZWRNZXNzYWdlIiwibWFwIiwidHgiLCJyZXNwb25zZXMiLCJzaWduYXR1cmVzIiwiaXRlbSIsImlkeCIsInNpZ25NZXNzYWdlIiwiZ2V0R2FzbGVzc1B1YmxpY0tleSIsImxvY2FsU3RvcmFnZUtleSIsInN0b3JlZEtleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJnZW5lcmF0ZWRLZXkiLCJwcm92aWRlclBhcmFtcyIsInByb3ZpZGVyU3RyZWFtIiwidGFyZ2V0V2luZG93IiwiY29tbXVuaWNhdGlvblN0cmVhbSIsImluUGFnZVByb3ZpZGVyIiwiaW5jbHVkZXMiLCJkZXRlY3RBY2NvdW50UmVxdWVzdFByb3RvdHlwZU1vZGlmaWVyIiwibSIsIm9yaWdpbmFsTWV0aG9kIiwic2VsZiIsInByb3ZpZGVyRnVuYyIsInRoZW4iLCJjYXRjaCIsImFwcGx5IiwicHJveGllZEluUGFnZVByb3ZpZGVyIiwiUHJveHkiLCJkZWxldGVQcm9wZXJ0eSIsInByb3hpZWRDb21tdW5pY2F0aW9uUHJvdmlkZXIiLCJhbGwiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/solana-embed/dist/solanaEmbed.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/solana-embed/node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/solana-embed/node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePostMessageStream: () => (/* binding */ BasePostMessageStream),\n/* harmony export */   IGNORE_SUBSTREAM: () => (/* binding */ IGNORE_SUBSTREAM),\n/* harmony export */   JRPCEngine: () => (/* binding */ JRPCEngine),\n/* harmony export */   ObjectMultiplex: () => (/* binding */ ObjectMultiplex),\n/* harmony export */   PostMessageStream: () => (/* binding */ PostMessageStream),\n/* harmony export */   SafeEventEmitter: () => (/* binding */ SafeEventEmitter),\n/* harmony export */   SerializableError: () => (/* binding */ SerializableError),\n/* harmony export */   Substream: () => (/* binding */ Substream),\n/* harmony export */   createAsyncMiddleware: () => (/* binding */ createAsyncMiddleware),\n/* harmony export */   createEngineStream: () => (/* binding */ createEngineStream),\n/* harmony export */   createErrorMiddleware: () => (/* binding */ createErrorMiddleware),\n/* harmony export */   createIdRemapMiddleware: () => (/* binding */ createIdRemapMiddleware),\n/* harmony export */   createLoggerMiddleware: () => (/* binding */ createLoggerMiddleware),\n/* harmony export */   createScaffoldMiddleware: () => (/* binding */ createScaffoldMiddleware),\n/* harmony export */   createStreamMiddleware: () => (/* binding */ createStreamMiddleware),\n/* harmony export */   getRpcPromiseCallback: () => (/* binding */ getRpcPromiseCallback),\n/* harmony export */   mergeMiddleware: () => (/* binding */ mergeMiddleware),\n/* harmony export */   providerAsMiddleware: () => (/* binding */ providerAsMiddleware),\n/* harmony export */   providerFromEngine: () => (/* binding */ providerFromEngine),\n/* harmony export */   providerFromMiddleware: () => (/* binding */ providerFromMiddleware),\n/* harmony export */   setupMultiplex: () => (/* binding */ setupMultiplex)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var readable_stream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! readable-stream */ \"(ssr)/./node_modules/readable-stream/lib/ours/index.js\");\n/* harmony import */ var readable_stream__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(readable_stream__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fast-safe-stringify */ \"(ssr)/./node_modules/fast-safe-stringify/index.js\");\n/* harmony import */ var fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @metamask/rpc-errors */ \"(ssr)/./node_modules/@metamask/rpc-errors/dist/index.js\");\n/* harmony import */ var end_of_stream__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! end-of-stream */ \"(ssr)/./node_modules/end-of-stream/index.js\");\n/* harmony import */ var end_of_stream__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(end_of_stream__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var once__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! once */ \"(ssr)/./node_modules/once/once.js\");\n/* harmony import */ var once__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(once__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! pump */ \"(ssr)/./node_modules/pump/index.js\");\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(pump__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\nfunction noop() {\n    return undefined;\n}\nconst SYN = \"SYN\";\nconst ACK = \"ACK\";\nconst BRK = \"BRK\";\nclass BasePostMessageStream extends readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex {\n    constructor(_ref){\n        let { name, target, targetWindow = window, targetOrigin = \"*\" } = _ref;\n        super({\n            objectMode: true\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_init\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_haveSyn\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_name\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_target\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_targetWindow\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_targetOrigin\", void 0);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_onMessage\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_synIntervalId\", void 0);\n        if (!name || !target) {\n            throw new Error(\"Invalid input.\");\n        }\n        this._init = false;\n        this._haveSyn = false;\n        this._name = name;\n        this._target = target; // target origin\n        this._targetWindow = targetWindow;\n        this._targetOrigin = targetOrigin;\n        this._onMessage = this.onMessage.bind(this);\n        this._synIntervalId = null;\n        window.addEventListener(\"message\", this._onMessage, false);\n        this._handShake();\n    }\n    _break() {\n        this.cork();\n        this._write(BRK, null, noop);\n        this._haveSyn = false;\n        this._init = false;\n    }\n    _handShake() {\n        this._write(SYN, null, noop);\n        this.cork();\n    }\n    _onData(data) {\n        if (!this._init) {\n            // listen for handshake\n            if (data === SYN) {\n                this._haveSyn = true;\n                this._write(ACK, null, noop);\n            } else if (data === ACK) {\n                this._init = true;\n                if (!this._haveSyn) {\n                    this._write(ACK, null, noop);\n                }\n                this.uncork();\n            }\n        } else if (data === BRK) {\n            this._break();\n        } else {\n            // forward message\n            try {\n                this.push(data);\n            } catch (err) {\n                this.emit(\"error\", err);\n            }\n        }\n    }\n    _postMessage(data) {\n        const originConstraint = this._targetOrigin;\n        this._targetWindow.postMessage({\n            target: this._target,\n            data\n        }, originConstraint);\n    }\n    onMessage(event) {\n        const message = event.data;\n        // validate message\n        if (this._targetOrigin !== \"*\" && event.origin !== this._targetOrigin || event.source !== this._targetWindow || typeof message !== \"object\" || message.target !== this._name || !message.data) {\n            return;\n        }\n        this._onData(message.data);\n    }\n    _read() {\n        return undefined;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _write(data, _, cb) {\n        this._postMessage(data);\n        cb();\n    }\n    _destroy() {\n        window.removeEventListener(\"message\", this._onMessage, false);\n    }\n}\n/* eslint-disable @typescript-eslint/no-explicit-any */ function safeApply(handler, context, args) {\n    try {\n        Reflect.apply(handler, context, args);\n    } catch (err) {\n        // Throw error after timeout so as not to interrupt the stack\n        setTimeout(()=>{\n            throw err;\n        });\n    }\n}\nfunction arrayClone(arr) {\n    const n = arr.length;\n    const copy = new Array(n);\n    for(let i = 0; i < n; i += 1){\n        copy[i] = arr[i];\n    }\n    return copy;\n}\nclass SafeEventEmitter extends events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter {\n    emit(type) {\n        let doError = type === \"error\";\n        const events = this._events;\n        if (events !== undefined) {\n            doError = doError && events.error === undefined;\n        } else if (!doError) {\n            return false;\n        }\n        // If there is no 'error' event listener then throw.\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        if (doError) {\n            let er;\n            if (args.length > 0) {\n                [er] = args;\n            }\n            if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n            }\n            // At least give some kind of context to the user\n            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : \"\"}`);\n            err.context = er;\n            throw err; // Unhandled 'error' event\n        }\n        const handler = events[type];\n        if (handler === undefined) {\n            return false;\n        }\n        if (typeof handler === \"function\") {\n            safeApply(handler, this, args);\n        } else {\n            const len = handler.length;\n            const listeners = arrayClone(handler);\n            for(let i = 0; i < len; i += 1){\n                safeApply(listeners[i], this, args);\n            }\n        }\n        return true;\n    }\n}\nclass SerializableError extends Error {\n    constructor(_ref){\n        let { code, message, data } = _ref;\n        if (!Number.isInteger(code)) {\n            throw new Error(\"code must be an integer\");\n        }\n        if (!message || typeof message !== \"string\") {\n            throw new Error(\"message must be string\");\n        }\n        super(message);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"code\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"data\", void 0);\n        this.code = code;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n    toString() {\n        return fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3___default()({\n            code: this.code,\n            message: this.message,\n            data: this.data,\n            stack: this.stack\n        });\n    }\n}\nconst getRpcPromiseCallback = function(resolve, reject) {\n    let unwrapResult = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    return (error, response)=>{\n        if (error || response.error) {\n            reject(error || response.error);\n        } else if (!unwrapResult || Array.isArray(response)) {\n            resolve(response);\n        } else {\n            resolve(response.result);\n        }\n    };\n};\nfunction createErrorMiddleware(log) {\n    return (req, res, next, end)=>{\n        try {\n            // json-rpc-engine will terminate the request when it notices this error\n            if (typeof req.method !== \"string\" || !req.method) {\n                res.error = new SerializableError({\n                    code: -32603,\n                    message: \"invalid method\"\n                });\n                end();\n                return;\n            }\n            next((done)=>{\n                const { error } = res;\n                if (!error) {\n                    return done();\n                }\n                log.error(`OpenLogin - RPC Error: ${error.message}`, error);\n                return done();\n            });\n        } catch (error) {\n            log.error(`OpenLogin - RPC Error thrown: ${error.message}`, error);\n            res.error = new SerializableError({\n                code: -32603,\n                message: error.message\n            });\n            end();\n        }\n    };\n}\nfunction createStreamMiddleware() {\n    const idMap = {};\n    function readNoop() {\n        return false;\n    }\n    const events = new SafeEventEmitter();\n    function processResponse(res) {\n        const context = idMap[res.id];\n        if (!context) {\n            throw new Error(`StreamMiddleware - Unknown response id \"${res.id}\"`);\n        }\n        delete idMap[res.id];\n        // copy whole res onto original res\n        Object.assign(context.res, res);\n        // run callback on empty stack,\n        // prevent internal stream-handler from catching errors\n        setTimeout(context.end);\n    }\n    function processNotification(res) {\n        events.emit(\"notification\", res);\n    }\n    function processMessage(res, _encoding, cb) {\n        let err;\n        try {\n            const isNotification = !res.id;\n            if (isNotification) {\n                processNotification(res);\n            } else {\n                processResponse(res);\n            }\n        } catch (_err) {\n            err = _err;\n        }\n        // continue processing stream\n        cb(err);\n    }\n    const stream = new readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex({\n        objectMode: true,\n        read: readNoop,\n        write: processMessage\n    });\n    const middleware = (req, res, next, end)=>{\n        // write req to stream\n        stream.push(req);\n        // register request on id map\n        idMap[req.id] = {\n            req,\n            res,\n            next,\n            end\n        };\n    };\n    return {\n        events,\n        middleware,\n        stream\n    };\n}\nfunction createScaffoldMiddleware(handlers) {\n    return (req, res, next, end)=>{\n        const handler = handlers[req.method];\n        // if no handler, return\n        if (handler === undefined) {\n            return next();\n        }\n        // if handler is fn, call as middleware\n        if (typeof handler === \"function\") {\n            return handler(req, res, next, end);\n        }\n        // if handler is some other value, use as result\n        res.result = handler;\n        return end();\n    };\n}\nfunction createIdRemapMiddleware() {\n    return (req, res, next, _end)=>{\n        const originalId = req.id;\n        const newId = Math.random().toString(36).slice(2);\n        req.id = newId;\n        res.id = newId;\n        next((done)=>{\n            req.id = originalId;\n            res.id = originalId;\n            done();\n        });\n    };\n}\nfunction createLoggerMiddleware(logger) {\n    return (req, res, next, _)=>{\n        logger.debug(\"REQ\", req, \"RES\", res);\n        next();\n    };\n}\nfunction createAsyncMiddleware(asyncMiddleware) {\n    return async (req, res, next, end)=>{\n        // nextPromise is the key to the implementation\n        // it is resolved by the return handler passed to the\n        // \"next\" function\n        let resolveNextPromise;\n        const nextPromise = new Promise((resolve)=>{\n            resolveNextPromise = resolve;\n        });\n        let returnHandlerCallback = null;\n        let nextWasCalled = false;\n        // This will be called by the consumer's async middleware.\n        const asyncNext = async ()=>{\n            nextWasCalled = true;\n            // We pass a return handler to next(). When it is called by the engine,\n            // the consumer's async middleware will resume executing.\n            next((runReturnHandlersCallback)=>{\n                // This callback comes from JRPCEngine._runReturnHandlers\n                returnHandlerCallback = runReturnHandlersCallback;\n                resolveNextPromise();\n            });\n            await nextPromise;\n        };\n        try {\n            await asyncMiddleware(req, res, asyncNext);\n            if (nextWasCalled) {\n                await nextPromise; // we must wait until the return handler is called\n                returnHandlerCallback(null);\n            } else {\n                end(null);\n            }\n        } catch (err) {\n            const error = err;\n            if (returnHandlerCallback) {\n                returnHandlerCallback(error);\n            } else {\n                end(error);\n            }\n        }\n    };\n}\n/**\n * A JSON-RPC request and response processor.\n * Give it a stack of middleware, pass it requests, and get back responses.\n */ class JRPCEngine extends SafeEventEmitter {\n    constructor(){\n        super();\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_middleware\", void 0);\n        this._middleware = [];\n    }\n    /**\n   * Serially executes the given stack of middleware.\n   *\n   * @returns An array of any error encountered during middleware execution,\n   * a boolean indicating whether the request was completed, and an array of\n   * middleware-defined return handlers.\n   */ static async _runAllMiddleware(req, res, middlewareStack) {\n        const returnHandlers = [];\n        let error = null;\n        let isComplete = false;\n        // Go down stack of middleware, call and collect optional returnHandlers\n        for (const middleware of middlewareStack){\n            [error, isComplete] = await JRPCEngine._runMiddleware(req, res, middleware, returnHandlers);\n            if (isComplete) {\n                break;\n            }\n        }\n        return [\n            error,\n            isComplete,\n            returnHandlers.reverse()\n        ];\n    }\n    /**\n   * Runs an individual middleware.\n   *\n   * @returns An array of any error encountered during middleware exection,\n   * and a boolean indicating whether the request should end.\n   */ static _runMiddleware(req, res, middleware, returnHandlers) {\n        return new Promise((resolve)=>{\n            const end = (err)=>{\n                const error = err || res.error;\n                if (error) {\n                    res.error = (0,_metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.serializeError)(error);\n                }\n                // True indicates that the request should end\n                resolve([\n                    error,\n                    true\n                ]);\n            };\n            const next = (returnHandler)=>{\n                if (res.error) {\n                    end(res.error);\n                } else {\n                    if (returnHandler) {\n                        if (typeof returnHandler !== \"function\") {\n                            end(new SerializableError({\n                                code: -32603,\n                                message: \"JRPCEngine: 'next' return handlers must be functions\"\n                            }));\n                        }\n                        returnHandlers.push(returnHandler);\n                    }\n                    // False indicates that the request should not end\n                    resolve([\n                        null,\n                        false\n                    ]);\n                }\n            };\n            try {\n                middleware(req, res, next, end);\n            } catch (error) {\n                end(error);\n            }\n        });\n    }\n    /**\n   * Serially executes array of return handlers. The request and response are\n   * assumed to be in their scope.\n   */ static async _runReturnHandlers(handlers) {\n        for (const handler of handlers){\n            await new Promise((resolve, reject)=>{\n                handler((err)=>err ? reject(err) : resolve());\n            });\n        }\n    }\n    /**\n   * Throws an error if the response has neither a result nor an error, or if\n   * the \"isComplete\" flag is falsy.\n   */ static _checkForCompletion(_req, res, isComplete) {\n        if (!(\"result\" in res) && !(\"error\" in res)) {\n            throw new SerializableError({\n                code: -32603,\n                message: \"Response has no error or result for request\"\n            });\n        }\n        if (!isComplete) {\n            throw new SerializableError({\n                code: -32603,\n                message: \"Nothing ended request\"\n            });\n        }\n    }\n    /**\n   * Add a middleware function to the engine's middleware stack.\n   *\n   * @param middleware - The middleware function to add.\n   */ push(middleware) {\n        this._middleware.push(middleware);\n    }\n    /**\n   * Handle a JSON-RPC request, and return a response.\n   *\n   * @param request - The request to handle.\n   * @param callback - An error-first callback that will receive the response.\n   */ /**\n   * Handle an array of JSON-RPC requests, and return an array of responses.\n   *\n   * @param request - The requests to handle.\n   * @param callback - An error-first callback that will receive the array of\n   * responses.\n   */ /**\n   * Handle a JSON-RPC request, and return a response.\n   *\n   * @param request - The request to handle.\n   * @returns A promise that resolves with the response, or rejects with an\n   * error.\n   */ /**\n   * Handle an array of JSON-RPC requests, and return an array of responses.\n   *\n   * @param request - The requests to handle.\n   * @returns A promise that resolves with the array of responses, or rejects\n   * with an error.\n   */ // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    handle(req, cb) {\n        if (cb && typeof cb !== \"function\") {\n            throw new Error('\"callback\" must be a function if provided.');\n        }\n        if (Array.isArray(req)) {\n            if (cb) {\n                return this._handleBatch(req, cb);\n            }\n            return this._handleBatch(req);\n        }\n        if (cb) {\n            return this._handle(req, cb);\n        }\n        return this._promiseHandle(req);\n    }\n    /**\n   * Returns this engine as a middleware function that can be pushed to other\n   * engines.\n   *\n   * @returns This engine as a middleware function.\n   */ asMiddleware() {\n        return async (req, res, next, end)=>{\n            try {\n                const [middlewareError, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);\n                if (isComplete) {\n                    await JRPCEngine._runReturnHandlers(returnHandlers);\n                    return end(middlewareError);\n                }\n                return next(async (handlerCallback)=>{\n                    try {\n                        await JRPCEngine._runReturnHandlers(returnHandlers);\n                    } catch (error) {\n                        return handlerCallback(error);\n                    }\n                    return handlerCallback();\n                });\n            } catch (error) {\n                return end(error);\n            }\n        };\n    }\n    /**\n   * Like _handle, but for batch requests.\n   */ /**\n   * Like _handle, but for batch requests.\n   */ async _handleBatch(reqs, cb) {\n        // The order here is important\n        try {\n            // 2. Wait for all requests to finish, or throw on some kind of fatal\n            // error\n            const responses = await Promise.all(// 1. Begin executing each request in the order received\n            reqs.map(this._promiseHandle.bind(this)));\n            // 3. Return batch response\n            if (cb) {\n                return cb(null, responses);\n            }\n            return responses;\n        } catch (error) {\n            if (cb) {\n                return cb(error);\n            }\n            throw error;\n        }\n    }\n    /**\n   * A promise-wrapped _handle.\n   */ _promiseHandle(req) {\n        return new Promise((resolve)=>{\n            this._handle(req, (_err, res)=>{\n                // There will always be a response, and it will always have any error\n                // that is caught and propagated.\n                resolve(res);\n            });\n        });\n    }\n    /**\n   * Ensures that the request object is valid, processes it, and passes any\n   * error and the response object to the given callback.\n   *\n   * Does not reject.\n   */ async _handle(callerReq, cb) {\n        if (!callerReq || Array.isArray(callerReq) || typeof callerReq !== \"object\") {\n            const error = new SerializableError({\n                code: -32603,\n                message: \"request must be plain object\"\n            });\n            return cb(error, {\n                id: undefined,\n                jsonrpc: \"2.0\",\n                error\n            });\n        }\n        if (typeof callerReq.method !== \"string\") {\n            const error = new SerializableError({\n                code: -32603,\n                message: \"method must be string\"\n            });\n            return cb(error, {\n                id: callerReq.id,\n                jsonrpc: \"2.0\",\n                error\n            });\n        }\n        const req = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()({}, callerReq);\n        const res = {\n            id: req.id,\n            jsonrpc: req.jsonrpc\n        };\n        let error = null;\n        try {\n            await this._processRequest(req, res);\n        } catch (_error) {\n            // A request handler error, a re-thrown middleware error, or something\n            // unexpected.\n            error = _error;\n        }\n        if (error) {\n            // Ensure no result is present on an errored response\n            delete res.result;\n            if (!res.error) {\n                res.error = (0,_metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.serializeError)(error);\n            }\n        }\n        return cb(error, res);\n    }\n    /**\n   * For the given request and response, runs all middleware and their return\n   * handlers, if any, and ensures that internal request processing semantics\n   * are satisfied.\n   */ async _processRequest(req, res) {\n        const [error, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);\n        // Throw if \"end\" was not called, or if the response has neither a result\n        // nor an error.\n        JRPCEngine._checkForCompletion(req, res, isComplete);\n        // The return handlers should run even if an error was encountered during\n        // middleware processing.\n        await JRPCEngine._runReturnHandlers(returnHandlers);\n        // Now we re-throw the middleware processing error, if any, to catch it\n        // further up the call chain.\n        if (error) {\n            throw error;\n        }\n    }\n}\nfunction mergeMiddleware(middlewareStack) {\n    const engine = new JRPCEngine();\n    middlewareStack.forEach((middleware)=>engine.push(middleware));\n    return engine.asMiddleware();\n}\nfunction createEngineStream(opts) {\n    if (!opts || !opts.engine) {\n        throw new Error(\"Missing engine parameter!\");\n    }\n    const { engine } = opts;\n    // eslint-disable-next-line prefer-const\n    let stream;\n    function read() {\n        return undefined;\n    }\n    function write(req, _encoding, cb) {\n        engine.handle(req, (_err, res)=>{\n            stream.push(res);\n        });\n        cb();\n    }\n    stream = new readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex({\n        objectMode: true,\n        read,\n        write\n    });\n    // forward notifications\n    if (engine.on) {\n        engine.on(\"notification\", (message)=>{\n            stream.push(message);\n        });\n    }\n    return stream;\n}\nfunction providerFromEngine(engine) {\n    const provider = new SafeEventEmitter();\n    // handle both rpc send methods\n    provider.sendAsync = async (req)=>{\n        const res = await engine.handle(req);\n        if (res.error) {\n            var _res$error, _res$error2;\n            const err = (0,_metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.serializeError)(res.error, {\n                fallbackError: {\n                    message: ((_res$error = res.error) === null || _res$error === void 0 ? void 0 : _res$error.message) || res.error.toString(),\n                    code: ((_res$error2 = res.error) === null || _res$error2 === void 0 ? void 0 : _res$error2.code) || -32603\n                }\n            });\n            throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.rpcErrors.internal(err);\n        }\n        return res.result;\n    };\n    provider.send = (req, callback)=>{\n        if (typeof callback !== \"function\") {\n            throw new Error('Must provide callback to \"send\" method.');\n        }\n        engine.handle(req, callback);\n    };\n    // forward notifications\n    if (engine.on) {\n        engine.on(\"notification\", (message)=>{\n            provider.emit(\"data\", null, message);\n        });\n    }\n    provider.request = async (args)=>{\n        const req = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()({}, args), {}, {\n            id: Math.random().toString(36).slice(2),\n            jsonrpc: \"2.0\"\n        });\n        const res = await provider.sendAsync(req);\n        return res;\n    };\n    return provider;\n}\nfunction providerFromMiddleware(middleware) {\n    const engine = new JRPCEngine();\n    engine.push(middleware);\n    const provider = providerFromEngine(engine);\n    return provider;\n}\nfunction providerAsMiddleware(provider) {\n    return async (req, res, _next, end)=>{\n        // send request to provider\n        try {\n            const providerRes = await provider.sendAsync(req);\n            res.result = providerRes;\n            return end();\n        } catch (error) {\n            return end(error);\n        }\n    };\n}\nclass Substream extends readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex {\n    constructor(_ref){\n        let { parent, name } = _ref;\n        super({\n            objectMode: true\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_parent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_name\", void 0);\n        this._parent = parent;\n        this._name = name;\n    }\n    /**\n   * Explicitly sets read operations to a no-op.\n   */ _read() {\n        return undefined;\n    }\n    /**\n   * Called when data should be written to this writable stream.\n   *\n   * @param chunk - Arbitrary object to write\n   * @param encoding - Encoding to use when writing payload\n   * @param callback - Called when writing is complete or an error occurs\n   */ _write(chunk, _encoding, callback) {\n        this._parent.push({\n            name: this._name,\n            data: chunk\n        });\n        callback();\n    }\n}\nconst IGNORE_SUBSTREAM = Symbol(\"IGNORE_SUBSTREAM\");\nclass ObjectMultiplex extends readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex {\n    constructor(){\n        let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        super(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()({}, opts), {}, {\n            objectMode: true\n        }));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_substreams\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"getStream\", void 0);\n        this._substreams = {};\n    }\n    createStream(name) {\n        // validate name\n        if (!name) {\n            throw new Error(\"ObjectMultiplex - name must not be empty\");\n        }\n        if (this._substreams[name]) {\n            throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n        }\n        // create substream\n        const substream = new Substream({\n            parent: this,\n            name\n        });\n        this._substreams[name] = substream;\n        // listen for parent stream to end\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        anyStreamEnd(this, (_error)=>substream.destroy(_error || undefined));\n        return substream;\n    }\n    // ignore streams (dont display orphaned data warning)\n    ignoreStream(name) {\n        // validate name\n        if (!name) {\n            throw new Error(\"ObjectMultiplex - name must not be empty\");\n        }\n        if (this._substreams[name]) {\n            throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n        }\n        // set\n        this._substreams[name] = IGNORE_SUBSTREAM;\n    }\n    _read() {\n        return undefined;\n    }\n    _write(chunk, _encoding, callback) {\n        const { name, data } = chunk;\n        if (!name) {\n            window.console.warn(`ObjectMultiplex - malformed chunk without name \"${chunk}\"`);\n            return callback();\n        }\n        // get corresponding substream\n        const substream = this._substreams[name];\n        if (!substream) {\n            window.console.warn(`ObjectMultiplex - orphaned data for stream \"${name}\"`);\n            return callback();\n        }\n        // push data into substream\n        if (substream !== IGNORE_SUBSTREAM) {\n            substream.push(data);\n        }\n        return callback();\n    }\n}\n// util\nfunction anyStreamEnd(stream, _cb) {\n    const cb = once__WEBPACK_IMPORTED_MODULE_7___default()(_cb);\n    end_of_stream__WEBPACK_IMPORTED_MODULE_6___default()(stream, {\n        readable: false\n    }, cb);\n    end_of_stream__WEBPACK_IMPORTED_MODULE_6___default()(stream, {\n        writable: false\n    }, cb);\n}\nfunction setupMultiplex(stream) {\n    const mux = new ObjectMultiplex();\n    mux.getStream = function streamHelper(name) {\n        if (this._substreams[name]) {\n            return this._substreams[name];\n        }\n        return this.createStream(name);\n    };\n    pump__WEBPACK_IMPORTED_MODULE_8___default()(stream, mux, stream, (err)=>{\n        if (err) window.console.error(err);\n    });\n    return mux;\n}\nclass PostMessageStream extends BasePostMessageStream {\n    _postMessage(data) {\n        let originConstraint = this._targetOrigin;\n        if (typeof data === \"object\") {\n            const dataObj = data;\n            if (typeof dataObj.data === \"object\") {\n                const dataObjData = dataObj.data;\n                if (Array.isArray(dataObjData.params) && dataObjData.params.length > 0) {\n                    const dataObjDataParam = dataObjData.params[0];\n                    if (dataObjDataParam._origin) {\n                        originConstraint = dataObjDataParam._origin;\n                    }\n                    // add a constraint for the response\n                    dataObjDataParam._origin = window.location.origin;\n                }\n            }\n        }\n        this._targetWindow.postMessage({\n            target: this._target,\n            data\n        }, originConstraint);\n    }\n}\n //# sourceMappingURL=openloginJrpc.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9zb2xhbmEtZW1iZWQvbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvb3BlbmxvZ2luLWpycGMvZGlzdC9vcGVubG9naW5KcnBjLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRTtBQUMzQjtBQUNIO0FBQ007QUFDcUI7QUFDQTtBQUNqQztBQUNSO0FBQ0E7QUFFeEIsU0FBU1U7SUFDUCxPQUFPQztBQUNUO0FBQ0EsTUFBTUMsTUFBTTtBQUNaLE1BQU1DLE1BQU07QUFDWixNQUFNQyxNQUFNO0FBQ1osTUFBTUMsOEJBQThCZCxtREFBTUE7SUFDeENlLFlBQVlDLElBQUksQ0FBRTtRQUNoQixJQUFJLEVBQ0ZDLElBQUksRUFDSkMsTUFBTSxFQUNOQyxlQUFlQyxNQUFNLEVBQ3JCQyxlQUFlLEdBQUcsRUFDbkIsR0FBR0w7UUFDSixLQUFLLENBQUM7WUFDSk0sWUFBWTtRQUNkO1FBQ0F2Qiw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsU0FBUyxLQUFLO1FBQ3BDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsWUFBWSxLQUFLO1FBQ3ZDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsU0FBUyxLQUFLO1FBQ3BDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsV0FBVyxLQUFLO1FBQ3RDQSw0RUFBZUEsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLEtBQUs7UUFDNUNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxpQkFBaUIsS0FBSztRQUM1Qyw4REFBOEQ7UUFDOURBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxjQUFjLEtBQUs7UUFDekNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxrQkFBa0IsS0FBSztRQUM3QyxJQUFJLENBQUNrQixRQUFRLENBQUNDLFFBQVE7WUFDcEIsTUFBTSxJQUFJSyxNQUFNO1FBQ2xCO1FBQ0EsSUFBSSxDQUFDQyxLQUFLLEdBQUc7UUFDYixJQUFJLENB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QUFZQyxNQUFNLENBQUMsRUFBRTtvQkFDOUMsSUFBSUMsaUJBQWlCQyxPQUFPLEVBQUU7d0JBQzVCekssbUJBQW1Cd0ssaUJBQWlCQyxPQUFPO29CQUM3QztvQkFFQSxvQ0FBb0M7b0JBQ3BDRCxpQkFBaUJDLE9BQU8sR0FBR25NLE9BQU9vTSxRQUFRLENBQUN0SyxNQUFNO2dCQUNuRDtZQUNGO1FBQ0Y7UUFDQSxJQUFJLENBQUN0QixhQUFhLENBQUNtQixXQUFXLENBQUM7WUFDN0I3QixRQUFRLElBQUksQ0FBQ1MsT0FBTztZQUNwQmE7UUFDRixHQUFHTTtJQUNMO0FBQ0Y7QUFFa2IsQ0FDbGIsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL3NvbGFuYS1lbWJlZC9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9vcGVubG9naW4tanJwYy9kaXN0L29wZW5sb2dpbkpycGMuZXNtLmpzP2I3N2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCB7IER1cGxleCB9IGZyb20gJ3JlYWRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICdmYXN0LXNhZmUtc3RyaW5naWZ5JztcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMic7XG5pbXBvcnQgeyBzZXJpYWxpemVFcnJvciwgcnBjRXJyb3JzIH0gZnJvbSAnQG1ldGFtYXNrL3JwYy1lcnJvcnMnO1xuaW1wb3J0IGVvcyBmcm9tICdlbmQtb2Ytc3RyZWFtJztcbmltcG9ydCBvbmNlIGZyb20gJ29uY2UnO1xuaW1wb3J0IHB1bXAgZnJvbSAncHVtcCc7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5jb25zdCBTWU4gPSBcIlNZTlwiO1xuY29uc3QgQUNLID0gXCJBQ0tcIjtcbmNvbnN0IEJSSyA9IFwiQlJLXCI7XG5jbGFzcyBCYXNlUG9zdE1lc3NhZ2VTdHJlYW0gZXh0ZW5kcyBEdXBsZXgge1xuICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgbGV0IHtcbiAgICAgIG5hbWUsXG4gICAgICB0YXJnZXQsXG4gICAgICB0YXJnZXRXaW5kb3cgPSB3aW5kb3csXG4gICAgICB0YXJnZXRPcmlnaW4gPSBcIipcIlxuICAgIH0gPSBfcmVmO1xuICAgIHN1cGVyKHtcbiAgICAgIG9iamVjdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW5pdFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9oYXZlU3luXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX25hbWVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGFyZ2V0XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RhcmdldFdpbmRvd1wiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90YXJnZXRPcmlnaW5cIiwgdm9pZCAwKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9vbk1lc3NhZ2VcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3luSW50ZXJ2YWxJZFwiLCB2b2lkIDApO1xuICAgIGlmICghbmFtZSB8fCAhdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0LlwiKTtcbiAgICB9XG4gICAgdGhpcy5faW5pdCA9IGZhbHNlO1xuICAgIHRoaXMuX2hhdmVTeW4gPSBmYWxzZTtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7IC8vIHRhcmdldCBvcmlnaW5cbiAgICB0aGlzLl90YXJnZXRXaW5kb3cgPSB0YXJnZXRXaW5kb3c7XG4gICAgdGhpcy5fdGFyZ2V0T3JpZ2luID0gdGFyZ2V0T3JpZ2luO1xuICAgIHRoaXMuX29uTWVzc2FnZSA9IHRoaXMub25NZXNzYWdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fc3luSW50ZXJ2YWxJZCA9IG51bGw7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuX29uTWVzc2FnZSwgZmFsc2UpO1xuICAgIHRoaXMuX2hhbmRTaGFrZSgpO1xuICB9XG4gIF9icmVhaygpIHtcbiAgICB0aGlzLmNvcmsoKTtcbiAgICB0aGlzLl93cml0ZShCUkssIG51bGwsIG5vb3ApO1xuICAgIHRoaXMuX2hhdmVTeW4gPSBmYWxzZTtcbiAgICB0aGlzLl9pbml0ID0gZmFsc2U7XG4gIH1cbiAgX2hhbmRTaGFrZSgpIHtcbiAgICB0aGlzLl93cml0ZShTWU4sIG51bGwsIG5vb3ApO1xuICAgIHRoaXMuY29yaygpO1xuICB9XG4gIF9vbkRhdGEoZGF0YSkge1xuICAgIGlmICghdGhpcy5faW5pdCkge1xuICAgICAgLy8gbGlzdGVuIGZvciBoYW5kc2hha2VcbiAgICAgIGlmIChkYXRhID09PSBTWU4pIHtcbiAgICAgICAgdGhpcy5faGF2ZVN5biA9IHRydWU7XG4gICAgICAgIHRoaXMuX3dyaXRlKEFDSywgbnVsbCwgbm9vcCk7XG4gICAgICB9IGVsc2UgaWYgKGRhdGEgPT09IEFDSykge1xuICAgICAgICB0aGlzLl9pbml0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9oYXZlU3luKSB7XG4gICAgICAgICAgdGhpcy5fd3JpdGUoQUNLLCBudWxsLCBub29wKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuY29yaygpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGF0YSA9PT0gQlJLKSB7XG4gICAgICB0aGlzLl9icmVhaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmb3J3YXJkIG1lc3NhZ2VcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMucHVzaChkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmVtaXQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfcG9zdE1lc3NhZ2UoZGF0YSkge1xuICAgIGNvbnN0IG9yaWdpbkNvbnN0cmFpbnQgPSB0aGlzLl90YXJnZXRPcmlnaW47XG4gICAgdGhpcy5fdGFyZ2V0V2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgIHRhcmdldDogdGhpcy5fdGFyZ2V0LFxuICAgICAgZGF0YVxuICAgIH0sIG9yaWdpbkNvbnN0cmFpbnQpO1xuICB9XG4gIG9uTWVzc2FnZShldmVudCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhO1xuXG4gICAgLy8gdmFsaWRhdGUgbWVzc2FnZVxuICAgIGlmICh0aGlzLl90YXJnZXRPcmlnaW4gIT09IFwiKlwiICYmIGV2ZW50Lm9yaWdpbiAhPT0gdGhpcy5fdGFyZ2V0T3JpZ2luIHx8IGV2ZW50LnNvdXJjZSAhPT0gdGhpcy5fdGFyZ2V0V2luZG93IHx8IHR5cGVvZiBtZXNzYWdlICE9PSBcIm9iamVjdFwiIHx8IG1lc3NhZ2UudGFyZ2V0ICE9PSB0aGlzLl9uYW1lIHx8ICFtZXNzYWdlLmRhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fb25EYXRhKG1lc3NhZ2UuZGF0YSk7XG4gIH1cbiAgX3JlYWQoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIF93cml0ZShkYXRhLCBfLCBjYikge1xuICAgIHRoaXMuX3Bvc3RNZXNzYWdlKGRhdGEpO1xuICAgIGNiKCk7XG4gIH1cbiAgX2Rlc3Ryb3koKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuX29uTWVzc2FnZSwgZmFsc2UpO1xuICB9XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmZ1bmN0aW9uIHNhZmVBcHBseShoYW5kbGVyLCBjb250ZXh0LCBhcmdzKSB7XG4gIHRyeSB7XG4gICAgUmVmbGVjdC5hcHBseShoYW5kbGVyLCBjb250ZXh0LCBhcmdzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gVGhyb3cgZXJyb3IgYWZ0ZXIgdGltZW91dCBzbyBhcyBub3QgdG8gaW50ZXJydXB0IHRoZSBzdGFja1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBhcnJheUNsb25lKGFycikge1xuICBjb25zdCBuID0gYXJyLmxlbmd0aDtcbiAgY29uc3QgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpICs9IDEpIHtcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICB9XG4gIHJldHVybiBjb3B5O1xufVxuY2xhc3MgU2FmZUV2ZW50RW1pdHRlciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGVtaXQodHlwZSkge1xuICAgIGxldCBkb0Vycm9yID0gdHlwZSA9PT0gXCJlcnJvclwiO1xuICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRvRXJyb3IgPSBkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoIWRvRXJyb3IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmIChkb0Vycm9yKSB7XG4gICAgICBsZXQgZXI7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIFtlcl0gPSBhcmdzO1xuICAgICAgfVxuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93XG4gICAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBVbmhhbmRsZWQgZXJyb3IuJHtlciA/IGAgKCR7ZXIubWVzc2FnZX0pYCA6IFwiXCJ9YCk7XG4gICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG4gICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgc2FmZUFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlcik7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgIHNhZmVBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5jbGFzcyBTZXJpYWxpemFibGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBjb2RlLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIGRhdGFcbiAgICB9ID0gX3JlZjtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoY29kZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImNvZGUgbXVzdCBiZSBhbiBpbnRlZ2VyXCIpO1xuICAgIH1cbiAgICBpZiAoIW1lc3NhZ2UgfHwgdHlwZW9mIG1lc3NhZ2UgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1lc3NhZ2UgbXVzdCBiZSBzdHJpbmdcIik7XG4gICAgfVxuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvZGVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkYXRhXCIsIHZvaWQgMCk7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gc3RyaW5naWZ5KHtcbiAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIGRhdGE6IHRoaXMuZGF0YSxcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrXG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgZ2V0UnBjUHJvbWlzZUNhbGxiYWNrID0gZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICBsZXQgdW53cmFwUmVzdWx0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB0cnVlO1xuICByZXR1cm4gKGVycm9yLCByZXNwb25zZSkgPT4ge1xuICAgIGlmIChlcnJvciB8fCByZXNwb25zZS5lcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yIHx8IHJlc3BvbnNlLmVycm9yKTtcbiAgICB9IGVsc2UgaWYgKCF1bndyYXBSZXN1bHQgfHwgQXJyYXkuaXNBcnJheShyZXNwb25zZSkpIHtcbiAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHJlc3BvbnNlLnJlc3VsdCk7XG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIGNyZWF0ZUVycm9yTWlkZGxld2FyZShsb2cpIHtcbiAgcmV0dXJuIChyZXEsIHJlcywgbmV4dCwgZW5kKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGpzb24tcnBjLWVuZ2luZSB3aWxsIHRlcm1pbmF0ZSB0aGUgcmVxdWVzdCB3aGVuIGl0IG5vdGljZXMgdGhpcyBlcnJvclxuICAgICAgaWYgKHR5cGVvZiByZXEubWV0aG9kICE9PSBcInN0cmluZ1wiIHx8ICFyZXEubWV0aG9kKSB7XG4gICAgICAgIHJlcy5lcnJvciA9IG5ldyBTZXJpYWxpemFibGVFcnJvcih7XG4gICAgICAgICAgY29kZTogLTMyNjAzLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiaW52YWxpZCBtZXRob2RcIlxuICAgICAgICB9KTtcbiAgICAgICAgZW5kKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG5leHQoZG9uZSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBlcnJvclxuICAgICAgICB9ID0gcmVzO1xuICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICBsb2cuZXJyb3IoYE9wZW5Mb2dpbiAtIFJQQyBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWAsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2cuZXJyb3IoYE9wZW5Mb2dpbiAtIFJQQyBFcnJvciB0aHJvd246ICR7ZXJyb3IubWVzc2FnZX1gLCBlcnJvcik7XG4gICAgICByZXMuZXJyb3IgPSBuZXcgU2VyaWFsaXphYmxlRXJyb3Ioe1xuICAgICAgICBjb2RlOiAtMzI2MDMsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH0pO1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU3RyZWFtTWlkZGxld2FyZSgpIHtcbiAgY29uc3QgaWRNYXAgPSB7fTtcbiAgZnVuY3Rpb24gcmVhZE5vb3AoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGV2ZW50cyA9IG5ldyBTYWZlRXZlbnRFbWl0dGVyKCk7XG4gIGZ1bmN0aW9uIHByb2Nlc3NSZXNwb25zZShyZXMpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gaWRNYXBbcmVzLmlkXTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU3RyZWFtTWlkZGxld2FyZSAtIFVua25vd24gcmVzcG9uc2UgaWQgXCIke3Jlcy5pZH1cImApO1xuICAgIH1cbiAgICBkZWxldGUgaWRNYXBbcmVzLmlkXTtcbiAgICAvLyBjb3B5IHdob2xlIHJlcyBvbnRvIG9yaWdpbmFsIHJlc1xuICAgIE9iamVjdC5hc3NpZ24oY29udGV4dC5yZXMsIHJlcyk7XG4gICAgLy8gcnVuIGNhbGxiYWNrIG9uIGVtcHR5IHN0YWNrLFxuICAgIC8vIHByZXZlbnQgaW50ZXJuYWwgc3RyZWFtLWhhbmRsZXIgZnJvbSBjYXRjaGluZyBlcnJvcnNcbiAgICBzZXRUaW1lb3V0KGNvbnRleHQuZW5kKTtcbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzTm90aWZpY2F0aW9uKHJlcykge1xuICAgIGV2ZW50cy5lbWl0KFwibm90aWZpY2F0aW9uXCIsIHJlcyk7XG4gIH1cbiAgZnVuY3Rpb24gcHJvY2Vzc01lc3NhZ2UocmVzLCBfZW5jb2RpbmcsIGNiKSB7XG4gICAgbGV0IGVycjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaXNOb3RpZmljYXRpb24gPSAhcmVzLmlkO1xuICAgICAgaWYgKGlzTm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHByb2Nlc3NOb3RpZmljYXRpb24ocmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3NSZXNwb25zZShyZXMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKF9lcnIpIHtcbiAgICAgIGVyciA9IF9lcnI7XG4gICAgfVxuICAgIC8vIGNvbnRpbnVlIHByb2Nlc3Npbmcgc3RyZWFtXG4gICAgY2IoZXJyKTtcbiAgfVxuICBjb25zdCBzdHJlYW0gPSBuZXcgRHVwbGV4KHtcbiAgICBvYmplY3RNb2RlOiB0cnVlLFxuICAgIHJlYWQ6IHJlYWROb29wLFxuICAgIHdyaXRlOiBwcm9jZXNzTWVzc2FnZVxuICB9KTtcbiAgY29uc3QgbWlkZGxld2FyZSA9IChyZXEsIHJlcywgbmV4dCwgZW5kKSA9PiB7XG4gICAgLy8gd3JpdGUgcmVxIHRvIHN0cmVhbVxuICAgIHN0cmVhbS5wdXNoKHJlcSk7XG4gICAgLy8gcmVnaXN0ZXIgcmVxdWVzdCBvbiBpZCBtYXBcbiAgICBpZE1hcFtyZXEuaWRdID0ge1xuICAgICAgcmVxLFxuICAgICAgcmVzLFxuICAgICAgbmV4dCxcbiAgICAgIGVuZFxuICAgIH07XG4gIH07XG4gIHJldHVybiB7XG4gICAgZXZlbnRzLFxuICAgIG1pZGRsZXdhcmUsXG4gICAgc3RyZWFtXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVTY2FmZm9sZE1pZGRsZXdhcmUoaGFuZGxlcnMpIHtcbiAgcmV0dXJuIChyZXEsIHJlcywgbmV4dCwgZW5kKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlciA9IGhhbmRsZXJzW3JlcS5tZXRob2RdO1xuICAgIC8vIGlmIG5vIGhhbmRsZXIsIHJldHVyblxuICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuICAgIC8vIGlmIGhhbmRsZXIgaXMgZm4sIGNhbGwgYXMgbWlkZGxld2FyZVxuICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcywgbmV4dCwgZW5kKTtcbiAgICB9XG4gICAgLy8gaWYgaGFuZGxlciBpcyBzb21lIG90aGVyIHZhbHVlLCB1c2UgYXMgcmVzdWx0XG4gICAgcmVzLnJlc3VsdCA9IGhhbmRsZXI7XG4gICAgcmV0dXJuIGVuZCgpO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlSWRSZW1hcE1pZGRsZXdhcmUoKSB7XG4gIHJldHVybiAocmVxLCByZXMsIG5leHQsIF9lbmQpID0+IHtcbiAgICBjb25zdCBvcmlnaW5hbElkID0gcmVxLmlkO1xuICAgIGNvbnN0IG5ld0lkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG4gICAgcmVxLmlkID0gbmV3SWQ7XG4gICAgcmVzLmlkID0gbmV3SWQ7XG4gICAgbmV4dChkb25lID0+IHtcbiAgICAgIHJlcS5pZCA9IG9yaWdpbmFsSWQ7XG4gICAgICByZXMuaWQgPSBvcmlnaW5hbElkO1xuICAgICAgZG9uZSgpO1xuICAgIH0pO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlTG9nZ2VyTWlkZGxld2FyZShsb2dnZXIpIHtcbiAgcmV0dXJuIChyZXEsIHJlcywgbmV4dCwgXykgPT4ge1xuICAgIGxvZ2dlci5kZWJ1ZyhcIlJFUVwiLCByZXEsIFwiUkVTXCIsIHJlcyk7XG4gICAgbmV4dCgpO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQXN5bmNNaWRkbGV3YXJlKGFzeW5jTWlkZGxld2FyZSkge1xuICByZXR1cm4gYXN5bmMgKHJlcSwgcmVzLCBuZXh0LCBlbmQpID0+IHtcbiAgICAvLyBuZXh0UHJvbWlzZSBpcyB0aGUga2V5IHRvIHRoZSBpbXBsZW1lbnRhdGlvblxuICAgIC8vIGl0IGlzIHJlc29sdmVkIGJ5IHRoZSByZXR1cm4gaGFuZGxlciBwYXNzZWQgdG8gdGhlXG4gICAgLy8gXCJuZXh0XCIgZnVuY3Rpb25cbiAgICBsZXQgcmVzb2x2ZU5leHRQcm9taXNlO1xuICAgIGNvbnN0IG5leHRQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICByZXNvbHZlTmV4dFByb21pc2UgPSByZXNvbHZlO1xuICAgIH0pO1xuICAgIGxldCByZXR1cm5IYW5kbGVyQ2FsbGJhY2sgPSBudWxsO1xuICAgIGxldCBuZXh0V2FzQ2FsbGVkID0gZmFsc2U7XG5cbiAgICAvLyBUaGlzIHdpbGwgYmUgY2FsbGVkIGJ5IHRoZSBjb25zdW1lcidzIGFzeW5jIG1pZGRsZXdhcmUuXG4gICAgY29uc3QgYXN5bmNOZXh0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgbmV4dFdhc0NhbGxlZCA9IHRydWU7XG5cbiAgICAgIC8vIFdlIHBhc3MgYSByZXR1cm4gaGFuZGxlciB0byBuZXh0KCkuIFdoZW4gaXQgaXMgY2FsbGVkIGJ5IHRoZSBlbmdpbmUsXG4gICAgICAvLyB0aGUgY29uc3VtZXIncyBhc3luYyBtaWRkbGV3YXJlIHdpbGwgcmVzdW1lIGV4ZWN1dGluZy5cblxuICAgICAgbmV4dChydW5SZXR1cm5IYW5kbGVyc0NhbGxiYWNrID0+IHtcbiAgICAgICAgLy8gVGhpcyBjYWxsYmFjayBjb21lcyBmcm9tIEpSUENFbmdpbmUuX3J1blJldHVybkhhbmRsZXJzXG4gICAgICAgIHJldHVybkhhbmRsZXJDYWxsYmFjayA9IHJ1blJldHVybkhhbmRsZXJzQ2FsbGJhY2s7XG4gICAgICAgIHJlc29sdmVOZXh0UHJvbWlzZSgpO1xuICAgICAgfSk7XG4gICAgICBhd2FpdCBuZXh0UHJvbWlzZTtcbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhc3luY01pZGRsZXdhcmUocmVxLCByZXMsIGFzeW5jTmV4dCk7XG4gICAgICBpZiAobmV4dFdhc0NhbGxlZCkge1xuICAgICAgICBhd2FpdCBuZXh0UHJvbWlzZTsgLy8gd2UgbXVzdCB3YWl0IHVudGlsIHRoZSByZXR1cm4gaGFuZGxlciBpcyBjYWxsZWRcbiAgICAgICAgcmV0dXJuSGFuZGxlckNhbGxiYWNrKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kKG51bGwpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3IgPSBlcnI7XG4gICAgICBpZiAocmV0dXJuSGFuZGxlckNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybkhhbmRsZXJDYWxsYmFjayhlcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQoZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBBIEpTT04tUlBDIHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2Nlc3Nvci5cbiAqIEdpdmUgaXQgYSBzdGFjayBvZiBtaWRkbGV3YXJlLCBwYXNzIGl0IHJlcXVlc3RzLCBhbmQgZ2V0IGJhY2sgcmVzcG9uc2VzLlxuICovXG5jbGFzcyBKUlBDRW5naW5lIGV4dGVuZHMgU2FmZUV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX21pZGRsZXdhcmVcIiwgdm9pZCAwKTtcbiAgICB0aGlzLl9taWRkbGV3YXJlID0gW107XG4gIH1cblxuICAvKipcbiAgICogU2VyaWFsbHkgZXhlY3V0ZXMgdGhlIGdpdmVuIHN0YWNrIG9mIG1pZGRsZXdhcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIGFueSBlcnJvciBlbmNvdW50ZXJlZCBkdXJpbmcgbWlkZGxld2FyZSBleGVjdXRpb24sXG4gICAqIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHJlcXVlc3Qgd2FzIGNvbXBsZXRlZCwgYW5kIGFuIGFycmF5IG9mXG4gICAqIG1pZGRsZXdhcmUtZGVmaW5lZCByZXR1cm4gaGFuZGxlcnMuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgX3J1bkFsbE1pZGRsZXdhcmUocmVxLCByZXMsIG1pZGRsZXdhcmVTdGFjaykge1xuICAgIGNvbnN0IHJldHVybkhhbmRsZXJzID0gW107XG4gICAgbGV0IGVycm9yID0gbnVsbDtcbiAgICBsZXQgaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgLy8gR28gZG93biBzdGFjayBvZiBtaWRkbGV3YXJlLCBjYWxsIGFuZCBjb2xsZWN0IG9wdGlvbmFsIHJldHVybkhhbmRsZXJzXG4gICAgZm9yIChjb25zdCBtaWRkbGV3YXJlIG9mIG1pZGRsZXdhcmVTdGFjaykge1xuICAgICAgW2Vycm9yLCBpc0NvbXBsZXRlXSA9IGF3YWl0IEpSUENFbmdpbmUuX3J1bk1pZGRsZXdhcmUocmVxLCByZXMsIG1pZGRsZXdhcmUsIHJldHVybkhhbmRsZXJzKTtcbiAgICAgIGlmIChpc0NvbXBsZXRlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW2Vycm9yLCBpc0NvbXBsZXRlLCByZXR1cm5IYW5kbGVycy5yZXZlcnNlKCldO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgYW4gaW5kaXZpZHVhbCBtaWRkbGV3YXJlLlxuICAgKlxuICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiBhbnkgZXJyb3IgZW5jb3VudGVyZWQgZHVyaW5nIG1pZGRsZXdhcmUgZXhlY3Rpb24sXG4gICAqIGFuZCBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSByZXF1ZXN0IHNob3VsZCBlbmQuXG4gICAqL1xuICBzdGF0aWMgX3J1bk1pZGRsZXdhcmUocmVxLCByZXMsIG1pZGRsZXdhcmUsIHJldHVybkhhbmRsZXJzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgZW5kID0gZXJyID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBlcnIgfHwgcmVzLmVycm9yO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXMuZXJyb3IgPSBzZXJpYWxpemVFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJ1ZSBpbmRpY2F0ZXMgdGhhdCB0aGUgcmVxdWVzdCBzaG91bGQgZW5kXG4gICAgICAgIHJlc29sdmUoW2Vycm9yLCB0cnVlXSk7XG4gICAgICB9O1xuICAgICAgY29uc3QgbmV4dCA9IHJldHVybkhhbmRsZXIgPT4ge1xuICAgICAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICAgICAgZW5kKHJlcy5lcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJldHVybkhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmV0dXJuSGFuZGxlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIGVuZChuZXcgU2VyaWFsaXphYmxlRXJyb3Ioe1xuICAgICAgICAgICAgICAgIGNvZGU6IC0zMjYwMyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkpSUENFbmdpbmU6ICduZXh0JyByZXR1cm4gaGFuZGxlcnMgbXVzdCBiZSBmdW5jdGlvbnNcIlxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5IYW5kbGVycy5wdXNoKHJldHVybkhhbmRsZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEZhbHNlIGluZGljYXRlcyB0aGF0IHRoZSByZXF1ZXN0IHNob3VsZCBub3QgZW5kXG4gICAgICAgICAgcmVzb2x2ZShbbnVsbCwgZmFsc2VdKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIG1pZGRsZXdhcmUocmVxLCByZXMsIG5leHQsIGVuZCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlbmQoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlcmlhbGx5IGV4ZWN1dGVzIGFycmF5IG9mIHJldHVybiBoYW5kbGVycy4gVGhlIHJlcXVlc3QgYW5kIHJlc3BvbnNlIGFyZVxuICAgKiBhc3N1bWVkIHRvIGJlIGluIHRoZWlyIHNjb3BlLlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIF9ydW5SZXR1cm5IYW5kbGVycyhoYW5kbGVycykge1xuICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiBoYW5kbGVycykge1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBoYW5kbGVyKGVyciA9PiBlcnIgPyByZWplY3QoZXJyKSA6IHJlc29sdmUoKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSByZXNwb25zZSBoYXMgbmVpdGhlciBhIHJlc3VsdCBub3IgYW4gZXJyb3IsIG9yIGlmXG4gICAqIHRoZSBcImlzQ29tcGxldGVcIiBmbGFnIGlzIGZhbHN5LlxuICAgKi9cbiAgc3RhdGljIF9jaGVja0ZvckNvbXBsZXRpb24oX3JlcSwgcmVzLCBpc0NvbXBsZXRlKSB7XG4gICAgaWYgKCEoXCJyZXN1bHRcIiBpbiByZXMpICYmICEoXCJlcnJvclwiIGluIHJlcykpIHtcbiAgICAgIHRocm93IG5ldyBTZXJpYWxpemFibGVFcnJvcih7XG4gICAgICAgIGNvZGU6IC0zMjYwMyxcbiAgICAgICAgbWVzc2FnZTogXCJSZXNwb25zZSBoYXMgbm8gZXJyb3Igb3IgcmVzdWx0IGZvciByZXF1ZXN0XCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWlzQ29tcGxldGUpIHtcbiAgICAgIHRocm93IG5ldyBTZXJpYWxpemFibGVFcnJvcih7XG4gICAgICAgIGNvZGU6IC0zMjYwMyxcbiAgICAgICAgbWVzc2FnZTogXCJOb3RoaW5nIGVuZGVkIHJlcXVlc3RcIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gdGhlIGVuZ2luZSdzIG1pZGRsZXdhcmUgc3RhY2suXG4gICAqXG4gICAqIEBwYXJhbSBtaWRkbGV3YXJlIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gYWRkLlxuICAgKi9cbiAgcHVzaChtaWRkbGV3YXJlKSB7XG4gICAgdGhpcy5fbWlkZGxld2FyZS5wdXNoKG1pZGRsZXdhcmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBhIEpTT04tUlBDIHJlcXVlc3QsIGFuZCByZXR1cm4gYSByZXNwb25zZS5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgcmVxdWVzdCB0byBoYW5kbGUuXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIEFuIGVycm9yLWZpcnN0IGNhbGxiYWNrIHRoYXQgd2lsbCByZWNlaXZlIHRoZSByZXNwb25zZS5cbiAgICovXG5cbiAgLyoqXG4gICAqIEhhbmRsZSBhbiBhcnJheSBvZiBKU09OLVJQQyByZXF1ZXN0cywgYW5kIHJldHVybiBhbiBhcnJheSBvZiByZXNwb25zZXMuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHJlcXVlc3RzIHRvIGhhbmRsZS5cbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gQW4gZXJyb3ItZmlyc3QgY2FsbGJhY2sgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIGFycmF5IG9mXG4gICAqIHJlc3BvbnNlcy5cbiAgICovXG5cbiAgLyoqXG4gICAqIEhhbmRsZSBhIEpTT04tUlBDIHJlcXVlc3QsIGFuZCByZXR1cm4gYSByZXNwb25zZS5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgcmVxdWVzdCB0byBoYW5kbGUuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlc3BvbnNlLCBvciByZWplY3RzIHdpdGggYW5cbiAgICogZXJyb3IuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgYW4gYXJyYXkgb2YgSlNPTi1SUEMgcmVxdWVzdHMsIGFuZCByZXR1cm4gYW4gYXJyYXkgb2YgcmVzcG9uc2VzLlxuICAgKlxuICAgKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0cyB0byBoYW5kbGUuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGFycmF5IG9mIHJlc3BvbnNlcywgb3IgcmVqZWN0c1xuICAgKiB3aXRoIGFuIGVycm9yLlxuICAgKi9cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBoYW5kbGUocmVxLCBjYikge1xuICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImNhbGxiYWNrXCIgbXVzdCBiZSBhIGZ1bmN0aW9uIGlmIHByb3ZpZGVkLicpO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXEpKSB7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZUJhdGNoKHJlcSwgY2IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZUJhdGNoKHJlcSk7XG4gICAgfVxuICAgIGlmIChjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZShyZXEsIGNiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2VIYW5kbGUocmVxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoaXMgZW5naW5lIGFzIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IGNhbiBiZSBwdXNoZWQgdG8gb3RoZXJcbiAgICogZW5naW5lcy5cbiAgICpcbiAgICogQHJldHVybnMgVGhpcyBlbmdpbmUgYXMgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uLlxuICAgKi9cbiAgYXNNaWRkbGV3YXJlKCkge1xuICAgIHJldHVybiBhc3luYyAocmVxLCByZXMsIG5leHQsIGVuZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW21pZGRsZXdhcmVFcnJvciwgaXNDb21wbGV0ZSwgcmV0dXJuSGFuZGxlcnNdID0gYXdhaXQgSlJQQ0VuZ2luZS5fcnVuQWxsTWlkZGxld2FyZShyZXEsIHJlcywgdGhpcy5fbWlkZGxld2FyZSk7XG4gICAgICAgIGlmIChpc0NvbXBsZXRlKSB7XG4gICAgICAgICAgYXdhaXQgSlJQQ0VuZ2luZS5fcnVuUmV0dXJuSGFuZGxlcnMocmV0dXJuSGFuZGxlcnMpO1xuICAgICAgICAgIHJldHVybiBlbmQobWlkZGxld2FyZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dChhc3luYyBoYW5kbGVyQ2FsbGJhY2sgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBKUlBDRW5naW5lLl9ydW5SZXR1cm5IYW5kbGVycyhyZXR1cm5IYW5kbGVycyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaGFuZGxlckNhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVuZChlcnJvcik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaWtlIF9oYW5kbGUsIGJ1dCBmb3IgYmF0Y2ggcmVxdWVzdHMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBMaWtlIF9oYW5kbGUsIGJ1dCBmb3IgYmF0Y2ggcmVxdWVzdHMuXG4gICAqL1xuXG4gIGFzeW5jIF9oYW5kbGVCYXRjaChyZXFzLCBjYikge1xuICAgIC8vIFRoZSBvcmRlciBoZXJlIGlzIGltcG9ydGFudFxuICAgIHRyeSB7XG4gICAgICAvLyAyLiBXYWl0IGZvciBhbGwgcmVxdWVzdHMgdG8gZmluaXNoLCBvciB0aHJvdyBvbiBzb21lIGtpbmQgb2YgZmF0YWxcbiAgICAgIC8vIGVycm9yXG4gICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIC8vIDEuIEJlZ2luIGV4ZWN1dGluZyBlYWNoIHJlcXVlc3QgaW4gdGhlIG9yZGVyIHJlY2VpdmVkXG4gICAgICByZXFzLm1hcCh0aGlzLl9wcm9taXNlSGFuZGxlLmJpbmQodGhpcykpKTtcblxuICAgICAgLy8gMy4gUmV0dXJuIGJhdGNoIHJlc3BvbnNlXG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIHJlc3BvbnNlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2VzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgcmV0dXJuIGNiKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBIHByb21pc2Utd3JhcHBlZCBfaGFuZGxlLlxuICAgKi9cbiAgX3Byb21pc2VIYW5kbGUocmVxKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlKHJlcSwgKF9lcnIsIHJlcykgPT4ge1xuICAgICAgICAvLyBUaGVyZSB3aWxsIGFsd2F5cyBiZSBhIHJlc3BvbnNlLCBhbmQgaXQgd2lsbCBhbHdheXMgaGF2ZSBhbnkgZXJyb3JcbiAgICAgICAgLy8gdGhhdCBpcyBjYXVnaHQgYW5kIHByb3BhZ2F0ZWQuXG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuc3VyZXMgdGhhdCB0aGUgcmVxdWVzdCBvYmplY3QgaXMgdmFsaWQsIHByb2Nlc3NlcyBpdCwgYW5kIHBhc3NlcyBhbnlcbiAgICogZXJyb3IgYW5kIHRoZSByZXNwb25zZSBvYmplY3QgdG8gdGhlIGdpdmVuIGNhbGxiYWNrLlxuICAgKlxuICAgKiBEb2VzIG5vdCByZWplY3QuXG4gICAqL1xuICBhc3luYyBfaGFuZGxlKGNhbGxlclJlcSwgY2IpIHtcbiAgICBpZiAoIWNhbGxlclJlcSB8fCBBcnJheS5pc0FycmF5KGNhbGxlclJlcSkgfHwgdHlwZW9mIGNhbGxlclJlcSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgU2VyaWFsaXphYmxlRXJyb3Ioe1xuICAgICAgICBjb2RlOiAtMzI2MDMsXG4gICAgICAgIG1lc3NhZ2U6IFwicmVxdWVzdCBtdXN0IGJlIHBsYWluIG9iamVjdFwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjYihlcnJvciwge1xuICAgICAgICBpZDogdW5kZWZpbmVkLFxuICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICBlcnJvclxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2FsbGVyUmVxLm1ldGhvZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgU2VyaWFsaXphYmxlRXJyb3Ioe1xuICAgICAgICBjb2RlOiAtMzI2MDMsXG4gICAgICAgIG1lc3NhZ2U6IFwibWV0aG9kIG11c3QgYmUgc3RyaW5nXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNiKGVycm9yLCB7XG4gICAgICAgIGlkOiBjYWxsZXJSZXEuaWQsXG4gICAgICAgIGpzb25ycGM6IFwiMi4wXCIsXG4gICAgICAgIGVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVxID0gX29iamVjdFNwcmVhZCh7fSwgY2FsbGVyUmVxKTtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICBpZDogcmVxLmlkLFxuICAgICAganNvbnJwYzogcmVxLmpzb25ycGNcbiAgICB9O1xuICAgIGxldCBlcnJvciA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuX3Byb2Nlc3NSZXF1ZXN0KHJlcSwgcmVzKTtcbiAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgIC8vIEEgcmVxdWVzdCBoYW5kbGVyIGVycm9yLCBhIHJlLXRocm93biBtaWRkbGV3YXJlIGVycm9yLCBvciBzb21ldGhpbmdcbiAgICAgIC8vIHVuZXhwZWN0ZWQuXG4gICAgICBlcnJvciA9IF9lcnJvcjtcbiAgICB9XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICAvLyBFbnN1cmUgbm8gcmVzdWx0IGlzIHByZXNlbnQgb24gYW4gZXJyb3JlZCByZXNwb25zZVxuICAgICAgZGVsZXRlIHJlcy5yZXN1bHQ7XG4gICAgICBpZiAoIXJlcy5lcnJvcikge1xuICAgICAgICByZXMuZXJyb3IgPSBzZXJpYWxpemVFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYihlcnJvciwgcmVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgdGhlIGdpdmVuIHJlcXVlc3QgYW5kIHJlc3BvbnNlLCBydW5zIGFsbCBtaWRkbGV3YXJlIGFuZCB0aGVpciByZXR1cm5cbiAgICogaGFuZGxlcnMsIGlmIGFueSwgYW5kIGVuc3VyZXMgdGhhdCBpbnRlcm5hbCByZXF1ZXN0IHByb2Nlc3Npbmcgc2VtYW50aWNzXG4gICAqIGFyZSBzYXRpc2ZpZWQuXG4gICAqL1xuICBhc3luYyBfcHJvY2Vzc1JlcXVlc3QocmVxLCByZXMpIHtcbiAgICBjb25zdCBbZXJyb3IsIGlzQ29tcGxldGUsIHJldHVybkhhbmRsZXJzXSA9IGF3YWl0IEpSUENFbmdpbmUuX3J1bkFsbE1pZGRsZXdhcmUocmVxLCByZXMsIHRoaXMuX21pZGRsZXdhcmUpO1xuXG4gICAgLy8gVGhyb3cgaWYgXCJlbmRcIiB3YXMgbm90IGNhbGxlZCwgb3IgaWYgdGhlIHJlc3BvbnNlIGhhcyBuZWl0aGVyIGEgcmVzdWx0XG4gICAgLy8gbm9yIGFuIGVycm9yLlxuICAgIEpSUENFbmdpbmUuX2NoZWNrRm9yQ29tcGxldGlvbihyZXEsIHJlcywgaXNDb21wbGV0ZSk7XG5cbiAgICAvLyBUaGUgcmV0dXJuIGhhbmRsZXJzIHNob3VsZCBydW4gZXZlbiBpZiBhbiBlcnJvciB3YXMgZW5jb3VudGVyZWQgZHVyaW5nXG4gICAgLy8gbWlkZGxld2FyZSBwcm9jZXNzaW5nLlxuICAgIGF3YWl0IEpSUENFbmdpbmUuX3J1blJldHVybkhhbmRsZXJzKHJldHVybkhhbmRsZXJzKTtcblxuICAgIC8vIE5vdyB3ZSByZS10aHJvdyB0aGUgbWlkZGxld2FyZSBwcm9jZXNzaW5nIGVycm9yLCBpZiBhbnksIHRvIGNhdGNoIGl0XG4gICAgLy8gZnVydGhlciB1cCB0aGUgY2FsbCBjaGFpbi5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbWVyZ2VNaWRkbGV3YXJlKG1pZGRsZXdhcmVTdGFjaykge1xuICBjb25zdCBlbmdpbmUgPSBuZXcgSlJQQ0VuZ2luZSgpO1xuICBtaWRkbGV3YXJlU3RhY2suZm9yRWFjaChtaWRkbGV3YXJlID0+IGVuZ2luZS5wdXNoKG1pZGRsZXdhcmUpKTtcbiAgcmV0dXJuIGVuZ2luZS5hc01pZGRsZXdhcmUoKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVuZ2luZVN0cmVhbShvcHRzKSB7XG4gIGlmICghb3B0cyB8fCAhb3B0cy5lbmdpbmUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGVuZ2luZSBwYXJhbWV0ZXIhXCIpO1xuICB9XG4gIGNvbnN0IHtcbiAgICBlbmdpbmVcbiAgfSA9IG9wdHM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgbGV0IHN0cmVhbTtcbiAgZnVuY3Rpb24gcmVhZCgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGZ1bmN0aW9uIHdyaXRlKHJlcSwgX2VuY29kaW5nLCBjYikge1xuICAgIGVuZ2luZS5oYW5kbGUocmVxLCAoX2VyciwgcmVzKSA9PiB7XG4gICAgICBzdHJlYW0ucHVzaChyZXMpO1xuICAgIH0pO1xuICAgIGNiKCk7XG4gIH1cbiAgc3RyZWFtID0gbmV3IER1cGxleCh7XG4gICAgb2JqZWN0TW9kZTogdHJ1ZSxcbiAgICByZWFkLFxuICAgIHdyaXRlXG4gIH0pO1xuXG4gIC8vIGZvcndhcmQgbm90aWZpY2F0aW9uc1xuICBpZiAoZW5naW5lLm9uKSB7XG4gICAgZW5naW5lLm9uKFwibm90aWZpY2F0aW9uXCIsIG1lc3NhZ2UgPT4ge1xuICAgICAgc3RyZWFtLnB1c2gobWVzc2FnZSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHN0cmVhbTtcbn1cbmZ1bmN0aW9uIHByb3ZpZGVyRnJvbUVuZ2luZShlbmdpbmUpIHtcbiAgY29uc3QgcHJvdmlkZXIgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuICAvLyBoYW5kbGUgYm90aCBycGMgc2VuZCBtZXRob2RzXG4gIHByb3ZpZGVyLnNlbmRBc3luYyA9IGFzeW5jIHJlcSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZW5naW5lLmhhbmRsZShyZXEpO1xuICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgIHZhciBfcmVzJGVycm9yLCBfcmVzJGVycm9yMjtcbiAgICAgIGNvbnN0IGVyciA9IHNlcmlhbGl6ZUVycm9yKHJlcy5lcnJvciwge1xuICAgICAgICBmYWxsYmFja0Vycm9yOiB7XG4gICAgICAgICAgbWVzc2FnZTogKChfcmVzJGVycm9yID0gcmVzLmVycm9yKSA9PT0gbnVsbCB8fCBfcmVzJGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzJGVycm9yLm1lc3NhZ2UpIHx8IHJlcy5lcnJvci50b1N0cmluZygpLFxuICAgICAgICAgIGNvZGU6ICgoX3JlcyRlcnJvcjIgPSByZXMuZXJyb3IpID09PSBudWxsIHx8IF9yZXMkZXJyb3IyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzJGVycm9yMi5jb2RlKSB8fCAtMzI2MDNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aHJvdyBycGNFcnJvcnMuaW50ZXJuYWwoZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5yZXN1bHQ7XG4gIH07XG4gIHByb3ZpZGVyLnNlbmQgPSAocmVxLCBjYWxsYmFjaykgPT4ge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXN0IHByb3ZpZGUgY2FsbGJhY2sgdG8gXCJzZW5kXCIgbWV0aG9kLicpO1xuICAgIH1cbiAgICBlbmdpbmUuaGFuZGxlKHJlcSwgY2FsbGJhY2spO1xuICB9O1xuICAvLyBmb3J3YXJkIG5vdGlmaWNhdGlvbnNcbiAgaWYgKGVuZ2luZS5vbikge1xuICAgIGVuZ2luZS5vbihcIm5vdGlmaWNhdGlvblwiLCBtZXNzYWdlID0+IHtcbiAgICAgIHByb3ZpZGVyLmVtaXQoXCJkYXRhXCIsIG51bGwsIG1lc3NhZ2UpO1xuICAgIH0pO1xuICB9XG4gIHByb3ZpZGVyLnJlcXVlc3QgPSBhc3luYyBhcmdzID0+IHtcbiAgICBjb25zdCByZXEgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGFyZ3MpLCB7fSwge1xuICAgICAgaWQ6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLFxuICAgICAganNvbnJwYzogXCIyLjBcIlxuICAgIH0pO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHByb3ZpZGVyLnNlbmRBc3luYyhyZXEpO1xuICAgIHJldHVybiByZXM7XG4gIH07XG4gIHJldHVybiBwcm92aWRlcjtcbn1cbmZ1bmN0aW9uIHByb3ZpZGVyRnJvbU1pZGRsZXdhcmUobWlkZGxld2FyZSkge1xuICBjb25zdCBlbmdpbmUgPSBuZXcgSlJQQ0VuZ2luZSgpO1xuICBlbmdpbmUucHVzaChtaWRkbGV3YXJlKTtcbiAgY29uc3QgcHJvdmlkZXIgPSBwcm92aWRlckZyb21FbmdpbmUoZW5naW5lKTtcbiAgcmV0dXJuIHByb3ZpZGVyO1xufVxuZnVuY3Rpb24gcHJvdmlkZXJBc01pZGRsZXdhcmUocHJvdmlkZXIpIHtcbiAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgX25leHQsIGVuZCkgPT4ge1xuICAgIC8vIHNlbmQgcmVxdWVzdCB0byBwcm92aWRlclxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm92aWRlclJlcyA9IGF3YWl0IHByb3ZpZGVyLnNlbmRBc3luYyhyZXEpO1xuICAgICAgcmVzLnJlc3VsdCA9IHByb3ZpZGVyUmVzO1xuICAgICAgcmV0dXJuIGVuZCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gZW5kKGVycm9yKTtcbiAgICB9XG4gIH07XG59XG5cbmNsYXNzIFN1YnN0cmVhbSBleHRlbmRzIER1cGxleCB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgcGFyZW50LFxuICAgICAgbmFtZVxuICAgIH0gPSBfcmVmO1xuICAgIHN1cGVyKHtcbiAgICAgIG9iamVjdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGFyZW50XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX25hbWVcIiwgdm9pZCAwKTtcbiAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gIH1cblxuICAvKipcbiAgICogRXhwbGljaXRseSBzZXRzIHJlYWQgb3BlcmF0aW9ucyB0byBhIG5vLW9wLlxuICAgKi9cbiAgX3JlYWQoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBkYXRhIHNob3VsZCBiZSB3cml0dGVuIHRvIHRoaXMgd3JpdGFibGUgc3RyZWFtLlxuICAgKlxuICAgKiBAcGFyYW0gY2h1bmsgLSBBcmJpdHJhcnkgb2JqZWN0IHRvIHdyaXRlXG4gICAqIEBwYXJhbSBlbmNvZGluZyAtIEVuY29kaW5nIHRvIHVzZSB3aGVuIHdyaXRpbmcgcGF5bG9hZFxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBDYWxsZWQgd2hlbiB3cml0aW5nIGlzIGNvbXBsZXRlIG9yIGFuIGVycm9yIG9jY3Vyc1xuICAgKi9cbiAgX3dyaXRlKGNodW5rLCBfZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fcGFyZW50LnB1c2goe1xuICAgICAgbmFtZTogdGhpcy5fbmFtZSxcbiAgICAgIGRhdGE6IGNodW5rXG4gICAgfSk7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxufVxuXG5jb25zdCBJR05PUkVfU1VCU1RSRUFNID0gU3ltYm9sKFwiSUdOT1JFX1NVQlNUUkVBTVwiKTtcbmNsYXNzIE9iamVjdE11bHRpcGxleCBleHRlbmRzIER1cGxleCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBzdXBlcihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdHMpLCB7fSwge1xuICAgICAgb2JqZWN0TW9kZTogdHJ1ZVxuICAgIH0pKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3Vic3RyZWFtc1wiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdldFN0cmVhbVwiLCB2b2lkIDApO1xuICAgIHRoaXMuX3N1YnN0cmVhbXMgPSB7fTtcbiAgfVxuICBjcmVhdGVTdHJlYW0obmFtZSkge1xuICAgIC8vIHZhbGlkYXRlIG5hbWVcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk9iamVjdE11bHRpcGxleCAtIG5hbWUgbXVzdCBub3QgYmUgZW1wdHlcIik7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzdHJlYW1zW25hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9iamVjdE11bHRpcGxleCAtIFN1YnN0cmVhbSBmb3IgbmFtZSBcIiR7bmFtZX1cIiBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBzdWJzdHJlYW1cbiAgICBjb25zdCBzdWJzdHJlYW0gPSBuZXcgU3Vic3RyZWFtKHtcbiAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgIG5hbWVcbiAgICB9KTtcbiAgICB0aGlzLl9zdWJzdHJlYW1zW25hbWVdID0gc3Vic3RyZWFtO1xuXG4gICAgLy8gbGlzdGVuIGZvciBwYXJlbnQgc3RyZWFtIHRvIGVuZFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICBhbnlTdHJlYW1FbmQodGhpcywgX2Vycm9yID0+IHN1YnN0cmVhbS5kZXN0cm95KF9lcnJvciB8fCB1bmRlZmluZWQpKTtcbiAgICByZXR1cm4gc3Vic3RyZWFtO1xuICB9XG5cbiAgLy8gaWdub3JlIHN0cmVhbXMgKGRvbnQgZGlzcGxheSBvcnBoYW5lZCBkYXRhIHdhcm5pbmcpXG4gIGlnbm9yZVN0cmVhbShuYW1lKSB7XG4gICAgLy8gdmFsaWRhdGUgbmFtZVxuICAgIGlmICghbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0TXVsdGlwbGV4IC0gbmFtZSBtdXN0IG5vdCBiZSBlbXB0eVwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnN0cmVhbXNbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgT2JqZWN0TXVsdGlwbGV4IC0gU3Vic3RyZWFtIGZvciBuYW1lIFwiJHtuYW1lfVwiIGFscmVhZHkgZXhpc3RzYCk7XG4gICAgfVxuICAgIC8vIHNldFxuICAgIHRoaXMuX3N1YnN0cmVhbXNbbmFtZV0gPSBJR05PUkVfU1VCU1RSRUFNO1xuICB9XG4gIF9yZWFkKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgX3dyaXRlKGNodW5rLCBfZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGRhdGFcbiAgICB9ID0gY2h1bms7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICB3aW5kb3cuY29uc29sZS53YXJuKGBPYmplY3RNdWx0aXBsZXggLSBtYWxmb3JtZWQgY2h1bmsgd2l0aG91dCBuYW1lIFwiJHtjaHVua31cImApO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGNvcnJlc3BvbmRpbmcgc3Vic3RyZWFtXG4gICAgY29uc3Qgc3Vic3RyZWFtID0gdGhpcy5fc3Vic3RyZWFtc1tuYW1lXTtcbiAgICBpZiAoIXN1YnN0cmVhbSkge1xuICAgICAgd2luZG93LmNvbnNvbGUud2FybihgT2JqZWN0TXVsdGlwbGV4IC0gb3JwaGFuZWQgZGF0YSBmb3Igc3RyZWFtIFwiJHtuYW1lfVwiYCk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvLyBwdXNoIGRhdGEgaW50byBzdWJzdHJlYW1cbiAgICBpZiAoc3Vic3RyZWFtICE9PSBJR05PUkVfU1VCU1RSRUFNKSB7XG4gICAgICBzdWJzdHJlYW0ucHVzaChkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cbn1cblxuLy8gdXRpbFxuZnVuY3Rpb24gYW55U3RyZWFtRW5kKHN0cmVhbSwgX2NiKSB7XG4gIGNvbnN0IGNiID0gb25jZShfY2IpO1xuICBlb3Moc3RyZWFtLCB7XG4gICAgcmVhZGFibGU6IGZhbHNlXG4gIH0sIGNiKTtcbiAgZW9zKHN0cmVhbSwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9LCBjYik7XG59XG5mdW5jdGlvbiBzZXR1cE11bHRpcGxleChzdHJlYW0pIHtcbiAgY29uc3QgbXV4ID0gbmV3IE9iamVjdE11bHRpcGxleCgpO1xuICBtdXguZ2V0U3RyZWFtID0gZnVuY3Rpb24gc3RyZWFtSGVscGVyKG5hbWUpIHtcbiAgICBpZiAodGhpcy5fc3Vic3RyZWFtc1tuYW1lXSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N1YnN0cmVhbXNbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNyZWF0ZVN0cmVhbShuYW1lKTtcbiAgfTtcbiAgcHVtcChzdHJlYW0sIG11eCwgc3RyZWFtLCBlcnIgPT4ge1xuICAgIGlmIChlcnIpIHdpbmRvdy5jb25zb2xlLmVycm9yKGVycik7XG4gIH0pO1xuICByZXR1cm4gbXV4O1xufVxuXG5jbGFzcyBQb3N0TWVzc2FnZVN0cmVhbSBleHRlbmRzIEJhc2VQb3N0TWVzc2FnZVN0cmVhbSB7XG4gIF9wb3N0TWVzc2FnZShkYXRhKSB7XG4gICAgbGV0IG9yaWdpbkNvbnN0cmFpbnQgPSB0aGlzLl90YXJnZXRPcmlnaW47XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCBkYXRhT2JqID0gZGF0YTtcbiAgICAgIGlmICh0eXBlb2YgZGF0YU9iai5kYXRhID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IGRhdGFPYmpEYXRhID0gZGF0YU9iai5kYXRhO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhT2JqRGF0YS5wYXJhbXMpICYmIGRhdGFPYmpEYXRhLnBhcmFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZGF0YU9iakRhdGFQYXJhbSA9IGRhdGFPYmpEYXRhLnBhcmFtc1swXTtcbiAgICAgICAgICBpZiAoZGF0YU9iakRhdGFQYXJhbS5fb3JpZ2luKSB7XG4gICAgICAgICAgICBvcmlnaW5Db25zdHJhaW50ID0gZGF0YU9iakRhdGFQYXJhbS5fb3JpZ2luO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGFkZCBhIGNvbnN0cmFpbnQgZm9yIHRoZSByZXNwb25zZVxuICAgICAgICAgIGRhdGFPYmpEYXRhUGFyYW0uX29yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fdGFyZ2V0V2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgIHRhcmdldDogdGhpcy5fdGFyZ2V0LFxuICAgICAgZGF0YVxuICAgIH0sIG9yaWdpbkNvbnN0cmFpbnQpO1xuICB9XG59XG5cbmV4cG9ydCB7IEJhc2VQb3N0TWVzc2FnZVN0cmVhbSwgSUdOT1JFX1NVQlNUUkVBTSwgSlJQQ0VuZ2luZSwgT2JqZWN0TXVsdGlwbGV4LCBQb3N0TWVzc2FnZVN0cmVhbSwgU2FmZUV2ZW50RW1pdHRlciwgU2VyaWFsaXphYmxlRXJyb3IsIFN1YnN0cmVhbSwgY3JlYXRlQXN5bmNNaWRkbGV3YXJlLCBjcmVhdGVFbmdpbmVTdHJlYW0sIGNyZWF0ZUVycm9yTWlkZGxld2FyZSwgY3JlYXRlSWRSZW1hcE1pZGRsZXdhcmUsIGNyZWF0ZUxvZ2dlck1pZGRsZXdhcmUsIGNyZWF0ZVNjYWZmb2xkTWlkZGxld2FyZSwgY3JlYXRlU3RyZWFtTWlkZGxld2FyZSwgZ2V0UnBjUHJvbWlzZUNhbGxiYWNrLCBtZXJnZU1pZGRsZXdhcmUsIHByb3ZpZGVyQXNNaWRkbGV3YXJlLCBwcm92aWRlckZyb21FbmdpbmUsIHByb3ZpZGVyRnJvbU1pZGRsZXdhcmUsIHNldHVwTXVsdGlwbGV4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVubG9naW5KcnBjLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfZGVmaW5lUHJvcGVydHkiLCJEdXBsZXgiLCJFdmVudEVtaXR0ZXIiLCJzdHJpbmdpZnkiLCJfb2JqZWN0U3ByZWFkIiwic2VyaWFsaXplRXJyb3IiLCJycGNFcnJvcnMiLCJlb3MiLCJvbmNlIiwicHVtcCIsIm5vb3AiLCJ1bmRlZmluZWQiLCJTWU4iLCJBQ0siLCJCUksiLCJCYXNlUG9zdE1lc3NhZ2VTdHJlYW0iLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJuYW1lIiwidGFyZ2V0IiwidGFyZ2V0V2luZG93Iiwid2luZG93IiwidGFyZ2V0T3JpZ2luIiwib2JqZWN0TW9kZSIsIkVycm9yIiwiX2luaXQiLCJfaGF2ZVN5biIsIl9uYW1lIiwiX3RhcmdldCIsIl90YXJnZXRXaW5kb3ciLCJfdGFyZ2V0T3JpZ2luIiwiX29uTWVzc2FnZSIsIm9uTWVzc2FnZSIsImJpbmQiLCJfc3luSW50ZXJ2YWxJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZFNoYWtlIiwiX2JyZWFrIiwiY29yayIsIl93cml0ZSIsIl9vbkRhdGEiLCJkYXRhIiwidW5jb3JrIiwicHVzaCIsImVyciIsImVtaXQiLCJfcG9zdE1lc3NhZ2UiLCJvcmlnaW5Db25zdHJhaW50IiwicG9zdE1lc3NhZ2UiLCJldmVudCIsIm1lc3NhZ2UiLCJvcmlnaW4iLCJzb3VyY2UiLCJfcmVhZCIsIl8iLCJjYiIsIl9kZXN0cm95IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNhZmVBcHBseSIsImhhbmRsZXIiLCJjb250ZXh0IiwiYXJncyIsIlJlZmxlY3QiLCJhcHBseSIsInNldFRpbWVvdXQiLCJhcnJheUNsb25lIiwiYXJyIiwibiIsImxlbmd0aCIsImNvcHkiLCJBcnJheSIsImkiLCJTYWZlRXZlbnRFbWl0dGVyIiwidHlwZSIsImRvRXJyb3IiLCJldmVudHMiLCJfZXZlbnRzIiwiZXJyb3IiLCJfbGVuIiwiYXJndW1lbnRzIiwiX2tleSIsImVyIiwibGVuIiwibGlzdGVuZXJzIiwiU2VyaWFsaXphYmxlRXJyb3IiLCJjb2RlIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwidG9TdHJpbmciLCJzdGFjayIsImdldFJwY1Byb21pc2VDYWxsYmFjayIsInJlc29sdmUiLCJyZWplY3QiLCJ1bndyYXBSZXN1bHQiLCJyZXNwb25zZSIsImlzQXJyYXkiLCJyZXN1bHQiLCJjcmVhdGVFcnJvck1pZGRsZXdhcmUiLCJsb2ciLCJyZXEiLCJyZXMiLCJuZXh0IiwiZW5kIiwibWV0aG9kIiwiZG9uZSIsImNyZWF0ZVN0cmVhbU1pZGRsZXdhcmUiLCJpZE1hcCIsInJlYWROb29wIiwicHJvY2Vzc1Jlc3BvbnNlIiwiaWQiLCJPYmplY3QiLCJhc3NpZ24iLCJwcm9jZXNzTm90aWZpY2F0aW9uIiwicHJvY2Vzc01lc3NhZ2UiLCJfZW5jb2RpbmciLCJpc05vdGlmaWNhdGlvbiIsIl9lcnIiLCJzdHJlYW0iLCJyZWFkIiwid3JpdGUiLCJtaWRkbGV3YXJlIiwiY3JlYXRlU2NhZmZvbGRNaWRkbGV3YXJlIiwiaGFuZGxlcnMiLCJjcmVhdGVJZFJlbWFwTWlkZGxld2FyZSIsIl9lbmQiLCJvcmlnaW5hbElkIiwibmV3SWQiLCJNYXRoIiwicmFuZG9tIiwic2xpY2UiLCJjcmVhdGVMb2dnZXJNaWRkbGV3YXJlIiwibG9nZ2VyIiwiZGVidWciLCJjcmVhdGVBc3luY01pZGRsZXdhcmUiLCJhc3luY01pZGRsZXdhcmUiLCJyZXNvbHZlTmV4dFByb21pc2UiLCJuZXh0UHJvbWlzZSIsIlByb21pc2UiLCJyZXR1cm5IYW5kbGVyQ2FsbGJhY2siLCJuZXh0V2FzQ2FsbGVkIiwiYXN5bmNOZXh0IiwicnVuUmV0dXJuSGFuZGxlcnNDYWxsYmFjayIsIkpSUENFbmdpbmUiLCJfbWlkZGxld2FyZSIsIl9ydW5BbGxNaWRkbGV3YXJlIiwibWlkZGxld2FyZVN0YWNrIiwicmV0dXJuSGFuZGxlcnMiLCJpc0NvbXBsZXRlIiwiX3J1bk1pZGRsZXdhcmUiLCJyZXZlcnNlIiwicmV0dXJuSGFuZGxlciIsIl9ydW5SZXR1cm5IYW5kbGVycyIsIl9jaGVja0ZvckNvbXBsZXRpb24iLCJfcmVxIiwiaGFuZGxlIiwiX2hhbmRsZUJhdGNoIiwiX2hhbmRsZSIsIl9wcm9taXNlSGFuZGxlIiwiYXNNaWRkbGV3YXJlIiwibWlkZGxld2FyZUVycm9yIiwiaGFuZGxlckNhbGxiYWNrIiwicmVxcyIsInJlc3BvbnNlcyIsImFsbCIsIm1hcCIsImNhbGxlclJlcSIsImpzb25ycGMiLCJfcHJvY2Vzc1JlcXVlc3QiLCJfZXJyb3IiLCJtZXJnZU1pZGRsZXdhcmUiLCJlbmdpbmUiLCJmb3JFYWNoIiwiY3JlYXRlRW5naW5lU3RyZWFtIiwib3B0cyIsIm9uIiwicHJvdmlkZXJGcm9tRW5naW5lIiwicHJvdmlkZXIiLCJzZW5kQXN5bmMiLCJfcmVzJGVycm9yIiwiX3JlcyRlcnJvcjIiLCJmYWxsYmFja0Vycm9yIiwiaW50ZXJuYWwiLCJzZW5kIiwiY2FsbGJhY2siLCJyZXF1ZXN0IiwicHJvdmlkZXJGcm9tTWlkZGxld2FyZSIsInByb3ZpZGVyQXNNaWRkbGV3YXJlIiwiX25leHQiLCJwcm92aWRlclJlcyIsIlN1YnN0cmVhbSIsInBhcmVudCIsIl9wYXJlbnQiLCJjaHVuayIsIklHTk9SRV9TVUJTVFJFQU0iLCJTeW1ib2wiLCJPYmplY3RNdWx0aXBsZXgiLCJfc3Vic3RyZWFtcyIsImNyZWF0ZVN0cmVhbSIsInN1YnN0cmVhbSIsImFueVN0cmVhbUVuZCIsImRlc3Ryb3kiLCJpZ25vcmVTdHJlYW0iLCJjb25zb2xlIiwid2FybiIsIl9jYiIsInJlYWRhYmxlIiwid3JpdGFibGUiLCJzZXR1cE11bHRpcGxleCIsIm11eCIsImdldFN0cmVhbSIsInN0cmVhbUhlbHBlciIsIlBvc3RNZXNzYWdlU3RyZWFtIiwiZGF0YU9iaiIsImRhdGFPYmpEYXRhIiwicGFyYW1zIiwiZGF0YU9iakRhdGFQYXJhbSIsIl9vcmlnaW4iLCJsb2NhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/solana-embed/node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/torus-embed/dist/torus.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/@toruslabs/torus-embed/dist/torus.esm.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BUTTON_POSITION: () => (/* binding */ BUTTON_POSITION),\n/* harmony export */   PAYMENT_PROVIDER: () => (/* binding */ PAYMENT_PROVIDER),\n/* harmony export */   SUPPORTED_PAYMENT_NETWORK: () => (/* binding */ SUPPORTED_PAYMENT_NETWORK),\n/* harmony export */   TORUS_BUILD_ENV: () => (/* binding */ TORUS_BUILD_ENV),\n/* harmony export */   TorusInpageProvider: () => (/* binding */ TorusInpageProvider),\n/* harmony export */   WALLET_OPENLOGIN_VERIFIER_MAP: () => (/* binding */ WALLET_OPENLOGIN_VERIFIER_MAP),\n/* harmony export */   WALLET_VERIFIERS: () => (/* binding */ WALLET_VERIFIERS),\n/* harmony export */   \"default\": () => (/* binding */ Torus)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @toruslabs/http-helpers */ \"(ssr)/./node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js\");\n/* harmony import */ var _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @toruslabs/openlogin-jrpc */ \"(ssr)/./node_modules/@toruslabs/torus-embed/node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js\");\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash.merge */ \"(ssr)/./node_modules/lodash.merge/index.js\");\n/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @metamask/rpc-errors */ \"(ssr)/./node_modules/@metamask/rpc-errors/dist/index.js\");\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! fast-deep-equal */ \"(ssr)/./node_modules/fast-deep-equal/index.js\");\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! pump */ \"(ssr)/./node_modules/pump/index.js\");\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(pump__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! loglevel */ \"(ssr)/./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\nconst WALLET_VERIFIERS = {\n    GOOGLE: \"google\",\n    FACEBOOK: \"facebook\",\n    TWITCH: \"twitch\",\n    REDDIT: \"reddit\",\n    DISCORD: \"discord\",\n    EMAIL_PASSWORDLESS: \"torus-auth0-email-passwordless\"\n};\nconst WALLET_OPENLOGIN_VERIFIER_MAP = {\n    [WALLET_VERIFIERS.GOOGLE]: \"tkey-google\",\n    [WALLET_VERIFIERS.FACEBOOK]: \"tkey-facebook\",\n    [WALLET_VERIFIERS.TWITCH]: \"tkey-twitch\",\n    [WALLET_VERIFIERS.REDDIT]: \"tkey-reddit\",\n    [WALLET_VERIFIERS.DISCORD]: \"tkey-discord\",\n    [WALLET_VERIFIERS.EMAIL_PASSWORDLESS]: \"tkey-auth0-email-passwordless\"\n};\nconst PAYMENT_PROVIDER = {\n    MOONPAY: \"moonpay\",\n    WYRE: \"wyre\",\n    RAMPNETWORK: \"rampnetwork\",\n    XANPOOL: \"xanpool\",\n    MERCURYO: \"mercuryo\",\n    TRANSAK: \"transak\",\n    BANXA: \"banxa\"\n};\nconst SUPPORTED_PAYMENT_NETWORK = {\n    MAINNET: \"mainnet\",\n    MATIC: \"matic\",\n    BSC_MAINNET: \"bsc_mainnet\",\n    AVALANCHE_MAINNET: \"avalanche_mainnet\",\n    XDAI: \"xdai\",\n    ARBITRUM_MAINNET: \"arbitrum_mainnet\",\n    OPTIMISM_MAINNET: \"optimism_mainnet\"\n};\nconst TORUS_BUILD_ENV = {\n    PRODUCTION: \"production\",\n    DEVELOPMENT: \"development\",\n    BINANCE: \"binance\",\n    TESTING: \"testing\",\n    LRC: \"lrc\",\n    BETA: \"beta\",\n    BNB: \"bnb\",\n    POLYGON: \"polygon\",\n    ALPHA: \"alpha\"\n};\nconst BUTTON_POSITION = {\n    BOTTOM_LEFT: \"bottom-left\",\n    TOP_LEFT: \"top-left\",\n    BOTTOM_RIGHT: \"bottom-right\",\n    TOP_RIGHT: \"top-right\"\n};\n/**\n * From https://min-api.cryptocompare.com/data/v2/pair/mapping/fsym?fsym=BTC&extraParams=YourSite\n * GET https://min-api.cryptocompare.com/data/v2/pair/mapping/fsym?fsym=BTC\n * Then map over returned entries, picking tsym\n *\n * Last updated: Date of commit\n */ const CRYPTO_COMPARE_CURRENCIES = [\n    \"ETH\",\n    \"USDT\",\n    \"USDC\",\n    \"TUSD\",\n    \"EOSDT\",\n    \"USD\",\n    \"DAI\",\n    \"GUSD\",\n    \"DKKT\",\n    \"PAX\",\n    \"ILS\",\n    \"RUB\",\n    \"BYN\",\n    \"EUR\",\n    \"GBP\",\n    \"JPY\",\n    \"KRW\",\n    \"PLN\",\n    \"MXN\",\n    \"AUD\",\n    \"BRL\",\n    \"CAD\",\n    \"CHF\",\n    \"KPW\",\n    \"LAK\",\n    \"LBP\",\n    \"LKR\",\n    \"XOF\",\n    \"CNHT\",\n    \"DOGE\",\n    \"UAH\",\n    \"TRY\",\n    \"HKD\",\n    \"XJP\",\n    \"SGD\",\n    \"USC\",\n    \"NZD\",\n    \"NGN\",\n    \"RUR\",\n    \"COP\",\n    \"GHS\",\n    \"EGP\",\n    \"IDR\",\n    \"BHD\",\n    \"CRC\",\n    \"PEN\",\n    \"AED\",\n    \"DOP\",\n    \"PKR\",\n    \"HUF\",\n    \"VND\",\n    \"XAR\",\n    \"LTC\",\n    \"RON\",\n    \"OMR\",\n    \"MYR\",\n    \"DKK\",\n    \"UGX\",\n    \"ZMW\",\n    \"SAR\",\n    \"SEK\",\n    \"GEL\",\n    \"RWF\",\n    \"IRR\",\n    \"TZS\",\n    \"CNY\",\n    \"VEF\",\n    \"BDT\",\n    \"HRK\",\n    \"CLP\",\n    \"THB\",\n    \"XAF\",\n    \"ARS\",\n    \"UYU\",\n    \"SZL\",\n    \"KZT\",\n    \"NOK\",\n    \"KES\",\n    \"PAB\",\n    \"INR\",\n    \"CZK\",\n    \"MAD\",\n    \"TWD\",\n    \"PHP\",\n    \"ZAR\",\n    \"BOB\",\n    \"CDF\",\n    \"DASH\",\n    \"VES\",\n    \"ISK\",\n    \"MWK\",\n    \"BAM\",\n    \"TTD\",\n    \"XRP\",\n    \"JOD\",\n    \"RSD\",\n    \"HNL\",\n    \"BGN\",\n    \"GTQ\",\n    \"BWP\",\n    \"XMR\",\n    \"MMK\",\n    \"QAR\",\n    \"AOA\",\n    \"KWD\",\n    \"MUR\",\n    \"WUSD\",\n    \"WEUR\",\n    \"WAVES\",\n    \"WTRY\",\n    \"LRD\",\n    \"LSL\",\n    \"LYD\",\n    \"AWG\",\n    \"MDL\",\n    \"BTO\",\n    \"EURS\",\n    \"CHFT\",\n    \"MKD\",\n    \"MNT\",\n    \"MOP\",\n    \"MRO\",\n    \"MVR\",\n    \"VOLLAR\",\n    \"CKUSD\",\n    \"KHR\",\n    \"VUV\",\n    \"BITCNY\",\n    \"QC\",\n    \"BBD\",\n    \"NAD\",\n    \"NPR\",\n    \"PGK\",\n    \"PYG\",\n    \"BIF\",\n    \"BMD\",\n    \"BND\",\n    \"XLM\",\n    \"BNB\",\n    \"SCR\",\n    \"BAT\",\n    \"CRO\",\n    \"HT\",\n    \"KCS\",\n    \"LEO\",\n    \"LINK\",\n    \"MKR\",\n    \"NPXS\",\n    \"OMG\",\n    \"REP\",\n    \"ZB\",\n    \"ZIL\",\n    \"ZRX\",\n    \"BCH\",\n    \"BZD\",\n    \"CUP\",\n    \"CVE\",\n    \"DJF\",\n    \"DZD\",\n    \"ERN\",\n    \"ETB\",\n    \"FJD\",\n    \"FKP\",\n    \"BUSD\",\n    \"ANCT\",\n    \"ALL\",\n    \"AMD\",\n    \"ANG\",\n    \"CNYX\",\n    \"IQD\",\n    \"UZS\",\n    \"TND\",\n    \"GGP\",\n    \"XAU\",\n    \"KGS\",\n    \"GIP\",\n    \"JMD\",\n    \"ZEC\",\n    \"USDP\",\n    \"BSV\",\n    \"EMC2\",\n    \"SNT\",\n    \"GTO\",\n    \"POWR\",\n    \"EUSD\",\n    \"EURT\",\n    \"BCY\",\n    \"BTS\",\n    \"ATM\",\n    \"BLOCKPAY\",\n    \"ARDR\",\n    \"AMP\",\n    \"B2X\",\n    \"BITGOLD\",\n    \"BITEUR\",\n    \"ATB\",\n    \"BITUSD\",\n    \"AGRS\",\n    \"DFXT\",\n    \"HIKEN\",\n    \"BIX\",\n    \"KNC\",\n    \"EOS\",\n    \"COB\",\n    \"COSS\",\n    \"BMH\",\n    \"NANO\",\n    \"BDG\",\n    \"BNT\",\n    \"XVG\",\n    \"LKK1Y\",\n    \"LKK\",\n    \"USDK\",\n    \"EURN\",\n    \"NZDT\",\n    \"JSE\",\n    \"GMD\",\n    \"GNF\",\n    \"GYD\",\n    \"YER\",\n    \"XPF\",\n    \"HTG\",\n    \"SLL\",\n    \"SOS\",\n    \"WST\",\n    \"SVC\",\n    \"SYP\",\n    \"NEO\",\n    \"KMF\",\n    \"JUMP\",\n    \"AYA\",\n    \"BLAST\",\n    \"WGR\",\n    \"BCN\",\n    \"BTG\",\n    \"URALS\",\n    \"INN\",\n    \"USDQ\",\n    \"CNH\",\n    \"HUSD\",\n    \"BKRW\",\n    \"NZDX\",\n    \"EURX\",\n    \"CADX\",\n    \"USDEX\",\n    \"JPYX\",\n    \"AUDX\",\n    \"VNDC\",\n    \"EON\",\n    \"GBPX\",\n    \"CHFX\",\n    \"USDJ\",\n    \"IDRT\",\n    \"USDS\",\n    \"USDN\",\n    \"BIDR\",\n    \"IDK\",\n    \"BSD\",\n    \"BTN\",\n    \"KYD\",\n    \"NIO\",\n    \"SBD\",\n    \"SDG\",\n    \"SHP\",\n    \"TOP\",\n    \"XCD\",\n    \"XCHF\",\n    \"CNYT\",\n    \"GYEN\",\n    \"ZUSD\",\n    \"GOLD\",\n    \"TRX\",\n    \"TRYB\",\n    \"PLATC\",\n    \"STRAX\",\n    \"UST\",\n    \"GLM\",\n    \"VAI\",\n    \"BRZ\",\n    \"DDRST\",\n    \"XAUT\",\n    \"MIM\"\n];\n/**\n * currencies supported by the payment provider\n * Last updated: Date of commit\n */ const PROVIDER_SUPPORTED_FIAT_CURRENCIES = {\n    // https://integrations.simplex.com/supported_currencies\n    // https://support.moonpay.com/hc/en-gb/articles/360011931457-Which-fiat-currencies-are-supported-\n    [PAYMENT_PROVIDER.MOONPAY]: [\n        \"AUD\",\n        \"BGN\",\n        \"BRL\",\n        \"CAD\",\n        \"CHF\",\n        \"CNY\",\n        \"COP\",\n        \"CZK\",\n        \"DKK\",\n        \"DOP\",\n        \"EGP\",\n        \"EUR\",\n        \"GBP\",\n        \"HKD\",\n        \"HRK\",\n        \"IDR\",\n        \"ILS\",\n        \"JPY\",\n        \"JOD\",\n        \"KES\",\n        \"KRW\",\n        \"KWD\",\n        \"LKR\",\n        \"MAD\",\n        \"MXN\",\n        \"MYR\",\n        \"NGN\",\n        \"NOK\",\n        \"NZD\",\n        \"OMR\",\n        \"PEN\",\n        \"PKR\",\n        \"PLN\",\n        \"RON\",\n        \"RUB\",\n        \"SEK\",\n        \"SGD\",\n        \"THB\",\n        \"TRY\",\n        \"TWD\",\n        \"USD\",\n        \"VND\",\n        \"ZAR\"\n    ],\n    /**\n   * https://docs.sendwyre.com/docs/supported-currencies#fiat\n   * The ones where credit card is supported\n   */ [PAYMENT_PROVIDER.WYRE]: [\n        \"USD\",\n        \"EUR\",\n        \"GBP\",\n        \"AUD\",\n        \"CAD\",\n        \"NZD\",\n        \"CNY\",\n        \"ARS\",\n        \"BRL\",\n        \"CHF\",\n        \"CLP\",\n        \"COP\",\n        \"CZK\",\n        \"DKK\",\n        \"HKD\",\n        \"ILS\",\n        \"INR\",\n        \"ISK\",\n        \"JPY\",\n        \"KRW\",\n        \"MXN\",\n        \"MYR\",\n        \"NOK\",\n        \"PHP\",\n        \"PLN\",\n        \"SEK\",\n        \"SGD\",\n        \"THB\",\n        \"VND\",\n        \"ZAR\"\n    ],\n    // https://support.ramp.network/en/articles/471-supported-fiat-currencies\n    [PAYMENT_PROVIDER.RAMPNETWORK]: [\n        \"USD\",\n        \"EUR\",\n        \"GBP\",\n        \"BMD\",\n        \"BAM\",\n        \"BWP\",\n        \"BRL\",\n        \"BGN\",\n        \"COP\",\n        \"CRC\",\n        \"CZK\",\n        \"DKK\",\n        \"DOP\",\n        \"GEL\",\n        \"GTQ\",\n        \"HNL\",\n        \"HUF\",\n        \"ISK\",\n        \"INR\",\n        \"ILS\",\n        \"KZT\",\n        \"KES\",\n        \"KWD\",\n        \"LAK\",\n        \"MKD\",\n        \"MYR\",\n        \"MXN\",\n        \"MDL\",\n        \"MZN\",\n        \"NZD\",\n        \"NGN\",\n        \"PYG\",\n        \"PEN\",\n        \"PLN\",\n        \"RON\",\n        \"RSD\",\n        \"SGD\",\n        \"ZAR\",\n        \"LKR\",\n        \"SEK\",\n        \"CHF\",\n        \"TJS\",\n        \"THB\",\n        \"UYU\"\n    ],\n    // From https://xanpool.com/ fiat select dropdown\n    [PAYMENT_PROVIDER.XANPOOL]: [\n        \"SGD\",\n        \"HKD\",\n        \"THB\",\n        \"PHP\",\n        \"INR\",\n        \"IDR\",\n        \"MYR\",\n        \"AUD\",\n        \"NZD\",\n        \"KRW\"\n    ],\n    // https://help.mercuryo.io/en/articles/6121246-which-fiat-currencies-are-supported\n    // RUB / UAH currently not supported\n    [PAYMENT_PROVIDER.MERCURYO]: [\n        \"EUR\",\n        \"USD\",\n        \"GBP\",\n        \"TRY\",\n        \"JPY\",\n        \"BRL\",\n        \"NGN\",\n        \"VND\",\n        \"MXN\",\n        \"KRW\",\n        \"PLN\",\n        \"SEK\",\n        \"CHF\",\n        \"CAD\",\n        \"CZK\",\n        \"DKK\",\n        \"BGN\",\n        \"HKD\",\n        \"AUD\",\n        \"INR\"\n    ],\n    /**\n   * https://support.transak.com/hc/en-us/articles/360020615578-Credit-and-Debit-Card-Payments-through-Transak\n   * or\n   * https://transak.stoplight.io/docs/transak-docs/b3A6OTk1ODQ0-2-get-fiat-currencies\n   */ [PAYMENT_PROVIDER.TRANSAK]: [\n        \"ARS\",\n        \"AUD\",\n        \"BBD\",\n        \"BGN\",\n        \"BMD\",\n        \"BRL\",\n        \"CAD\",\n        \"CHF\",\n        \"CLP\",\n        \"CRC\",\n        \"CZK\",\n        \"DKK\",\n        \"DOP\",\n        \"EUR\",\n        \"FJD\",\n        \"FKP\",\n        \"GBP\",\n        \"GIP\",\n        \"HRK\",\n        \"HUF\",\n        \"IDR\",\n        \"ILS\",\n        \"ISK\",\n        \"JMD\",\n        \"JPY\",\n        \"KES\",\n        \"KRW\",\n        \"MDL\",\n        \"MXN\",\n        \"MYR\",\n        \"NOK\",\n        \"NZD\",\n        \"PEN\",\n        \"PHP\",\n        \"PLN\",\n        \"PYG\",\n        \"RON\",\n        \"SEK\",\n        \"SGD\",\n        \"THB\",\n        \"TRY\",\n        \"TZS\",\n        \"USD\",\n        \"ZAR\"\n    ],\n    [PAYMENT_PROVIDER.BANXA]: [\n        \"AUD\",\n        \"CAD\",\n        \"CZK\",\n        \"DKK\",\n        \"EUR\",\n        \"GBP\",\n        \"HKD\",\n        \"JPY\",\n        \"NOK\",\n        \"NZD\",\n        \"NZD\",\n        \"PLN\",\n        \"RUB\",\n        \"SEK\",\n        \"SGD\",\n        \"TRY\",\n        \"USD\"\n    ]\n};\nconst cryptoCompareCurrenciesSet = new Set(CRYPTO_COMPARE_CURRENCIES);\n/**\n * Fiat currencies that we support\n */ function supportedFiatCurrencies(provider) {\n    const providerSupportedFiatCurrencies = PROVIDER_SUPPORTED_FIAT_CURRENCIES[provider];\n    return providerSupportedFiatCurrencies.filter((currency)=>cryptoCompareCurrenciesSet.has(currency));\n}\nconst paymentProviders$1 = {\n    [PAYMENT_PROVIDER.MOONPAY]: {\n        line1: \"Credit/ Debit Card/ Apple Pay\",\n        line2: \"4.5% or 5 USD\",\n        line3: \"2,000€/day, 10,000€/mo\",\n        supportPage: \"https://help.moonpay.io/en/\",\n        minOrderValue: 24.99,\n        maxOrderValue: 50000,\n        validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.MOONPAY),\n        validCryptoCurrenciesByChain: {\n            [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n                {\n                    value: \"aave\",\n                    display: \"AAVE\"\n                },\n                {\n                    value: \"bat\",\n                    display: \"BAT\"\n                },\n                {\n                    value: \"dai\",\n                    display: \"DAI\"\n                },\n                {\n                    value: \"eth\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"mkr\",\n                    display: \"MKR\"\n                },\n                {\n                    value: \"matic\",\n                    display: \"MATIC\"\n                },\n                {\n                    value: \"usdt\",\n                    display: \"USDT\"\n                },\n                {\n                    value: \"uni\",\n                    display: \"UNI\"\n                },\n                {\n                    value: \"usdc\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"weth\",\n                    display: \"WETH\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n                {\n                    value: \"eth_polygon\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"matic_polygon\",\n                    display: \"MATIC\"\n                },\n                {\n                    value: \"usdc_polygon\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"usdt_polygon\",\n                    display: \"USDT\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n                {\n                    value: \"bnb_bsc\",\n                    display: \"BNB\"\n                },\n                {\n                    value: \"busd_bsc\",\n                    display: \"BUSD\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [\n                {\n                    value: \"avax_cchain\",\n                    display: \"AVAX\"\n                },\n                {\n                    value: \"usdc_cchain\",\n                    display: \"USDC\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.ARBITRUM_MAINNET]: [\n                {\n                    value: \"eth_arbitrum\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"usdc_arbitrum\",\n                    display: \"USDC\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.OPTIMISM_MAINNET]: [\n                {\n                    value: \"eth_optimism\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"usdc_optimism\",\n                    display: \"USDC\"\n                }\n            ]\n        },\n        includeFees: true,\n        api: true,\n        enforceMax: false\n    },\n    [PAYMENT_PROVIDER.WYRE]: {\n        line1: \"Apple Pay/ Debit/ Credit Card\",\n        line2: \"4.9% + 30\\xa2 or 5 USD\",\n        line3: \"$250/day\",\n        supportPage: \"https://support.sendwyre.com/en/\",\n        minOrderValue: 5,\n        maxOrderValue: 500,\n        validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.WYRE),\n        validCryptoCurrenciesByChain: {\n            [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n                {\n                    value: \"AAVE\",\n                    display: \"AAVE\"\n                },\n                {\n                    value: \"COMP\",\n                    display: \"COMP\"\n                },\n                {\n                    value: \"BAT\",\n                    display: \"BAT\"\n                },\n                {\n                    value: \"BUSD\",\n                    display: \"BUSD\"\n                },\n                {\n                    value: \"DAI\",\n                    display: \"DAI\"\n                },\n                {\n                    value: \"ETH\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"WBTC\",\n                    display: \"WBTC\"\n                },\n                {\n                    value: \"MKR\",\n                    display: \"MKR\"\n                },\n                {\n                    value: \"UNI\",\n                    display: \"UNI\"\n                },\n                {\n                    value: \"WETH\",\n                    display: \"WETH\"\n                },\n                {\n                    value: \"USDC\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"USDT\",\n                    display: \"USDT\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n                {\n                    value: \"mUSDC\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"MATIC\",\n                    display: \"MATIC\"\n                },\n                {\n                    value: \"MWETH\",\n                    display: \"WETH\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [\n                {\n                    value: \"AVAXC\",\n                    display: \"AVAX\"\n                },\n                {\n                    value: \"AVAXCUSDC\",\n                    display: \"USDC\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n                {\n                    value: \"BNB\",\n                    display: \"BNB\"\n                },\n                {\n                    value: \"BBUSD\",\n                    display: \"BUSD\"\n                }\n            ]\n        },\n        includeFees: false,\n        api: true,\n        enforceMax: false\n    },\n    [PAYMENT_PROVIDER.RAMPNETWORK]: {\n        line1: \"Debit Card/ <br>Apple Pay/ Bank transfer\",\n        line2: \"0.49% - 2.9%\",\n        line3: \"5,000€/purchase, 20,000€/mo\",\n        supportPage: \"https://instant.ramp.network/\",\n        minOrderValue: 50,\n        maxOrderValue: 20000,\n        validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.RAMPNETWORK),\n        validCryptoCurrenciesByChain: {\n            [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n                {\n                    value: \"ETH\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"DAI\",\n                    display: \"DAI\"\n                },\n                {\n                    value: \"BAT\",\n                    display: \"BAT\"\n                },\n                {\n                    value: \"USDC\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"USDT\",\n                    display: \"USDT\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n                {\n                    value: \"MATIC_BAT\",\n                    display: \"BAT\"\n                },\n                {\n                    value: \"MATIC_DAI\",\n                    display: \"DAI\"\n                },\n                {\n                    value: \"MATIC_MATIC\",\n                    display: \"MATIC\"\n                },\n                {\n                    value: \"MATIC_USDC\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"MATIC_USDT\",\n                    display: \"USDT\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [\n                {\n                    value: \"AVAX_AVAX\",\n                    display: \"AVAX\"\n                },\n                {\n                    value: \"AVAX_USDC\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"AVAX_USDT\",\n                    display: \"USDT\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.ARBITRUM_MAINNET]: [\n                {\n                    value: \"ARBITRUM_ETH\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"ARBITRUM_USDC.e\t\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"ARBITRUM_USDT\",\n                    display: \"USDT\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.OPTIMISM_MAINNET]: [\n                {\n                    value: \"OPTIMISM_DAI\",\n                    display: \"DAI\"\n                },\n                {\n                    value: \"OPTIMISM_OPTIMISM\",\n                    display: \"OPTIMISM\"\n                },\n                {\n                    value: \"OPTIMISM_USDC\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"OPTIMISM_USDT\",\n                    display: \"USDT\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n                {\n                    value: \"BSC_BNB\",\n                    display: \"BNB\"\n                },\n                {\n                    value: \"BSC_BUSD\",\n                    display: \"BUSD\"\n                }\n            ]\n        },\n        includeFees: true,\n        api: true,\n        receiveHint: \"walletTopUp.receiveHintRamp\",\n        enforceMax: false\n    },\n    [PAYMENT_PROVIDER.XANPOOL]: {\n        line1: \"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow\",\n        line2: \"2.5% buying, 3% selling\",\n        line3: \"$2,500 / day\",\n        supportPage: \"mailto:support@xanpool.com\",\n        minOrderValue: 100,\n        maxOrderValue: 2500,\n        validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.XANPOOL),\n        validCryptoCurrenciesByChain: {\n            [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n                {\n                    value: \"ETH\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"USDT\",\n                    display: \"USDT\"\n                },\n                {\n                    value: \"USDC\",\n                    display: \"USDC\"\n                }\n            ]\n        },\n        includeFees: true,\n        api: true,\n        sell: true,\n        enforceMax: false\n    },\n    [PAYMENT_PROVIDER.MERCURYO]: {\n        line1: \"Credit/ Debit Card/ Apple Pay\",\n        line2: \"3.95% or 4 USD\",\n        line3: \"10,000€/day, 25,000€/mo\",\n        supportPage: \"mailto:support@mercuryo.io\",\n        minOrderValue: 30,\n        maxOrderValue: 5000,\n        validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.MERCURYO),\n        validCryptoCurrenciesByChain: {\n            [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n                {\n                    value: \"ETH\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"BAT\",\n                    display: \"BAT\"\n                },\n                {\n                    value: \"USDT\",\n                    display: \"USDT\"\n                },\n                {\n                    value: \"DAI\",\n                    display: \"DAI\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n                {\n                    value: \"BNB\",\n                    display: \"BNB\"\n                },\n                {\n                    value: \"BUSD\",\n                    display: \"BUSD\"\n                },\n                {\n                    value: \"1INCH\",\n                    display: \"1INCH\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [\n                {\n                    value: \"AVAX\",\n                    display: \"AVAX\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n                {\n                    value: \"MATIC\",\n                    display: \"MATIC\"\n                }\n            ]\n        },\n        includeFees: true,\n        api: true,\n        enforceMax: false\n    },\n    [PAYMENT_PROVIDER.TRANSAK]: {\n        line1: \"Apple & Google Pay / Credit/Debit Card<br/>Bangkok Bank Mobile & iPay<br/>Bank Transfer (sepa/gbp) / SCB Mobile & Easy\",\n        line2: \"0.99% - 5.5% or 5 USD\",\n        line3: \"$5,000/day, $28,000/mo\",\n        supportPage: \"https://support.transak.com/hc/en-US\",\n        minOrderValue: 30,\n        maxOrderValue: 500,\n        validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.TRANSAK),\n        validCryptoCurrenciesByChain: {\n            [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n                {\n                    value: \"1INCH\",\n                    display: \"1INCH\"\n                },\n                {\n                    value: \"BAT\",\n                    display: \"BAT\"\n                },\n                {\n                    value: \"AAVE\",\n                    display: \"AAVE\"\n                },\n                {\n                    value: \"DAI\",\n                    display: \"DAI\"\n                },\n                {\n                    value: \"ETH\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"USDC\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"USDT\",\n                    display: \"USDT\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n                {\n                    value: \"BAT\",\n                    display: \"BAT\"\n                },\n                {\n                    value: \"AAVE\",\n                    display: \"AAVE\"\n                },\n                {\n                    value: \"DAI\",\n                    display: \"DAI\"\n                },\n                {\n                    value: \"MATIC\",\n                    display: \"MATIC\"\n                },\n                {\n                    value: \"USDC\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"USDT\",\n                    display: \"USDT\"\n                },\n                {\n                    value: \"WETH\",\n                    display: \"WETH\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.BSC_MAINNET]: [\n                {\n                    value: \"BAT\",\n                    display: \"BAT\"\n                },\n                {\n                    value: \"BNB\",\n                    display: \"BNB\"\n                },\n                {\n                    value: \"BUSD\",\n                    display: \"BUSD\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.AVALANCHE_MAINNET]: [\n                {\n                    value: \"AVAX\",\n                    display: \"AVAX\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.OPTIMISM_MAINNET]: [\n                {\n                    value: \"ETH\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"USDC\",\n                    display: \"USDC\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.ARBITRUM_MAINNET]: [\n                {\n                    value: \"USDC\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"ETH\",\n                    display: \"ETH\"\n                }\n            ]\n        },\n        includeFees: true,\n        enforceMax: true\n    },\n    [PAYMENT_PROVIDER.BANXA]: {\n        line1: \"Debit Card/ <br>Apple Pay/ Bank transfer\",\n        line2: \"0.49% - 2.9%\",\n        line3: \"5,000€/purchase, 20,000€/mo\",\n        supportPage: \"https://support.banxa.com\",\n        minOrderValue: 20,\n        maxOrderValue: 15000,\n        validCurrencies: supportedFiatCurrencies(PAYMENT_PROVIDER.BANXA),\n        validCryptoCurrenciesByChain: {\n            [SUPPORTED_PAYMENT_NETWORK.MAINNET]: [\n                {\n                    value: \"ETH\",\n                    display: \"ETH\"\n                },\n                {\n                    value: \"DAI\",\n                    display: \"DAI\"\n                },\n                {\n                    value: \"MKR\",\n                    display: \"MKR\"\n                },\n                {\n                    value: \"USDT\",\n                    display: \"USDT\"\n                },\n                {\n                    value: \"BUSD\",\n                    display: \"BUSD\"\n                },\n                {\n                    value: \"USDC\",\n                    display: \"USDC\"\n                },\n                {\n                    value: \"BAT\",\n                    display: \"BAT\"\n                },\n                {\n                    value: \"AAVE\",\n                    display: \"AAVE\"\n                },\n                {\n                    value: \"COMP\",\n                    display: \"COMP\"\n                },\n                {\n                    value: \"UNI\",\n                    display: \"UNI\"\n                }\n            ],\n            [SUPPORTED_PAYMENT_NETWORK.MATIC]: [\n                {\n                    value: \"MATIC\",\n                    display: \"MATIC\"\n                }\n            ]\n        },\n        includeFees: true,\n        enforceMax: true\n    }\n};\nconst translations = {\n    en: {\n        embed: {\n            continue: \"Continue\",\n            actionRequired: \"Authorization required\",\n            pendingAction: \"Click continue to proceed with your request in a popup\",\n            cookiesRequired: \"Cookies Required\",\n            enableCookies: \"Please enable cookies in your browser preferences to access Torus\",\n            clickHere: \"More Info\"\n        }\n    },\n    de: {\n        embed: {\n            continue: \"Fortsetzen\",\n            actionRequired: \"Autorisierung erforderlich\",\n            pendingAction: \"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren\",\n            cookiesRequired: \"Cookies ben\\xf6tigt\",\n            enableCookies: \"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen\",\n            clickHere: \"Mehr Info\"\n        }\n    },\n    ja: {\n        embed: {\n            continue: \"継続する\",\n            actionRequired: \"認証が必要です\",\n            pendingAction: \"続行をクリックして、ポップアップでリクエストを続行します\",\n            cookiesRequired: \"必要なクッキー\",\n            enableCookies: \"Torusにアクセスするには、ブラウザの設定でCookieを有効にしてください。\",\n            clickHere: \"詳しくは\"\n        }\n    },\n    ko: {\n        embed: {\n            continue: \"계속하다\",\n            actionRequired: \"승인 필요\",\n            pendingAction: \"팝업에서 요청을 진행하려면 계속을 클릭하십시오.\",\n            cookiesRequired: \"쿠키 필요\",\n            enableCookies: \"브라우저 환경 설정에서 쿠키를 활성화하여 Torus에 액세스하십시오.\",\n            clickHere: \"더 많은 정보\"\n        }\n    },\n    zh: {\n        embed: {\n            continue: \"继续\",\n            actionRequired: \"需要授权\",\n            pendingAction: \"单击继续以在弹出窗口中继续您的请求\",\n            cookiesRequired: \"必填Cookie\",\n            enableCookies: \"请在您的浏览器首选项中启用cookie以访问Torus。\",\n            clickHere: \"更多信息\"\n        }\n    }\n};\nvar configuration = {\n    supportedVerifierList: Object.values(WALLET_VERIFIERS),\n    paymentProviders: paymentProviders$1,\n    api: \"https://api.tor.us\",\n    translations,\n    prodTorusUrl: \"\",\n    localStorageKeyPrefix: `torus-`\n};\nconst htmlToElement = (html)=>{\n    const template = window.document.createElement(\"template\");\n    const trimmedHtml = html.trim(); // Never return a text node of whitespace as the result\n    template.innerHTML = trimmedHtml;\n    return template.content.firstChild;\n};\nconst handleStream = (handle, eventName, handler)=>{\n    const handlerWrapper = (chunk)=>{\n        handler(chunk);\n        handle.removeListener(eventName, handlerWrapper);\n    };\n    handle.on(eventName, handlerWrapper);\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */ function isStream(stream) {\n    return stream !== null && typeof stream === \"object\" && typeof stream.pipe === \"function\";\n}\nfunction isWritableStream(stream) {\n    return isStream(stream) && stream.writable !== false && typeof stream._write === \"function\" && typeof stream._writableState === \"object\";\n}\nfunction isReadableStream(stream) {\n    return isStream(stream) && stream.readable !== false && typeof stream._read === \"function\" && typeof stream._readableState === \"object\";\n}\nfunction isDuplexStream(stream) {\n    return isWritableStream(stream) && isReadableStream(stream);\n}\nvar log = loglevel__WEBPACK_IMPORTED_MODULE_9___default().getLogger(\"torus-embed\");\nvar messages = {\n    errors: {\n        disconnected: ()=>\"Torus: Lost connection to Torus.\",\n        permanentlyDisconnected: ()=>\"Torus: Disconnected from iframe. Page reload required.\",\n        sendSiteMetadata: ()=>\"Torus: Failed to send site metadata. This is an internal error, please report this bug.\",\n        unsupportedSync: (method)=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${method} without a callback parameter.`,\n        invalidDuplexStream: ()=>\"Must provide a Node.js-style duplex stream.\",\n        invalidOptions: (maxEventListeners, shouldSendMetadata)=>`Invalid options. Received: { maxEventListeners: ${maxEventListeners}, shouldSendMetadata: ${shouldSendMetadata} }`,\n        invalidRequestArgs: ()=>`Expected a single, non-array, object argument.`,\n        invalidRequestMethod: ()=>`'args.method' must be a non-empty string.`,\n        invalidRequestParams: ()=>`'args.params' must be an object or array if provided.`,\n        invalidLoggerObject: ()=>`'args.logger' must be an object if provided.`,\n        invalidLoggerMethod: (method)=>`'args.logger' must include required method '${method}'.`\n    },\n    info: {\n        connected: (chainId)=>`Torus: Connected to chain with ID \"${chainId}\".`\n    },\n    warnings: {\n        // deprecated methods\n        enableDeprecation: 'Torus: \"\"ethereum.enable()\" is deprecated and may be removed in the future. ' + 'Please use \"ethereum.send(\"eth_requestAccounts\")\" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',\n        sendDeprecation: 'Torus: \"ethereum.send(...)\" is deprecated and may be removed in the future.' + ' Please use \"ethereum.sendAsync(...)\" or \"ethereum.request(...)\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193'\n    }\n};\nconst { paymentProviders } = configuration;\nconst validatePaymentProvider = (provider, params)=>{\n    const errors = {};\n    if (!provider) {\n        return {\n            errors,\n            isValid: true\n        };\n    }\n    if (provider && !paymentProviders[provider]) {\n        errors.provider = \"Invalid Provider\";\n        return {\n            errors,\n            isValid: Object.keys(errors).length === 0\n        };\n    }\n    const selectedProvider = paymentProviders[provider];\n    const selectedParams = params || {};\n    // set default values\n    // if (!selectedParams.selectedCurrency) [selectedParams.selectedCurrency] = selectedProvider.validCurrencies\n    // if (!selectedParams.fiatValue) selectedParams.fiatValue = selectedProvider.minOrderValue\n    // if (!selectedParams.selectedCryptoCurrency) [selectedParams.selectedCryptoCurrency] = selectedProvider.validCryptoCurrencies\n    // validations\n    if (selectedParams.fiatValue) {\n        const requestedOrderAmount = +parseFloat(selectedParams.fiatValue.toString()) || 0;\n        if (requestedOrderAmount < selectedProvider.minOrderValue) errors.fiatValue = \"Requested amount is lower than supported\";\n        if (requestedOrderAmount > selectedProvider.maxOrderValue && selectedProvider.enforceMax) errors.fiatValue = \"Requested amount is higher than supported\";\n    }\n    if (selectedParams.selectedCurrency && !selectedProvider.validCurrencies.includes(selectedParams.selectedCurrency)) {\n        errors.selectedCurrency = \"Unsupported currency\";\n    }\n    if (selectedParams.selectedCryptoCurrency) {\n        const validCryptoCurrenciesByChain = Object.values(selectedProvider.validCryptoCurrenciesByChain).flat().map((currency)=>currency.value);\n        const finalCryptoCurrency = provider === PAYMENT_PROVIDER.MOONPAY ? selectedParams.selectedCryptoCurrency.toLowerCase() : selectedParams.selectedCryptoCurrency;\n        if (validCryptoCurrenciesByChain && !validCryptoCurrenciesByChain.includes(finalCryptoCurrency)) errors.selectedCryptoCurrency = \"Unsupported cryptoCurrency\";\n    }\n    return {\n        errors,\n        isValid: Object.keys(errors).length === 0\n    };\n};\n// utility functions\n/**\n * json-rpc-engine middleware that logs RPC errors and and validates req.method.\n *\n * @param log - The logging API to use.\n * @returns  json-rpc-engine middleware function\n */ function createErrorMiddleware() {\n    return (req, res, next)=>{\n        // json-rpc-engine will terminate the request when it notices this error\n        if (typeof req.method !== \"string\" || !req.method) {\n            res.error = _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.rpcErrors.invalidRequest({\n                message: `The request 'method' must be a non-empty string.`,\n                data: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, req || {}), {}, {\n                    cause: \"The request 'method' must be a non-empty string.\"\n                })\n            });\n        }\n        next((done)=>{\n            const { error } = res;\n            if (!error) {\n                return done();\n            }\n            log.error(`MetaMask - RPC Error: ${error.message}`, error);\n            return done();\n        });\n    };\n}\n/**\n * Logs a stream disconnection error. Emits an 'error' if given an\n * EventEmitter that has listeners for the 'error' event.\n *\n * @param log - The logging API to use.\n * @param remoteLabel - The label of the disconnected stream.\n * @param error - The associated error to log.\n * @param emitter - The logging API to use.\n */ function logStreamDisconnectWarning(remoteLabel, error, emitter) {\n    let warningMsg = `MetaMask: Lost connection to \"${remoteLabel}\".`;\n    if (error !== null && error !== void 0 && error.stack) {\n        warningMsg += `\\n${error.stack}`;\n    }\n    log.warn(warningMsg);\n    if (emitter && emitter.listenerCount(\"error\") > 0) {\n        emitter.emit(\"error\", warningMsg);\n    }\n}\nconst getPreopenInstanceId = ()=>Math.random().toString(36).slice(2);\nconst getTorusUrl = async (buildEnv, integrity)=>{\n    let torusUrl;\n    let logLevel;\n    // Do not change this line\n    const version = \"4.0.8\";\n    let versionUsed = integrity.version || version;\n    try {\n        if ((buildEnv === \"binance\" || buildEnv === \"production\") && !integrity.version) {\n            let response;\n            if (!configuration.prodTorusUrl) response = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_3__.get)(`${configuration.api}/latestversion?name=@toruslabs/torus-embed&version=${version}`, {}, {\n                useAPIKey: true\n            });\n            else response = {\n                data: configuration.prodTorusUrl\n            };\n            versionUsed = response.data;\n            // eslint-disable-next-line require-atomic-updates\n            configuration.prodTorusUrl = response.data;\n        }\n    } catch (error) {\n        log.error(error, \"unable to fetch latest version\");\n    }\n    log.info(\"version used: \", versionUsed);\n    switch(buildEnv){\n        case \"binance\":\n            torusUrl = `https://binance.tor.us/v${versionUsed}`;\n            logLevel = \"info\";\n            break;\n        case \"testing\":\n            torusUrl = \"https://testing.tor.us\";\n            logLevel = \"debug\";\n            break;\n        case \"bnb\":\n            torusUrl = \"https://bnb.tor.us\";\n            logLevel = \"error\";\n            break;\n        case \"polygon\":\n            torusUrl = \"https://polygon.tor.us\";\n            logLevel = \"error\";\n            break;\n        case \"lrc\":\n            torusUrl = \"https://lrc.tor.us\";\n            logLevel = \"debug\";\n            break;\n        case \"beta\":\n            torusUrl = \"https://beta.tor.us\";\n            logLevel = \"debug\";\n            break;\n        case \"development\":\n            torusUrl = \"http://localhost:4050\";\n            logLevel = \"debug\";\n            break;\n        case \"alpha\":\n            torusUrl = \"https://alpha.tor.us\";\n            logLevel = \"debug\";\n            break;\n        default:\n            torusUrl = `https://app.tor.us/v${versionUsed}`;\n            logLevel = \"error\";\n            break;\n    }\n    return {\n        torusUrl,\n        logLevel\n    };\n};\nconst getUserLanguage = ()=>{\n    let userLanguage = window.navigator.language || \"en-US\";\n    const userLanguages = userLanguage.split(\"-\");\n    userLanguage = Object.prototype.hasOwnProperty.call(configuration.translations, userLanguages[0]) ? userLanguages[0] : \"en\";\n    return userLanguage;\n};\nconst EMITTED_NOTIFICATIONS = [\n    \"eth_subscription\" // per eth-json-rpc-filters/subscriptionManager\n];\nconst NOOP = ()=>{\n// empty function\n};\nconst FEATURES_PROVIDER_CHANGE_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375\";\nconst FEATURES_DEFAULT_WALLET_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315\";\nconst FEATURES_CONFIRM_WINDOW = \"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450\";\nfunction getPopupFeatures() {\n    // Fixes dual-screen position                             Most browsers      Firefox\n    const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n    const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n    const w = 1200;\n    const h = 700;\n    const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;\n    const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;\n    const systemZoom = 1; // No reliable estimate\n    const left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n    const top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n    const features = `titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${h / systemZoom},width=${w / systemZoom},top=${top},left=${left}`;\n    return features;\n}\n_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__.SafeEventEmitter.defaultMaxListeners = 100;\n// resolve response.result, reject errors\nconst getRpcPromiseCallback = function(resolve, reject) {\n    let unwrapResult = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    return (error, response)=>{\n        if (error || response.error) {\n            return reject(error || response.error);\n        }\n        return !unwrapResult || Array.isArray(response) ? resolve(response) : resolve(response.result);\n    };\n};\nclass TorusInpageProvider extends _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__.SafeEventEmitter {\n    constructor(connectionStream){\n        let { maxEventListeners = 100, shouldSendMetadata = true, jsonRpcStreamName = \"provider\" } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        super();\n        /**\n     * The chain ID of the currently connected Ethereum chain.\n     * See [chainId.network]{@link https://chainid.network} for more information.\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"chainId\", void 0);\n        /**\n     * The user's currently selected Ethereum address.\n     * If null, MetaMask is either locked or the user has not permitted any\n     * addresses to be viewed.\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"selectedAddress\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"_rpcEngine\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"networkVersion\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"shouldSendMetadata\", void 0);\n        /**\n     * Indicating that this provider is a MetaMask provider.\n     */ _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"isTorus\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"tryPreopenHandle\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"enable\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"_state\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"_jsonRpcConnection\", void 0);\n        if (!isDuplexStream(connectionStream)) {\n            throw new Error(messages.errors.invalidDuplexStream());\n        }\n        this.isTorus = true;\n        this.setMaxListeners(maxEventListeners);\n        // private state\n        this._state = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, TorusInpageProvider._defaultState);\n        // public state\n        this.selectedAddress = null;\n        this.networkVersion = null;\n        this.chainId = null;\n        this.shouldSendMetadata = shouldSendMetadata;\n        // bind functions (to prevent e.g. web3@1.x from making unbound calls)\n        this._handleAccountsChanged = this._handleAccountsChanged.bind(this);\n        this._handleChainChanged = this._handleChainChanged.bind(this);\n        this._handleUnlockStateChanged = this._handleUnlockStateChanged.bind(this);\n        this._handleConnect = this._handleConnect.bind(this);\n        this._handleDisconnect = this._handleDisconnect.bind(this);\n        this._handleStreamDisconnect = this._handleStreamDisconnect.bind(this);\n        this._sendSync = this._sendSync.bind(this);\n        this._rpcRequest = this._rpcRequest.bind(this);\n        this._initializeState = this._initializeState.bind(this);\n        this.request = this.request.bind(this);\n        this.send = this.send.bind(this);\n        this.sendAsync = this.sendAsync.bind(this);\n        // this.enable = this.enable.bind(this);\n        // setup connectionStream multiplexing\n        const mux = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__.ObjectMultiplex();\n        pump__WEBPACK_IMPORTED_MODULE_8___default()(connectionStream, mux, connectionStream, this._handleStreamDisconnect.bind(this, \"MetaMask\"));\n        // ignore phishing warning message (handled elsewhere)\n        mux.ignoreStream(\"phishing\");\n        // setup own event listeners\n        // EIP-1193 connect\n        this.on(\"connect\", ()=>{\n            this._state.isConnected = true;\n        });\n        // connect to async provider\n        const jsonRpcConnection = (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__.createStreamMiddleware)();\n        pump__WEBPACK_IMPORTED_MODULE_8___default()(jsonRpcConnection.stream, mux.createStream(jsonRpcStreamName), jsonRpcConnection.stream, this._handleStreamDisconnect.bind(this, \"MetaMask RpcProvider\"));\n        // handle RPC requests via dapp-side rpc engine\n        const rpcEngine = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__.JRPCEngine();\n        rpcEngine.push((0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__.createIdRemapMiddleware)());\n        rpcEngine.push(createErrorMiddleware());\n        rpcEngine.push(jsonRpcConnection.middleware);\n        this._rpcEngine = rpcEngine;\n        // json rpc notification listener\n        jsonRpcConnection.events.on(\"notification\", (payload)=>{\n            const { method, params } = payload;\n            if (method === \"wallet_accountsChanged\") {\n                this._handleAccountsChanged(params);\n            } else if (method === \"wallet_unlockStateChanged\") {\n                this._handleUnlockStateChanged(params);\n            } else if (method === \"wallet_chainChanged\") {\n                this._handleChainChanged(params);\n            } else if (EMITTED_NOTIFICATIONS.includes(payload.method)) {\n                // EIP 1193 subscriptions, per eth-json-rpc-filters/subscriptionManager\n                this.emit(\"data\", payload); // deprecated\n                this.emit(\"notification\", params.result);\n                this.emit(\"message\", {\n                    type: method,\n                    data: params\n                });\n            }\n        // Backward compatibility for older non EIP 1193 subscriptions\n        // this.emit('data', null, payload)\n        });\n    }\n    /**\n   * Returns whether the inpage provider is connected to Torus.\n   */ isConnected() {\n        return this._state.isConnected;\n    }\n    /**\n   * Submits an RPC request for the given method, with the given params.\n   * Resolves with the result of the method call, or rejects on error.\n   *\n   * @param args - The RPC request arguments.\n   * @returns A Promise that resolves with the result of the RPC method,\n   * or rejects if an error is encountered.\n   */ async request(args) {\n        if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n            throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.rpcErrors.invalidRequest({\n                message: messages.errors.invalidRequestArgs(),\n                data: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, args || {}), {}, {\n                    cause: messages.errors.invalidRequestArgs()\n                })\n            });\n        }\n        const { method, params } = args;\n        if (typeof method !== \"string\" || method.length === 0) {\n            throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.rpcErrors.invalidRequest({\n                message: messages.errors.invalidRequestMethod(),\n                data: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, args || {}), {}, {\n                    cause: messages.errors.invalidRequestArgs()\n                })\n            });\n        }\n        if (params !== undefined && !Array.isArray(params) && (typeof params !== \"object\" || params === null)) {\n            throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.rpcErrors.invalidRequest({\n                message: messages.errors.invalidRequestParams(),\n                data: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, args || {}), {}, {\n                    cause: messages.errors.invalidRequestArgs()\n                })\n            });\n        }\n        return new Promise((resolve, reject)=>{\n            this._rpcRequest({\n                method,\n                params\n            }, getRpcPromiseCallback(resolve, reject));\n        });\n    }\n    /**\n   * Submits an RPC request per the given JSON-RPC request object.\n   *\n   * @param payload - The RPC request object.\n   * @param cb - The callback function.\n   */ sendAsync(payload, callback) {\n        this._rpcRequest(payload, callback);\n    }\n    // Private Methods\n    //= ===================\n    /**\n   * Constructor helper.\n   * Populates initial state by calling 'wallet_getProviderState' and emits\n   * necessary events.\n   */ async _initializeState() {\n        try {\n            const { accounts, chainId, isUnlocked, networkVersion } = await this.request({\n                method: \"wallet_getProviderState\"\n            });\n            // indicate that we've connected, for EIP-1193 compliance\n            this.emit(\"connect\", {\n                chainId\n            });\n            this._handleChainChanged({\n                chainId,\n                networkVersion\n            });\n            this._handleUnlockStateChanged({\n                accounts,\n                isUnlocked\n            });\n            this._handleAccountsChanged(accounts);\n        } catch (error) {\n            log.error(\"MetaMask: Failed to get initial state. Please report this bug.\", error);\n        } finally{\n            log.info(\"initialized state\");\n            this._state.initialized = true;\n            this.emit(\"_initialized\");\n        }\n    }\n    /**\n   * Internal RPC method. Forwards requests to background via the RPC engine.\n   * Also remap ids inbound and outbound.\n   *\n   * @param payload - The RPC request object.\n   * @param callback - The consumer's callback.\n   * @param isInternal - false - Whether the request is internal.\n   */ _rpcRequest(payload, callback) {\n        let isInternal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        let cb = callback;\n        const _payload = payload;\n        if (!Array.isArray(_payload)) {\n            if (!_payload.jsonrpc) {\n                _payload.jsonrpc = \"2.0\";\n            }\n            if (_payload.method === \"eth_accounts\" || _payload.method === \"eth_requestAccounts\") {\n                // handle accounts changing\n                cb = (err, res)=>{\n                    this._handleAccountsChanged(res.result || [], _payload.method === \"eth_accounts\", isInternal);\n                    callback(err, res);\n                };\n            } else if (_payload.method === \"wallet_getProviderState\") {\n                this._rpcEngine.handle(payload, cb);\n                return;\n            }\n        }\n        this.tryPreopenHandle(_payload, cb);\n    }\n    /**\n   * Submits an RPC request for the given method, with the given params.\n   *\n   * @deprecated Use \"request\" instead.\n   * @param method - The method to request.\n   * @param params - Any params for the method.\n   * @returns A Promise that resolves with the JSON-RPC response object for the\n   * request.\n   */ /**\n   * Submits an RPC request per the given JSON-RPC request object.\n   *\n   * @deprecated Use \"request\" instead.\n   * @param payload - A JSON-RPC request object.\n   * @param callback - An error-first callback that will receive the JSON-RPC\n   * response object.\n   */ /**\n   * Accepts a JSON-RPC request object, and synchronously returns the cached result\n   * for the given method. Only supports 4 specific RPC methods.\n   *\n   * @deprecated Use \"request\" instead.\n   * @param payload - A JSON-RPC request object.\n   * @returns A JSON-RPC response object.\n   */ send(methodOrPayload, callbackOrArgs) {\n        if (typeof methodOrPayload === \"string\" && (!callbackOrArgs || Array.isArray(callbackOrArgs))) {\n            return new Promise((resolve, reject)=>{\n                try {\n                    this._rpcRequest({\n                        method: methodOrPayload,\n                        params: callbackOrArgs\n                    }, getRpcPromiseCallback(resolve, reject, false));\n                } catch (error) {\n                    reject(error);\n                }\n            });\n        }\n        if (methodOrPayload && typeof methodOrPayload === \"object\" && typeof callbackOrArgs === \"function\") {\n            return this._rpcRequest(methodOrPayload, callbackOrArgs);\n        }\n        return this._sendSync(methodOrPayload);\n    }\n    /**\n   * DEPRECATED.\n   * Internal backwards compatibility method, used in send.\n   */ _sendSync(payload) {\n        let result;\n        switch(payload.method){\n            case \"eth_accounts\":\n                result = this.selectedAddress ? [\n                    this.selectedAddress\n                ] : [];\n                break;\n            case \"eth_coinbase\":\n                result = this.selectedAddress || null;\n                break;\n            case \"eth_uninstallFilter\":\n                this._rpcRequest(payload, NOOP);\n                result = true;\n                break;\n            case \"net_version\":\n                result = this.networkVersion || null;\n                break;\n            default:\n                throw new Error(messages.errors.unsupportedSync(payload.method));\n        }\n        return {\n            id: payload.id,\n            jsonrpc: payload.jsonrpc,\n            result\n        };\n    }\n    /**\n   * When the provider becomes connected, updates internal state and emits\n   * required events. Idempotent.\n   *\n   * @param chainId - The ID of the newly connected chain.\n   * emits MetaMaskInpageProvider#connect\n   */ _handleConnect(chainId) {\n        if (!this._state.isConnected) {\n            this._state.isConnected = true;\n            this.emit(\"connect\", {\n                chainId\n            });\n            log.debug(messages.info.connected(chainId));\n        }\n    }\n    /**\n   * When the provider becomes disconnected, updates internal state and emits\n   * required events. Idempotent with respect to the isRecoverable parameter.\n   *\n   * Error codes per the CloseEvent status codes as required by EIP-1193:\n   * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n   *\n   * @param isRecoverable - Whether the disconnection is recoverable.\n   * @param errorMessage - A custom error message.\n   * emits MetaMaskInpageProvider#disconnect\n   */ _handleDisconnect(isRecoverable, errorMessage) {\n        if (this._state.isConnected || !this._state.isPermanentlyDisconnected && !isRecoverable) {\n            this._state.isConnected = false;\n            let error;\n            if (isRecoverable) {\n                error = new _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.EthereumProviderError(1013, // Try again later\n                errorMessage || messages.errors.disconnected());\n                log.debug(error);\n            } else {\n                error = new _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_6__.EthereumProviderError(1011, // Internal error\n                errorMessage || messages.errors.permanentlyDisconnected());\n                log.error(error);\n                this.chainId = null;\n                this._state.accounts = null;\n                this.selectedAddress = null;\n                this._state.isUnlocked = false;\n                this._state.isPermanentlyDisconnected = true;\n            }\n            this.emit(\"disconnect\", error);\n        }\n    }\n    /**\n   * Called when connection is lost to critical streams.\n   *\n   * emits MetamaskInpageProvider#disconnect\n   */ _handleStreamDisconnect(streamName, error) {\n        logStreamDisconnectWarning(streamName, error, this);\n        this._handleDisconnect(false, error ? error.message : undefined);\n    }\n    /**\n   * Called when accounts may have changed.\n   */ _handleAccountsChanged(accounts) {\n        let isEthAccounts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        let isInternal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        // defensive programming\n        let finalAccounts = accounts;\n        if (!Array.isArray(finalAccounts)) {\n            log.error(\"MetaMask: Received non-array accounts parameter. Please report this bug.\", finalAccounts);\n            finalAccounts = [];\n        }\n        for (const account of accounts){\n            if (typeof account !== \"string\") {\n                log.error(\"MetaMask: Received non-string account. Please report this bug.\", accounts);\n                finalAccounts = [];\n                break;\n            }\n        }\n        // emit accountsChanged if anything about the accounts array has changed\n        if (!fast_deep_equal__WEBPACK_IMPORTED_MODULE_7___default()(this._state.accounts, finalAccounts)) {\n            // we should always have the correct accounts even before eth_accounts\n            // returns, except in cases where isInternal is true\n            if (isEthAccounts && Array.isArray(this._state.accounts) && this._state.accounts.length > 0 && !isInternal) {\n                log.error('MetaMask: \"eth_accounts\" unexpectedly updated accounts. Please report this bug.', finalAccounts);\n            }\n            this._state.accounts = finalAccounts;\n            this.emit(\"accountsChanged\", finalAccounts);\n        }\n        // handle selectedAddress\n        if (this.selectedAddress !== finalAccounts[0]) {\n            this.selectedAddress = finalAccounts[0] || null;\n        }\n    }\n    /**\n   * Upon receipt of a new chainId and networkVersion, emits corresponding\n   * events and sets relevant public state.\n   * Does nothing if neither the chainId nor the networkVersion are different\n   * from existing values.\n   *\n   * emits MetamaskInpageProvider#chainChanged\n   * @param networkInfo - An object with network info.\n   */ _handleChainChanged() {\n        let { chainId, networkVersion } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (!chainId || !networkVersion) {\n            log.error(\"MetaMask: Received invalid network parameters. Please report this bug.\", {\n                chainId,\n                networkVersion\n            });\n            return;\n        }\n        if (networkVersion === \"loading\") {\n            this._handleDisconnect(true);\n        } else {\n            this._handleConnect(chainId);\n            if (chainId !== this.chainId) {\n                this.chainId = chainId;\n                if (this._state.initialized) {\n                    this.emit(\"chainChanged\", this.chainId);\n                }\n            }\n        }\n    }\n    /**\n   * Upon receipt of a new isUnlocked state, sets relevant public state.\n   * Calls the accounts changed handler with the received accounts, or an empty\n   * array.\n   *\n   * Does nothing if the received value is equal to the existing value.\n   * There are no lock/unlock events.\n   *\n   * @param opts - Options bag.\n   */ _handleUnlockStateChanged() {\n        let { accounts, isUnlocked } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (typeof isUnlocked !== \"boolean\") {\n            log.error(\"MetaMask: Received invalid isUnlocked parameter. Please report this bug.\", {\n                isUnlocked\n            });\n            return;\n        }\n        if (isUnlocked !== this._state.isUnlocked) {\n            this._state.isUnlocked = isUnlocked;\n            this._handleAccountsChanged(accounts || []);\n        }\n    }\n}\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(TorusInpageProvider, \"_defaultState\", {\n    accounts: null,\n    isConnected: false,\n    isUnlocked: false,\n    initialized: false,\n    isPermanentlyDisconnected: false,\n    hasEmittedConnection: false\n});\nclass PopupHandler extends _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__.SafeEventEmitter {\n    constructor(_ref){\n        let { url, target, features, timeout = 30000 } = _ref;\n        super();\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"url\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"target\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"features\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"window\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"windowTimer\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"iClosedWindow\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"timeout\", void 0);\n        this.url = url;\n        this.target = target || \"_blank\";\n        this.features = features || getPopupFeatures();\n        this.window = undefined;\n        this.windowTimer = undefined;\n        this.iClosedWindow = false;\n        this.timeout = timeout;\n        this._setupTimer();\n    }\n    _setupTimer() {\n        this.windowTimer = Number(setInterval(()=>{\n            if (this.window && this.window.closed) {\n                clearInterval(this.windowTimer);\n                setTimeout(()=>{\n                    if (!this.iClosedWindow) {\n                        this.emit(\"close\");\n                    }\n                    this.iClosedWindow = false;\n                    this.window = undefined;\n                }, this.timeout);\n            }\n            if (this.window === undefined) clearInterval(this.windowTimer);\n        }, 500));\n    }\n    open() {\n        var _this$window;\n        this.window = window.open(this.url.href, this.target, this.features);\n        if ((_this$window = this.window) !== null && _this$window !== void 0 && _this$window.focus) this.window.focus();\n    }\n    close() {\n        this.iClosedWindow = true;\n        if (this.window) this.window.close();\n    }\n    redirect(locationReplaceOnRedirect) {\n        if (locationReplaceOnRedirect) {\n            window.location.replace(this.url.href);\n        } else {\n            window.location.href = this.url.href;\n        }\n    }\n}\n/**\n * Returns whether the given image URL exists\n * @param url - the url of the image\n * @returns - whether the image exists\n */ function imgExists(url) {\n    return new Promise((resolve, reject)=>{\n        try {\n            const img = document.createElement(\"img\");\n            img.onload = ()=>resolve(true);\n            img.onerror = ()=>resolve(false);\n            img.src = url;\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\n/**\n * Extracts a name for the site from the DOM\n */ const getSiteName = (window1)=>{\n    const { document: document1 } = window1;\n    const siteName = document1.querySelector('head > meta[property=\"og:site_name\"]');\n    if (siteName) {\n        return siteName.content;\n    }\n    const metaTitle = document1.querySelector('head > meta[name=\"title\"]');\n    if (metaTitle) {\n        return metaTitle.content;\n    }\n    if (document1.title && document1.title.length > 0) {\n        return document1.title;\n    }\n    return window1.location.hostname;\n};\n/**\n * Extracts an icon for the site from the DOM\n */ async function getSiteIcon(window1) {\n    const { document: document1 } = window1;\n    // Use the site's favicon if it exists\n    let icon = document1.querySelector('head > link[rel=\"shortcut icon\"]');\n    if (icon && await imgExists(icon.href)) {\n        return icon.href;\n    }\n    // Search through available icons in no particular order\n    icon = Array.from(document1.querySelectorAll('head > link[rel=\"icon\"]')).find((_icon)=>Boolean(_icon.href));\n    if (icon && await imgExists(icon.href)) {\n        return icon.href;\n    }\n    return null;\n}\n/**\n * Gets site metadata and returns it\n *\n */ const getSiteMetadata = async ()=>({\n        name: getSiteName(window),\n        icon: await getSiteIcon(window)\n    });\n/**\n * Sends site metadata over an RPC request.\n */ async function sendSiteMetadata(engine) {\n    try {\n        const domainMetadata = await getSiteMetadata();\n        // call engine.handle directly to avoid normal RPC request handling\n        engine.handle({\n            jsonrpc: \"2.0\",\n            id: getPreopenInstanceId(),\n            method: \"wallet_sendDomainMetadata\",\n            params: domainMetadata\n        }, NOOP);\n    } catch (error) {\n        log.error({\n            message: messages.errors.sendSiteMetadata(),\n            originalError: error\n        });\n    }\n}\nconst _excluded = [\n    \"host\",\n    \"chainId\",\n    \"networkName\"\n];\nconst UNSAFE_METHODS = [\n    \"eth_sendTransaction\",\n    \"eth_signTypedData\",\n    \"eth_signTypedData_v3\",\n    \"eth_signTypedData_v4\",\n    \"personal_sign\",\n    \"eth_getEncryptionPublicKey\",\n    \"eth_decrypt\",\n    \"wallet_addEthereumChain\",\n    \"wallet_switchEthereumChain\"\n];\n// preload for iframe doesn't work https://bugs.chromium.org/p/chromium/issues/detail?id=593267\n(async function preLoadIframe() {\n    try {\n        if (typeof document === \"undefined\") return;\n        const torusIframeHtml = document.createElement(\"link\");\n        const { torusUrl } = await getTorusUrl(\"production\", {\n            version: \"\"\n        });\n        torusIframeHtml.href = `${torusUrl}/popup`;\n        torusIframeHtml.crossOrigin = \"anonymous\";\n        torusIframeHtml.type = \"text/html\";\n        torusIframeHtml.rel = \"prefetch\";\n        if (torusIframeHtml.relList && torusIframeHtml.relList.supports) {\n            if (torusIframeHtml.relList.supports(\"prefetch\")) {\n                document.head.appendChild(torusIframeHtml);\n            }\n        }\n    } catch (error) {\n        log.warn(error);\n    }\n})();\nclass Torus {\n    constructor(){\n        let { buttonPosition = BUTTON_POSITION.BOTTOM_LEFT, buttonSize = 56, modalZIndex = 99999, apiKey = \"torus-default\" } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"buttonPosition\", BUTTON_POSITION.BOTTOM_LEFT);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"buttonSize\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"torusUrl\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"torusIframe\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"styleLink\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"isLoggedIn\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"isInitialized\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"torusWidgetVisibility\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"torusAlert\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"apiKey\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"modalZIndex\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"alertZIndex\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"torusAlertContainer\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"isIframeFullScreen\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"whiteLabel\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"requestedVerifier\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"currentVerifier\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"embedTranslations\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"ethereum\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"provider\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"communicationMux\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"isLoginCallback\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"paymentProviders\", configuration.paymentProviders);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"loginHint\", \"\");\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"useWalletConnect\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, \"isCustomLogin\", false);\n        this.buttonPosition = buttonPosition;\n        this.buttonSize = buttonSize;\n        this.torusUrl = \"\";\n        this.isLoggedIn = false; // ethereum.enable working\n        this.isInitialized = false; // init done\n        this.torusWidgetVisibility = true;\n        this.requestedVerifier = \"\";\n        this.currentVerifier = \"\";\n        this.apiKey = apiKey;\n        (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_3__.setAPIKey)(apiKey);\n        this.modalZIndex = modalZIndex;\n        this.alertZIndex = modalZIndex + 1000;\n        this.isIframeFullScreen = false;\n    }\n    async init() {\n        let { buildEnv = TORUS_BUILD_ENV.PRODUCTION, enableLogging = false, network = {\n            host: \"mainnet\",\n            chainId: null,\n            networkName: \"\",\n            blockExplorer: \"\",\n            ticker: \"\",\n            tickerName: \"\"\n        }, loginConfig = {}, showTorusButton = true, integrity = {\n            version: \"\"\n        }, whiteLabel, useWalletConnect = false, mfaLevel = \"default\" } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (this.isInitialized) throw new Error(\"Already initialized\");\n        const { torusUrl, logLevel } = await getTorusUrl(buildEnv, integrity);\n        log.info(torusUrl, \"url loaded\");\n        this.torusUrl = torusUrl;\n        this.whiteLabel = whiteLabel;\n        this.useWalletConnect = useWalletConnect;\n        this.isCustomLogin = !!(loginConfig && Object.keys(loginConfig).length > 0) || !!(whiteLabel && Object.keys(whiteLabel).length > 0);\n        log.setDefaultLevel(logLevel);\n        if (enableLogging) log.enableAll();\n        else log.disableAll();\n        this.torusWidgetVisibility = showTorusButton;\n        const torusIframeUrl = new URL(torusUrl);\n        if (torusIframeUrl.pathname.endsWith(\"/\")) torusIframeUrl.pathname += \"popup\";\n        else torusIframeUrl.pathname += \"/popup\";\n        torusIframeUrl.hash = `#isCustomLogin=${this.isCustomLogin}`;\n        // Iframe code\n        this.torusIframe = htmlToElement(`<iframe\n        id=\"torusIframe\"\n        allow=${useWalletConnect ? \"camera\" : \"\"}\n        class=\"torusIframe\"\n        src=\"${torusIframeUrl.href}\"\n        style=\"display: none; position: fixed; top: 0; right: 0; width: 100%; color-scheme: none;\n        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex}\"\n      ></iframe>`);\n        this.torusAlertContainer = htmlToElement('<div id=\"torusAlertContainer\"></div>');\n        this.torusAlertContainer.style.display = \"none\";\n        this.torusAlertContainer.style.setProperty(\"z-index\", this.alertZIndex.toString());\n        const link = window.document.createElement(\"link\");\n        link.setAttribute(\"rel\", \"stylesheet\");\n        link.setAttribute(\"type\", \"text/css\");\n        link.setAttribute(\"href\", `${torusUrl}/css/widget.css`);\n        this.styleLink = link;\n        const { defaultLanguage = getUserLanguage(), customTranslations = {} } = this.whiteLabel || {};\n        const mergedTranslations = lodash_merge__WEBPACK_IMPORTED_MODULE_5___default()(configuration.translations, customTranslations);\n        const languageTranslations = mergedTranslations[defaultLanguage] || configuration.translations[getUserLanguage()];\n        this.embedTranslations = languageTranslations.embed;\n        return new Promise((resolve, reject)=>{\n            this.torusIframe.onload = async ()=>{\n                // only do this if iframe is not full screen\n                this._setupWeb3();\n                const initStream = this.communicationMux.getStream(\"init_stream\");\n                initStream.on(\"data\", (chunk)=>{\n                    const { name, data, error } = chunk;\n                    if (name === \"init_complete\" && data.success) {\n                        // resolve promise\n                        this.isInitialized = true;\n                        this._displayIframe(this.isIframeFullScreen);\n                        resolve(undefined);\n                    } else if (error) {\n                        reject(new Error(error));\n                    }\n                });\n                initStream.write({\n                    name: \"init_stream\",\n                    data: {\n                        loginConfig,\n                        whiteLabel: this.whiteLabel,\n                        buttonPosition: this.buttonPosition,\n                        buttonSize: this.buttonSize,\n                        torusWidgetVisibility: this.torusWidgetVisibility,\n                        apiKey: this.apiKey,\n                        network,\n                        mfaLevel\n                    }\n                });\n            };\n            window.document.head.appendChild(this.styleLink);\n            window.document.body.appendChild(this.torusIframe);\n            window.document.body.appendChild(this.torusAlertContainer);\n        });\n    }\n    login() {\n        let { verifier = \"\", login_hint: loginHint = \"\" } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (!this.isInitialized) throw new Error(\"Call init() first\");\n        this.requestedVerifier = verifier;\n        this.loginHint = loginHint;\n        return this.ethereum.enable();\n    }\n    logout() {\n        return new Promise((resolve, reject)=>{\n            if (!this.isLoggedIn) {\n                reject(new Error(\"User has not logged in yet\"));\n                return;\n            }\n            const logOutStream = this.communicationMux.getStream(\"logout\");\n            logOutStream.write({\n                name: \"logOut\"\n            });\n            const statusStream = this.communicationMux.getStream(\"status\");\n            const statusStreamHandler = (arg)=>{\n                const status = arg;\n                if (!status.loggedIn) {\n                    this.isLoggedIn = false;\n                    this.currentVerifier = \"\";\n                    this.requestedVerifier = \"\";\n                    resolve();\n                } else reject(new Error(\"Some Error Occured\"));\n            };\n            handleStream(statusStream, \"data\", statusStreamHandler);\n        });\n    }\n    async cleanUp() {\n        if (this.isLoggedIn) {\n            await this.logout();\n        }\n        this.clearInit();\n    }\n    clearInit() {\n        function isElement(element) {\n            return element instanceof Element || element instanceof HTMLDocument;\n        }\n        if (isElement(this.styleLink) && window.document.body.contains(this.styleLink)) {\n            this.styleLink.remove();\n            this.styleLink = undefined;\n        }\n        if (isElement(this.torusIframe) && window.document.body.contains(this.torusIframe)) {\n            this.torusIframe.remove();\n            this.torusIframe = undefined;\n        }\n        if (isElement(this.torusAlertContainer) && window.document.body.contains(this.torusAlertContainer)) {\n            this.torusAlert = undefined;\n            this.torusAlertContainer.remove();\n            this.torusAlertContainer = undefined;\n        }\n        this.isInitialized = false;\n    }\n    hideTorusButton() {\n        this.torusWidgetVisibility = false;\n        this._sendWidgetVisibilityStatus(false);\n        this._displayIframe();\n    }\n    showTorusButton() {\n        this.torusWidgetVisibility = true;\n        this._sendWidgetVisibilityStatus(true);\n        this._displayIframe();\n    }\n    setProvider(_ref) {\n        let { host = \"mainnet\", chainId = null, networkName = \"\" } = _ref, rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);\n        return new Promise((resolve, reject)=>{\n            const providerChangeStream = this.communicationMux.getStream(\"provider_change\");\n            const handler = (arg)=>{\n                const chunk = arg;\n                const { err, success } = chunk.data;\n                log.info(chunk);\n                if (err) {\n                    reject(err);\n                } else if (success) {\n                    resolve();\n                } else reject(new Error(\"some error occurred\"));\n            };\n            handleStream(providerChangeStream, \"data\", handler);\n            const preopenInstanceId = getPreopenInstanceId();\n            this._handleWindow(preopenInstanceId, {\n                target: \"_blank\",\n                features: FEATURES_PROVIDER_CHANGE_WINDOW\n            });\n            providerChangeStream.write({\n                name: \"show_provider_change\",\n                data: {\n                    network: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({\n                        host,\n                        chainId,\n                        networkName\n                    }, rest),\n                    preopenInstanceId,\n                    override: false\n                }\n            });\n        });\n    }\n    showWallet(path) {\n        let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        const showWalletStream = this.communicationMux.getStream(\"show_wallet\");\n        const finalPath = path ? `/${path}` : \"\";\n        showWalletStream.write({\n            name: \"show_wallet\",\n            data: {\n                path: finalPath\n            }\n        });\n        const showWalletHandler = (arg)=>{\n            const chunk = arg;\n            if (chunk.name === \"show_wallet_instance\") {\n                // Let the error propogate up (hence, no try catch)\n                const { instanceId } = chunk.data;\n                const finalUrl = new URL(`${this.torusUrl}/wallet${finalPath}`);\n                // Using URL constructor to prevent js injection and allow parameter validation.!\n                finalUrl.searchParams.append(\"integrity\", \"true\");\n                finalUrl.searchParams.append(\"instanceId\", instanceId);\n                Object.keys(params).forEach((x)=>{\n                    finalUrl.searchParams.append(x, params[x]);\n                });\n                finalUrl.hash = `#isCustomLogin=${this.isCustomLogin}`;\n                const walletWindow = new PopupHandler({\n                    url: finalUrl,\n                    features: FEATURES_DEFAULT_WALLET_WINDOW\n                });\n                walletWindow.open();\n            }\n        };\n        handleStream(showWalletStream, \"data\", showWalletHandler);\n    }\n    async getPublicAddress(_ref2) {\n        let { verifier, verifierId, isExtended = false } = _ref2;\n        if (!configuration.supportedVerifierList.includes(verifier) || !WALLET_OPENLOGIN_VERIFIER_MAP[verifier]) throw new Error(\"Unsupported verifier\");\n        const walletVerifier = verifier;\n        const openloginVerifier = WALLET_OPENLOGIN_VERIFIER_MAP[verifier];\n        const url = new URL(`https://api.tor.us/lookup/torus`);\n        url.searchParams.append(\"verifier\", openloginVerifier);\n        url.searchParams.append(\"verifierId\", verifierId);\n        url.searchParams.append(\"walletVerifier\", walletVerifier);\n        url.searchParams.append(\"network\", \"mainnet\");\n        url.searchParams.append(\"isExtended\", isExtended.toString());\n        return (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_3__.get)(url.href, {\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\"\n            }\n        }, {\n            useAPIKey: true\n        });\n    }\n    getUserInfo(message) {\n        return new Promise((resolve, reject)=>{\n            if (this.isLoggedIn) {\n                const userInfoAccessStream = this.communicationMux.getStream(\"user_info_access\");\n                userInfoAccessStream.write({\n                    name: \"user_info_access_request\"\n                });\n                const userInfoAccessHandler = (arg)=>{\n                    const chunk = arg;\n                    const { name, data: { approved, payload, rejected, newRequest } } = chunk;\n                    if (name === \"user_info_access_response\") {\n                        if (approved) {\n                            resolve(payload);\n                        } else if (rejected) {\n                            reject(new Error(\"User rejected the request\"));\n                        } else if (newRequest) {\n                            const userInfoStream = this.communicationMux.getStream(\"user_info\");\n                            const userInfoHandler = (arg2)=>{\n                                const handlerChunk = arg2;\n                                if (handlerChunk.name === \"user_info_response\") {\n                                    if (handlerChunk.data.approved) {\n                                        resolve(handlerChunk.data.payload);\n                                    } else {\n                                        reject(new Error(\"User rejected the request\"));\n                                    }\n                                }\n                            };\n                            handleStream(userInfoStream, \"data\", userInfoHandler);\n                            const preopenInstanceId = getPreopenInstanceId();\n                            this._handleWindow(preopenInstanceId, {\n                                target: \"_blank\",\n                                features: FEATURES_PROVIDER_CHANGE_WINDOW\n                            });\n                            userInfoStream.write({\n                                name: \"user_info_request\",\n                                data: {\n                                    message,\n                                    preopenInstanceId\n                                }\n                            });\n                        }\n                    }\n                };\n                handleStream(userInfoAccessStream, \"data\", userInfoAccessHandler);\n            } else reject(new Error(\"User has not logged in yet\"));\n        });\n    }\n    initiateTopup(provider, params) {\n        return new Promise((resolve, reject)=>{\n            if (this.isInitialized) {\n                const { errors, isValid } = validatePaymentProvider(provider, params);\n                if (!isValid) {\n                    reject(new Error(JSON.stringify(errors)));\n                    return;\n                }\n                const topupStream = this.communicationMux.getStream(\"topup\");\n                const topupHandler = (arg)=>{\n                    const chunk = arg;\n                    if (chunk.name === \"topup_response\") {\n                        if (chunk.data.success) {\n                            resolve(chunk.data.success);\n                        } else {\n                            reject(new Error(chunk.data.error));\n                        }\n                    }\n                };\n                handleStream(topupStream, \"data\", topupHandler);\n                const preopenInstanceId = getPreopenInstanceId();\n                this._handleWindow(preopenInstanceId);\n                topupStream.write({\n                    name: \"topup_request\",\n                    data: {\n                        provider,\n                        params,\n                        preopenInstanceId\n                    }\n                });\n            } else reject(new Error(\"Torus is not initialized yet\"));\n        });\n    }\n    async loginWithPrivateKey(loginParams) {\n        const { privateKey, userInfo } = loginParams;\n        return new Promise((resolve, reject)=>{\n            if (this.isInitialized) {\n                if (Buffer.from(privateKey, \"hex\").length !== 32) {\n                    reject(new Error(\"Invalid private key, Please provide a 32 byte valid secp25k1 private key\"));\n                    return;\n                }\n                const loginPrivKeyStream = this.communicationMux.getStream(\"login_with_private_key\");\n                const loginHandler = (arg)=>{\n                    const chunk = arg;\n                    if (chunk.name === \"login_with_private_key_response\") {\n                        if (chunk.data.success) {\n                            resolve(chunk.data.success);\n                        } else {\n                            reject(new Error(chunk.data.error));\n                        }\n                    }\n                };\n                handleStream(loginPrivKeyStream, \"data\", loginHandler);\n                loginPrivKeyStream.write({\n                    name: \"login_with_private_key_request\",\n                    data: {\n                        privateKey,\n                        userInfo\n                    }\n                });\n            } else reject(new Error(\"Torus is not initialized yet\"));\n        });\n    }\n    async showWalletConnectScanner() {\n        if (!this.useWalletConnect) throw new Error(\"Set `useWalletConnect` as true in init function options to use wallet connect scanner\");\n        return new Promise((resolve, reject)=>{\n            if (this.isLoggedIn) {\n                const walletConnectStream = this.communicationMux.getStream(\"wallet_connect_stream\");\n                const walletConnectHandler = (arg)=>{\n                    const chunk = arg;\n                    if (chunk.name === \"wallet_connect_stream_res\") {\n                        if (chunk.data.success) {\n                            resolve(chunk.data.success);\n                        } else {\n                            reject(new Error(chunk.data.error));\n                        }\n                        this._displayIframe();\n                    }\n                };\n                handleStream(walletConnectStream, \"data\", walletConnectHandler);\n                walletConnectStream.write({\n                    name: \"wallet_connect_stream_req\"\n                });\n                this._displayIframe(true);\n            } else reject(new Error(\"User has not logged in yet\"));\n        });\n    }\n    _handleWindow(preopenInstanceId) {\n        let { url, target, features } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        if (preopenInstanceId) {\n            const windowStream = this.communicationMux.getStream(\"window\");\n            const finalUrl = new URL(url || `${this.torusUrl}/redirect?preopenInstanceId=${preopenInstanceId}`);\n            if (finalUrl.hash) finalUrl.hash += `&isCustomLogin=${this.isCustomLogin}`;\n            else finalUrl.hash = `#isCustomLogin=${this.isCustomLogin}`;\n            const handledWindow = new PopupHandler({\n                url: finalUrl,\n                target,\n                features\n            });\n            handledWindow.open();\n            if (!handledWindow.window) {\n                this._createPopupBlockAlert(preopenInstanceId, finalUrl.href);\n                return;\n            }\n            windowStream.write({\n                name: \"opened_window\",\n                data: {\n                    preopenInstanceId\n                }\n            });\n            const closeHandler = (_ref3)=>{\n                let { preopenInstanceId: receivedId, close } = _ref3;\n                if (receivedId === preopenInstanceId && close) {\n                    handledWindow.close();\n                    windowStream.removeListener(\"data\", closeHandler);\n                }\n            };\n            windowStream.on(\"data\", closeHandler);\n            handledWindow.once(\"close\", ()=>{\n                windowStream.write({\n                    data: {\n                        preopenInstanceId,\n                        closed: true\n                    }\n                });\n                windowStream.removeListener(\"data\", closeHandler);\n            });\n        }\n    }\n    _setEmbedWhiteLabel(element) {\n        // Set whitelabel\n        const { theme } = this.whiteLabel || {};\n        if (theme) {\n            const { isDark = false, colors = {} } = theme;\n            if (isDark) element.classList.add(\"torus-dark\");\n            if (colors.torusBrand1) element.style.setProperty(\"--torus-brand-1\", colors.torusBrand1);\n            if (colors.torusGray2) element.style.setProperty(\"--torus-gray-2\", colors.torusGray2);\n        }\n    }\n    _getLogoUrl() {\n        var _this$whiteLabel;\n        let logoUrl = `${this.torusUrl}/images/torus_icon-blue.svg`;\n        if ((_this$whiteLabel = this.whiteLabel) !== null && _this$whiteLabel !== void 0 && (_this$whiteLabel = _this$whiteLabel.theme) !== null && _this$whiteLabel !== void 0 && _this$whiteLabel.isDark) {\n            var _this$whiteLabel2;\n            logoUrl = ((_this$whiteLabel2 = this.whiteLabel) === null || _this$whiteLabel2 === void 0 ? void 0 : _this$whiteLabel2.logoLight) || logoUrl;\n        } else {\n            var _this$whiteLabel3;\n            logoUrl = ((_this$whiteLabel3 = this.whiteLabel) === null || _this$whiteLabel3 === void 0 ? void 0 : _this$whiteLabel3.logoDark) || logoUrl;\n        }\n        return logoUrl;\n    }\n    _sendWidgetVisibilityStatus(status) {\n        const torusWidgetVisibilityStream = this.communicationMux.getStream(\"torus-widget-visibility\");\n        torusWidgetVisibilityStream.write({\n            data: status\n        });\n    }\n    _displayIframe() {\n        let isFull = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        const style = {};\n        const size = this.buttonSize + 14; // 15px padding\n        // set phase\n        if (!isFull) {\n            style.display = this.torusWidgetVisibility ? \"block\" : \"none\";\n            style.height = `${size}px`;\n            style.width = `${size}px`;\n            switch(this.buttonPosition){\n                case BUTTON_POSITION.TOP_LEFT:\n                    style.top = \"0px\";\n                    style.left = \"0px\";\n                    style.right = \"auto\";\n                    style.bottom = \"auto\";\n                    break;\n                case BUTTON_POSITION.TOP_RIGHT:\n                    style.top = \"0px\";\n                    style.right = \"0px\";\n                    style.left = \"auto\";\n                    style.bottom = \"auto\";\n                    break;\n                case BUTTON_POSITION.BOTTOM_RIGHT:\n                    style.bottom = \"0px\";\n                    style.right = \"0px\";\n                    style.top = \"auto\";\n                    style.left = \"auto\";\n                    break;\n                case BUTTON_POSITION.BOTTOM_LEFT:\n                default:\n                    style.bottom = \"0px\";\n                    style.left = \"0px\";\n                    style.top = \"auto\";\n                    style.right = \"auto\";\n                    break;\n            }\n        } else {\n            style.display = \"block\";\n            style.width = \"100%\";\n            style.height = \"100%\";\n            style.top = \"0px\";\n            style.right = \"0px\";\n            style.left = \"0px\";\n            style.bottom = \"0px\";\n        }\n        Object.assign(this.torusIframe.style, style);\n        this.isIframeFullScreen = isFull;\n    }\n    _setupWeb3() {\n        log.info(\"setupWeb3 running\");\n        // setup background connection\n        const metamaskStream = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__.BasePostMessageStream({\n            name: \"embed_metamask\",\n            target: \"iframe_metamask\",\n            targetWindow: this.torusIframe.contentWindow,\n            targetOrigin: new URL(this.torusUrl).origin\n        });\n        // Due to compatibility reasons, we should not set up multiplexing on window.metamaskstream\n        // because the MetamaskInpageProvider also attempts to do so.\n        // We create another LocalMessageDuplexStream for communication between dapp <> iframe\n        const communicationStream = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__.BasePostMessageStream({\n            name: \"embed_comm\",\n            target: \"iframe_comm\",\n            targetWindow: this.torusIframe.contentWindow,\n            targetOrigin: new URL(this.torusUrl).origin\n        });\n        // Backward compatibility with Gotchi :)\n        // window.metamaskStream = this.communicationStream\n        // compose the inpage provider\n        const inpageProvider = new TorusInpageProvider(metamaskStream);\n        // detect eth_requestAccounts and pipe to enable for now\n        const detectAccountRequestPrototypeModifier = (m)=>{\n            // @ts-ignore\n            const originalMethod = inpageProvider[m];\n            // @ts-ignore\n            inpageProvider[m] = function providerFunc(method) {\n                if (method && method === \"eth_requestAccounts\") {\n                    return inpageProvider.enable();\n                }\n                for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n                    args[_key - 1] = arguments[_key];\n                }\n                return originalMethod.apply(this, [\n                    method,\n                    ...args\n                ]);\n            };\n        };\n        detectAccountRequestPrototypeModifier(\"send\");\n        detectAccountRequestPrototypeModifier(\"sendAsync\");\n        inpageProvider.enable = ()=>{\n            return new Promise((resolve, reject)=>{\n                // If user is already logged in, we assume they have given access to the website\n                inpageProvider.sendAsync({\n                    jsonrpc: \"2.0\",\n                    id: getPreopenInstanceId(),\n                    method: \"eth_requestAccounts\",\n                    params: []\n                }, (err, response)=>{\n                    const { result: res } = response || {};\n                    if (err) {\n                        setTimeout(()=>{\n                            reject(err);\n                        }, 50);\n                    } else if (Array.isArray(res) && res.length > 0) {\n                        // If user is already rehydrated, resolve this\n                        // else wait for something to be written to status stream\n                        const handleLoginCb = ()=>{\n                            if (this.requestedVerifier !== \"\" && this.currentVerifier !== this.requestedVerifier) {\n                                const { requestedVerifier } = this;\n                                // eslint-disable-next-line promise/no-promise-in-callback\n                                this.logout()// eslint-disable-next-line promise/always-return\n                                .then((_)=>{\n                                    this.requestedVerifier = requestedVerifier;\n                                    this._showLoginPopup(true, resolve, reject);\n                                }).catch((error)=>reject(error));\n                            } else {\n                                resolve(res);\n                            }\n                        };\n                        if (this.isLoggedIn) {\n                            handleLoginCb();\n                        } else {\n                            this.isLoginCallback = handleLoginCb;\n                        }\n                    } else {\n                        // set up listener for login\n                        this._showLoginPopup(true, resolve, reject);\n                    }\n                });\n            });\n        };\n        inpageProvider.tryPreopenHandle = (payload, cb)=>{\n            const _payload = payload;\n            if (!Array.isArray(_payload) && UNSAFE_METHODS.includes(_payload.method)) {\n                const preopenInstanceId = getPreopenInstanceId();\n                this._handleWindow(preopenInstanceId, {\n                    target: \"_blank\",\n                    features: FEATURES_CONFIRM_WINDOW\n                });\n                _payload.preopenInstanceId = preopenInstanceId;\n            }\n            inpageProvider._rpcEngine.handle(_payload, cb);\n        };\n        // Work around for web3@1.0 deleting the bound `sendAsync` but not the unbound\n        // `sendAsync` method on the prototype, causing `this` reference issues with drizzle\n        const proxiedInpageProvider = new Proxy(inpageProvider, {\n            // straight up lie that we deleted the property so that it doesnt\n            // throw an error in strict mode\n            deleteProperty: ()=>true\n        });\n        this.ethereum = proxiedInpageProvider;\n        const communicationMux = (0,_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_4__.setupMultiplex)(communicationStream);\n        this.communicationMux = communicationMux;\n        const windowStream = communicationMux.getStream(\"window\");\n        windowStream.on(\"data\", (chunk)=>{\n            if (chunk.name === \"create_window\") {\n                // url is the url we need to open\n                // we can pass the final url upfront so that it removes the step of redirecting to /redirect and waiting for finalUrl\n                this._createPopupBlockAlert(chunk.data.preopenInstanceId, chunk.data.url);\n            }\n        });\n        // show torus widget if button clicked\n        const widgetStream = communicationMux.getStream(\"widget\");\n        widgetStream.on(\"data\", (chunk)=>{\n            const { data } = chunk;\n            this._displayIframe(data);\n        });\n        // Show torus button if wallet has been hydrated/detected\n        const statusStream = communicationMux.getStream(\"status\");\n        statusStream.on(\"data\", (status)=>{\n            // login\n            if (status.loggedIn) {\n                this.isLoggedIn = status.loggedIn;\n                this.currentVerifier = status.verifier;\n            } else this._displayIframe();\n            if (this.isLoginCallback) {\n                this.isLoginCallback();\n                delete this.isLoginCallback;\n            }\n        });\n        this.provider = proxiedInpageProvider;\n        if (this.provider.shouldSendMetadata) sendSiteMetadata(this.provider._rpcEngine);\n        inpageProvider._initializeState();\n        log.debug(\"Torus - injected provider\");\n    }\n    _showLoginPopup(calledFromEmbed, resolve, reject) {\n        const loginHandler = (arg)=>{\n            const data = arg;\n            const { err, selectedAddress } = data;\n            if (err) {\n                log.error(err);\n                if (reject) reject(err);\n            } else if (resolve) resolve([\n                selectedAddress\n            ]);\n            if (this.isIframeFullScreen) this._displayIframe();\n        };\n        const oauthStream = this.communicationMux.getStream(\"oauth\");\n        if (!this.requestedVerifier) {\n            this._displayIframe(true);\n            handleStream(oauthStream, \"data\", loginHandler);\n            oauthStream.write({\n                name: \"oauth_modal\",\n                data: {\n                    calledFromEmbed\n                }\n            });\n        } else {\n            handleStream(oauthStream, \"data\", loginHandler);\n            const preopenInstanceId = getPreopenInstanceId();\n            this._handleWindow(preopenInstanceId);\n            oauthStream.write({\n                name: \"oauth\",\n                data: {\n                    calledFromEmbed,\n                    verifier: this.requestedVerifier,\n                    preopenInstanceId,\n                    login_hint: this.loginHint\n                }\n            });\n        }\n    }\n    _createPopupBlockAlert(preopenInstanceId, url) {\n        const logoUrl = this._getLogoUrl();\n        const torusAlert = htmlToElement('<div id=\"torusAlert\" class=\"torus-alert--v2\">' + `<div id=\"torusAlert__logo\"><img src=\"${logoUrl}\" /></div>` + \"<div>\" + `<h1 id=\"torusAlert__title\">${this.embedTranslations.actionRequired}</h1>` + `<p id=\"torusAlert__desc\">${this.embedTranslations.pendingAction}</p>` + \"</div>\" + \"</div>\");\n        const successAlert = htmlToElement(`<div><a id=\"torusAlert__btn\">${this.embedTranslations.continue}</a></div>`);\n        const btnContainer = htmlToElement('<div id=\"torusAlert__btn-container\"></div>');\n        btnContainer.appendChild(successAlert);\n        torusAlert.appendChild(btnContainer);\n        this._setEmbedWhiteLabel(torusAlert);\n        this.torusAlertContainer.style.display = \"block\";\n        this.torusAlertContainer.appendChild(torusAlert);\n        successAlert.addEventListener(\"click\", ()=>{\n            this._handleWindow(preopenInstanceId, {\n                url,\n                target: \"_blank\",\n                features: FEATURES_CONFIRM_WINDOW\n            });\n            torusAlert.remove();\n            if (this.torusAlertContainer.children.length === 0) this.torusAlertContainer.style.display = \"none\";\n        });\n    }\n}\n //# sourceMappingURL=torus.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy90b3J1cy1lbWJlZC9kaXN0L3RvcnVzLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ3FCO0FBQ2xCO0FBQ1g7QUFDeUg7QUFDN0k7QUFDbUM7QUFDbkM7QUFDYjtBQUNRO0FBRWhDLE1BQU1rQixtQkFBbUI7SUFDdkJDLFFBQVE7SUFDUkMsVUFBVTtJQUNWQyxRQUFRO0lBQ1JDLFFBQVE7SUFDUkMsU0FBUztJQUNUQyxvQkFBb0I7QUFDdEI7QUFDQSxNQUFNQyxnQ0FBZ0M7SUFDcEMsQ0FBQ1AsaUJBQWlCQyxNQUFNLENBQUMsRUFBRTtJQUMzQixDQUFDRCxpQkFBaUJFLFFBQVEsQ0FBQyxFQUFFO0lBQzdCLENBQUNGLGlCQUFpQkcsTUFBTSxDQUFDLEVBQUU7SUFDM0IsQ0FBQ0gsaUJBQWlCSSxNQUFNLENBQUMsRUFBRTtJQUMzQixDQUFDSixpQkFBaUJLLE9BQU8sQ0FBQyxFQUFFO0lBQzVCLENBQUNMLGlCQUFpQk0sa0JBQWtCLENBQUMsRUFBRTtBQUN6QztBQUNBLE1BQU1FLG1CQUFtQjtJQUN2QkMsU0FBUztJQUNUQyxNQUFNO0lBQ05DLGFBQWE7SUFDYkMsU0FBUztJQUNUQyxVQUFVO0lBQ1ZDLFNBQVM7SUFDVEMsT0FBTztBQUNUO0FBQ0EsTUFBTUMsNEJBQTRCO0lBQ2hDQyxTQUFTO0lBQ1RDLE9BQU87SUFDUEMsYUFBYTtJQUNiQyxtQkFBbUI7SUFDbkJDLE1BQU07SUFDTkMsa0JBQWtCO0lBQ2xCQyxrQkFBa0I7QUFDcEI7QUFDQSxNQUFNQyxrQkFBa0I7SUFDdEJDLFlBQVk7SUFDWkMsYUFBYTtJQUNiQyxTQUFTO0lBQ1RDLFNBQVM7SUFDVEMsS0FBSztJQUNMQyxNQUFNO0lBQ05DLEtBQUs7SUFDTEMsU0FBUztJQUNUQyxPQUFPO0FBQ1Q7QUFDQSxNQUFNQyxrQkFBa0I7SUFDdEJDLGFBQWE7SUFDYkMsVUFBVTtJQUNWQyxjQUFjO0lBQ2RDLFdBQVc7QUFDYjtBQUVBOzs7Ozs7Q0FNQyxHQUNELE1BQU1DLDRCQUE0QjtJQUFDO0lBQU87SUFBUTtJQUFRO0lBQVE7SUFBUztJQUFPO0lBQU87SUFBUTtJQUFRO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBUTtJQUFRO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQVE7SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBUTtJQUFRO0lBQVM7SUFBUTtJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFRO0lBQVE7SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQVU7SUFBUztJQUFPO0lBQU87SUFBVTtJQUFNO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTTtJQUFPO0lBQU87SUFBUTtJQUFPO0lBQVE7SUFBTztJQUFPO0lBQU07SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBTztJQUFPO0lBQU87SUFBUTtJQUFRO0lBQU87SUFBTztJQUFPO0lBQVE7SUFB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QVEsVUFBVSxDQUFDLEdBQUcsVUFBVSxDQUFDLDJCQUEyQixFQUFFLElBQUksQ0FBQ3BHLGlCQUFpQixDQUFDdlUsY0FBYyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDdVUsaUJBQWlCLENBQUN0VSxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsV0FBVztRQUM1VCxNQUFNK2MsZUFBZWhjLGNBQWMsQ0FBQyw2QkFBNkIsRUFBRSxJQUFJLENBQUN1VCxpQkFBaUIsQ0FBQ3hVLFFBQVEsQ0FBQyxVQUFVLENBQUM7UUFDOUcsTUFBTWtkLGVBQWVqYyxjQUFjO1FBQ25DaWMsYUFBYXhMLFdBQVcsQ0FBQ3VMO1FBQ3pCM0csV0FBVzVFLFdBQVcsQ0FBQ3dMO1FBQ3ZCLElBQUksQ0FBQ2hELG1CQUFtQixDQUFDNUQ7UUFDekIsSUFBSSxDQUFDeEMsbUJBQW1CLENBQUNDLEtBQUssQ0FBQ3hVLE9BQU8sR0FBRztRQUN6QyxJQUFJLENBQUN1VSxtQkFBbUIsQ0FBQ3BDLFdBQVcsQ0FBQzRFO1FBQ3JDMkcsYUFBYUUsZ0JBQWdCLENBQUMsU0FBUztZQUNyQyxJQUFJLENBQUN0RyxhQUFhLENBQUNELG1CQUFtQjtnQkFDcEN2STtnQkFDQUMsUUFBUTtnQkFDUnpFLFVBQVV2QjtZQUNaO1lBQ0FnTyxXQUFXRCxNQUFNO1lBQ2pCLElBQUksSUFBSSxDQUFDdkMsbUJBQW1CLENBQUNzSixRQUFRLENBQUN4WSxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUNrUCxtQkFBbUIsQ0FBQ0MsS0FBSyxDQUFDeFUsT0FBTyxHQUFHO1FBQy9GO0lBQ0Y7QUFDRjtBQUVpTCxDQUNqTCxxQ0FBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvdG9ydXMtZW1iZWQvZGlzdC90b3J1cy5lc20uanM/MWIyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDInO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgeyBnZXQsIHNldEFQSUtleSB9IGZyb20gJ0B0b3J1c2xhYnMvaHR0cC1oZWxwZXJzJztcbmltcG9ydCB7IFNhZmVFdmVudEVtaXR0ZXIsIE9iamVjdE11bHRpcGxleCwgY3JlYXRlU3RyZWFtTWlkZGxld2FyZSwgSlJQQ0VuZ2luZSwgY3JlYXRlSWRSZW1hcE1pZGRsZXdhcmUsIEJhc2VQb3N0TWVzc2FnZVN0cmVhbSwgc2V0dXBNdWx0aXBsZXggfSBmcm9tICdAdG9ydXNsYWJzL29wZW5sb2dpbi1qcnBjJztcbmltcG9ydCBkZWVwbWVyZ2UgZnJvbSAnbG9kYXNoLm1lcmdlJztcbmltcG9ydCB7IHJwY0Vycm9ycywgRXRoZXJldW1Qcm92aWRlckVycm9yIH0gZnJvbSAnQG1ldGFtYXNrL3JwYy1lcnJvcnMnO1xuaW1wb3J0IGRlcXVhbCBmcm9tICdmYXN0LWRlZXAtZXF1YWwnO1xuaW1wb3J0IHB1bXAgZnJvbSAncHVtcCc7XG5pbXBvcnQgbG9nbGV2ZWwgZnJvbSAnbG9nbGV2ZWwnO1xuXG5jb25zdCBXQUxMRVRfVkVSSUZJRVJTID0ge1xuICBHT09HTEU6IFwiZ29vZ2xlXCIsXG4gIEZBQ0VCT09LOiBcImZhY2Vib29rXCIsXG4gIFRXSVRDSDogXCJ0d2l0Y2hcIixcbiAgUkVERElUOiBcInJlZGRpdFwiLFxuICBESVNDT1JEOiBcImRpc2NvcmRcIixcbiAgRU1BSUxfUEFTU1dPUkRMRVNTOiBcInRvcnVzLWF1dGgwLWVtYWlsLXBhc3N3b3JkbGVzc1wiXG59O1xuY29uc3QgV0FMTEVUX09QRU5MT0dJTl9WRVJJRklFUl9NQVAgPSB7XG4gIFtXQUxMRVRfVkVSSUZJRVJTLkdPT0dMRV06IFwidGtleS1nb29nbGVcIixcbiAgW1dBTExFVF9WRVJJRklFUlMuRkFDRUJPT0tdOiBcInRrZXktZmFjZWJvb2tcIixcbiAgW1dBTExFVF9WRVJJRklFUlMuVFdJVENIXTogXCJ0a2V5LXR3aXRjaFwiLFxuICBbV0FMTEVUX1ZFUklGSUVSUy5SRURESVRdOiBcInRrZXktcmVkZGl0XCIsXG4gIFtXQUxMRVRfVkVSSUZJRVJTLkRJU0NPUkRdOiBcInRrZXktZGlzY29yZFwiLFxuICBbV0FMTEVUX1ZFUklGSUVSUy5FTUFJTF9QQVNTV09SRExFU1NdOiBcInRrZXktYXV0aDAtZW1haWwtcGFzc3dvcmRsZXNzXCJcbn07XG5jb25zdCBQQVlNRU5UX1BST1ZJREVSID0ge1xuICBNT09OUEFZOiBcIm1vb25wYXlcIixcbiAgV1lSRTogXCJ3eXJlXCIsXG4gIFJBTVBORVRXT1JLOiBcInJhbXBuZXR3b3JrXCIsXG4gIFhBTlBPT0w6IFwieGFucG9vbFwiLFxuICBNRVJDVVJZTzogXCJtZXJjdXJ5b1wiLFxuICBUUkFOU0FLOiBcInRyYW5zYWtcIixcbiAgQkFOWEE6IFwiYmFueGFcIlxufTtcbmNvbnN0IFNVUFBPUlRFRF9QQVlNRU5UX05FVFdPUksgPSB7XG4gIE1BSU5ORVQ6IFwibWFpbm5ldFwiLFxuICBNQVRJQzogXCJtYXRpY1wiLFxuICBCU0NfTUFJTk5FVDogXCJic2NfbWFpbm5ldFwiLFxuICBBVkFMQU5DSEVfTUFJTk5FVDogXCJhdmFsYW5jaGVfbWFpbm5ldFwiLFxuICBYREFJOiBcInhkYWlcIixcbiAgQVJCSVRSVU1fTUFJTk5FVDogXCJhcmJpdHJ1bV9tYWlubmV0XCIsXG4gIE9QVElNSVNNX01BSU5ORVQ6IFwib3B0aW1pc21fbWFpbm5ldFwiXG59O1xuY29uc3QgVE9SVVNfQlVJTERfRU5WID0ge1xuICBQUk9EVUNUSU9OOiBcInByb2R1Y3Rpb25cIixcbiAgREVWRUxPUE1FTlQ6IFwiZGV2ZWxvcG1lbnRcIixcbiAgQklOQU5DRTogXCJiaW5hbmNlXCIsXG4gIFRFU1RJTkc6IFwidGVzdGluZ1wiLFxuICBMUkM6IFwibHJjXCIsXG4gIEJFVEE6IFwiYmV0YVwiLFxuICBCTkI6IFwiYm5iXCIsXG4gIFBPTFlHT046IFwicG9seWdvblwiLFxuICBBTFBIQTogXCJhbHBoYVwiXG59O1xuY29uc3QgQlVUVE9OX1BPU0lUSU9OID0ge1xuICBCT1RUT01fTEVGVDogXCJib3R0b20tbGVmdFwiLFxuICBUT1BfTEVGVDogXCJ0b3AtbGVmdFwiLFxuICBCT1RUT01fUklHSFQ6IFwiYm90dG9tLXJpZ2h0XCIsXG4gIFRPUF9SSUdIVDogXCJ0b3AtcmlnaHRcIlxufTtcblxuLyoqXG4gKiBGcm9tIGh0dHBzOi8vbWluLWFwaS5jcnlwdG9jb21wYXJlLmNvbS9kYXRhL3YyL3BhaXIvbWFwcGluZy9mc3ltP2ZzeW09QlRDJmV4dHJhUGFyYW1zPVlvdXJTaXRlXG4gKiBHRVQgaHR0cHM6Ly9taW4tYXBpLmNyeXB0b2NvbXBhcmUuY29tL2RhdGEvdjIvcGFpci9tYXBwaW5nL2ZzeW0/ZnN5bT1CVENcbiAqIFRoZW4gbWFwIG92ZXIgcmV0dXJuZWQgZW50cmllcywgcGlja2luZyB0c3ltXG4gKlxuICogTGFzdCB1cGRhdGVkOiBEYXRlIG9mIGNvbW1pdFxuICovXG5jb25zdCBDUllQVE9fQ09NUEFSRV9DVVJSRU5DSUVTID0gW1wiRVRIXCIsIFwiVVNEVFwiLCBcIlVTRENcIiwgXCJUVVNEXCIsIFwiRU9TRFRcIiwgXCJVU0RcIiwgXCJEQUlcIiwgXCJHVVNEXCIsIFwiREtLVFwiLCBcIlBBWFwiLCBcIklMU1wiLCBcIlJVQlwiLCBcIkJZTlwiLCBcIkVVUlwiLCBcIkdCUFwiLCBcIkpQWVwiLCBcIktSV1wiLCBcIlBMTlwiLCBcIk1YTlwiLCBcIkFVRFwiLCBcIkJSTFwiLCBcIkNBRFwiLCBcIkNIRlwiLCBcIktQV1wiLCBcIkxBS1wiLCBcIkxCUFwiLCBcIkxLUlwiLCBcIlhPRlwiLCBcIkNOSFRcIiwgXCJET0dFXCIsIFwiVUFIXCIsIFwiVFJZXCIsIFwiSEtEXCIsIFwiWEpQXCIsIFwiU0dEXCIsIFwiVVNDXCIsIFwiTlpEXCIsIFwiTkdOXCIsIFwiUlVSXCIsIFwiQ09QXCIsIFwiR0hTXCIsIFwiRUdQXCIsIFwiSURSXCIsIFwiQkhEXCIsIFwiQ1JDXCIsIFwiUEVOXCIsIFwiQUVEXCIsIFwiRE9QXCIsIFwiUEtSXCIsIFwiSFVGXCIsIFwiVk5EXCIsIFwiWEFSXCIsIFwiTFRDXCIsIFwiUk9OXCIsIFwiT01SXCIsIFwiTVlSXCIsIFwiREtLXCIsIFwiVUdYXCIsIFwiWk1XXCIsIFwiU0FSXCIsIFwiU0VLXCIsIFwiR0VMXCIsIFwiUldGXCIsIFwiSVJSXCIsIFwiVFpTXCIsIFwiQ05ZXCIsIFwiVkVGXCIsIFwiQkRUXCIsIFwiSFJLXCIsIFwiQ0xQXCIsIFwiVEhCXCIsIFwiWEFGXCIsIFwiQVJTXCIsIFwiVVlVXCIsIFwiU1pMXCIsIFwiS1pUXCIsIFwiTk9LXCIsIFwiS0VTXCIsIFwiUEFCXCIsIFwiSU5SXCIsIFwiQ1pLXCIsIFwiTUFEXCIsIFwiVFdEXCIsIFwiUEhQXCIsIFwiWkFSXCIsIFwiQk9CXCIsIFwiQ0RGXCIsIFwiREFTSFwiLCBcIlZFU1wiLCBcIklTS1wiLCBcIk1XS1wiLCBcIkJBTVwiLCBcIlRURFwiLCBcIlhSUFwiLCBcIkpPRFwiLCBcIlJTRFwiLCBcIkhOTFwiLCBcIkJHTlwiLCBcIkdUUVwiLCBcIkJXUFwiLCBcIlhNUlwiLCBcIk1NS1wiLCBcIlFBUlwiLCBcIkFPQVwiLCBcIktXRFwiLCBcIk1VUlwiLCBcIldVU0RcIiwgXCJXRVVSXCIsIFwiV0FWRVNcIiwgXCJXVFJZXCIsIFwiTFJEXCIsIFwiTFNMXCIsIFwiTFlEXCIsIFwiQVdHXCIsIFwiTURMXCIsIFwiQlRPXCIsIFwiRVVSU1wiLCBcIkNIRlRcIiwgXCJNS0RcIiwgXCJNTlRcIiwgXCJNT1BcIiwgXCJNUk9cIiwgXCJNVlJcIiwgXCJWT0xMQVJcIiwgXCJDS1VTRFwiLCBcIktIUlwiLCBcIlZVVlwiLCBcIkJJVENOWVwiLCBcIlFDXCIsIFwiQkJEXCIsIFwiTkFEXCIsIFwiTlBSXCIsIFwiUEdLXCIsIFwiUFlHXCIsIFwiQklGXCIsIFwiQk1EXCIsIFwiQk5EXCIsIFwiWExNXCIsIFwiQk5CXCIsIFwiU0NSXCIsIFwiQkFUXCIsIFwiQ1JPXCIsIFwiSFRcIiwgXCJLQ1NcIiwgXCJMRU9cIiwgXCJMSU5LXCIsIFwiTUtSXCIsIFwiTlBYU1wiLCBcIk9NR1wiLCBcIlJFUFwiLCBcIlpCXCIsIFwiWklMXCIsIFwiWlJYXCIsIFwiQkNIXCIsIFwiQlpEXCIsIFwiQ1VQXCIsIFwiQ1ZFXCIsIFwiREpGXCIsIFwiRFpEXCIsIFwiRVJOXCIsIFwiRVRCXCIsIFwiRkpEXCIsIFwiRktQXCIsIFwiQlVTRFwiLCBcIkFOQ1RcIiwgXCJBTExcIiwgXCJBTURcIiwgXCJBTkdcIiwgXCJDTllYXCIsIFwiSVFEXCIsIFwiVVpTXCIsIFwiVE5EXCIsIFwiR0dQXCIsIFwiWEFVXCIsIFwiS0dTXCIsIFwiR0lQXCIsIFwiSk1EXCIsIFwiWkVDXCIsIFwiVVNEUFwiLCBcIkJTVlwiLCBcIkVNQzJcIiwgXCJTTlRcIiwgXCJHVE9cIiwgXCJQT1dSXCIsIFwiRVVTRFwiLCBcIkVVUlRcIiwgXCJCQ1lcIiwgXCJCVFNcIiwgXCJBVE1cIiwgXCJCTE9DS1BBWVwiLCBcIkFSRFJcIiwgXCJBTVBcIiwgXCJCMlhcIiwgXCJCSVRHT0xEXCIsIFwiQklURVVSXCIsIFwiQVRCXCIsIFwiQklUVVNEXCIsIFwiQUdSU1wiLCBcIkRGWFRcIiwgXCJISUtFTlwiLCBcIkJJWFwiLCBcIktOQ1wiLCBcIkVPU1wiLCBcIkNPQlwiLCBcIkNPU1NcIiwgXCJCTUhcIiwgXCJOQU5PXCIsIFwiQkRHXCIsIFwiQk5UXCIsIFwiWFZHXCIsIFwiTEtLMVlcIiwgXCJMS0tcIiwgXCJVU0RLXCIsIFwiRVVSTlwiLCBcIk5aRFRcIiwgXCJKU0VcIiwgXCJHTURcIiwgXCJHTkZcIiwgXCJHWURcIiwgXCJZRVJcIiwgXCJYUEZcIiwgXCJIVEdcIiwgXCJTTExcIiwgXCJTT1NcIiwgXCJXU1RcIiwgXCJTVkNcIiwgXCJTWVBcIiwgXCJORU9cIiwgXCJLTUZcIiwgXCJKVU1QXCIsIFwiQVlBXCIsIFwiQkxBU1RcIiwgXCJXR1JcIiwgXCJCQ05cIiwgXCJCVEdcIiwgXCJVUkFMU1wiLCBcIklOTlwiLCBcIlVTRFFcIiwgXCJDTkhcIiwgXCJIVVNEXCIsIFwiQktSV1wiLCBcIk5aRFhcIiwgXCJFVVJYXCIsIFwiQ0FEWFwiLCBcIlVTREVYXCIsIFwiSlBZWFwiLCBcIkFVRFhcIiwgXCJWTkRDXCIsIFwiRU9OXCIsIFwiR0JQWFwiLCBcIkNIRlhcIiwgXCJVU0RKXCIsIFwiSURSVFwiLCBcIlVTRFNcIiwgXCJVU0ROXCIsIFwiQklEUlwiLCBcIklES1wiLCBcIkJTRFwiLCBcIkJUTlwiLCBcIktZRFwiLCBcIk5JT1wiLCBcIlNCRFwiLCBcIlNER1wiLCBcIlNIUFwiLCBcIlRPUFwiLCBcIlhDRFwiLCBcIlhDSEZcIiwgXCJDTllUXCIsIFwiR1lFTlwiLCBcIlpVU0RcIiwgXCJHT0xEXCIsIFwiVFJYXCIsIFwiVFJZQlwiLCBcIlBMQVRDXCIsIFwiU1RSQVhcIiwgXCJVU1RcIiwgXCJHTE1cIiwgXCJWQUlcIiwgXCJCUlpcIiwgXCJERFJTVFwiLCBcIlhBVVRcIiwgXCJNSU1cIl07XG5cbi8qKlxuICogY3VycmVuY2llcyBzdXBwb3J0ZWQgYnkgdGhlIHBheW1lbnQgcHJvdmlkZXJcbiAqIExhc3QgdXBkYXRlZDogRGF0ZSBvZiBjb21taXRcbiAqL1xuY29uc3QgUFJPVklERVJfU1VQUE9SVEVEX0ZJQVRfQ1VSUkVOQ0lFUyA9IHtcbiAgLy8gaHR0cHM6Ly9pbnRlZ3JhdGlvbnMuc2ltcGxleC5jb20vc3VwcG9ydGVkX2N1cnJlbmNpZXNcbiAgLy8gaHR0cHM6Ly9zdXBwb3J0Lm1vb25wYXkuY29tL2hjL2VuLWdiL2FydGljbGVzLzM2MDAxMTkzMTQ1Ny1XaGljaC1maWF0LWN1cnJlbmNpZXMtYXJlLXN1cHBvcnRlZC1cbiAgW1BBWU1FTlRfUFJPVklERVIuTU9PTlBBWV06IFtcIkFVRFwiLCBcIkJHTlwiLCBcIkJSTFwiLCBcIkNBRFwiLCBcIkNIRlwiLCBcIkNOWVwiLCBcIkNPUFwiLCBcIkNaS1wiLCBcIkRLS1wiLCBcIkRPUFwiLCBcIkVHUFwiLCBcIkVVUlwiLCBcIkdCUFwiLCBcIkhLRFwiLCBcIkhSS1wiLCBcIklEUlwiLCBcIklMU1wiLCBcIkpQWVwiLCBcIkpPRFwiLCBcIktFU1wiLCBcIktSV1wiLCBcIktXRFwiLCBcIkxLUlwiLCBcIk1BRFwiLCBcIk1YTlwiLCBcIk1ZUlwiLCBcIk5HTlwiLCBcIk5PS1wiLCBcIk5aRFwiLCBcIk9NUlwiLCBcIlBFTlwiLCBcIlBLUlwiLCBcIlBMTlwiLCBcIlJPTlwiLCBcIlJVQlwiLCBcIlNFS1wiLCBcIlNHRFwiLCBcIlRIQlwiLCBcIlRSWVwiLCBcIlRXRFwiLCBcIlVTRFwiLCBcIlZORFwiLCBcIlpBUlwiXSxcbiAgLyoqXG4gICAqIGh0dHBzOi8vZG9jcy5zZW5kd3lyZS5jb20vZG9jcy9zdXBwb3J0ZWQtY3VycmVuY2llcyNmaWF0XG4gICAqIFRoZSBvbmVzIHdoZXJlIGNyZWRpdCBjYXJkIGlzIHN1cHBvcnRlZFxuICAgKi9cbiAgW1BBWU1FTlRfUFJPVklERVIuV1lSRV06IFtcIlVTRFwiLCBcIkVVUlwiLCBcIkdCUFwiLCBcIkFVRFwiLCBcIkNBRFwiLCBcIk5aRFwiLCBcIkNOWVwiLCBcIkFSU1wiLCBcIkJSTFwiLCBcIkNIRlwiLCBcIkNMUFwiLCBcIkNPUFwiLCBcIkNaS1wiLCBcIkRLS1wiLCBcIkhLRFwiLCBcIklMU1wiLCBcIklOUlwiLCBcIklTS1wiLCBcIkpQWVwiLCBcIktSV1wiLCBcIk1YTlwiLCBcIk1ZUlwiLCBcIk5PS1wiLCBcIlBIUFwiLCBcIlBMTlwiLCBcIlNFS1wiLCBcIlNHRFwiLCBcIlRIQlwiLCBcIlZORFwiLCBcIlpBUlwiXSxcbiAgLy8gaHR0cHM6Ly9zdXBwb3J0LnJhbXAubmV0d29yay9lbi9hcnRpY2xlcy80NzEtc3VwcG9ydGVkLWZpYXQtY3VycmVuY2llc1xuICBbUEFZTUVOVF9QUk9WSURFUi5SQU1QTkVUV09SS106IFtcIlVTRFwiLCBcIkVVUlwiLCBcIkdCUFwiLCBcIkJNRFwiLCBcIkJBTVwiLCBcIkJXUFwiLCBcIkJSTFwiLCBcIkJHTlwiLCBcIkNPUFwiLCBcIkNSQ1wiLCBcIkNaS1wiLCBcIkRLS1wiLCBcIkRPUFwiLCBcIkdFTFwiLCBcIkdUUVwiLCBcIkhOTFwiLCBcIkhVRlwiLCBcIklTS1wiLCBcIklOUlwiLCBcIklMU1wiLCBcIktaVFwiLCBcIktFU1wiLCBcIktXRFwiLCBcIkxBS1wiLCBcIk1LRFwiLCBcIk1ZUlwiLCBcIk1YTlwiLCBcIk1ETFwiLCBcIk1aTlwiLCBcIk5aRFwiLCBcIk5HTlwiLCBcIlBZR1wiLCBcIlBFTlwiLCBcIlBMTlwiLCBcIlJPTlwiLCBcIlJTRFwiLCBcIlNHRFwiLCBcIlpBUlwiLCBcIkxLUlwiLCBcIlNFS1wiLCBcIkNIRlwiLCBcIlRKU1wiLCBcIlRIQlwiLCBcIlVZVVwiXSxcbiAgLy8gRnJvbSBodHRwczovL3hhbnBvb2wuY29tLyBmaWF0IHNlbGVjdCBkcm9wZG93blxuICBbUEFZTUVOVF9QUk9WSURFUi5YQU5QT09MXTogW1wiU0dEXCIsIFwiSEtEXCIsIFwiVEhCXCIsIFwiUEhQXCIsIFwiSU5SXCIsIFwiSURSXCIsIFwiTVlSXCIsIFwiQVVEXCIsIFwiTlpEXCIsIFwiS1JXXCJdLFxuICAvLyBodHRwczovL2hlbHAubWVyY3VyeW8uaW8vZW4vYXJ0aWNsZXMvNjEyMTI0Ni13aGljaC1maWF0LWN1cnJlbmNpZXMtYXJlLXN1cHBvcnRlZFxuICAvLyBSVUIgLyBVQUggY3VycmVudGx5IG5vdCBzdXBwb3J0ZWRcbiAgW1BBWU1FTlRfUFJPVklERVIuTUVSQ1VSWU9dOiBbXCJFVVJcIiwgXCJVU0RcIiwgXCJHQlBcIiwgXCJUUllcIiwgXCJKUFlcIiwgXCJCUkxcIiwgXCJOR05cIiwgXCJWTkRcIiwgXCJNWE5cIiwgXCJLUldcIiwgXCJQTE5cIiwgXCJTRUtcIiwgXCJDSEZcIiwgXCJDQURcIiwgXCJDWktcIiwgXCJES0tcIiwgXCJCR05cIiwgXCJIS0RcIiwgXCJBVURcIiwgXCJJTlJcIl0sXG4gIC8qKlxuICAgKiBodHRwczovL3N1cHBvcnQudHJhbnNhay5jb20vaGMvZW4tdXMvYXJ0aWNsZXMvMzYwMDIwNjE1NTc4LUNyZWRpdC1hbmQtRGViaXQtQ2FyZC1QYXltZW50cy10aHJvdWdoLVRyYW5zYWtcbiAgICogb3JcbiAgICogaHR0cHM6Ly90cmFuc2FrLnN0b3BsaWdodC5pby9kb2NzL3RyYW5zYWstZG9jcy9iM0E2T1RrMU9EUTAtMi1nZXQtZmlhdC1jdXJyZW5jaWVzXG4gICAqL1xuICBbUEFZTUVOVF9QUk9WSURFUi5UUkFOU0FLXTogW1wiQVJTXCIsIFwiQVVEXCIsIFwiQkJEXCIsIFwiQkdOXCIsIFwiQk1EXCIsIFwiQlJMXCIsIFwiQ0FEXCIsIFwiQ0hGXCIsIFwiQ0xQXCIsIFwiQ1JDXCIsIFwiQ1pLXCIsIFwiREtLXCIsIFwiRE9QXCIsIFwiRVVSXCIsIFwiRkpEXCIsIFwiRktQXCIsIFwiR0JQXCIsIFwiR0lQXCIsIFwiSFJLXCIsIFwiSFVGXCIsIFwiSURSXCIsIFwiSUxTXCIsIFwiSVNLXCIsIFwiSk1EXCIsIFwiSlBZXCIsIFwiS0VTXCIsIFwiS1JXXCIsIFwiTURMXCIsIFwiTVhOXCIsIFwiTVlSXCIsIFwiTk9LXCIsIFwiTlpEXCIsIFwiUEVOXCIsIFwiUEhQXCIsIFwiUExOXCIsIFwiUFlHXCIsIFwiUk9OXCIsIFwiU0VLXCIsIFwiU0dEXCIsIFwiVEhCXCIsIFwiVFJZXCIsIFwiVFpTXCIsIFwiVVNEXCIsIFwiWkFSXCJdLFxuICBbUEFZTUVOVF9QUk9WSURFUi5CQU5YQV06IFtcIkFVRFwiLCBcIkNBRFwiLCBcIkNaS1wiLCBcIkRLS1wiLCBcIkVVUlwiLCBcIkdCUFwiLCBcIkhLRFwiLCBcIkpQWVwiLCBcIk5PS1wiLCBcIk5aRFwiLCBcIk5aRFwiLCBcIlBMTlwiLCBcIlJVQlwiLCBcIlNFS1wiLCBcIlNHRFwiLCBcIlRSWVwiLCBcIlVTRFwiXVxufTtcbmNvbnN0IGNyeXB0b0NvbXBhcmVDdXJyZW5jaWVzU2V0ID0gbmV3IFNldChDUllQVE9fQ09NUEFSRV9DVVJSRU5DSUVTKTtcbi8qKlxuICogRmlhdCBjdXJyZW5jaWVzIHRoYXQgd2Ugc3VwcG9ydFxuICovXG5mdW5jdGlvbiBzdXBwb3J0ZWRGaWF0Q3VycmVuY2llcyhwcm92aWRlcikge1xuICBjb25zdCBwcm92aWRlclN1cHBvcnRlZEZpYXRDdXJyZW5jaWVzID0gUFJPVklERVJfU1VQUE9SVEVEX0ZJQVRfQ1VSUkVOQ0lFU1twcm92aWRlcl07XG4gIHJldHVybiBwcm92aWRlclN1cHBvcnRlZEZpYXRDdXJyZW5jaWVzLmZpbHRlcihjdXJyZW5jeSA9PiBjcnlwdG9Db21wYXJlQ3VycmVuY2llc1NldC5oYXMoY3VycmVuY3kpKTtcbn1cblxuY29uc3QgcGF5bWVudFByb3ZpZGVycyQxID0ge1xuICBbUEFZTUVOVF9QUk9WSURFUi5NT09OUEFZXToge1xuICAgIGxpbmUxOiBcIkNyZWRpdC8gRGViaXQgQ2FyZC8gQXBwbGUgUGF5XCIsXG4gICAgbGluZTI6IFwiNC41JSBvciA1IFVTRFwiLFxuICAgIGxpbmUzOiBcIjIsMDAw4oKsL2RheSwgMTAsMDAw4oKsL21vXCIsXG4gICAgc3VwcG9ydFBhZ2U6IFwiaHR0cHM6Ly9oZWxwLm1vb25wYXkuaW8vZW4vXCIsXG4gICAgbWluT3JkZXJWYWx1ZTogMjQuOTksXG4gICAgbWF4T3JkZXJWYWx1ZTogNTAwMDAsXG4gICAgdmFsaWRDdXJyZW5jaWVzOiBzdXBwb3J0ZWRGaWF0Q3VycmVuY2llcyhQQVlNRU5UX1BST1ZJREVSLk1PT05QQVkpLFxuICAgIHZhbGlkQ3J5cHRvQ3VycmVuY2llc0J5Q2hhaW46IHtcbiAgICAgIFtTVVBQT1JURURfUEFZTUVOVF9ORVRXT1JLLk1BSU5ORVRdOiBbe1xuICAgICAgICB2YWx1ZTogXCJhYXZlXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiQUFWRVwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcImJhdFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkJBVFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcImRhaVwiLFxuICAgICAgICBkaXNwbGF5OiBcIkRBSVwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcImV0aFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkVUSFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIm1rclwiLFxuICAgICAgICBkaXNwbGF5OiBcIk1LUlwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIm1hdGljXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiTUFUSUNcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJ1c2R0XCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVVNEVFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcInVuaVwiLFxuICAgICAgICBkaXNwbGF5OiBcIlVOSVwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcInVzZGNcIixcbiAgICAgICAgZGlzcGxheTogXCJVU0RDXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwid2V0aFwiLFxuICAgICAgICBkaXNwbGF5OiBcIldFVEhcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5NQVRJQ106IFt7XG4gICAgICAgIHZhbHVlOiBcImV0aF9wb2x5Z29uXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiRVRIXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwibWF0aWNfcG9seWdvblwiLFxuICAgICAgICBkaXNwbGF5OiBcIk1BVElDXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwidXNkY19wb2x5Z29uXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVVNEQ1wiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcInVzZHRfcG9seWdvblwiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRFRcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5CU0NfTUFJTk5FVF06IFt7XG4gICAgICAgIHZhbHVlOiBcImJuYl9ic2NcIixcbiAgICAgICAgZGlzcGxheTogXCJCTkJcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJidXNkX2JzY1wiLFxuICAgICAgICBkaXNwbGF5OiBcIkJVU0RcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5BVkFMQU5DSEVfTUFJTk5FVF06IFt7XG4gICAgICAgIHZhbHVlOiBcImF2YXhfY2NoYWluXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiQVZBWFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcInVzZGNfY2NoYWluXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVVNEQ1wiXG4gICAgICB9XSxcbiAgICAgIFtTVVBQT1JURURfUEFZTUVOVF9ORVRXT1JLLkFSQklUUlVNX01BSU5ORVRdOiBbe1xuICAgICAgICB2YWx1ZTogXCJldGhfYXJiaXRydW1cIixcbiAgICAgICAgZGlzcGxheTogXCJFVEhcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJ1c2RjX2FyYml0cnVtXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVVNEQ1wiXG4gICAgICB9XSxcbiAgICAgIFtTVVBQT1JURURfUEFZTUVOVF9ORVRXT1JLLk9QVElNSVNNX01BSU5ORVRdOiBbe1xuICAgICAgICB2YWx1ZTogXCJldGhfb3B0aW1pc21cIixcbiAgICAgICAgZGlzcGxheTogXCJFVEhcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJ1c2RjX29wdGltaXNtXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVVNEQ1wiXG4gICAgICB9XVxuICAgIH0sXG4gICAgaW5jbHVkZUZlZXM6IHRydWUsXG4gICAgYXBpOiB0cnVlLFxuICAgIGVuZm9yY2VNYXg6IGZhbHNlXG4gIH0sXG4gIFtQQVlNRU5UX1BST1ZJREVSLldZUkVdOiB7XG4gICAgbGluZTE6IFwiQXBwbGUgUGF5LyBEZWJpdC8gQ3JlZGl0IENhcmRcIixcbiAgICBsaW5lMjogXCI0LjklICsgMzDCoiBvciA1IFVTRFwiLFxuICAgIGxpbmUzOiBcIiQyNTAvZGF5XCIsXG4gICAgc3VwcG9ydFBhZ2U6IFwiaHR0cHM6Ly9zdXBwb3J0LnNlbmR3eXJlLmNvbS9lbi9cIixcbiAgICBtaW5PcmRlclZhbHVlOiA1LFxuICAgIG1heE9yZGVyVmFsdWU6IDUwMCxcbiAgICB2YWxpZEN1cnJlbmNpZXM6IHN1cHBvcnRlZEZpYXRDdXJyZW5jaWVzKFBBWU1FTlRfUFJPVklERVIuV1lSRSksXG4gICAgdmFsaWRDcnlwdG9DdXJyZW5jaWVzQnlDaGFpbjoge1xuICAgICAgW1NVUFBPUlRFRF9QQVlNRU5UX05FVFdPUksuTUFJTk5FVF06IFt7XG4gICAgICAgIHZhbHVlOiBcIkFBVkVcIixcbiAgICAgICAgZGlzcGxheTogXCJBQVZFXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiQ09NUFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkNPTVBcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJCQVRcIixcbiAgICAgICAgZGlzcGxheTogXCJCQVRcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJCVVNEXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiQlVTRFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIkRBSVwiLFxuICAgICAgICBkaXNwbGF5OiBcIkRBSVwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIkVUSFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkVUSFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIldCVENcIixcbiAgICAgICAgZGlzcGxheTogXCJXQlRDXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiTUtSXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiTUtSXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiVU5JXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVU5JXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiV0VUSFwiLFxuICAgICAgICBkaXNwbGF5OiBcIldFVEhcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJVU0RDXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVVNEQ1wiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIlVTRFRcIixcbiAgICAgICAgZGlzcGxheTogXCJVU0RUXCJcbiAgICAgIH1dLFxuICAgICAgW1NVUFBPUlRFRF9QQVlNRU5UX05FVFdPUksuTUFUSUNdOiBbe1xuICAgICAgICB2YWx1ZTogXCJtVVNEQ1wiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRENcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJNQVRJQ1wiLFxuICAgICAgICBkaXNwbGF5OiBcIk1BVElDXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiTVdFVEhcIixcbiAgICAgICAgZGlzcGxheTogXCJXRVRIXCJcbiAgICAgIH1dLFxuICAgICAgW1NVUFBPUlRFRF9QQVlNRU5UX05FVFdPUksuQVZBTEFOQ0hFX01BSU5ORVRdOiBbe1xuICAgICAgICB2YWx1ZTogXCJBVkFYQ1wiLFxuICAgICAgICBkaXNwbGF5OiBcIkFWQVhcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJBVkFYQ1VTRENcIixcbiAgICAgICAgZGlzcGxheTogXCJVU0RDXCJcbiAgICAgIH1dLFxuICAgICAgW1NVUFBPUlRFRF9QQVlNRU5UX05FVFdPUksuQlNDX01BSU5ORVRdOiBbe1xuICAgICAgICB2YWx1ZTogXCJCTkJcIixcbiAgICAgICAgZGlzcGxheTogXCJCTkJcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJCQlVTRFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkJVU0RcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGluY2x1ZGVGZWVzOiBmYWxzZSxcbiAgICBhcGk6IHRydWUsXG4gICAgZW5mb3JjZU1heDogZmFsc2VcbiAgfSxcbiAgW1BBWU1FTlRfUFJPVklERVIuUkFNUE5FVFdPUktdOiB7XG4gICAgbGluZTE6IFwiRGViaXQgQ2FyZC8gPGJyPkFwcGxlIFBheS8gQmFuayB0cmFuc2ZlclwiLFxuICAgIGxpbmUyOiBcIjAuNDklIC0gMi45JVwiLFxuICAgIGxpbmUzOiBcIjUsMDAw4oKsL3B1cmNoYXNlLCAyMCwwMDDigqwvbW9cIixcbiAgICBzdXBwb3J0UGFnZTogXCJodHRwczovL2luc3RhbnQucmFtcC5uZXR3b3JrL1wiLFxuICAgIG1pbk9yZGVyVmFsdWU6IDUwLFxuICAgIG1heE9yZGVyVmFsdWU6IDIwMDAwLFxuICAgIHZhbGlkQ3VycmVuY2llczogc3VwcG9ydGVkRmlhdEN1cnJlbmNpZXMoUEFZTUVOVF9QUk9WSURFUi5SQU1QTkVUV09SSyksXG4gICAgdmFsaWRDcnlwdG9DdXJyZW5jaWVzQnlDaGFpbjoge1xuICAgICAgW1NVUFBPUlRFRF9QQVlNRU5UX05FVFdPUksuTUFJTk5FVF06IFt7XG4gICAgICAgIHZhbHVlOiBcIkVUSFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkVUSFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIkRBSVwiLFxuICAgICAgICBkaXNwbGF5OiBcIkRBSVwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIkJBVFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkJBVFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIlVTRENcIixcbiAgICAgICAgZGlzcGxheTogXCJVU0RDXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiVVNEVFwiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRFRcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5NQVRJQ106IFt7XG4gICAgICAgIHZhbHVlOiBcIk1BVElDX0JBVFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkJBVFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIk1BVElDX0RBSVwiLFxuICAgICAgICBkaXNwbGF5OiBcIkRBSVwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIk1BVElDX01BVElDXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiTUFUSUNcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJNQVRJQ19VU0RDXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVVNEQ1wiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIk1BVElDX1VTRFRcIixcbiAgICAgICAgZGlzcGxheTogXCJVU0RUXCJcbiAgICAgIH1dLFxuICAgICAgW1NVUFBPUlRFRF9QQVlNRU5UX05FVFdPUksuQVZBTEFOQ0hFX01BSU5ORVRdOiBbe1xuICAgICAgICB2YWx1ZTogXCJBVkFYX0FWQVhcIixcbiAgICAgICAgZGlzcGxheTogXCJBVkFYXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiQVZBWF9VU0RDXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVVNEQ1wiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIkFWQVhfVVNEVFwiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRFRcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5BUkJJVFJVTV9NQUlOTkVUXTogW3tcbiAgICAgICAgdmFsdWU6IFwiQVJCSVRSVU1fRVRIXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiRVRIXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiQVJCSVRSVU1fVVNEQy5lXHRcIixcbiAgICAgICAgZGlzcGxheTogXCJVU0RDXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiQVJCSVRSVU1fVVNEVFwiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRFRcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5PUFRJTUlTTV9NQUlOTkVUXTogW3tcbiAgICAgICAgdmFsdWU6IFwiT1BUSU1JU01fREFJXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiREFJXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiT1BUSU1JU01fT1BUSU1JU01cIixcbiAgICAgICAgZGlzcGxheTogXCJPUFRJTUlTTVwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIk9QVElNSVNNX1VTRENcIixcbiAgICAgICAgZGlzcGxheTogXCJVU0RDXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiT1BUSU1JU01fVVNEVFwiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRFRcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5CU0NfTUFJTk5FVF06IFt7XG4gICAgICAgIHZhbHVlOiBcIkJTQ19CTkJcIixcbiAgICAgICAgZGlzcGxheTogXCJCTkJcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJCU0NfQlVTRFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkJVU0RcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGluY2x1ZGVGZWVzOiB0cnVlLFxuICAgIGFwaTogdHJ1ZSxcbiAgICByZWNlaXZlSGludDogXCJ3YWxsZXRUb3BVcC5yZWNlaXZlSGludFJhbXBcIixcbiAgICBlbmZvcmNlTWF4OiBmYWxzZVxuICB9LFxuICBbUEFZTUVOVF9QUk9WSURFUi5YQU5QT09MXToge1xuICAgIGxpbmUxOiBcIlBheU5vdy8gSW5zdGFQYXkvIEZQUy8gR29KZWtQYXkvIFVQSS8gUHJvbXB0UGF5LyA8YnI+VmlldHRlbFBheS8gRHVpdE5vd1wiLFxuICAgIGxpbmUyOiBcIjIuNSUgYnV5aW5nLCAzJSBzZWxsaW5nXCIsXG4gICAgbGluZTM6IFwiJDIsNTAwIC8gZGF5XCIsXG4gICAgc3VwcG9ydFBhZ2U6IFwibWFpbHRvOnN1cHBvcnRAeGFucG9vbC5jb21cIixcbiAgICBtaW5PcmRlclZhbHVlOiAxMDAsXG4gICAgbWF4T3JkZXJWYWx1ZTogMjUwMCxcbiAgICB2YWxpZEN1cnJlbmNpZXM6IHN1cHBvcnRlZEZpYXRDdXJyZW5jaWVzKFBBWU1FTlRfUFJPVklERVIuWEFOUE9PTCksXG4gICAgdmFsaWRDcnlwdG9DdXJyZW5jaWVzQnlDaGFpbjoge1xuICAgICAgW1NVUFBPUlRFRF9QQVlNRU5UX05FVFdPUksuTUFJTk5FVF06IFt7XG4gICAgICAgIHZhbHVlOiBcIkVUSFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkVUSFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIlVTRFRcIixcbiAgICAgICAgZGlzcGxheTogXCJVU0RUXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiVVNEQ1wiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRENcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGluY2x1ZGVGZWVzOiB0cnVlLFxuICAgIGFwaTogdHJ1ZSxcbiAgICBzZWxsOiB0cnVlLFxuICAgIGVuZm9yY2VNYXg6IGZhbHNlXG4gIH0sXG4gIFtQQVlNRU5UX1BST1ZJREVSLk1FUkNVUllPXToge1xuICAgIGxpbmUxOiBcIkNyZWRpdC8gRGViaXQgQ2FyZC8gQXBwbGUgUGF5XCIsXG4gICAgbGluZTI6IFwiMy45NSUgb3IgNCBVU0RcIixcbiAgICBsaW5lMzogXCIxMCwwMDDigqwvZGF5LCAyNSwwMDDigqwvbW9cIixcbiAgICBzdXBwb3J0UGFnZTogXCJtYWlsdG86c3VwcG9ydEBtZXJjdXJ5by5pb1wiLFxuICAgIG1pbk9yZGVyVmFsdWU6IDMwLFxuICAgIG1heE9yZGVyVmFsdWU6IDUwMDAsXG4gICAgdmFsaWRDdXJyZW5jaWVzOiBzdXBwb3J0ZWRGaWF0Q3VycmVuY2llcyhQQVlNRU5UX1BST1ZJREVSLk1FUkNVUllPKSxcbiAgICB2YWxpZENyeXB0b0N1cnJlbmNpZXNCeUNoYWluOiB7XG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5NQUlOTkVUXTogW3tcbiAgICAgICAgdmFsdWU6IFwiRVRIXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiRVRIXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiQkFUXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiQkFUXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiVVNEVFwiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRFRcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJEQUlcIixcbiAgICAgICAgZGlzcGxheTogXCJEQUlcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5CU0NfTUFJTk5FVF06IFt7XG4gICAgICAgIHZhbHVlOiBcIkJOQlwiLFxuICAgICAgICBkaXNwbGF5OiBcIkJOQlwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIkJVU0RcIixcbiAgICAgICAgZGlzcGxheTogXCJCVVNEXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiMUlOQ0hcIixcbiAgICAgICAgZGlzcGxheTogXCIxSU5DSFwiXG4gICAgICB9XSxcbiAgICAgIFtTVVBQT1JURURfUEFZTUVOVF9ORVRXT1JLLkFWQUxBTkNIRV9NQUlOTkVUXTogW3tcbiAgICAgICAgdmFsdWU6IFwiQVZBWFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkFWQVhcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5NQVRJQ106IFt7XG4gICAgICAgIHZhbHVlOiBcIk1BVElDXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiTUFUSUNcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGluY2x1ZGVGZWVzOiB0cnVlLFxuICAgIGFwaTogdHJ1ZSxcbiAgICBlbmZvcmNlTWF4OiBmYWxzZVxuICB9LFxuICBbUEFZTUVOVF9QUk9WSURFUi5UUkFOU0FLXToge1xuICAgIGxpbmUxOiBcIkFwcGxlICYgR29vZ2xlIFBheSAvIENyZWRpdC9EZWJpdCBDYXJkPGJyLz5CYW5na29rIEJhbmsgTW9iaWxlICYgaVBheTxici8+QmFuayBUcmFuc2ZlciAoc2VwYS9nYnApIC8gU0NCIE1vYmlsZSAmIEVhc3lcIixcbiAgICBsaW5lMjogXCIwLjk5JSAtIDUuNSUgb3IgNSBVU0RcIixcbiAgICBsaW5lMzogXCIkNSwwMDAvZGF5LCAkMjgsMDAwL21vXCIsXG4gICAgc3VwcG9ydFBhZ2U6IFwiaHR0cHM6Ly9zdXBwb3J0LnRyYW5zYWsuY29tL2hjL2VuLVVTXCIsXG4gICAgbWluT3JkZXJWYWx1ZTogMzAsXG4gICAgbWF4T3JkZXJWYWx1ZTogNTAwLFxuICAgIHZhbGlkQ3VycmVuY2llczogc3VwcG9ydGVkRmlhdEN1cnJlbmNpZXMoUEFZTUVOVF9QUk9WSURFUi5UUkFOU0FLKSxcbiAgICB2YWxpZENyeXB0b0N1cnJlbmNpZXNCeUNoYWluOiB7XG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5NQUlOTkVUXTogW3tcbiAgICAgICAgdmFsdWU6IFwiMUlOQ0hcIixcbiAgICAgICAgZGlzcGxheTogXCIxSU5DSFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIkJBVFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkJBVFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIkFBVkVcIixcbiAgICAgICAgZGlzcGxheTogXCJBQVZFXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiREFJXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiREFJXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiRVRIXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiRVRIXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiVVNEQ1wiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRENcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJVU0RUXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVVNEVFwiXG4gICAgICB9XSxcbiAgICAgIFtTVVBQT1JURURfUEFZTUVOVF9ORVRXT1JLLk1BVElDXTogW3tcbiAgICAgICAgdmFsdWU6IFwiQkFUXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiQkFUXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiQUFWRVwiLFxuICAgICAgICBkaXNwbGF5OiBcIkFBVkVcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJEQUlcIixcbiAgICAgICAgZGlzcGxheTogXCJEQUlcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJNQVRJQ1wiLFxuICAgICAgICBkaXNwbGF5OiBcIk1BVElDXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiVVNEQ1wiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRENcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJVU0RUXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiVVNEVFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIldFVEhcIixcbiAgICAgICAgZGlzcGxheTogXCJXRVRIXCJcbiAgICAgIH1dLFxuICAgICAgW1NVUFBPUlRFRF9QQVlNRU5UX05FVFdPUksuQlNDX01BSU5ORVRdOiBbe1xuICAgICAgICB2YWx1ZTogXCJCQVRcIixcbiAgICAgICAgZGlzcGxheTogXCJCQVRcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJCTkJcIixcbiAgICAgICAgZGlzcGxheTogXCJCTkJcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJCVVNEXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiQlVTRFwiXG4gICAgICB9XSxcbiAgICAgIFtTVVBQT1JURURfUEFZTUVOVF9ORVRXT1JLLkFWQUxBTkNIRV9NQUlOTkVUXTogW3tcbiAgICAgICAgdmFsdWU6IFwiQVZBWFwiLFxuICAgICAgICBkaXNwbGF5OiBcIkFWQVhcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5PUFRJTUlTTV9NQUlOTkVUXTogW3tcbiAgICAgICAgdmFsdWU6IFwiRVRIXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiRVRIXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiVVNEQ1wiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRENcIlxuICAgICAgfV0sXG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5BUkJJVFJVTV9NQUlOTkVUXTogW3tcbiAgICAgICAgdmFsdWU6IFwiVVNEQ1wiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRENcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJFVEhcIixcbiAgICAgICAgZGlzcGxheTogXCJFVEhcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGluY2x1ZGVGZWVzOiB0cnVlLFxuICAgIGVuZm9yY2VNYXg6IHRydWVcbiAgfSxcbiAgW1BBWU1FTlRfUFJPVklERVIuQkFOWEFdOiB7XG4gICAgbGluZTE6IFwiRGViaXQgQ2FyZC8gPGJyPkFwcGxlIFBheS8gQmFuayB0cmFuc2ZlclwiLFxuICAgIGxpbmUyOiBcIjAuNDklIC0gMi45JVwiLFxuICAgIGxpbmUzOiBcIjUsMDAw4oKsL3B1cmNoYXNlLCAyMCwwMDDigqwvbW9cIixcbiAgICBzdXBwb3J0UGFnZTogXCJodHRwczovL3N1cHBvcnQuYmFueGEuY29tXCIsXG4gICAgbWluT3JkZXJWYWx1ZTogMjAsXG4gICAgbWF4T3JkZXJWYWx1ZTogMTUwMDAsXG4gICAgdmFsaWRDdXJyZW5jaWVzOiBzdXBwb3J0ZWRGaWF0Q3VycmVuY2llcyhQQVlNRU5UX1BST1ZJREVSLkJBTlhBKSxcbiAgICB2YWxpZENyeXB0b0N1cnJlbmNpZXNCeUNoYWluOiB7XG4gICAgICBbU1VQUE9SVEVEX1BBWU1FTlRfTkVUV09SSy5NQUlOTkVUXTogW3tcbiAgICAgICAgdmFsdWU6IFwiRVRIXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiRVRIXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiREFJXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiREFJXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiTUtSXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiTUtSXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiVVNEVFwiLFxuICAgICAgICBkaXNwbGF5OiBcIlVTRFRcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJCVVNEXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiQlVTRFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIlVTRENcIixcbiAgICAgICAgZGlzcGxheTogXCJVU0RDXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiQkFUXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiQkFUXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsdWU6IFwiQUFWRVwiLFxuICAgICAgICBkaXNwbGF5OiBcIkFBVkVcIlxuICAgICAgfSwge1xuICAgICAgICB2YWx1ZTogXCJDT01QXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiQ09NUFwiXG4gICAgICB9LCB7XG4gICAgICAgIHZhbHVlOiBcIlVOSVwiLFxuICAgICAgICBkaXNwbGF5OiBcIlVOSVwiXG4gICAgICB9XSxcbiAgICAgIFtTVVBQT1JURURfUEFZTUVOVF9ORVRXT1JLLk1BVElDXTogW3tcbiAgICAgICAgdmFsdWU6IFwiTUFUSUNcIixcbiAgICAgICAgZGlzcGxheTogXCJNQVRJQ1wiXG4gICAgICB9XVxuICAgICAgLy8gW0JTQ19NQUlOTkVUXTogW3sgdmFsdWU6ICdCTkInLCBkaXNwbGF5OiAnQk5CJyB9XSxcbiAgICB9LFxuXG4gICAgaW5jbHVkZUZlZXM6IHRydWUsXG4gICAgZW5mb3JjZU1heDogdHJ1ZVxuICB9XG59O1xuY29uc3QgdHJhbnNsYXRpb25zID0ge1xuICBlbjoge1xuICAgIGVtYmVkOiB7XG4gICAgICBjb250aW51ZTogXCJDb250aW51ZVwiLFxuICAgICAgYWN0aW9uUmVxdWlyZWQ6IFwiQXV0aG9yaXphdGlvbiByZXF1aXJlZFwiLFxuICAgICAgcGVuZGluZ0FjdGlvbjogXCJDbGljayBjb250aW51ZSB0byBwcm9jZWVkIHdpdGggeW91ciByZXF1ZXN0IGluIGEgcG9wdXBcIixcbiAgICAgIGNvb2tpZXNSZXF1aXJlZDogXCJDb29raWVzIFJlcXVpcmVkXCIsXG4gICAgICBlbmFibGVDb29raWVzOiBcIlBsZWFzZSBlbmFibGUgY29va2llcyBpbiB5b3VyIGJyb3dzZXIgcHJlZmVyZW5jZXMgdG8gYWNjZXNzIFRvcnVzXCIsXG4gICAgICBjbGlja0hlcmU6IFwiTW9yZSBJbmZvXCJcbiAgICB9XG4gIH0sXG4gIGRlOiB7XG4gICAgZW1iZWQ6IHtcbiAgICAgIGNvbnRpbnVlOiBcIkZvcnRzZXR6ZW5cIixcbiAgICAgIGFjdGlvblJlcXVpcmVkOiBcIkF1dG9yaXNpZXJ1bmcgZXJmb3JkZXJsaWNoXCIsXG4gICAgICBwZW5kaW5nQWN0aW9uOiBcIktsaWNrZW4gU2llIGluIGVpbmVtIFBvcHVwIGF1ZiBXZWl0ZXIsIHVtIG1pdCBJaHJlciBBbmZyYWdlIGZvcnR6dWZhaHJlblwiLFxuICAgICAgY29va2llc1JlcXVpcmVkOiBcIkNvb2tpZXMgYmVuw7Z0aWd0XCIsXG4gICAgICBlbmFibGVDb29raWVzOiBcIkJpdHRlIGFrdGl2aWVyZW4gU2llIENvb2tpZXMgaW4gSWhyZW4gQnJvd3NlcmVpbnN0ZWxsdW5nZW4sIHVtIGF1ZiBUb3J1cyB6dXp1Z3JlaWZlblwiLFxuICAgICAgY2xpY2tIZXJlOiBcIk1laHIgSW5mb1wiXG4gICAgfVxuICB9LFxuICBqYToge1xuICAgIGVtYmVkOiB7XG4gICAgICBjb250aW51ZTogXCLntpnntprjgZnjgotcIixcbiAgICAgIGFjdGlvblJlcXVpcmVkOiBcIuiqjeiovOOBjOW/heimgeOBp+OBmVwiLFxuICAgICAgcGVuZGluZ0FjdGlvbjogXCLntprooYzjgpLjgq/jg6rjg4Pjgq/jgZfjgabjgIHjg53jg4Pjg5fjgqLjg4Pjg5fjgafjg6rjgq/jgqjjgrnjg4jjgpLntprooYzjgZfjgb7jgZlcIixcbiAgICAgIGNvb2tpZXNSZXF1aXJlZDogXCLlv4XopoHjgarjgq/jg4Pjgq3jg7xcIixcbiAgICAgIGVuYWJsZUNvb2tpZXM6IFwiVG9ydXPjgavjgqLjgq/jgrvjgrnjgZnjgovjgavjga/jgIHjg5bjg6njgqbjgrbjga7oqK3lrprjgadDb29raWXjgpLmnInlirnjgavjgZfjgabjgY/jgaDjgZXjgYTjgIJcIixcbiAgICAgIGNsaWNrSGVyZTogXCLoqbPjgZfjgY/jga9cIlxuICAgIH1cbiAgfSxcbiAga286IHtcbiAgICBlbWJlZDoge1xuICAgICAgY29udGludWU6IFwi6rOE7IaN7ZWY64ukXCIsXG4gICAgICBhY3Rpb25SZXF1aXJlZDogXCLsirnsnbgg7ZWE7JqUXCIsXG4gICAgICBwZW5kaW5nQWN0aW9uOiBcIu2MneyXheyXkOyEnCDsmpTssq3snYQg7KeE7ZaJ7ZWY66Ck66m0IOqzhOyGjeydhCDtgbTrpq3tlZjsi63si5zsmKQuXCIsXG4gICAgICBjb29raWVzUmVxdWlyZWQ6IFwi7L+g7YKkIO2VhOyalFwiLFxuICAgICAgZW5hYmxlQ29va2llczogXCLruIzrnbzsmrDsoIAg7ZmY6rK9IOyEpOygleyXkOyEnCDsv6DtgqTrpbwg7Zmc7ISx7ZmU7ZWY7JesIFRvcnVz7JeQIOyVoeyEuOyKpO2VmOyLreyLnOyYpC5cIixcbiAgICAgIGNsaWNrSGVyZTogXCLrjZQg66eO7J2AIOygleuztFwiXG4gICAgfVxuICB9LFxuICB6aDoge1xuICAgIGVtYmVkOiB7XG4gICAgICBjb250aW51ZTogXCLnu6fnu61cIixcbiAgICAgIGFjdGlvblJlcXVpcmVkOiBcIumcgOimgeaOiOadg1wiLFxuICAgICAgcGVuZGluZ0FjdGlvbjogXCLljZXlh7vnu6fnu63ku6XlnKjlvLnlh7rnqpflj6PkuK3nu6fnu63mgqjnmoTor7fmsYJcIixcbiAgICAgIGNvb2tpZXNSZXF1aXJlZDogXCLlv4XloatDb29raWVcIixcbiAgICAgIGVuYWJsZUNvb2tpZXM6IFwi6K+35Zyo5oKo55qE5rWP6KeI5Zmo6aaW6YCJ6aG55Lit5ZCv55SoY29va2ll5Lul6K6/6ZeuVG9ydXPjgIJcIixcbiAgICAgIGNsaWNrSGVyZTogXCLmm7TlpJrkv6Hmga9cIlxuICAgIH1cbiAgfVxufTtcbnZhciBjb25maWd1cmF0aW9uID0ge1xuICBzdXBwb3J0ZWRWZXJpZmllckxpc3Q6IE9iamVjdC52YWx1ZXMoV0FMTEVUX1ZFUklGSUVSUyksXG4gIHBheW1lbnRQcm92aWRlcnM6IHBheW1lbnRQcm92aWRlcnMkMSxcbiAgYXBpOiBcImh0dHBzOi8vYXBpLnRvci51c1wiLFxuICB0cmFuc2xhdGlvbnMsXG4gIHByb2RUb3J1c1VybDogXCJcIixcbiAgbG9jYWxTdG9yYWdlS2V5UHJlZml4OiBgdG9ydXMtYFxufTtcblxuY29uc3QgaHRtbFRvRWxlbWVudCA9IGh0bWwgPT4ge1xuICBjb25zdCB0ZW1wbGF0ZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gIGNvbnN0IHRyaW1tZWRIdG1sID0gaHRtbC50cmltKCk7IC8vIE5ldmVyIHJldHVybiBhIHRleHQgbm9kZSBvZiB3aGl0ZXNwYWNlIGFzIHRoZSByZXN1bHRcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdHJpbW1lZEh0bWw7XG4gIHJldHVybiB0ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG59O1xuY29uc3QgaGFuZGxlU3RyZWFtID0gKGhhbmRsZSwgZXZlbnROYW1lLCBoYW5kbGVyKSA9PiB7XG4gIGNvbnN0IGhhbmRsZXJXcmFwcGVyID0gY2h1bmsgPT4ge1xuICAgIGhhbmRsZXIoY2h1bmspO1xuICAgIGhhbmRsZS5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXJXcmFwcGVyKTtcbiAgfTtcbiAgaGFuZGxlLm9uKGV2ZW50TmFtZSwgaGFuZGxlcldyYXBwZXIpO1xufTtcblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuZnVuY3Rpb24gaXNTdHJlYW0oc3RyZWFtKSB7XG4gIHJldHVybiBzdHJlYW0gIT09IG51bGwgJiYgdHlwZW9mIHN0cmVhbSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygc3RyZWFtLnBpcGUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGlzV3JpdGFibGVTdHJlYW0oc3RyZWFtKSB7XG4gIHJldHVybiBpc1N0cmVhbShzdHJlYW0pICYmIHN0cmVhbS53cml0YWJsZSAhPT0gZmFsc2UgJiYgdHlwZW9mIHN0cmVhbS5fd3JpdGUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygc3RyZWFtLl93cml0YWJsZVN0YXRlID09PSBcIm9iamVjdFwiO1xufVxuZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcbiAgcmV0dXJuIGlzU3RyZWFtKHN0cmVhbSkgJiYgc3RyZWFtLnJlYWRhYmxlICE9PSBmYWxzZSAmJiB0eXBlb2Ygc3RyZWFtLl9yZWFkID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHN0cmVhbS5fcmVhZGFibGVTdGF0ZSA9PT0gXCJvYmplY3RcIjtcbn1cbmZ1bmN0aW9uIGlzRHVwbGV4U3RyZWFtKHN0cmVhbSkge1xuICByZXR1cm4gaXNXcml0YWJsZVN0cmVhbShzdHJlYW0pICYmIGlzUmVhZGFibGVTdHJlYW0oc3RyZWFtKTtcbn1cblxudmFyIGxvZyA9IGxvZ2xldmVsLmdldExvZ2dlcihcInRvcnVzLWVtYmVkXCIpO1xuXG52YXIgbWVzc2FnZXMgPSB7XG4gIGVycm9yczoge1xuICAgIGRpc2Nvbm5lY3RlZDogKCkgPT4gXCJUb3J1czogTG9zdCBjb25uZWN0aW9uIHRvIFRvcnVzLlwiLFxuICAgIHBlcm1hbmVudGx5RGlzY29ubmVjdGVkOiAoKSA9PiBcIlRvcnVzOiBEaXNjb25uZWN0ZWQgZnJvbSBpZnJhbWUuIFBhZ2UgcmVsb2FkIHJlcXVpcmVkLlwiLFxuICAgIHNlbmRTaXRlTWV0YWRhdGE6ICgpID0+IFwiVG9ydXM6IEZhaWxlZCB0byBzZW5kIHNpdGUgbWV0YWRhdGEuIFRoaXMgaXMgYW4gaW50ZXJuYWwgZXJyb3IsIHBsZWFzZSByZXBvcnQgdGhpcyBidWcuXCIsXG4gICAgdW5zdXBwb3J0ZWRTeW5jOiBtZXRob2QgPT4gYFRvcnVzOiBUaGUgVG9ydXMgRXRoZXJldW0gcHJvdmlkZXIgZG9lcyBub3Qgc3VwcG9ydCBzeW5jaHJvbm91cyBtZXRob2RzIGxpa2UgJHttZXRob2R9IHdpdGhvdXQgYSBjYWxsYmFjayBwYXJhbWV0ZXIuYCxcbiAgICBpbnZhbGlkRHVwbGV4U3RyZWFtOiAoKSA9PiBcIk11c3QgcHJvdmlkZSBhIE5vZGUuanMtc3R5bGUgZHVwbGV4IHN0cmVhbS5cIixcbiAgICBpbnZhbGlkT3B0aW9uczogKG1heEV2ZW50TGlzdGVuZXJzLCBzaG91bGRTZW5kTWV0YWRhdGEpID0+IGBJbnZhbGlkIG9wdGlvbnMuIFJlY2VpdmVkOiB7IG1heEV2ZW50TGlzdGVuZXJzOiAke21heEV2ZW50TGlzdGVuZXJzfSwgc2hvdWxkU2VuZE1ldGFkYXRhOiAke3Nob3VsZFNlbmRNZXRhZGF0YX0gfWAsXG4gICAgaW52YWxpZFJlcXVlc3RBcmdzOiAoKSA9PiBgRXhwZWN0ZWQgYSBzaW5nbGUsIG5vbi1hcnJheSwgb2JqZWN0IGFyZ3VtZW50LmAsXG4gICAgaW52YWxpZFJlcXVlc3RNZXRob2Q6ICgpID0+IGAnYXJncy5tZXRob2QnIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nLmAsXG4gICAgaW52YWxpZFJlcXVlc3RQYXJhbXM6ICgpID0+IGAnYXJncy5wYXJhbXMnIG11c3QgYmUgYW4gb2JqZWN0IG9yIGFycmF5IGlmIHByb3ZpZGVkLmAsXG4gICAgaW52YWxpZExvZ2dlck9iamVjdDogKCkgPT4gYCdhcmdzLmxvZ2dlcicgbXVzdCBiZSBhbiBvYmplY3QgaWYgcHJvdmlkZWQuYCxcbiAgICBpbnZhbGlkTG9nZ2VyTWV0aG9kOiBtZXRob2QgPT4gYCdhcmdzLmxvZ2dlcicgbXVzdCBpbmNsdWRlIHJlcXVpcmVkIG1ldGhvZCAnJHttZXRob2R9Jy5gXG4gIH0sXG4gIGluZm86IHtcbiAgICBjb25uZWN0ZWQ6IGNoYWluSWQgPT4gYFRvcnVzOiBDb25uZWN0ZWQgdG8gY2hhaW4gd2l0aCBJRCBcIiR7Y2hhaW5JZH1cIi5gXG4gIH0sXG4gIHdhcm5pbmdzOiB7XG4gICAgLy8gZGVwcmVjYXRlZCBtZXRob2RzXG4gICAgZW5hYmxlRGVwcmVjYXRpb246ICdUb3J1czogXCJcImV0aGVyZXVtLmVuYWJsZSgpXCIgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gJyArICdQbGVhc2UgdXNlIFwiZXRoZXJldW0uc2VuZChcImV0aF9yZXF1ZXN0QWNjb3VudHNcIilcIiBpbnN0ZWFkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlOiBodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTExMDInLFxuICAgIHNlbmREZXByZWNhdGlvbjogJ1RvcnVzOiBcImV0aGVyZXVtLnNlbmQoLi4uKVwiIGlzIGRlcHJlY2F0ZWQgYW5kIG1heSBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuJyArICcgUGxlYXNlIHVzZSBcImV0aGVyZXVtLnNlbmRBc3luYyguLi4pXCIgb3IgXCJldGhlcmV1bS5yZXF1ZXN0KC4uLilcIiBpbnN0ZWFkLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTE5MydcbiAgfVxufTtcblxuY29uc3Qge1xuICBwYXltZW50UHJvdmlkZXJzXG59ID0gY29uZmlndXJhdGlvbjtcbmNvbnN0IHZhbGlkYXRlUGF5bWVudFByb3ZpZGVyID0gKHByb3ZpZGVyLCBwYXJhbXMpID0+IHtcbiAgY29uc3QgZXJyb3JzID0ge307XG4gIGlmICghcHJvdmlkZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3JzLFxuICAgICAgaXNWYWxpZDogdHJ1ZVxuICAgIH07XG4gIH1cbiAgaWYgKHByb3ZpZGVyICYmICFwYXltZW50UHJvdmlkZXJzW3Byb3ZpZGVyXSkge1xuICAgIGVycm9ycy5wcm92aWRlciA9IFwiSW52YWxpZCBQcm92aWRlclwiO1xuICAgIHJldHVybiB7XG4gICAgICBlcnJvcnMsXG4gICAgICBpc1ZhbGlkOiBPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCA9PT0gMFxuICAgIH07XG4gIH1cbiAgY29uc3Qgc2VsZWN0ZWRQcm92aWRlciA9IHBheW1lbnRQcm92aWRlcnNbcHJvdmlkZXJdO1xuICBjb25zdCBzZWxlY3RlZFBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcblxuICAvLyBzZXQgZGVmYXVsdCB2YWx1ZXNcbiAgLy8gaWYgKCFzZWxlY3RlZFBhcmFtcy5zZWxlY3RlZEN1cnJlbmN5KSBbc2VsZWN0ZWRQYXJhbXMuc2VsZWN0ZWRDdXJyZW5jeV0gPSBzZWxlY3RlZFByb3ZpZGVyLnZhbGlkQ3VycmVuY2llc1xuICAvLyBpZiAoIXNlbGVjdGVkUGFyYW1zLmZpYXRWYWx1ZSkgc2VsZWN0ZWRQYXJhbXMuZmlhdFZhbHVlID0gc2VsZWN0ZWRQcm92aWRlci5taW5PcmRlclZhbHVlXG4gIC8vIGlmICghc2VsZWN0ZWRQYXJhbXMuc2VsZWN0ZWRDcnlwdG9DdXJyZW5jeSkgW3NlbGVjdGVkUGFyYW1zLnNlbGVjdGVkQ3J5cHRvQ3VycmVuY3ldID0gc2VsZWN0ZWRQcm92aWRlci52YWxpZENyeXB0b0N1cnJlbmNpZXNcblxuICAvLyB2YWxpZGF0aW9uc1xuICBpZiAoc2VsZWN0ZWRQYXJhbXMuZmlhdFZhbHVlKSB7XG4gICAgY29uc3QgcmVxdWVzdGVkT3JkZXJBbW91bnQgPSArcGFyc2VGbG9hdChzZWxlY3RlZFBhcmFtcy5maWF0VmFsdWUudG9TdHJpbmcoKSkgfHwgMDtcbiAgICBpZiAocmVxdWVzdGVkT3JkZXJBbW91bnQgPCBzZWxlY3RlZFByb3ZpZGVyLm1pbk9yZGVyVmFsdWUpIGVycm9ycy5maWF0VmFsdWUgPSBcIlJlcXVlc3RlZCBhbW91bnQgaXMgbG93ZXIgdGhhbiBzdXBwb3J0ZWRcIjtcbiAgICBpZiAocmVxdWVzdGVkT3JkZXJBbW91bnQgPiBzZWxlY3RlZFByb3ZpZGVyLm1heE9yZGVyVmFsdWUgJiYgc2VsZWN0ZWRQcm92aWRlci5lbmZvcmNlTWF4KSBlcnJvcnMuZmlhdFZhbHVlID0gXCJSZXF1ZXN0ZWQgYW1vdW50IGlzIGhpZ2hlciB0aGFuIHN1cHBvcnRlZFwiO1xuICB9XG4gIGlmIChzZWxlY3RlZFBhcmFtcy5zZWxlY3RlZEN1cnJlbmN5ICYmICFzZWxlY3RlZFByb3ZpZGVyLnZhbGlkQ3VycmVuY2llcy5pbmNsdWRlcyhzZWxlY3RlZFBhcmFtcy5zZWxlY3RlZEN1cnJlbmN5KSkge1xuICAgIGVycm9ycy5zZWxlY3RlZEN1cnJlbmN5ID0gXCJVbnN1cHBvcnRlZCBjdXJyZW5jeVwiO1xuICB9XG4gIGlmIChzZWxlY3RlZFBhcmFtcy5zZWxlY3RlZENyeXB0b0N1cnJlbmN5KSB7XG4gICAgY29uc3QgdmFsaWRDcnlwdG9DdXJyZW5jaWVzQnlDaGFpbiA9IE9iamVjdC52YWx1ZXMoc2VsZWN0ZWRQcm92aWRlci52YWxpZENyeXB0b0N1cnJlbmNpZXNCeUNoYWluKS5mbGF0KCkubWFwKGN1cnJlbmN5ID0+IGN1cnJlbmN5LnZhbHVlKTtcbiAgICBjb25zdCBmaW5hbENyeXB0b0N1cnJlbmN5ID0gcHJvdmlkZXIgPT09IFBBWU1FTlRfUFJPVklERVIuTU9PTlBBWSA/IHNlbGVjdGVkUGFyYW1zLnNlbGVjdGVkQ3J5cHRvQ3VycmVuY3kudG9Mb3dlckNhc2UoKSA6IHNlbGVjdGVkUGFyYW1zLnNlbGVjdGVkQ3J5cHRvQ3VycmVuY3k7XG4gICAgaWYgKHZhbGlkQ3J5cHRvQ3VycmVuY2llc0J5Q2hhaW4gJiYgIXZhbGlkQ3J5cHRvQ3VycmVuY2llc0J5Q2hhaW4uaW5jbHVkZXMoZmluYWxDcnlwdG9DdXJyZW5jeSkpIGVycm9ycy5zZWxlY3RlZENyeXB0b0N1cnJlbmN5ID0gXCJVbnN1cHBvcnRlZCBjcnlwdG9DdXJyZW5jeVwiO1xuICB9XG4gIHJldHVybiB7XG4gICAgZXJyb3JzLFxuICAgIGlzVmFsaWQ6IE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoID09PSAwXG4gIH07XG59O1xuXG4vLyB1dGlsaXR5IGZ1bmN0aW9uc1xuXG4vKipcbiAqIGpzb24tcnBjLWVuZ2luZSBtaWRkbGV3YXJlIHRoYXQgbG9ncyBSUEMgZXJyb3JzIGFuZCBhbmQgdmFsaWRhdGVzIHJlcS5tZXRob2QuXG4gKlxuICogQHBhcmFtIGxvZyAtIFRoZSBsb2dnaW5nIEFQSSB0byB1c2UuXG4gKiBAcmV0dXJucyAganNvbi1ycGMtZW5naW5lIG1pZGRsZXdhcmUgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRXJyb3JNaWRkbGV3YXJlKCkge1xuICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgLy8ganNvbi1ycGMtZW5naW5lIHdpbGwgdGVybWluYXRlIHRoZSByZXF1ZXN0IHdoZW4gaXQgbm90aWNlcyB0aGlzIGVycm9yXG4gICAgaWYgKHR5cGVvZiByZXEubWV0aG9kICE9PSBcInN0cmluZ1wiIHx8ICFyZXEubWV0aG9kKSB7XG4gICAgICByZXMuZXJyb3IgPSBycGNFcnJvcnMuaW52YWxpZFJlcXVlc3Qoe1xuICAgICAgICBtZXNzYWdlOiBgVGhlIHJlcXVlc3QgJ21ldGhvZCcgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuYCxcbiAgICAgICAgZGF0YTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXEgfHwge30pLCB7fSwge1xuICAgICAgICAgIGNhdXNlOiBcIlRoZSByZXF1ZXN0ICdtZXRob2QnIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nLlwiXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgbmV4dChkb25lID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZXJyb3JcbiAgICAgIH0gPSByZXM7XG4gICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICB9XG4gICAgICBsb2cuZXJyb3IoYE1ldGFNYXNrIC0gUlBDIEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuLyoqXG4gKiBMb2dzIGEgc3RyZWFtIGRpc2Nvbm5lY3Rpb24gZXJyb3IuIEVtaXRzIGFuICdlcnJvcicgaWYgZ2l2ZW4gYW5cbiAqIEV2ZW50RW1pdHRlciB0aGF0IGhhcyBsaXN0ZW5lcnMgZm9yIHRoZSAnZXJyb3InIGV2ZW50LlxuICpcbiAqIEBwYXJhbSBsb2cgLSBUaGUgbG9nZ2luZyBBUEkgdG8gdXNlLlxuICogQHBhcmFtIHJlbW90ZUxhYmVsIC0gVGhlIGxhYmVsIG9mIHRoZSBkaXNjb25uZWN0ZWQgc3RyZWFtLlxuICogQHBhcmFtIGVycm9yIC0gVGhlIGFzc29jaWF0ZWQgZXJyb3IgdG8gbG9nLlxuICogQHBhcmFtIGVtaXR0ZXIgLSBUaGUgbG9nZ2luZyBBUEkgdG8gdXNlLlxuICovXG5mdW5jdGlvbiBsb2dTdHJlYW1EaXNjb25uZWN0V2FybmluZyhyZW1vdGVMYWJlbCwgZXJyb3IsIGVtaXR0ZXIpIHtcbiAgbGV0IHdhcm5pbmdNc2cgPSBgTWV0YU1hc2s6IExvc3QgY29ubmVjdGlvbiB0byBcIiR7cmVtb3RlTGFiZWx9XCIuYDtcbiAgaWYgKGVycm9yICE9PSBudWxsICYmIGVycm9yICE9PSB2b2lkIDAgJiYgZXJyb3Iuc3RhY2spIHtcbiAgICB3YXJuaW5nTXNnICs9IGBcXG4ke2Vycm9yLnN0YWNrfWA7XG4gIH1cbiAgbG9nLndhcm4od2FybmluZ01zZyk7XG4gIGlmIChlbWl0dGVyICYmIGVtaXR0ZXIubGlzdGVuZXJDb3VudChcImVycm9yXCIpID4gMCkge1xuICAgIGVtaXR0ZXIuZW1pdChcImVycm9yXCIsIHdhcm5pbmdNc2cpO1xuICB9XG59XG5jb25zdCBnZXRQcmVvcGVuSW5zdGFuY2VJZCA9ICgpID0+IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuY29uc3QgZ2V0VG9ydXNVcmwgPSBhc3luYyAoYnVpbGRFbnYsIGludGVncml0eSkgPT4ge1xuICBsZXQgdG9ydXNVcmw7XG4gIGxldCBsb2dMZXZlbDtcbiAgLy8gRG8gbm90IGNoYW5nZSB0aGlzIGxpbmVcbiAgY29uc3QgdmVyc2lvbiA9IFwiNC4wLjhcIjtcbiAgbGV0IHZlcnNpb25Vc2VkID0gaW50ZWdyaXR5LnZlcnNpb24gfHwgdmVyc2lvbjtcbiAgdHJ5IHtcbiAgICBpZiAoKGJ1aWxkRW52ID09PSBcImJpbmFuY2VcIiB8fCBidWlsZEVudiA9PT0gXCJwcm9kdWN0aW9uXCIpICYmICFpbnRlZ3JpdHkudmVyc2lvbikge1xuICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgaWYgKCFjb25maWd1cmF0aW9uLnByb2RUb3J1c1VybCkgcmVzcG9uc2UgPSBhd2FpdCBnZXQoYCR7Y29uZmlndXJhdGlvbi5hcGl9L2xhdGVzdHZlcnNpb24/bmFtZT1AdG9ydXNsYWJzL3RvcnVzLWVtYmVkJnZlcnNpb249JHt2ZXJzaW9ufWAsIHt9LCB7XG4gICAgICAgIHVzZUFQSUtleTogdHJ1ZVxuICAgICAgfSk7ZWxzZSByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogY29uZmlndXJhdGlvbi5wcm9kVG9ydXNVcmxcbiAgICAgIH07XG4gICAgICB2ZXJzaW9uVXNlZCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS1hdG9taWMtdXBkYXRlc1xuICAgICAgY29uZmlndXJhdGlvbi5wcm9kVG9ydXNVcmwgPSByZXNwb25zZS5kYXRhO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2cuZXJyb3IoZXJyb3IsIFwidW5hYmxlIHRvIGZldGNoIGxhdGVzdCB2ZXJzaW9uXCIpO1xuICB9XG4gIGxvZy5pbmZvKFwidmVyc2lvbiB1c2VkOiBcIiwgdmVyc2lvblVzZWQpO1xuICBzd2l0Y2ggKGJ1aWxkRW52KSB7XG4gICAgY2FzZSBcImJpbmFuY2VcIjpcbiAgICAgIHRvcnVzVXJsID0gYGh0dHBzOi8vYmluYW5jZS50b3IudXMvdiR7dmVyc2lvblVzZWR9YDtcbiAgICAgIGxvZ0xldmVsID0gXCJpbmZvXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwidGVzdGluZ1wiOlxuICAgICAgdG9ydXNVcmwgPSBcImh0dHBzOi8vdGVzdGluZy50b3IudXNcIjtcbiAgICAgIGxvZ0xldmVsID0gXCJkZWJ1Z1wiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImJuYlwiOlxuICAgICAgdG9ydXNVcmwgPSBcImh0dHBzOi8vYm5iLnRvci51c1wiO1xuICAgICAgbG9nTGV2ZWwgPSBcImVycm9yXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwicG9seWdvblwiOlxuICAgICAgdG9ydXNVcmwgPSBcImh0dHBzOi8vcG9seWdvbi50b3IudXNcIjtcbiAgICAgIGxvZ0xldmVsID0gXCJlcnJvclwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxyY1wiOlxuICAgICAgdG9ydXNVcmwgPSBcImh0dHBzOi8vbHJjLnRvci51c1wiO1xuICAgICAgbG9nTGV2ZWwgPSBcImRlYnVnXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYmV0YVwiOlxuICAgICAgdG9ydXNVcmwgPSBcImh0dHBzOi8vYmV0YS50b3IudXNcIjtcbiAgICAgIGxvZ0xldmVsID0gXCJkZWJ1Z1wiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImRldmVsb3BtZW50XCI6XG4gICAgICB0b3J1c1VybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo0MDUwXCI7XG4gICAgICBsb2dMZXZlbCA9IFwiZGVidWdcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJhbHBoYVwiOlxuICAgICAgdG9ydXNVcmwgPSBcImh0dHBzOi8vYWxwaGEudG9yLnVzXCI7XG4gICAgICBsb2dMZXZlbCA9IFwiZGVidWdcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0b3J1c1VybCA9IGBodHRwczovL2FwcC50b3IudXMvdiR7dmVyc2lvblVzZWR9YDtcbiAgICAgIGxvZ0xldmVsID0gXCJlcnJvclwiO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0b3J1c1VybCxcbiAgICBsb2dMZXZlbFxuICB9O1xufTtcbmNvbnN0IGdldFVzZXJMYW5ndWFnZSA9ICgpID0+IHtcbiAgbGV0IHVzZXJMYW5ndWFnZSA9IHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgXCJlbi1VU1wiO1xuICBjb25zdCB1c2VyTGFuZ3VhZ2VzID0gdXNlckxhbmd1YWdlLnNwbGl0KFwiLVwiKTtcbiAgdXNlckxhbmd1YWdlID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZ3VyYXRpb24udHJhbnNsYXRpb25zLCB1c2VyTGFuZ3VhZ2VzWzBdKSA/IHVzZXJMYW5ndWFnZXNbMF0gOiBcImVuXCI7XG4gIHJldHVybiB1c2VyTGFuZ3VhZ2U7XG59O1xuY29uc3QgRU1JVFRFRF9OT1RJRklDQVRJT05TID0gW1wiZXRoX3N1YnNjcmlwdGlvblwiIC8vIHBlciBldGgtanNvbi1ycGMtZmlsdGVycy9zdWJzY3JpcHRpb25NYW5hZ2VyXG5dO1xuXG5jb25zdCBOT09QID0gKCkgPT4ge1xuICAvLyBlbXB0eSBmdW5jdGlvblxufTtcbmNvbnN0IEZFQVRVUkVTX1BST1ZJREVSX0NIQU5HRV9XSU5ET1cgPSBcImRpcmVjdG9yaWVzPTAsdGl0bGViYXI9MCx0b29sYmFyPTAsc3RhdHVzPTAsbG9jYXRpb249MCxtZW51YmFyPTAsaGVpZ2h0PTY2MCx3aWR0aD0zNzVcIjtcbmNvbnN0IEZFQVRVUkVTX0RFRkFVTFRfV0FMTEVUX1dJTkRPVyA9IFwiZGlyZWN0b3JpZXM9MCx0aXRsZWJhcj0wLHRvb2xiYXI9MCxzdGF0dXM9MCxsb2NhdGlvbj0wLG1lbnViYXI9MCxoZWlnaHQ9NzQwLHdpZHRoPTEzMTVcIjtcbmNvbnN0IEZFQVRVUkVTX0NPTkZJUk1fV0lORE9XID0gXCJkaXJlY3Rvcmllcz0wLHRpdGxlYmFyPTAsdG9vbGJhcj0wLHN0YXR1cz0wLGxvY2F0aW9uPTAsbWVudWJhcj0wLGhlaWdodD03MDAsd2lkdGg9NDUwXCI7XG5mdW5jdGlvbiBnZXRQb3B1cEZlYXR1cmVzKCkge1xuICAvLyBGaXhlcyBkdWFsLXNjcmVlbiBwb3NpdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9zdCBicm93c2VycyAgICAgIEZpcmVmb3hcbiAgY29uc3QgZHVhbFNjcmVlbkxlZnQgPSB3aW5kb3cuc2NyZWVuTGVmdCAhPT0gdW5kZWZpbmVkID8gd2luZG93LnNjcmVlbkxlZnQgOiB3aW5kb3cuc2NyZWVuWDtcbiAgY29uc3QgZHVhbFNjcmVlblRvcCA9IHdpbmRvdy5zY3JlZW5Ub3AgIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JlZW5Ub3AgOiB3aW5kb3cuc2NyZWVuWTtcbiAgY29uc3QgdyA9IDEyMDA7XG4gIGNvbnN0IGggPSA3MDA7XG4gIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGggPyB3aW5kb3cuaW5uZXJXaWR0aCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA6IHdpbmRvdy5zY3JlZW4ud2lkdGg7XG4gIGNvbnN0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCA/IHdpbmRvdy5pbm5lckhlaWdodCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IDogd2luZG93LnNjcmVlbi5oZWlnaHQ7XG4gIGNvbnN0IHN5c3RlbVpvb20gPSAxOyAvLyBObyByZWxpYWJsZSBlc3RpbWF0ZVxuXG4gIGNvbnN0IGxlZnQgPSBNYXRoLmFicygod2lkdGggLSB3KSAvIDIgLyBzeXN0ZW1ab29tICsgZHVhbFNjcmVlbkxlZnQpO1xuICBjb25zdCB0b3AgPSBNYXRoLmFicygoaGVpZ2h0IC0gaCkgLyAyIC8gc3lzdGVtWm9vbSArIGR1YWxTY3JlZW5Ub3ApO1xuICBjb25zdCBmZWF0dXJlcyA9IGB0aXRsZWJhcj0wLHRvb2xiYXI9MCxzdGF0dXM9MCxsb2NhdGlvbj0wLG1lbnViYXI9MCxoZWlnaHQ9JHtoIC8gc3lzdGVtWm9vbX0sd2lkdGg9JHt3IC8gc3lzdGVtWm9vbX0sdG9wPSR7dG9wfSxsZWZ0PSR7bGVmdH1gO1xuICByZXR1cm4gZmVhdHVyZXM7XG59XG5cblNhZmVFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwMDtcblxuLy8gcmVzb2x2ZSByZXNwb25zZS5yZXN1bHQsIHJlamVjdCBlcnJvcnNcbmNvbnN0IGdldFJwY1Byb21pc2VDYWxsYmFjayA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgbGV0IHVud3JhcFJlc3VsdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTtcbiAgcmV0dXJuIChlcnJvciwgcmVzcG9uc2UpID0+IHtcbiAgICBpZiAoZXJyb3IgfHwgcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgIHJldHVybiByZWplY3QoZXJyb3IgfHwgcmVzcG9uc2UuZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gIXVud3JhcFJlc3VsdCB8fCBBcnJheS5pc0FycmF5KHJlc3BvbnNlKSA/IHJlc29sdmUocmVzcG9uc2UpIDogcmVzb2x2ZShyZXNwb25zZS5yZXN1bHQpO1xuICB9O1xufTtcbmNsYXNzIFRvcnVzSW5wYWdlUHJvdmlkZXIgZXh0ZW5kcyBTYWZlRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoY29ubmVjdGlvblN0cmVhbSkge1xuICAgIGxldCB7XG4gICAgICBtYXhFdmVudExpc3RlbmVycyA9IDEwMCxcbiAgICAgIHNob3VsZFNlbmRNZXRhZGF0YSA9IHRydWUsXG4gICAgICBqc29uUnBjU3RyZWFtTmFtZSA9IFwicHJvdmlkZXJcIlxuICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHN1cGVyKCk7XG4gICAgLyoqXG4gICAgICogVGhlIGNoYWluIElEIG9mIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIEV0aGVyZXVtIGNoYWluLlxuICAgICAqIFNlZSBbY2hhaW5JZC5uZXR3b3JrXXtAbGluayBodHRwczovL2NoYWluaWQubmV0d29ya30gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhaW5JZFwiLCB2b2lkIDApO1xuICAgIC8qKlxuICAgICAqIFRoZSB1c2VyJ3MgY3VycmVudGx5IHNlbGVjdGVkIEV0aGVyZXVtIGFkZHJlc3MuXG4gICAgICogSWYgbnVsbCwgTWV0YU1hc2sgaXMgZWl0aGVyIGxvY2tlZCBvciB0aGUgdXNlciBoYXMgbm90IHBlcm1pdHRlZCBhbnlcbiAgICAgKiBhZGRyZXNzZXMgdG8gYmUgdmlld2VkLlxuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlbGVjdGVkQWRkcmVzc1wiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9ycGNFbmdpbmVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJuZXR3b3JrVmVyc2lvblwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNob3VsZFNlbmRNZXRhZGF0YVwiLCB2b2lkIDApO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRpbmcgdGhhdCB0aGlzIHByb3ZpZGVyIGlzIGEgTWV0YU1hc2sgcHJvdmlkZXIuXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNUb3J1c1wiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRyeVByZW9wZW5IYW5kbGVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbmFibGVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3RhdGVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfanNvblJwY0Nvbm5lY3Rpb25cIiwgdm9pZCAwKTtcbiAgICBpZiAoIWlzRHVwbGV4U3RyZWFtKGNvbm5lY3Rpb25TdHJlYW0pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZXMuZXJyb3JzLmludmFsaWREdXBsZXhTdHJlYW0oKSk7XG4gICAgfVxuICAgIHRoaXMuaXNUb3J1cyA9IHRydWU7XG4gICAgdGhpcy5zZXRNYXhMaXN0ZW5lcnMobWF4RXZlbnRMaXN0ZW5lcnMpO1xuXG4gICAgLy8gcHJpdmF0ZSBzdGF0ZVxuICAgIHRoaXMuX3N0YXRlID0gX29iamVjdFNwcmVhZCh7fSwgVG9ydXNJbnBhZ2VQcm92aWRlci5fZGVmYXVsdFN0YXRlKTtcblxuICAgIC8vIHB1YmxpYyBzdGF0ZVxuICAgIHRoaXMuc2VsZWN0ZWRBZGRyZXNzID0gbnVsbDtcbiAgICB0aGlzLm5ldHdvcmtWZXJzaW9uID0gbnVsbDtcbiAgICB0aGlzLmNoYWluSWQgPSBudWxsO1xuICAgIHRoaXMuc2hvdWxkU2VuZE1ldGFkYXRhID0gc2hvdWxkU2VuZE1ldGFkYXRhO1xuXG4gICAgLy8gYmluZCBmdW5jdGlvbnMgKHRvIHByZXZlbnQgZS5nLiB3ZWIzQDEueCBmcm9tIG1ha2luZyB1bmJvdW5kIGNhbGxzKVxuICAgIHRoaXMuX2hhbmRsZUFjY291bnRzQ2hhbmdlZCA9IHRoaXMuX2hhbmRsZUFjY291bnRzQ2hhbmdlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUNoYWluQ2hhbmdlZCA9IHRoaXMuX2hhbmRsZUNoYWluQ2hhbmdlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZVVubG9ja1N0YXRlQ2hhbmdlZCA9IHRoaXMuX2hhbmRsZVVubG9ja1N0YXRlQ2hhbmdlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUNvbm5lY3QgPSB0aGlzLl9oYW5kbGVDb25uZWN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlRGlzY29ubmVjdCA9IHRoaXMuX2hhbmRsZURpc2Nvbm5lY3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVTdHJlYW1EaXNjb25uZWN0ID0gdGhpcy5faGFuZGxlU3RyZWFtRGlzY29ubmVjdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3NlbmRTeW5jID0gdGhpcy5fc2VuZFN5bmMuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ycGNSZXF1ZXN0ID0gdGhpcy5fcnBjUmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2luaXRpYWxpemVTdGF0ZSA9IHRoaXMuX2luaXRpYWxpemVTdGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVxdWVzdCA9IHRoaXMucmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2VuZCA9IHRoaXMuc2VuZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2VuZEFzeW5jID0gdGhpcy5zZW5kQXN5bmMuYmluZCh0aGlzKTtcbiAgICAvLyB0aGlzLmVuYWJsZSA9IHRoaXMuZW5hYmxlLmJpbmQodGhpcyk7XG5cbiAgICAvLyBzZXR1cCBjb25uZWN0aW9uU3RyZWFtIG11bHRpcGxleGluZ1xuICAgIGNvbnN0IG11eCA9IG5ldyBPYmplY3RNdWx0aXBsZXgoKTtcbiAgICBwdW1wKGNvbm5lY3Rpb25TdHJlYW0sIG11eCwgY29ubmVjdGlvblN0cmVhbSwgdGhpcy5faGFuZGxlU3RyZWFtRGlzY29ubmVjdC5iaW5kKHRoaXMsIFwiTWV0YU1hc2tcIikpO1xuXG4gICAgLy8gaWdub3JlIHBoaXNoaW5nIHdhcm5pbmcgbWVzc2FnZSAoaGFuZGxlZCBlbHNld2hlcmUpXG4gICAgbXV4Lmlnbm9yZVN0cmVhbShcInBoaXNoaW5nXCIpO1xuXG4gICAgLy8gc2V0dXAgb3duIGV2ZW50IGxpc3RlbmVyc1xuXG4gICAgLy8gRUlQLTExOTMgY29ubmVjdFxuICAgIHRoaXMub24oXCJjb25uZWN0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8vIGNvbm5lY3QgdG8gYXN5bmMgcHJvdmlkZXJcblxuICAgIGNvbnN0IGpzb25ScGNDb25uZWN0aW9uID0gY3JlYXRlU3RyZWFtTWlkZGxld2FyZSgpO1xuICAgIHB1bXAoanNvblJwY0Nvbm5lY3Rpb24uc3RyZWFtLCBtdXguY3JlYXRlU3RyZWFtKGpzb25ScGNTdHJlYW1OYW1lKSwganNvblJwY0Nvbm5lY3Rpb24uc3RyZWFtLCB0aGlzLl9oYW5kbGVTdHJlYW1EaXNjb25uZWN0LmJpbmQodGhpcywgXCJNZXRhTWFzayBScGNQcm92aWRlclwiKSk7XG5cbiAgICAvLyBoYW5kbGUgUlBDIHJlcXVlc3RzIHZpYSBkYXBwLXNpZGUgcnBjIGVuZ2luZVxuICAgIGNvbnN0IHJwY0VuZ2luZSA9IG5ldyBKUlBDRW5naW5lKCk7XG4gICAgcnBjRW5naW5lLnB1c2goY3JlYXRlSWRSZW1hcE1pZGRsZXdhcmUoKSk7XG4gICAgcnBjRW5naW5lLnB1c2goY3JlYXRlRXJyb3JNaWRkbGV3YXJlKCkpO1xuICAgIHJwY0VuZ2luZS5wdXNoKGpzb25ScGNDb25uZWN0aW9uLm1pZGRsZXdhcmUpO1xuICAgIHRoaXMuX3JwY0VuZ2luZSA9IHJwY0VuZ2luZTtcblxuICAgIC8vIGpzb24gcnBjIG5vdGlmaWNhdGlvbiBsaXN0ZW5lclxuICAgIGpzb25ScGNDb25uZWN0aW9uLmV2ZW50cy5vbihcIm5vdGlmaWNhdGlvblwiLCBwYXlsb2FkID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBwYXJhbXNcbiAgICAgIH0gPSBwYXlsb2FkO1xuICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ3YWxsZXRfYWNjb3VudHNDaGFuZ2VkXCIpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkKHBhcmFtcyk7XG4gICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJ3YWxsZXRfdW5sb2NrU3RhdGVDaGFuZ2VkXCIpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlVW5sb2NrU3RhdGVDaGFuZ2VkKHBhcmFtcyk7XG4gICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJ3YWxsZXRfY2hhaW5DaGFuZ2VkXCIpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2hhaW5DaGFuZ2VkKHBhcmFtcyk7XG4gICAgICB9IGVsc2UgaWYgKEVNSVRURURfTk9USUZJQ0FUSU9OUy5pbmNsdWRlcyhwYXlsb2FkLm1ldGhvZCkpIHtcbiAgICAgICAgLy8gRUlQIDExOTMgc3Vic2NyaXB0aW9ucywgcGVyIGV0aC1qc29uLXJwYy1maWx0ZXJzL3N1YnNjcmlwdGlvbk1hbmFnZXJcbiAgICAgICAgdGhpcy5lbWl0KFwiZGF0YVwiLCBwYXlsb2FkKTsgLy8gZGVwcmVjYXRlZFxuICAgICAgICB0aGlzLmVtaXQoXCJub3RpZmljYXRpb25cIiwgcGFyYW1zLnJlc3VsdCk7XG4gICAgICAgIHRoaXMuZW1pdChcIm1lc3NhZ2VcIiwge1xuICAgICAgICAgIHR5cGU6IG1ldGhvZCxcbiAgICAgICAgICBkYXRhOiBwYXJhbXNcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgZm9yIG9sZGVyIG5vbiBFSVAgMTE5MyBzdWJzY3JpcHRpb25zXG4gICAgICAvLyB0aGlzLmVtaXQoJ2RhdGEnLCBudWxsLCBwYXlsb2FkKVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgaW5wYWdlIHByb3ZpZGVyIGlzIGNvbm5lY3RlZCB0byBUb3J1cy5cbiAgICovXG4gIGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZS5pc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJtaXRzIGFuIFJQQyByZXF1ZXN0IGZvciB0aGUgZ2l2ZW4gbWV0aG9kLCB3aXRoIHRoZSBnaXZlbiBwYXJhbXMuXG4gICAqIFJlc29sdmVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbWV0aG9kIGNhbGwsIG9yIHJlamVjdHMgb24gZXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIFJQQyByZXF1ZXN0IGFyZ3VtZW50cy5cbiAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBSUEMgbWV0aG9kLFxuICAgKiBvciByZWplY3RzIGlmIGFuIGVycm9yIGlzIGVuY291bnRlcmVkLlxuICAgKi9cbiAgYXN5bmMgcmVxdWVzdChhcmdzKSB7XG4gICAgaWYgKCFhcmdzIHx8IHR5cGVvZiBhcmdzICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkoYXJncykpIHtcbiAgICAgIHRocm93IHJwY0Vycm9ycy5pbnZhbGlkUmVxdWVzdCh7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VzLmVycm9ycy5pbnZhbGlkUmVxdWVzdEFyZ3MoKSxcbiAgICAgICAgZGF0YTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhcmdzIHx8IHt9KSwge30sIHtcbiAgICAgICAgICBjYXVzZTogbWVzc2FnZXMuZXJyb3JzLmludmFsaWRSZXF1ZXN0QXJncygpXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgbWV0aG9kLFxuICAgICAgcGFyYW1zXG4gICAgfSA9IGFyZ3M7XG4gICAgaWYgKHR5cGVvZiBtZXRob2QgIT09IFwic3RyaW5nXCIgfHwgbWV0aG9kLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgcnBjRXJyb3JzLmludmFsaWRSZXF1ZXN0KHtcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZXMuZXJyb3JzLmludmFsaWRSZXF1ZXN0TWV0aG9kKCksXG4gICAgICAgIGRhdGE6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYXJncyB8fCB7fSksIHt9LCB7XG4gICAgICAgICAgY2F1c2U6IG1lc3NhZ2VzLmVycm9ycy5pbnZhbGlkUmVxdWVzdEFyZ3MoKVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChwYXJhbXMgIT09IHVuZGVmaW5lZCAmJiAhQXJyYXkuaXNBcnJheShwYXJhbXMpICYmICh0eXBlb2YgcGFyYW1zICE9PSBcIm9iamVjdFwiIHx8IHBhcmFtcyA9PT0gbnVsbCkpIHtcbiAgICAgIHRocm93IHJwY0Vycm9ycy5pbnZhbGlkUmVxdWVzdCh7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VzLmVycm9ycy5pbnZhbGlkUmVxdWVzdFBhcmFtcygpLFxuICAgICAgICBkYXRhOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGFyZ3MgfHwge30pLCB7fSwge1xuICAgICAgICAgIGNhdXNlOiBtZXNzYWdlcy5lcnJvcnMuaW52YWxpZFJlcXVlc3RBcmdzKClcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fcnBjUmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcGFyYW1zXG4gICAgICB9LCBnZXRScGNQcm9taXNlQ2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0KSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3VibWl0cyBhbiBSUEMgcmVxdWVzdCBwZXIgdGhlIGdpdmVuIEpTT04tUlBDIHJlcXVlc3Qgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gcGF5bG9hZCAtIFRoZSBSUEMgcmVxdWVzdCBvYmplY3QuXG4gICAqIEBwYXJhbSBjYiAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICovXG4gIHNlbmRBc3luYyhwYXlsb2FkLCBjYWxsYmFjaykge1xuICAgIHRoaXMuX3JwY1JlcXVlc3QocGF5bG9hZCwgY2FsbGJhY2spO1xuICB9XG5cbiAgLy8gUHJpdmF0ZSBNZXRob2RzXG4gIC8vPSA9PT09PT09PT09PT09PT09PT09XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBoZWxwZXIuXG4gICAqIFBvcHVsYXRlcyBpbml0aWFsIHN0YXRlIGJ5IGNhbGxpbmcgJ3dhbGxldF9nZXRQcm92aWRlclN0YXRlJyBhbmQgZW1pdHNcbiAgICogbmVjZXNzYXJ5IGV2ZW50cy5cbiAgICovXG4gIGFzeW5jIF9pbml0aWFsaXplU3RhdGUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgYWNjb3VudHMsXG4gICAgICAgIGNoYWluSWQsXG4gICAgICAgIGlzVW5sb2NrZWQsXG4gICAgICAgIG5ldHdvcmtWZXJzaW9uXG4gICAgICB9ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiBcIndhbGxldF9nZXRQcm92aWRlclN0YXRlXCJcbiAgICAgIH0pO1xuXG4gICAgICAvLyBpbmRpY2F0ZSB0aGF0IHdlJ3ZlIGNvbm5lY3RlZCwgZm9yIEVJUC0xMTkzIGNvbXBsaWFuY2VcbiAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RcIiwge1xuICAgICAgICBjaGFpbklkXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYWluQ2hhbmdlZCh7XG4gICAgICAgIGNoYWluSWQsXG4gICAgICAgIG5ldHdvcmtWZXJzaW9uXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2hhbmRsZVVubG9ja1N0YXRlQ2hhbmdlZCh7XG4gICAgICAgIGFjY291bnRzLFxuICAgICAgICBpc1VubG9ja2VkXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2hhbmRsZUFjY291bnRzQ2hhbmdlZChhY2NvdW50cyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZy5lcnJvcihcIk1ldGFNYXNrOiBGYWlsZWQgdG8gZ2V0IGluaXRpYWwgc3RhdGUuIFBsZWFzZSByZXBvcnQgdGhpcyBidWcuXCIsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgbG9nLmluZm8oXCJpbml0aWFsaXplZCBzdGF0ZVwiKTtcbiAgICAgIHRoaXMuX3N0YXRlLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZW1pdChcIl9pbml0aWFsaXplZFwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJuYWwgUlBDIG1ldGhvZC4gRm9yd2FyZHMgcmVxdWVzdHMgdG8gYmFja2dyb3VuZCB2aWEgdGhlIFJQQyBlbmdpbmUuXG4gICAqIEFsc28gcmVtYXAgaWRzIGluYm91bmQgYW5kIG91dGJvdW5kLlxuICAgKlxuICAgKiBAcGFyYW0gcGF5bG9hZCAtIFRoZSBSUEMgcmVxdWVzdCBvYmplY3QuXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBjb25zdW1lcidzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0gaXNJbnRlcm5hbCAtIGZhbHNlIC0gV2hldGhlciB0aGUgcmVxdWVzdCBpcyBpbnRlcm5hbC5cbiAgICovXG4gIF9ycGNSZXF1ZXN0KHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgbGV0IGlzSW50ZXJuYWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICAgIGxldCBjYiA9IGNhbGxiYWNrO1xuICAgIGNvbnN0IF9wYXlsb2FkID0gcGF5bG9hZDtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoX3BheWxvYWQpKSB7XG4gICAgICBpZiAoIV9wYXlsb2FkLmpzb25ycGMpIHtcbiAgICAgICAgX3BheWxvYWQuanNvbnJwYyA9IFwiMi4wXCI7XG4gICAgICB9XG4gICAgICBpZiAoX3BheWxvYWQubWV0aG9kID09PSBcImV0aF9hY2NvdW50c1wiIHx8IF9wYXlsb2FkLm1ldGhvZCA9PT0gXCJldGhfcmVxdWVzdEFjY291bnRzXCIpIHtcbiAgICAgICAgLy8gaGFuZGxlIGFjY291bnRzIGNoYW5naW5nXG4gICAgICAgIGNiID0gKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkKHJlcy5yZXN1bHQgfHwgW10sIF9wYXlsb2FkLm1ldGhvZCA9PT0gXCJldGhfYWNjb3VudHNcIiwgaXNJbnRlcm5hbCk7XG4gICAgICAgICAgY2FsbGJhY2soZXJyLCByZXMpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChfcGF5bG9hZC5tZXRob2QgPT09IFwid2FsbGV0X2dldFByb3ZpZGVyU3RhdGVcIikge1xuICAgICAgICB0aGlzLl9ycGNFbmdpbmUuaGFuZGxlKHBheWxvYWQsIGNiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnRyeVByZW9wZW5IYW5kbGUoX3BheWxvYWQsIGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJtaXRzIGFuIFJQQyByZXF1ZXN0IGZvciB0aGUgZ2l2ZW4gbWV0aG9kLCB3aXRoIHRoZSBnaXZlbiBwYXJhbXMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBcInJlcXVlc3RcIiBpbnN0ZWFkLlxuICAgKiBAcGFyYW0gbWV0aG9kIC0gVGhlIG1ldGhvZCB0byByZXF1ZXN0LlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gQW55IHBhcmFtcyBmb3IgdGhlIG1ldGhvZC5cbiAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgSlNPTi1SUEMgcmVzcG9uc2Ugb2JqZWN0IGZvciB0aGVcbiAgICogcmVxdWVzdC5cbiAgICovXG5cbiAgLyoqXG4gICAqIFN1Ym1pdHMgYW4gUlBDIHJlcXVlc3QgcGVyIHRoZSBnaXZlbiBKU09OLVJQQyByZXF1ZXN0IG9iamVjdC5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgVXNlIFwicmVxdWVzdFwiIGluc3RlYWQuXG4gICAqIEBwYXJhbSBwYXlsb2FkIC0gQSBKU09OLVJQQyByZXF1ZXN0IG9iamVjdC5cbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gQW4gZXJyb3ItZmlyc3QgY2FsbGJhY2sgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIEpTT04tUlBDXG4gICAqIHJlc3BvbnNlIG9iamVjdC5cbiAgICovXG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgYSBKU09OLVJQQyByZXF1ZXN0IG9iamVjdCwgYW5kIHN5bmNocm9ub3VzbHkgcmV0dXJucyB0aGUgY2FjaGVkIHJlc3VsdFxuICAgKiBmb3IgdGhlIGdpdmVuIG1ldGhvZC4gT25seSBzdXBwb3J0cyA0IHNwZWNpZmljIFJQQyBtZXRob2RzLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgXCJyZXF1ZXN0XCIgaW5zdGVhZC5cbiAgICogQHBhcmFtIHBheWxvYWQgLSBBIEpTT04tUlBDIHJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcmV0dXJucyBBIEpTT04tUlBDIHJlc3BvbnNlIG9iamVjdC5cbiAgICovXG5cbiAgc2VuZChtZXRob2RPclBheWxvYWQsIGNhbGxiYWNrT3JBcmdzKSB7XG4gICAgaWYgKHR5cGVvZiBtZXRob2RPclBheWxvYWQgPT09IFwic3RyaW5nXCIgJiYgKCFjYWxsYmFja09yQXJncyB8fCBBcnJheS5pc0FycmF5KGNhbGxiYWNrT3JBcmdzKSkpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5fcnBjUmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZE9yUGF5bG9hZCxcbiAgICAgICAgICAgIHBhcmFtczogY2FsbGJhY2tPckFyZ3NcbiAgICAgICAgICB9LCBnZXRScGNQcm9taXNlQ2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBmYWxzZSkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAobWV0aG9kT3JQYXlsb2FkICYmIHR5cGVvZiBtZXRob2RPclBheWxvYWQgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGNhbGxiYWNrT3JBcmdzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9ycGNSZXF1ZXN0KG1ldGhvZE9yUGF5bG9hZCwgY2FsbGJhY2tPckFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc2VuZFN5bmMobWV0aG9kT3JQYXlsb2FkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBERVBSRUNBVEVELlxuICAgKiBJbnRlcm5hbCBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBtZXRob2QsIHVzZWQgaW4gc2VuZC5cbiAgICovXG4gIF9zZW5kU3luYyhwYXlsb2FkKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBzd2l0Y2ggKHBheWxvYWQubWV0aG9kKSB7XG4gICAgICBjYXNlIFwiZXRoX2FjY291bnRzXCI6XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuc2VsZWN0ZWRBZGRyZXNzID8gW3RoaXMuc2VsZWN0ZWRBZGRyZXNzXSA6IFtdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJldGhfY29pbmJhc2VcIjpcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5zZWxlY3RlZEFkZHJlc3MgfHwgbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZXRoX3VuaW5zdGFsbEZpbHRlclwiOlxuICAgICAgICB0aGlzLl9ycGNSZXF1ZXN0KHBheWxvYWQsIE5PT1ApO1xuICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJuZXRfdmVyc2lvblwiOlxuICAgICAgICByZXN1bHQgPSB0aGlzLm5ldHdvcmtWZXJzaW9uIHx8IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2VzLmVycm9ycy51bnN1cHBvcnRlZFN5bmMocGF5bG9hZC5tZXRob2QpKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwYXlsb2FkLmlkLFxuICAgICAganNvbnJwYzogcGF5bG9hZC5qc29ucnBjLFxuICAgICAgcmVzdWx0XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBwcm92aWRlciBiZWNvbWVzIGNvbm5lY3RlZCwgdXBkYXRlcyBpbnRlcm5hbCBzdGF0ZSBhbmQgZW1pdHNcbiAgICogcmVxdWlyZWQgZXZlbnRzLiBJZGVtcG90ZW50LlxuICAgKlxuICAgKiBAcGFyYW0gY2hhaW5JZCAtIFRoZSBJRCBvZiB0aGUgbmV3bHkgY29ubmVjdGVkIGNoYWluLlxuICAgKiBlbWl0cyBNZXRhTWFza0lucGFnZVByb3ZpZGVyI2Nvbm5lY3RcbiAgICovXG4gIF9oYW5kbGVDb25uZWN0KGNoYWluSWQpIHtcbiAgICBpZiAoIXRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkKSB7XG4gICAgICB0aGlzLl9zdGF0ZS5pc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICB0aGlzLmVtaXQoXCJjb25uZWN0XCIsIHtcbiAgICAgICAgY2hhaW5JZFxuICAgICAgfSk7XG4gICAgICBsb2cuZGVidWcobWVzc2FnZXMuaW5mby5jb25uZWN0ZWQoY2hhaW5JZCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBwcm92aWRlciBiZWNvbWVzIGRpc2Nvbm5lY3RlZCwgdXBkYXRlcyBpbnRlcm5hbCBzdGF0ZSBhbmQgZW1pdHNcbiAgICogcmVxdWlyZWQgZXZlbnRzLiBJZGVtcG90ZW50IHdpdGggcmVzcGVjdCB0byB0aGUgaXNSZWNvdmVyYWJsZSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIEVycm9yIGNvZGVzIHBlciB0aGUgQ2xvc2VFdmVudCBzdGF0dXMgY29kZXMgYXMgcmVxdWlyZWQgYnkgRUlQLTExOTM6XG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50I1N0YXR1c19jb2Rlc1xuICAgKlxuICAgKiBAcGFyYW0gaXNSZWNvdmVyYWJsZSAtIFdoZXRoZXIgdGhlIGRpc2Nvbm5lY3Rpb24gaXMgcmVjb3ZlcmFibGUuXG4gICAqIEBwYXJhbSBlcnJvck1lc3NhZ2UgLSBBIGN1c3RvbSBlcnJvciBtZXNzYWdlLlxuICAgKiBlbWl0cyBNZXRhTWFza0lucGFnZVByb3ZpZGVyI2Rpc2Nvbm5lY3RcbiAgICovXG4gIF9oYW5kbGVEaXNjb25uZWN0KGlzUmVjb3ZlcmFibGUsIGVycm9yTWVzc2FnZSkge1xuICAgIGlmICh0aGlzLl9zdGF0ZS5pc0Nvbm5lY3RlZCB8fCAhdGhpcy5fc3RhdGUuaXNQZXJtYW5lbnRseURpc2Nvbm5lY3RlZCAmJiAhaXNSZWNvdmVyYWJsZSkge1xuICAgICAgdGhpcy5fc3RhdGUuaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIGxldCBlcnJvcjtcbiAgICAgIGlmIChpc1JlY292ZXJhYmxlKSB7XG4gICAgICAgIGVycm9yID0gbmV3IEV0aGVyZXVtUHJvdmlkZXJFcnJvcigxMDEzLFxuICAgICAgICAvLyBUcnkgYWdhaW4gbGF0ZXJcbiAgICAgICAgZXJyb3JNZXNzYWdlIHx8IG1lc3NhZ2VzLmVycm9ycy5kaXNjb25uZWN0ZWQoKSk7XG4gICAgICAgIGxvZy5kZWJ1ZyhlcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvciA9IG5ldyBFdGhlcmV1bVByb3ZpZGVyRXJyb3IoMTAxMSxcbiAgICAgICAgLy8gSW50ZXJuYWwgZXJyb3JcbiAgICAgICAgZXJyb3JNZXNzYWdlIHx8IG1lc3NhZ2VzLmVycm9ycy5wZXJtYW5lbnRseURpc2Nvbm5lY3RlZCgpKTtcbiAgICAgICAgbG9nLmVycm9yKGVycm9yKTtcbiAgICAgICAgdGhpcy5jaGFpbklkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RhdGUuYWNjb3VudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkQWRkcmVzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0YXRlLmlzVW5sb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc3RhdGUuaXNQZXJtYW5lbnRseURpc2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLmVtaXQoXCJkaXNjb25uZWN0XCIsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gY29ubmVjdGlvbiBpcyBsb3N0IHRvIGNyaXRpY2FsIHN0cmVhbXMuXG4gICAqXG4gICAqIGVtaXRzIE1ldGFtYXNrSW5wYWdlUHJvdmlkZXIjZGlzY29ubmVjdFxuICAgKi9cbiAgX2hhbmRsZVN0cmVhbURpc2Nvbm5lY3Qoc3RyZWFtTmFtZSwgZXJyb3IpIHtcbiAgICBsb2dTdHJlYW1EaXNjb25uZWN0V2FybmluZyhzdHJlYW1OYW1lLCBlcnJvciwgdGhpcyk7XG4gICAgdGhpcy5faGFuZGxlRGlzY29ubmVjdChmYWxzZSwgZXJyb3IgPyBlcnJvci5tZXNzYWdlIDogdW5kZWZpbmVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhY2NvdW50cyBtYXkgaGF2ZSBjaGFuZ2VkLlxuICAgKi9cbiAgX2hhbmRsZUFjY291bnRzQ2hhbmdlZChhY2NvdW50cykge1xuICAgIGxldCBpc0V0aEFjY291bnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICBsZXQgaXNJbnRlcm5hbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG4gICAgLy8gZGVmZW5zaXZlIHByb2dyYW1taW5nXG4gICAgbGV0IGZpbmFsQWNjb3VudHMgPSBhY2NvdW50cztcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmluYWxBY2NvdW50cykpIHtcbiAgICAgIGxvZy5lcnJvcihcIk1ldGFNYXNrOiBSZWNlaXZlZCBub24tYXJyYXkgYWNjb3VudHMgcGFyYW1ldGVyLiBQbGVhc2UgcmVwb3J0IHRoaXMgYnVnLlwiLCBmaW5hbEFjY291bnRzKTtcbiAgICAgIGZpbmFsQWNjb3VudHMgPSBbXTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBhY2NvdW50IG9mIGFjY291bnRzKSB7XG4gICAgICBpZiAodHlwZW9mIGFjY291bnQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgbG9nLmVycm9yKFwiTWV0YU1hc2s6IFJlY2VpdmVkIG5vbi1zdHJpbmcgYWNjb3VudC4gUGxlYXNlIHJlcG9ydCB0aGlzIGJ1Zy5cIiwgYWNjb3VudHMpO1xuICAgICAgICBmaW5hbEFjY291bnRzID0gW107XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVtaXQgYWNjb3VudHNDaGFuZ2VkIGlmIGFueXRoaW5nIGFib3V0IHRoZSBhY2NvdW50cyBhcnJheSBoYXMgY2hhbmdlZFxuICAgIGlmICghZGVxdWFsKHRoaXMuX3N0YXRlLmFjY291bnRzLCBmaW5hbEFjY291bnRzKSkge1xuICAgICAgLy8gd2Ugc2hvdWxkIGFsd2F5cyBoYXZlIHRoZSBjb3JyZWN0IGFjY291bnRzIGV2ZW4gYmVmb3JlIGV0aF9hY2NvdW50c1xuICAgICAgLy8gcmV0dXJucywgZXhjZXB0IGluIGNhc2VzIHdoZXJlIGlzSW50ZXJuYWwgaXMgdHJ1ZVxuICAgICAgaWYgKGlzRXRoQWNjb3VudHMgJiYgQXJyYXkuaXNBcnJheSh0aGlzLl9zdGF0ZS5hY2NvdW50cykgJiYgdGhpcy5fc3RhdGUuYWNjb3VudHMubGVuZ3RoID4gMCAmJiAhaXNJbnRlcm5hbCkge1xuICAgICAgICBsb2cuZXJyb3IoJ01ldGFNYXNrOiBcImV0aF9hY2NvdW50c1wiIHVuZXhwZWN0ZWRseSB1cGRhdGVkIGFjY291bnRzLiBQbGVhc2UgcmVwb3J0IHRoaXMgYnVnLicsIGZpbmFsQWNjb3VudHMpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RhdGUuYWNjb3VudHMgPSBmaW5hbEFjY291bnRzO1xuICAgICAgdGhpcy5lbWl0KFwiYWNjb3VudHNDaGFuZ2VkXCIsIGZpbmFsQWNjb3VudHMpO1xuICAgIH1cblxuICAgIC8vIGhhbmRsZSBzZWxlY3RlZEFkZHJlc3NcbiAgICBpZiAodGhpcy5zZWxlY3RlZEFkZHJlc3MgIT09IGZpbmFsQWNjb3VudHNbMF0pIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRBZGRyZXNzID0gZmluYWxBY2NvdW50c1swXSB8fCBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcG9uIHJlY2VpcHQgb2YgYSBuZXcgY2hhaW5JZCBhbmQgbmV0d29ya1ZlcnNpb24sIGVtaXRzIGNvcnJlc3BvbmRpbmdcbiAgICogZXZlbnRzIGFuZCBzZXRzIHJlbGV2YW50IHB1YmxpYyBzdGF0ZS5cbiAgICogRG9lcyBub3RoaW5nIGlmIG5laXRoZXIgdGhlIGNoYWluSWQgbm9yIHRoZSBuZXR3b3JrVmVyc2lvbiBhcmUgZGlmZmVyZW50XG4gICAqIGZyb20gZXhpc3RpbmcgdmFsdWVzLlxuICAgKlxuICAgKiBlbWl0cyBNZXRhbWFza0lucGFnZVByb3ZpZGVyI2NoYWluQ2hhbmdlZFxuICAgKiBAcGFyYW0gbmV0d29ya0luZm8gLSBBbiBvYmplY3Qgd2l0aCBuZXR3b3JrIGluZm8uXG4gICAqL1xuICBfaGFuZGxlQ2hhaW5DaGFuZ2VkKCkge1xuICAgIGxldCB7XG4gICAgICBjaGFpbklkLFxuICAgICAgbmV0d29ya1ZlcnNpb25cbiAgICB9ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBpZiAoIWNoYWluSWQgfHwgIW5ldHdvcmtWZXJzaW9uKSB7XG4gICAgICBsb2cuZXJyb3IoXCJNZXRhTWFzazogUmVjZWl2ZWQgaW52YWxpZCBuZXR3b3JrIHBhcmFtZXRlcnMuIFBsZWFzZSByZXBvcnQgdGhpcyBidWcuXCIsIHtcbiAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgbmV0d29ya1ZlcnNpb25cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobmV0d29ya1ZlcnNpb24gPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICB0aGlzLl9oYW5kbGVEaXNjb25uZWN0KHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oYW5kbGVDb25uZWN0KGNoYWluSWQpO1xuICAgICAgaWYgKGNoYWluSWQgIT09IHRoaXMuY2hhaW5JZCkge1xuICAgICAgICB0aGlzLmNoYWluSWQgPSBjaGFpbklkO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJjaGFpbkNoYW5nZWRcIiwgdGhpcy5jaGFpbklkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcG9uIHJlY2VpcHQgb2YgYSBuZXcgaXNVbmxvY2tlZCBzdGF0ZSwgc2V0cyByZWxldmFudCBwdWJsaWMgc3RhdGUuXG4gICAqIENhbGxzIHRoZSBhY2NvdW50cyBjaGFuZ2VkIGhhbmRsZXIgd2l0aCB0aGUgcmVjZWl2ZWQgYWNjb3VudHMsIG9yIGFuIGVtcHR5XG4gICAqIGFycmF5LlxuICAgKlxuICAgKiBEb2VzIG5vdGhpbmcgaWYgdGhlIHJlY2VpdmVkIHZhbHVlIGlzIGVxdWFsIHRvIHRoZSBleGlzdGluZyB2YWx1ZS5cbiAgICogVGhlcmUgYXJlIG5vIGxvY2svdW5sb2NrIGV2ZW50cy5cbiAgICpcbiAgICogQHBhcmFtIG9wdHMgLSBPcHRpb25zIGJhZy5cbiAgICovXG4gIF9oYW5kbGVVbmxvY2tTdGF0ZUNoYW5nZWQoKSB7XG4gICAgbGV0IHtcbiAgICAgIGFjY291bnRzLFxuICAgICAgaXNVbmxvY2tlZFxuICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGlmICh0eXBlb2YgaXNVbmxvY2tlZCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGxvZy5lcnJvcihcIk1ldGFNYXNrOiBSZWNlaXZlZCBpbnZhbGlkIGlzVW5sb2NrZWQgcGFyYW1ldGVyLiBQbGVhc2UgcmVwb3J0IHRoaXMgYnVnLlwiLCB7XG4gICAgICAgIGlzVW5sb2NrZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNVbmxvY2tlZCAhPT0gdGhpcy5fc3RhdGUuaXNVbmxvY2tlZCkge1xuICAgICAgdGhpcy5fc3RhdGUuaXNVbmxvY2tlZCA9IGlzVW5sb2NrZWQ7XG4gICAgICB0aGlzLl9oYW5kbGVBY2NvdW50c0NoYW5nZWQoYWNjb3VudHMgfHwgW10pO1xuICAgIH1cbiAgfVxufVxuX2RlZmluZVByb3BlcnR5KFRvcnVzSW5wYWdlUHJvdmlkZXIsIFwiX2RlZmF1bHRTdGF0ZVwiLCB7XG4gIGFjY291bnRzOiBudWxsLFxuICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gIGlzVW5sb2NrZWQ6IGZhbHNlLFxuICBpbml0aWFsaXplZDogZmFsc2UsXG4gIGlzUGVybWFuZW50bHlEaXNjb25uZWN0ZWQ6IGZhbHNlLFxuICBoYXNFbWl0dGVkQ29ubmVjdGlvbjogZmFsc2Vcbn0pO1xuXG5jbGFzcyBQb3B1cEhhbmRsZXIgZXh0ZW5kcyBTYWZlRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICB1cmwsXG4gICAgICB0YXJnZXQsXG4gICAgICBmZWF0dXJlcyxcbiAgICAgIHRpbWVvdXQgPSAzMDAwMFxuICAgIH0gPSBfcmVmO1xuICAgIHN1cGVyKCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXJsXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidGFyZ2V0XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZmVhdHVyZXNcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3aW5kb3dcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3aW5kb3dUaW1lclwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlDbG9zZWRXaW5kb3dcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHZvaWQgMCk7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXQgfHwgXCJfYmxhbmtcIjtcbiAgICB0aGlzLmZlYXR1cmVzID0gZmVhdHVyZXMgfHwgZ2V0UG9wdXBGZWF0dXJlcygpO1xuICAgIHRoaXMud2luZG93ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMud2luZG93VGltZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pQ2xvc2VkV2luZG93ID0gZmFsc2U7XG4gICAgdGhpcy50aW1lb3V0ID0gdGltZW91dDtcbiAgICB0aGlzLl9zZXR1cFRpbWVyKCk7XG4gIH1cbiAgX3NldHVwVGltZXIoKSB7XG4gICAgdGhpcy53aW5kb3dUaW1lciA9IE51bWJlcihzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy53aW5kb3cgJiYgdGhpcy53aW5kb3cuY2xvc2VkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy53aW5kb3dUaW1lcik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5pQ2xvc2VkV2luZG93KSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJjbG9zZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5pQ2xvc2VkV2luZG93ID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy53aW5kb3cgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sIHRoaXMudGltZW91dCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy53aW5kb3cgPT09IHVuZGVmaW5lZCkgY2xlYXJJbnRlcnZhbCh0aGlzLndpbmRvd1RpbWVyKTtcbiAgICB9LCA1MDApKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHZhciBfdGhpcyR3aW5kb3c7XG4gICAgdGhpcy53aW5kb3cgPSB3aW5kb3cub3Blbih0aGlzLnVybC5ocmVmLCB0aGlzLnRhcmdldCwgdGhpcy5mZWF0dXJlcyk7XG4gICAgaWYgKChfdGhpcyR3aW5kb3cgPSB0aGlzLndpbmRvdykgIT09IG51bGwgJiYgX3RoaXMkd2luZG93ICE9PSB2b2lkIDAgJiYgX3RoaXMkd2luZG93LmZvY3VzKSB0aGlzLndpbmRvdy5mb2N1cygpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuaUNsb3NlZFdpbmRvdyA9IHRydWU7XG4gICAgaWYgKHRoaXMud2luZG93KSB0aGlzLndpbmRvdy5jbG9zZSgpO1xuICB9XG4gIHJlZGlyZWN0KGxvY2F0aW9uUmVwbGFjZU9uUmVkaXJlY3QpIHtcbiAgICBpZiAobG9jYXRpb25SZXBsYWNlT25SZWRpcmVjdCkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UodGhpcy51cmwuaHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy51cmwuaHJlZjtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGdpdmVuIGltYWdlIFVSTCBleGlzdHNcbiAqIEBwYXJhbSB1cmwgLSB0aGUgdXJsIG9mIHRoZSBpbWFnZVxuICogQHJldHVybnMgLSB3aGV0aGVyIHRoZSBpbWFnZSBleGlzdHNcbiAqL1xuZnVuY3Rpb24gaW1nRXhpc3RzKHVybCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUodHJ1ZSk7XG4gICAgICBpbWcub25lcnJvciA9ICgpID0+IHJlc29sdmUoZmFsc2UpO1xuICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBFeHRyYWN0cyBhIG5hbWUgZm9yIHRoZSBzaXRlIGZyb20gdGhlIERPTVxuICovXG5jb25zdCBnZXRTaXRlTmFtZSA9IHdpbmRvdyA9PiB7XG4gIGNvbnN0IHtcbiAgICBkb2N1bWVudFxuICB9ID0gd2luZG93O1xuICBjb25zdCBzaXRlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWQgPiBtZXRhW3Byb3BlcnR5PVwib2c6c2l0ZV9uYW1lXCJdJyk7XG4gIGlmIChzaXRlTmFtZSkge1xuICAgIHJldHVybiBzaXRlTmFtZS5jb250ZW50O1xuICB9XG4gIGNvbnN0IG1ldGFUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWQgPiBtZXRhW25hbWU9XCJ0aXRsZVwiXScpO1xuICBpZiAobWV0YVRpdGxlKSB7XG4gICAgcmV0dXJuIG1ldGFUaXRsZS5jb250ZW50O1xuICB9XG4gIGlmIChkb2N1bWVudC50aXRsZSAmJiBkb2N1bWVudC50aXRsZS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnRpdGxlO1xuICB9XG4gIHJldHVybiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG59O1xuXG4vKipcbiAqIEV4dHJhY3RzIGFuIGljb24gZm9yIHRoZSBzaXRlIGZyb20gdGhlIERPTVxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRTaXRlSWNvbih3aW5kb3cpIHtcbiAgY29uc3Qge1xuICAgIGRvY3VtZW50XG4gIH0gPSB3aW5kb3c7XG5cbiAgLy8gVXNlIHRoZSBzaXRlJ3MgZmF2aWNvbiBpZiBpdCBleGlzdHNcbiAgbGV0IGljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkID4gbGlua1tyZWw9XCJzaG9ydGN1dCBpY29uXCJdJyk7XG4gIGlmIChpY29uICYmIChhd2FpdCBpbWdFeGlzdHMoaWNvbi5ocmVmKSkpIHtcbiAgICByZXR1cm4gaWNvbi5ocmVmO1xuICB9XG5cbiAgLy8gU2VhcmNoIHRocm91Z2ggYXZhaWxhYmxlIGljb25zIGluIG5vIHBhcnRpY3VsYXIgb3JkZXJcbiAgaWNvbiA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaGVhZCA+IGxpbmtbcmVsPVwiaWNvblwiXScpKS5maW5kKF9pY29uID0+IEJvb2xlYW4oX2ljb24uaHJlZikpO1xuICBpZiAoaWNvbiAmJiAoYXdhaXQgaW1nRXhpc3RzKGljb24uaHJlZikpKSB7XG4gICAgcmV0dXJuIGljb24uaHJlZjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBHZXRzIHNpdGUgbWV0YWRhdGEgYW5kIHJldHVybnMgaXRcbiAqXG4gKi9cbmNvbnN0IGdldFNpdGVNZXRhZGF0YSA9IGFzeW5jICgpID0+ICh7XG4gIG5hbWU6IGdldFNpdGVOYW1lKHdpbmRvdyksXG4gIGljb246IGF3YWl0IGdldFNpdGVJY29uKHdpbmRvdylcbn0pO1xuXG4vKipcbiAqIFNlbmRzIHNpdGUgbWV0YWRhdGEgb3ZlciBhbiBSUEMgcmVxdWVzdC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2VuZFNpdGVNZXRhZGF0YShlbmdpbmUpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkb21haW5NZXRhZGF0YSA9IGF3YWl0IGdldFNpdGVNZXRhZGF0YSgpO1xuICAgIC8vIGNhbGwgZW5naW5lLmhhbmRsZSBkaXJlY3RseSB0byBhdm9pZCBub3JtYWwgUlBDIHJlcXVlc3QgaGFuZGxpbmdcbiAgICBlbmdpbmUuaGFuZGxlKHtcbiAgICAgIGpzb25ycGM6IFwiMi4wXCIsXG4gICAgICBpZDogZ2V0UHJlb3Blbkluc3RhbmNlSWQoKSxcbiAgICAgIG1ldGhvZDogXCJ3YWxsZXRfc2VuZERvbWFpbk1ldGFkYXRhXCIsXG4gICAgICBwYXJhbXM6IGRvbWFpbk1ldGFkYXRhXG4gICAgfSwgTk9PUCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nLmVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VzLmVycm9ycy5zZW5kU2l0ZU1ldGFkYXRhKCksXG4gICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IF9leGNsdWRlZCA9IFtcImhvc3RcIiwgXCJjaGFpbklkXCIsIFwibmV0d29ya05hbWVcIl07XG5jb25zdCBVTlNBRkVfTUVUSE9EUyA9IFtcImV0aF9zZW5kVHJhbnNhY3Rpb25cIiwgXCJldGhfc2lnblR5cGVkRGF0YVwiLCBcImV0aF9zaWduVHlwZWREYXRhX3YzXCIsIFwiZXRoX3NpZ25UeXBlZERhdGFfdjRcIiwgXCJwZXJzb25hbF9zaWduXCIsIFwiZXRoX2dldEVuY3J5cHRpb25QdWJsaWNLZXlcIiwgXCJldGhfZGVjcnlwdFwiLCBcIndhbGxldF9hZGRFdGhlcmV1bUNoYWluXCIsIFwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIl07XG5cbi8vIHByZWxvYWQgZm9yIGlmcmFtZSBkb2Vzbid0IHdvcmsgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTkzMjY3XG4oYXN5bmMgZnVuY3Rpb24gcHJlTG9hZElmcmFtZSgpIHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG4gICAgY29uc3QgdG9ydXNJZnJhbWVIdG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgY29uc3Qge1xuICAgICAgdG9ydXNVcmxcbiAgICB9ID0gYXdhaXQgZ2V0VG9ydXNVcmwoXCJwcm9kdWN0aW9uXCIsIHtcbiAgICAgIHZlcnNpb246IFwiXCJcbiAgICB9KTtcbiAgICB0b3J1c0lmcmFtZUh0bWwuaHJlZiA9IGAke3RvcnVzVXJsfS9wb3B1cGA7XG4gICAgdG9ydXNJZnJhbWVIdG1sLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcbiAgICB0b3J1c0lmcmFtZUh0bWwudHlwZSA9IFwidGV4dC9odG1sXCI7XG4gICAgdG9ydXNJZnJhbWVIdG1sLnJlbCA9IFwicHJlZmV0Y2hcIjtcbiAgICBpZiAodG9ydXNJZnJhbWVIdG1sLnJlbExpc3QgJiYgdG9ydXNJZnJhbWVIdG1sLnJlbExpc3Quc3VwcG9ydHMpIHtcbiAgICAgIGlmICh0b3J1c0lmcmFtZUh0bWwucmVsTGlzdC5zdXBwb3J0cyhcInByZWZldGNoXCIpKSB7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodG9ydXNJZnJhbWVIdG1sKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nLndhcm4oZXJyb3IpO1xuICB9XG59KSgpO1xuY2xhc3MgVG9ydXMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQge1xuICAgICAgYnV0dG9uUG9zaXRpb24gPSBCVVRUT05fUE9TSVRJT04uQk9UVE9NX0xFRlQsXG4gICAgICBidXR0b25TaXplID0gNTYsXG4gICAgICBtb2RhbFpJbmRleCA9IDk5OTk5LFxuICAgICAgYXBpS2V5ID0gXCJ0b3J1cy1kZWZhdWx0XCJcbiAgICB9ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJidXR0b25Qb3NpdGlvblwiLCBCVVRUT05fUE9TSVRJT04uQk9UVE9NX0xFRlQpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJ1dHRvblNpemVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3J1c1VybFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcnVzSWZyYW1lXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3R5bGVMaW5rXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNMb2dnZWRJblwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlzSW5pdGlhbGl6ZWRcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3J1c1dpZGdldFZpc2liaWxpdHlcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b3J1c0FsZXJ0XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiYXBpS2V5XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibW9kYWxaSW5kZXhcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJhbGVydFpJbmRleFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcnVzQWxlcnRDb250YWluZXJcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0lmcmFtZUZ1bGxTY3JlZW5cIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3aGl0ZUxhYmVsXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVxdWVzdGVkVmVyaWZpZXJcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjdXJyZW50VmVyaWZpZXJcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbWJlZFRyYW5zbGF0aW9uc1wiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV0aGVyZXVtXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvdmlkZXJcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb21tdW5pY2F0aW9uTXV4XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNMb2dpbkNhbGxiYWNrXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicGF5bWVudFByb3ZpZGVyc1wiLCBjb25maWd1cmF0aW9uLnBheW1lbnRQcm92aWRlcnMpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvZ2luSGludFwiLCBcIlwiKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1c2VXYWxsZXRDb25uZWN0XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNDdXN0b21Mb2dpblwiLCBmYWxzZSk7XG4gICAgdGhpcy5idXR0b25Qb3NpdGlvbiA9IGJ1dHRvblBvc2l0aW9uO1xuICAgIHRoaXMuYnV0dG9uU2l6ZSA9IGJ1dHRvblNpemU7XG4gICAgdGhpcy50b3J1c1VybCA9IFwiXCI7XG4gICAgdGhpcy5pc0xvZ2dlZEluID0gZmFsc2U7IC8vIGV0aGVyZXVtLmVuYWJsZSB3b3JraW5nXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7IC8vIGluaXQgZG9uZVxuICAgIHRoaXMudG9ydXNXaWRnZXRWaXNpYmlsaXR5ID0gdHJ1ZTtcbiAgICB0aGlzLnJlcXVlc3RlZFZlcmlmaWVyID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRWZXJpZmllciA9IFwiXCI7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgc2V0QVBJS2V5KGFwaUtleSk7XG4gICAgdGhpcy5tb2RhbFpJbmRleCA9IG1vZGFsWkluZGV4O1xuICAgIHRoaXMuYWxlcnRaSW5kZXggPSBtb2RhbFpJbmRleCArIDEwMDA7XG4gICAgdGhpcy5pc0lmcmFtZUZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgfVxuICBhc3luYyBpbml0KCkge1xuICAgIGxldCB7XG4gICAgICBidWlsZEVudiA9IFRPUlVTX0JVSUxEX0VOVi5QUk9EVUNUSU9OLFxuICAgICAgZW5hYmxlTG9nZ2luZyA9IGZhbHNlLFxuICAgICAgbmV0d29yayA9IHtcbiAgICAgICAgaG9zdDogXCJtYWlubmV0XCIsXG4gICAgICAgIGNoYWluSWQ6IG51bGwsXG4gICAgICAgIG5ldHdvcmtOYW1lOiBcIlwiLFxuICAgICAgICBibG9ja0V4cGxvcmVyOiBcIlwiLFxuICAgICAgICB0aWNrZXI6IFwiXCIsXG4gICAgICAgIHRpY2tlck5hbWU6IFwiXCJcbiAgICAgIH0sXG4gICAgICBsb2dpbkNvbmZpZyA9IHt9LFxuICAgICAgc2hvd1RvcnVzQnV0dG9uID0gdHJ1ZSxcbiAgICAgIGludGVncml0eSA9IHtcbiAgICAgICAgdmVyc2lvbjogXCJcIlxuICAgICAgfSxcbiAgICAgIHdoaXRlTGFiZWwsXG4gICAgICB1c2VXYWxsZXRDb25uZWN0ID0gZmFsc2UsXG4gICAgICBtZmFMZXZlbCA9IFwiZGVmYXVsdFwiXG4gICAgfSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCkgdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSBpbml0aWFsaXplZFwiKTtcbiAgICBjb25zdCB7XG4gICAgICB0b3J1c1VybCxcbiAgICAgIGxvZ0xldmVsXG4gICAgfSA9IGF3YWl0IGdldFRvcnVzVXJsKGJ1aWxkRW52LCBpbnRlZ3JpdHkpO1xuICAgIGxvZy5pbmZvKHRvcnVzVXJsLCBcInVybCBsb2FkZWRcIik7XG4gICAgdGhpcy50b3J1c1VybCA9IHRvcnVzVXJsO1xuICAgIHRoaXMud2hpdGVMYWJlbCA9IHdoaXRlTGFiZWw7XG4gICAgdGhpcy51c2VXYWxsZXRDb25uZWN0ID0gdXNlV2FsbGV0Q29ubmVjdDtcbiAgICB0aGlzLmlzQ3VzdG9tTG9naW4gPSAhIShsb2dpbkNvbmZpZyAmJiBPYmplY3Qua2V5cyhsb2dpbkNvbmZpZykubGVuZ3RoID4gMCkgfHwgISEod2hpdGVMYWJlbCAmJiBPYmplY3Qua2V5cyh3aGl0ZUxhYmVsKS5sZW5ndGggPiAwKTtcbiAgICBsb2cuc2V0RGVmYXVsdExldmVsKGxvZ0xldmVsKTtcbiAgICBpZiAoZW5hYmxlTG9nZ2luZykgbG9nLmVuYWJsZUFsbCgpO2Vsc2UgbG9nLmRpc2FibGVBbGwoKTtcbiAgICB0aGlzLnRvcnVzV2lkZ2V0VmlzaWJpbGl0eSA9IHNob3dUb3J1c0J1dHRvbjtcbiAgICBjb25zdCB0b3J1c0lmcmFtZVVybCA9IG5ldyBVUkwodG9ydXNVcmwpO1xuICAgIGlmICh0b3J1c0lmcmFtZVVybC5wYXRobmFtZS5lbmRzV2l0aChcIi9cIikpIHRvcnVzSWZyYW1lVXJsLnBhdGhuYW1lICs9IFwicG9wdXBcIjtlbHNlIHRvcnVzSWZyYW1lVXJsLnBhdGhuYW1lICs9IFwiL3BvcHVwXCI7XG4gICAgdG9ydXNJZnJhbWVVcmwuaGFzaCA9IGAjaXNDdXN0b21Mb2dpbj0ke3RoaXMuaXNDdXN0b21Mb2dpbn1gO1xuXG4gICAgLy8gSWZyYW1lIGNvZGVcbiAgICB0aGlzLnRvcnVzSWZyYW1lID0gaHRtbFRvRWxlbWVudChgPGlmcmFtZVxuICAgICAgICBpZD1cInRvcnVzSWZyYW1lXCJcbiAgICAgICAgYWxsb3c9JHt1c2VXYWxsZXRDb25uZWN0ID8gXCJjYW1lcmFcIiA6IFwiXCJ9XG4gICAgICAgIGNsYXNzPVwidG9ydXNJZnJhbWVcIlxuICAgICAgICBzcmM9XCIke3RvcnVzSWZyYW1lVXJsLmhyZWZ9XCJcbiAgICAgICAgc3R5bGU9XCJkaXNwbGF5OiBub25lOyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgcmlnaHQ6IDA7IHdpZHRoOiAxMDAlOyBjb2xvci1zY2hlbWU6IG5vbmU7XG4gICAgICAgIGhlaWdodDogMTAwJTsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiAwOyB6LWluZGV4OiAke3RoaXMubW9kYWxaSW5kZXh9XCJcbiAgICAgID48L2lmcmFtZT5gKTtcbiAgICB0aGlzLnRvcnVzQWxlcnRDb250YWluZXIgPSBodG1sVG9FbGVtZW50KCc8ZGl2IGlkPVwidG9ydXNBbGVydENvbnRhaW5lclwiPjwvZGl2PicpO1xuICAgIHRoaXMudG9ydXNBbGVydENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdGhpcy50b3J1c0FsZXJ0Q29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KFwiei1pbmRleFwiLCB0aGlzLmFsZXJ0WkluZGV4LnRvU3RyaW5nKCkpO1xuICAgIGNvbnN0IGxpbmsgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgbGluay5zZXRBdHRyaWJ1dGUoXCJyZWxcIiwgXCJzdHlsZXNoZWV0XCIpO1xuICAgIGxpbmsuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHQvY3NzXCIpO1xuICAgIGxpbmsuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBgJHt0b3J1c1VybH0vY3NzL3dpZGdldC5jc3NgKTtcbiAgICB0aGlzLnN0eWxlTGluayA9IGxpbms7XG4gICAgY29uc3Qge1xuICAgICAgZGVmYXVsdExhbmd1YWdlID0gZ2V0VXNlckxhbmd1YWdlKCksXG4gICAgICBjdXN0b21UcmFuc2xhdGlvbnMgPSB7fVxuICAgIH0gPSB0aGlzLndoaXRlTGFiZWwgfHwge307XG4gICAgY29uc3QgbWVyZ2VkVHJhbnNsYXRpb25zID0gZGVlcG1lcmdlKGNvbmZpZ3VyYXRpb24udHJhbnNsYXRpb25zLCBjdXN0b21UcmFuc2xhdGlvbnMpO1xuICAgIGNvbnN0IGxhbmd1YWdlVHJhbnNsYXRpb25zID0gbWVyZ2VkVHJhbnNsYXRpb25zW2RlZmF1bHRMYW5ndWFnZV0gfHwgY29uZmlndXJhdGlvbi50cmFuc2xhdGlvbnNbZ2V0VXNlckxhbmd1YWdlKCldO1xuICAgIHRoaXMuZW1iZWRUcmFuc2xhdGlvbnMgPSBsYW5ndWFnZVRyYW5zbGF0aW9ucy5lbWJlZDtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy50b3J1c0lmcmFtZS5vbmxvYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIC8vIG9ubHkgZG8gdGhpcyBpZiBpZnJhbWUgaXMgbm90IGZ1bGwgc2NyZWVuXG4gICAgICAgIHRoaXMuX3NldHVwV2ViMygpO1xuICAgICAgICBjb25zdCBpbml0U3RyZWFtID0gdGhpcy5jb21tdW5pY2F0aW9uTXV4LmdldFN0cmVhbShcImluaXRfc3RyZWFtXCIpO1xuICAgICAgICBpbml0U3RyZWFtLm9uKFwiZGF0YVwiLCBjaHVuayA9PiB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBlcnJvclxuICAgICAgICAgIH0gPSBjaHVuaztcbiAgICAgICAgICBpZiAobmFtZSA9PT0gXCJpbml0X2NvbXBsZXRlXCIgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAvLyByZXNvbHZlIHByb21pc2VcbiAgICAgICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5SWZyYW1lKHRoaXMuaXNJZnJhbWVGdWxsU2NyZWVuKTtcbiAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGVycm9yKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW5pdFN0cmVhbS53cml0ZSh7XG4gICAgICAgICAgbmFtZTogXCJpbml0X3N0cmVhbVwiLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGxvZ2luQ29uZmlnLFxuICAgICAgICAgICAgd2hpdGVMYWJlbDogdGhpcy53aGl0ZUxhYmVsLFxuICAgICAgICAgICAgYnV0dG9uUG9zaXRpb246IHRoaXMuYnV0dG9uUG9zaXRpb24sXG4gICAgICAgICAgICBidXR0b25TaXplOiB0aGlzLmJ1dHRvblNpemUsXG4gICAgICAgICAgICB0b3J1c1dpZGdldFZpc2liaWxpdHk6IHRoaXMudG9ydXNXaWRnZXRWaXNpYmlsaXR5LFxuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLmFwaUtleSxcbiAgICAgICAgICAgIG5ldHdvcmssXG4gICAgICAgICAgICBtZmFMZXZlbFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgd2luZG93LmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZUxpbmspO1xuICAgICAgd2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy50b3J1c0lmcmFtZSk7XG4gICAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnRvcnVzQWxlcnRDb250YWluZXIpO1xuICAgIH0pO1xuICB9XG4gIGxvZ2luKCkge1xuICAgIGxldCB7XG4gICAgICB2ZXJpZmllciA9IFwiXCIsXG4gICAgICBsb2dpbl9oaW50OiBsb2dpbkhpbnQgPSBcIlwiXG4gICAgfSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHRocm93IG5ldyBFcnJvcihcIkNhbGwgaW5pdCgpIGZpcnN0XCIpO1xuICAgIHRoaXMucmVxdWVzdGVkVmVyaWZpZXIgPSB2ZXJpZmllcjtcbiAgICB0aGlzLmxvZ2luSGludCA9IGxvZ2luSGludDtcbiAgICByZXR1cm4gdGhpcy5ldGhlcmV1bS5lbmFibGUoKTtcbiAgfVxuICBsb2dvdXQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0xvZ2dlZEluKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJVc2VyIGhhcyBub3QgbG9nZ2VkIGluIHlldFwiKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxvZ091dFN0cmVhbSA9IHRoaXMuY29tbXVuaWNhdGlvbk11eC5nZXRTdHJlYW0oXCJsb2dvdXRcIik7XG4gICAgICBsb2dPdXRTdHJlYW0ud3JpdGUoe1xuICAgICAgICBuYW1lOiBcImxvZ091dFwiXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHN0YXR1c1N0cmVhbSA9IHRoaXMuY29tbXVuaWNhdGlvbk11eC5nZXRTdHJlYW0oXCJzdGF0dXNcIik7XG4gICAgICBjb25zdCBzdGF0dXNTdHJlYW1IYW5kbGVyID0gYXJnID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gYXJnO1xuICAgICAgICBpZiAoIXN0YXR1cy5sb2dnZWRJbikge1xuICAgICAgICAgIHRoaXMuaXNMb2dnZWRJbiA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuY3VycmVudFZlcmlmaWVyID0gXCJcIjtcbiAgICAgICAgICB0aGlzLnJlcXVlc3RlZFZlcmlmaWVyID0gXCJcIjtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSByZWplY3QobmV3IEVycm9yKFwiU29tZSBFcnJvciBPY2N1cmVkXCIpKTtcbiAgICAgIH07XG4gICAgICBoYW5kbGVTdHJlYW0oc3RhdHVzU3RyZWFtLCBcImRhdGFcIiwgc3RhdHVzU3RyZWFtSGFuZGxlcik7XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgY2xlYW5VcCgpIHtcbiAgICBpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG4gICAgICBhd2FpdCB0aGlzLmxvZ291dCgpO1xuICAgIH1cbiAgICB0aGlzLmNsZWFySW5pdCgpO1xuICB9XG4gIGNsZWFySW5pdCgpIHtcbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50IHx8IGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRG9jdW1lbnQ7XG4gICAgfVxuICAgIGlmIChpc0VsZW1lbnQodGhpcy5zdHlsZUxpbmspICYmIHdpbmRvdy5kb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuc3R5bGVMaW5rKSkge1xuICAgICAgdGhpcy5zdHlsZUxpbmsucmVtb3ZlKCk7XG4gICAgICB0aGlzLnN0eWxlTGluayA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGlzRWxlbWVudCh0aGlzLnRvcnVzSWZyYW1lKSAmJiB3aW5kb3cuZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLnRvcnVzSWZyYW1lKSkge1xuICAgICAgdGhpcy50b3J1c0lmcmFtZS5yZW1vdmUoKTtcbiAgICAgIHRoaXMudG9ydXNJZnJhbWUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChpc0VsZW1lbnQodGhpcy50b3J1c0FsZXJ0Q29udGFpbmVyKSAmJiB3aW5kb3cuZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLnRvcnVzQWxlcnRDb250YWluZXIpKSB7XG4gICAgICB0aGlzLnRvcnVzQWxlcnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnRvcnVzQWxlcnRDb250YWluZXIucmVtb3ZlKCk7XG4gICAgICB0aGlzLnRvcnVzQWxlcnRDb250YWluZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICB9XG4gIGhpZGVUb3J1c0J1dHRvbigpIHtcbiAgICB0aGlzLnRvcnVzV2lkZ2V0VmlzaWJpbGl0eSA9IGZhbHNlO1xuICAgIHRoaXMuX3NlbmRXaWRnZXRWaXNpYmlsaXR5U3RhdHVzKGZhbHNlKTtcbiAgICB0aGlzLl9kaXNwbGF5SWZyYW1lKCk7XG4gIH1cbiAgc2hvd1RvcnVzQnV0dG9uKCkge1xuICAgIHRoaXMudG9ydXNXaWRnZXRWaXNpYmlsaXR5ID0gdHJ1ZTtcbiAgICB0aGlzLl9zZW5kV2lkZ2V0VmlzaWJpbGl0eVN0YXR1cyh0cnVlKTtcbiAgICB0aGlzLl9kaXNwbGF5SWZyYW1lKCk7XG4gIH1cbiAgc2V0UHJvdmlkZXIoX3JlZikge1xuICAgIGxldCB7XG4gICAgICAgIGhvc3QgPSBcIm1haW5uZXRcIixcbiAgICAgICAgY2hhaW5JZCA9IG51bGwsXG4gICAgICAgIG5ldHdvcmtOYW1lID0gXCJcIlxuICAgICAgfSA9IF9yZWYsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHByb3ZpZGVyQ2hhbmdlU3RyZWFtID0gdGhpcy5jb21tdW5pY2F0aW9uTXV4LmdldFN0cmVhbShcInByb3ZpZGVyX2NoYW5nZVwiKTtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBhcmcgPT4ge1xuICAgICAgICBjb25zdCBjaHVuayA9IGFyZztcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGVycixcbiAgICAgICAgICBzdWNjZXNzXG4gICAgICAgIH0gPSBjaHVuay5kYXRhO1xuICAgICAgICBsb2cuaW5mbyhjaHVuayk7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2UgcmVqZWN0KG5ldyBFcnJvcihcInNvbWUgZXJyb3Igb2NjdXJyZWRcIikpO1xuICAgICAgfTtcbiAgICAgIGhhbmRsZVN0cmVhbShwcm92aWRlckNoYW5nZVN0cmVhbSwgXCJkYXRhXCIsIGhhbmRsZXIpO1xuICAgICAgY29uc3QgcHJlb3Blbkluc3RhbmNlSWQgPSBnZXRQcmVvcGVuSW5zdGFuY2VJZCgpO1xuICAgICAgdGhpcy5faGFuZGxlV2luZG93KHByZW9wZW5JbnN0YW5jZUlkLCB7XG4gICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgZmVhdHVyZXM6IEZFQVRVUkVTX1BST1ZJREVSX0NIQU5HRV9XSU5ET1dcbiAgICAgIH0pO1xuICAgICAgcHJvdmlkZXJDaGFuZ2VTdHJlYW0ud3JpdGUoe1xuICAgICAgICBuYW1lOiBcInNob3dfcHJvdmlkZXJfY2hhbmdlXCIsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuZXR3b3JrOiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgIGhvc3QsXG4gICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgbmV0d29ya05hbWVcbiAgICAgICAgICB9LCByZXN0KSxcbiAgICAgICAgICBwcmVvcGVuSW5zdGFuY2VJZCxcbiAgICAgICAgICBvdmVycmlkZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgc2hvd1dhbGxldChwYXRoKSB7XG4gICAgbGV0IHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgY29uc3Qgc2hvd1dhbGxldFN0cmVhbSA9IHRoaXMuY29tbXVuaWNhdGlvbk11eC5nZXRTdHJlYW0oXCJzaG93X3dhbGxldFwiKTtcbiAgICBjb25zdCBmaW5hbFBhdGggPSBwYXRoID8gYC8ke3BhdGh9YCA6IFwiXCI7XG4gICAgc2hvd1dhbGxldFN0cmVhbS53cml0ZSh7XG4gICAgICBuYW1lOiBcInNob3dfd2FsbGV0XCIsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHBhdGg6IGZpbmFsUGF0aFxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHNob3dXYWxsZXRIYW5kbGVyID0gYXJnID0+IHtcbiAgICAgIGNvbnN0IGNodW5rID0gYXJnO1xuICAgICAgaWYgKGNodW5rLm5hbWUgPT09IFwic2hvd193YWxsZXRfaW5zdGFuY2VcIikge1xuICAgICAgICAvLyBMZXQgdGhlIGVycm9yIHByb3BvZ2F0ZSB1cCAoaGVuY2UsIG5vIHRyeSBjYXRjaClcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGluc3RhbmNlSWRcbiAgICAgICAgfSA9IGNodW5rLmRhdGE7XG4gICAgICAgIGNvbnN0IGZpbmFsVXJsID0gbmV3IFVSTChgJHt0aGlzLnRvcnVzVXJsfS93YWxsZXQke2ZpbmFsUGF0aH1gKTtcbiAgICAgICAgLy8gVXNpbmcgVVJMIGNvbnN0cnVjdG9yIHRvIHByZXZlbnQganMgaW5qZWN0aW9uIGFuZCBhbGxvdyBwYXJhbWV0ZXIgdmFsaWRhdGlvbi4hXG4gICAgICAgIGZpbmFsVXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpbnRlZ3JpdHlcIiwgXCJ0cnVlXCIpO1xuICAgICAgICBmaW5hbFVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiaW5zdGFuY2VJZFwiLCBpbnN0YW5jZUlkKTtcbiAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKHggPT4ge1xuICAgICAgICAgIGZpbmFsVXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoeCwgcGFyYW1zW3hdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbmFsVXJsLmhhc2ggPSBgI2lzQ3VzdG9tTG9naW49JHt0aGlzLmlzQ3VzdG9tTG9naW59YDtcbiAgICAgICAgY29uc3Qgd2FsbGV0V2luZG93ID0gbmV3IFBvcHVwSGFuZGxlcih7XG4gICAgICAgICAgdXJsOiBmaW5hbFVybCxcbiAgICAgICAgICBmZWF0dXJlczogRkVBVFVSRVNfREVGQVVMVF9XQUxMRVRfV0lORE9XXG4gICAgICAgIH0pO1xuICAgICAgICB3YWxsZXRXaW5kb3cub3BlbigpO1xuICAgICAgfVxuICAgIH07XG4gICAgaGFuZGxlU3RyZWFtKHNob3dXYWxsZXRTdHJlYW0sIFwiZGF0YVwiLCBzaG93V2FsbGV0SGFuZGxlcik7XG4gIH1cbiAgYXN5bmMgZ2V0UHVibGljQWRkcmVzcyhfcmVmMikge1xuICAgIGxldCB7XG4gICAgICB2ZXJpZmllcixcbiAgICAgIHZlcmlmaWVySWQsXG4gICAgICBpc0V4dGVuZGVkID0gZmFsc2VcbiAgICB9ID0gX3JlZjI7XG4gICAgaWYgKCFjb25maWd1cmF0aW9uLnN1cHBvcnRlZFZlcmlmaWVyTGlzdC5pbmNsdWRlcyh2ZXJpZmllcikgfHwgIVdBTExFVF9PUEVOTE9HSU5fVkVSSUZJRVJfTUFQW3ZlcmlmaWVyXSkgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgdmVyaWZpZXJcIik7XG4gICAgY29uc3Qgd2FsbGV0VmVyaWZpZXIgPSB2ZXJpZmllcjtcbiAgICBjb25zdCBvcGVubG9naW5WZXJpZmllciA9IFdBTExFVF9PUEVOTE9HSU5fVkVSSUZJRVJfTUFQW3ZlcmlmaWVyXTtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGBodHRwczovL2FwaS50b3IudXMvbG9va3VwL3RvcnVzYCk7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJ2ZXJpZmllclwiLCBvcGVubG9naW5WZXJpZmllcik7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJ2ZXJpZmllcklkXCIsIHZlcmlmaWVySWQpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwid2FsbGV0VmVyaWZpZXJcIiwgd2FsbGV0VmVyaWZpZXIpO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwibmV0d29ya1wiLCBcIm1haW5uZXRcIik7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpc0V4dGVuZGVkXCIsIGlzRXh0ZW5kZWQudG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIGdldCh1cmwuaHJlZiwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIlxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHVzZUFQSUtleTogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIGdldFVzZXJJbmZvKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNMb2dnZWRJbikge1xuICAgICAgICBjb25zdCB1c2VySW5mb0FjY2Vzc1N0cmVhbSA9IHRoaXMuY29tbXVuaWNhdGlvbk11eC5nZXRTdHJlYW0oXCJ1c2VyX2luZm9fYWNjZXNzXCIpO1xuICAgICAgICB1c2VySW5mb0FjY2Vzc1N0cmVhbS53cml0ZSh7XG4gICAgICAgICAgbmFtZTogXCJ1c2VyX2luZm9fYWNjZXNzX3JlcXVlc3RcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdXNlckluZm9BY2Nlc3NIYW5kbGVyID0gYXJnID0+IHtcbiAgICAgICAgICBjb25zdCBjaHVuayA9IGFyZztcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBhcHByb3ZlZCxcbiAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgICAgcmVqZWN0ZWQsXG4gICAgICAgICAgICAgIG5ld1JlcXVlc3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9ID0gY2h1bms7XG4gICAgICAgICAgaWYgKG5hbWUgPT09IFwidXNlcl9pbmZvX2FjY2Vzc19yZXNwb25zZVwiKSB7XG4gICAgICAgICAgICBpZiAoYXBwcm92ZWQpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShwYXlsb2FkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlVzZXIgcmVqZWN0ZWQgdGhlIHJlcXVlc3RcIikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IHVzZXJJbmZvU3RyZWFtID0gdGhpcy5jb21tdW5pY2F0aW9uTXV4LmdldFN0cmVhbShcInVzZXJfaW5mb1wiKTtcbiAgICAgICAgICAgICAgY29uc3QgdXNlckluZm9IYW5kbGVyID0gYXJnMiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlckNodW5rID0gYXJnMjtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlckNodW5rLm5hbWUgPT09IFwidXNlcl9pbmZvX3Jlc3BvbnNlXCIpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyQ2h1bmsuZGF0YS5hcHByb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGhhbmRsZXJDaHVuay5kYXRhLnBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlVzZXIgcmVqZWN0ZWQgdGhlIHJlcXVlc3RcIikpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaGFuZGxlU3RyZWFtKHVzZXJJbmZvU3RyZWFtLCBcImRhdGFcIiwgdXNlckluZm9IYW5kbGVyKTtcbiAgICAgICAgICAgICAgY29uc3QgcHJlb3Blbkluc3RhbmNlSWQgPSBnZXRQcmVvcGVuSW5zdGFuY2VJZCgpO1xuICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3cocHJlb3Blbkluc3RhbmNlSWQsIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgICAgICAgZmVhdHVyZXM6IEZFQVRVUkVTX1BST1ZJREVSX0NIQU5HRV9XSU5ET1dcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHVzZXJJbmZvU3RyZWFtLndyaXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInVzZXJfaW5mb19yZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgIHByZW9wZW5JbnN0YW5jZUlkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGhhbmRsZVN0cmVhbSh1c2VySW5mb0FjY2Vzc1N0cmVhbSwgXCJkYXRhXCIsIHVzZXJJbmZvQWNjZXNzSGFuZGxlcik7XG4gICAgICB9IGVsc2UgcmVqZWN0KG5ldyBFcnJvcihcIlVzZXIgaGFzIG5vdCBsb2dnZWQgaW4geWV0XCIpKTtcbiAgICB9KTtcbiAgfVxuICBpbml0aWF0ZVRvcHVwKHByb3ZpZGVyLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgZXJyb3JzLFxuICAgICAgICAgIGlzVmFsaWRcbiAgICAgICAgfSA9IHZhbGlkYXRlUGF5bWVudFByb3ZpZGVyKHByb3ZpZGVyLCBwYXJhbXMpO1xuICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGVycm9ycykpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9wdXBTdHJlYW0gPSB0aGlzLmNvbW11bmljYXRpb25NdXguZ2V0U3RyZWFtKFwidG9wdXBcIik7XG4gICAgICAgIGNvbnN0IHRvcHVwSGFuZGxlciA9IGFyZyA9PiB7XG4gICAgICAgICAgY29uc3QgY2h1bmsgPSBhcmc7XG4gICAgICAgICAgaWYgKGNodW5rLm5hbWUgPT09IFwidG9wdXBfcmVzcG9uc2VcIikge1xuICAgICAgICAgICAgaWYgKGNodW5rLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICByZXNvbHZlKGNodW5rLmRhdGEuc3VjY2Vzcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGNodW5rLmRhdGEuZXJyb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGhhbmRsZVN0cmVhbSh0b3B1cFN0cmVhbSwgXCJkYXRhXCIsIHRvcHVwSGFuZGxlcik7XG4gICAgICAgIGNvbnN0IHByZW9wZW5JbnN0YW5jZUlkID0gZ2V0UHJlb3Blbkluc3RhbmNlSWQoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlV2luZG93KHByZW9wZW5JbnN0YW5jZUlkKTtcbiAgICAgICAgdG9wdXBTdHJlYW0ud3JpdGUoe1xuICAgICAgICAgIG5hbWU6IFwidG9wdXBfcmVxdWVzdFwiLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHByb3ZpZGVyLFxuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgcHJlb3Blbkluc3RhbmNlSWRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHJlamVjdChuZXcgRXJyb3IoXCJUb3J1cyBpcyBub3QgaW5pdGlhbGl6ZWQgeWV0XCIpKTtcbiAgICB9KTtcbiAgfVxuICBhc3luYyBsb2dpbldpdGhQcml2YXRlS2V5KGxvZ2luUGFyYW1zKSB7XG4gICAgY29uc3Qge1xuICAgICAgcHJpdmF0ZUtleSxcbiAgICAgIHVzZXJJbmZvXG4gICAgfSA9IGxvZ2luUGFyYW1zO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgIGlmIChCdWZmZXIuZnJvbShwcml2YXRlS2V5LCBcImhleFwiKS5sZW5ndGggIT09IDMyKSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkludmFsaWQgcHJpdmF0ZSBrZXksIFBsZWFzZSBwcm92aWRlIGEgMzIgYnl0ZSB2YWxpZCBzZWNwMjVrMSBwcml2YXRlIGtleVwiKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvZ2luUHJpdktleVN0cmVhbSA9IHRoaXMuY29tbXVuaWNhdGlvbk11eC5nZXRTdHJlYW0oXCJsb2dpbl93aXRoX3ByaXZhdGVfa2V5XCIpO1xuICAgICAgICBjb25zdCBsb2dpbkhhbmRsZXIgPSBhcmcgPT4ge1xuICAgICAgICAgIGNvbnN0IGNodW5rID0gYXJnO1xuICAgICAgICAgIGlmIChjaHVuay5uYW1lID09PSBcImxvZ2luX3dpdGhfcHJpdmF0ZV9rZXlfcmVzcG9uc2VcIikge1xuICAgICAgICAgICAgaWYgKGNodW5rLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICByZXNvbHZlKGNodW5rLmRhdGEuc3VjY2Vzcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGNodW5rLmRhdGEuZXJyb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGhhbmRsZVN0cmVhbShsb2dpblByaXZLZXlTdHJlYW0sIFwiZGF0YVwiLCBsb2dpbkhhbmRsZXIpO1xuICAgICAgICBsb2dpblByaXZLZXlTdHJlYW0ud3JpdGUoe1xuICAgICAgICAgIG5hbWU6IFwibG9naW5fd2l0aF9wcml2YXRlX2tleV9yZXF1ZXN0XCIsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgcHJpdmF0ZUtleSxcbiAgICAgICAgICAgIHVzZXJJbmZvXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSByZWplY3QobmV3IEVycm9yKFwiVG9ydXMgaXMgbm90IGluaXRpYWxpemVkIHlldFwiKSk7XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgc2hvd1dhbGxldENvbm5lY3RTY2FubmVyKCkge1xuICAgIGlmICghdGhpcy51c2VXYWxsZXRDb25uZWN0KSB0aHJvdyBuZXcgRXJyb3IoXCJTZXQgYHVzZVdhbGxldENvbm5lY3RgIGFzIHRydWUgaW4gaW5pdCBmdW5jdGlvbiBvcHRpb25zIHRvIHVzZSB3YWxsZXQgY29ubmVjdCBzY2FubmVyXCIpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG4gICAgICAgIGNvbnN0IHdhbGxldENvbm5lY3RTdHJlYW0gPSB0aGlzLmNvbW11bmljYXRpb25NdXguZ2V0U3RyZWFtKFwid2FsbGV0X2Nvbm5lY3Rfc3RyZWFtXCIpO1xuICAgICAgICBjb25zdCB3YWxsZXRDb25uZWN0SGFuZGxlciA9IGFyZyA9PiB7XG4gICAgICAgICAgY29uc3QgY2h1bmsgPSBhcmc7XG4gICAgICAgICAgaWYgKGNodW5rLm5hbWUgPT09IFwid2FsbGV0X2Nvbm5lY3Rfc3RyZWFtX3Jlc1wiKSB7XG4gICAgICAgICAgICBpZiAoY2h1bmsuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoY2h1bmsuZGF0YS5zdWNjZXNzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoY2h1bmsuZGF0YS5lcnJvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGlzcGxheUlmcmFtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaGFuZGxlU3RyZWFtKHdhbGxldENvbm5lY3RTdHJlYW0sIFwiZGF0YVwiLCB3YWxsZXRDb25uZWN0SGFuZGxlcik7XG4gICAgICAgIHdhbGxldENvbm5lY3RTdHJlYW0ud3JpdGUoe1xuICAgICAgICAgIG5hbWU6IFwid2FsbGV0X2Nvbm5lY3Rfc3RyZWFtX3JlcVwiXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kaXNwbGF5SWZyYW1lKHRydWUpO1xuICAgICAgfSBlbHNlIHJlamVjdChuZXcgRXJyb3IoXCJVc2VyIGhhcyBub3QgbG9nZ2VkIGluIHlldFwiKSk7XG4gICAgfSk7XG4gIH1cbiAgX2hhbmRsZVdpbmRvdyhwcmVvcGVuSW5zdGFuY2VJZCkge1xuICAgIGxldCB7XG4gICAgICB1cmwsXG4gICAgICB0YXJnZXQsXG4gICAgICBmZWF0dXJlc1xuICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGlmIChwcmVvcGVuSW5zdGFuY2VJZCkge1xuICAgICAgY29uc3Qgd2luZG93U3RyZWFtID0gdGhpcy5jb21tdW5pY2F0aW9uTXV4LmdldFN0cmVhbShcIndpbmRvd1wiKTtcbiAgICAgIGNvbnN0IGZpbmFsVXJsID0gbmV3IFVSTCh1cmwgfHwgYCR7dGhpcy50b3J1c1VybH0vcmVkaXJlY3Q/cHJlb3Blbkluc3RhbmNlSWQ9JHtwcmVvcGVuSW5zdGFuY2VJZH1gKTtcbiAgICAgIGlmIChmaW5hbFVybC5oYXNoKSBmaW5hbFVybC5oYXNoICs9IGAmaXNDdXN0b21Mb2dpbj0ke3RoaXMuaXNDdXN0b21Mb2dpbn1gO2Vsc2UgZmluYWxVcmwuaGFzaCA9IGAjaXNDdXN0b21Mb2dpbj0ke3RoaXMuaXNDdXN0b21Mb2dpbn1gO1xuICAgICAgY29uc3QgaGFuZGxlZFdpbmRvdyA9IG5ldyBQb3B1cEhhbmRsZXIoe1xuICAgICAgICB1cmw6IGZpbmFsVXJsLFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGZlYXR1cmVzXG4gICAgICB9KTtcbiAgICAgIGhhbmRsZWRXaW5kb3cub3BlbigpO1xuICAgICAgaWYgKCFoYW5kbGVkV2luZG93LndpbmRvdykge1xuICAgICAgICB0aGlzLl9jcmVhdGVQb3B1cEJsb2NrQWxlcnQocHJlb3Blbkluc3RhbmNlSWQsIGZpbmFsVXJsLmhyZWYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3aW5kb3dTdHJlYW0ud3JpdGUoe1xuICAgICAgICBuYW1lOiBcIm9wZW5lZF93aW5kb3dcIixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHByZW9wZW5JbnN0YW5jZUlkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgY2xvc2VIYW5kbGVyID0gX3JlZjMgPT4ge1xuICAgICAgICBsZXQge1xuICAgICAgICAgIHByZW9wZW5JbnN0YW5jZUlkOiByZWNlaXZlZElkLFxuICAgICAgICAgIGNsb3NlXG4gICAgICAgIH0gPSBfcmVmMztcbiAgICAgICAgaWYgKHJlY2VpdmVkSWQgPT09IHByZW9wZW5JbnN0YW5jZUlkICYmIGNsb3NlKSB7XG4gICAgICAgICAgaGFuZGxlZFdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgIHdpbmRvd1N0cmVhbS5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIiwgY2xvc2VIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHdpbmRvd1N0cmVhbS5vbihcImRhdGFcIiwgY2xvc2VIYW5kbGVyKTtcbiAgICAgIGhhbmRsZWRXaW5kb3cub25jZShcImNsb3NlXCIsICgpID0+IHtcbiAgICAgICAgd2luZG93U3RyZWFtLndyaXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBwcmVvcGVuSW5zdGFuY2VJZCxcbiAgICAgICAgICAgIGNsb3NlZDogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvd1N0cmVhbS5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIiwgY2xvc2VIYW5kbGVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBfc2V0RW1iZWRXaGl0ZUxhYmVsKGVsZW1lbnQpIHtcbiAgICAvLyBTZXQgd2hpdGVsYWJlbFxuICAgIGNvbnN0IHtcbiAgICAgIHRoZW1lXG4gICAgfSA9IHRoaXMud2hpdGVMYWJlbCB8fCB7fTtcbiAgICBpZiAodGhlbWUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaXNEYXJrID0gZmFsc2UsXG4gICAgICAgIGNvbG9ycyA9IHt9XG4gICAgICB9ID0gdGhlbWU7XG4gICAgICBpZiAoaXNEYXJrKSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0b3J1cy1kYXJrXCIpO1xuICAgICAgaWYgKGNvbG9ycy50b3J1c0JyYW5kMSkgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tdG9ydXMtYnJhbmQtMVwiLCBjb2xvcnMudG9ydXNCcmFuZDEpO1xuICAgICAgaWYgKGNvbG9ycy50b3J1c0dyYXkyKSBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS10b3J1cy1ncmF5LTJcIiwgY29sb3JzLnRvcnVzR3JheTIpO1xuICAgIH1cbiAgfVxuICBfZ2V0TG9nb1VybCgpIHtcbiAgICB2YXIgX3RoaXMkd2hpdGVMYWJlbDtcbiAgICBsZXQgbG9nb1VybCA9IGAke3RoaXMudG9ydXNVcmx9L2ltYWdlcy90b3J1c19pY29uLWJsdWUuc3ZnYDtcbiAgICBpZiAoKF90aGlzJHdoaXRlTGFiZWwgPSB0aGlzLndoaXRlTGFiZWwpICE9PSBudWxsICYmIF90aGlzJHdoaXRlTGFiZWwgIT09IHZvaWQgMCAmJiAoX3RoaXMkd2hpdGVMYWJlbCA9IF90aGlzJHdoaXRlTGFiZWwudGhlbWUpICE9PSBudWxsICYmIF90aGlzJHdoaXRlTGFiZWwgIT09IHZvaWQgMCAmJiBfdGhpcyR3aGl0ZUxhYmVsLmlzRGFyaykge1xuICAgICAgdmFyIF90aGlzJHdoaXRlTGFiZWwyO1xuICAgICAgbG9nb1VybCA9ICgoX3RoaXMkd2hpdGVMYWJlbDIgPSB0aGlzLndoaXRlTGFiZWwpID09PSBudWxsIHx8IF90aGlzJHdoaXRlTGFiZWwyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR3aGl0ZUxhYmVsMi5sb2dvTGlnaHQpIHx8IGxvZ29Vcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfdGhpcyR3aGl0ZUxhYmVsMztcbiAgICAgIGxvZ29VcmwgPSAoKF90aGlzJHdoaXRlTGFiZWwzID0gdGhpcy53aGl0ZUxhYmVsKSA9PT0gbnVsbCB8fCBfdGhpcyR3aGl0ZUxhYmVsMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkd2hpdGVMYWJlbDMubG9nb0RhcmspIHx8IGxvZ29Vcmw7XG4gICAgfVxuICAgIHJldHVybiBsb2dvVXJsO1xuICB9XG4gIF9zZW5kV2lkZ2V0VmlzaWJpbGl0eVN0YXR1cyhzdGF0dXMpIHtcbiAgICBjb25zdCB0b3J1c1dpZGdldFZpc2liaWxpdHlTdHJlYW0gPSB0aGlzLmNvbW11bmljYXRpb25NdXguZ2V0U3RyZWFtKFwidG9ydXMtd2lkZ2V0LXZpc2liaWxpdHlcIik7XG4gICAgdG9ydXNXaWRnZXRWaXNpYmlsaXR5U3RyZWFtLndyaXRlKHtcbiAgICAgIGRhdGE6IHN0YXR1c1xuICAgIH0pO1xuICB9XG4gIF9kaXNwbGF5SWZyYW1lKCkge1xuICAgIGxldCBpc0Z1bGwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgIGNvbnN0IHN0eWxlID0ge307XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuYnV0dG9uU2l6ZSArIDE0OyAvLyAxNXB4IHBhZGRpbmdcbiAgICAvLyBzZXQgcGhhc2VcbiAgICBpZiAoIWlzRnVsbCkge1xuICAgICAgc3R5bGUuZGlzcGxheSA9IHRoaXMudG9ydXNXaWRnZXRWaXNpYmlsaXR5ID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgICBzdHlsZS5oZWlnaHQgPSBgJHtzaXplfXB4YDtcbiAgICAgIHN0eWxlLndpZHRoID0gYCR7c2l6ZX1weGA7XG4gICAgICBzd2l0Y2ggKHRoaXMuYnV0dG9uUG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSBCVVRUT05fUE9TSVRJT04uVE9QX0xFRlQ6XG4gICAgICAgICAgc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgICBzdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgICBzdHlsZS5yaWdodCA9IFwiYXV0b1wiO1xuICAgICAgICAgIHN0eWxlLmJvdHRvbSA9IFwiYXV0b1wiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEJVVFRPTl9QT1NJVElPTi5UT1BfUklHSFQ6XG4gICAgICAgICAgc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgICBzdHlsZS5yaWdodCA9IFwiMHB4XCI7XG4gICAgICAgICAgc3R5bGUubGVmdCA9IFwiYXV0b1wiO1xuICAgICAgICAgIHN0eWxlLmJvdHRvbSA9IFwiYXV0b1wiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEJVVFRPTl9QT1NJVElPTi5CT1RUT01fUklHSFQ6XG4gICAgICAgICAgc3R5bGUuYm90dG9tID0gXCIwcHhcIjtcbiAgICAgICAgICBzdHlsZS5yaWdodCA9IFwiMHB4XCI7XG4gICAgICAgICAgc3R5bGUudG9wID0gXCJhdXRvXCI7XG4gICAgICAgICAgc3R5bGUubGVmdCA9IFwiYXV0b1wiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEJVVFRPTl9QT1NJVElPTi5CT1RUT01fTEVGVDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBzdHlsZS5ib3R0b20gPSBcIjBweFwiO1xuICAgICAgICAgIHN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICAgIHN0eWxlLnRvcCA9IFwiYXV0b1wiO1xuICAgICAgICAgIHN0eWxlLnJpZ2h0ID0gXCJhdXRvXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBzdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICBzdHlsZS50b3AgPSBcIjBweFwiO1xuICAgICAgc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICAgICAgc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICBzdHlsZS5ib3R0b20gPSBcIjBweFwiO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHRoaXMudG9ydXNJZnJhbWUuc3R5bGUsIHN0eWxlKTtcbiAgICB0aGlzLmlzSWZyYW1lRnVsbFNjcmVlbiA9IGlzRnVsbDtcbiAgfVxuICBfc2V0dXBXZWIzKCkge1xuICAgIGxvZy5pbmZvKFwic2V0dXBXZWIzIHJ1bm5pbmdcIik7XG4gICAgLy8gc2V0dXAgYmFja2dyb3VuZCBjb25uZWN0aW9uXG4gICAgY29uc3QgbWV0YW1hc2tTdHJlYW0gPSBuZXcgQmFzZVBvc3RNZXNzYWdlU3RyZWFtKHtcbiAgICAgIG5hbWU6IFwiZW1iZWRfbWV0YW1hc2tcIixcbiAgICAgIHRhcmdldDogXCJpZnJhbWVfbWV0YW1hc2tcIixcbiAgICAgIHRhcmdldFdpbmRvdzogdGhpcy50b3J1c0lmcmFtZS5jb250ZW50V2luZG93LFxuICAgICAgdGFyZ2V0T3JpZ2luOiBuZXcgVVJMKHRoaXMudG9ydXNVcmwpLm9yaWdpblxuICAgIH0pO1xuXG4gICAgLy8gRHVlIHRvIGNvbXBhdGliaWxpdHkgcmVhc29ucywgd2Ugc2hvdWxkIG5vdCBzZXQgdXAgbXVsdGlwbGV4aW5nIG9uIHdpbmRvdy5tZXRhbWFza3N0cmVhbVxuICAgIC8vIGJlY2F1c2UgdGhlIE1ldGFtYXNrSW5wYWdlUHJvdmlkZXIgYWxzbyBhdHRlbXB0cyB0byBkbyBzby5cbiAgICAvLyBXZSBjcmVhdGUgYW5vdGhlciBMb2NhbE1lc3NhZ2VEdXBsZXhTdHJlYW0gZm9yIGNvbW11bmljYXRpb24gYmV0d2VlbiBkYXBwIDw+IGlmcmFtZVxuICAgIGNvbnN0IGNvbW11bmljYXRpb25TdHJlYW0gPSBuZXcgQmFzZVBvc3RNZXNzYWdlU3RyZWFtKHtcbiAgICAgIG5hbWU6IFwiZW1iZWRfY29tbVwiLFxuICAgICAgdGFyZ2V0OiBcImlmcmFtZV9jb21tXCIsXG4gICAgICB0YXJnZXRXaW5kb3c6IHRoaXMudG9ydXNJZnJhbWUuY29udGVudFdpbmRvdyxcbiAgICAgIHRhcmdldE9yaWdpbjogbmV3IFVSTCh0aGlzLnRvcnVzVXJsKS5vcmlnaW5cbiAgICB9KTtcblxuICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBHb3RjaGkgOilcbiAgICAvLyB3aW5kb3cubWV0YW1hc2tTdHJlYW0gPSB0aGlzLmNvbW11bmljYXRpb25TdHJlYW1cblxuICAgIC8vIGNvbXBvc2UgdGhlIGlucGFnZSBwcm92aWRlclxuICAgIGNvbnN0IGlucGFnZVByb3ZpZGVyID0gbmV3IFRvcnVzSW5wYWdlUHJvdmlkZXIobWV0YW1hc2tTdHJlYW0pO1xuXG4gICAgLy8gZGV0ZWN0IGV0aF9yZXF1ZXN0QWNjb3VudHMgYW5kIHBpcGUgdG8gZW5hYmxlIGZvciBub3dcbiAgICBjb25zdCBkZXRlY3RBY2NvdW50UmVxdWVzdFByb3RvdHlwZU1vZGlmaWVyID0gbSA9PiB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IGlucGFnZVByb3ZpZGVyW21dO1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaW5wYWdlUHJvdmlkZXJbbV0gPSBmdW5jdGlvbiBwcm92aWRlckZ1bmMobWV0aG9kKSB7XG4gICAgICAgIGlmIChtZXRob2QgJiYgbWV0aG9kID09PSBcImV0aF9yZXF1ZXN0QWNjb3VudHNcIikge1xuICAgICAgICAgIHJldHVybiBpbnBhZ2VQcm92aWRlci5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsTWV0aG9kLmFwcGx5KHRoaXMsIFttZXRob2QsIC4uLmFyZ3NdKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICBkZXRlY3RBY2NvdW50UmVxdWVzdFByb3RvdHlwZU1vZGlmaWVyKFwic2VuZFwiKTtcbiAgICBkZXRlY3RBY2NvdW50UmVxdWVzdFByb3RvdHlwZU1vZGlmaWVyKFwic2VuZEFzeW5jXCIpO1xuICAgIGlucGFnZVByb3ZpZGVyLmVuYWJsZSA9ICgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIElmIHVzZXIgaXMgYWxyZWFkeSBsb2dnZWQgaW4sIHdlIGFzc3VtZSB0aGV5IGhhdmUgZ2l2ZW4gYWNjZXNzIHRvIHRoZSB3ZWJzaXRlXG4gICAgICAgIGlucGFnZVByb3ZpZGVyLnNlbmRBc3luYyh7XG4gICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgICBpZDogZ2V0UHJlb3Blbkluc3RhbmNlSWQoKSxcbiAgICAgICAgICBtZXRob2Q6IFwiZXRoX3JlcXVlc3RBY2NvdW50c1wiLFxuICAgICAgICAgIHBhcmFtczogW11cbiAgICAgICAgfSwgKGVyciwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICByZXN1bHQ6IHJlc1xuICAgICAgICAgIH0gPSByZXNwb25zZSB8fCB7fTtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlcykgJiYgcmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIElmIHVzZXIgaXMgYWxyZWFkeSByZWh5ZHJhdGVkLCByZXNvbHZlIHRoaXNcbiAgICAgICAgICAgIC8vIGVsc2Ugd2FpdCBmb3Igc29tZXRoaW5nIHRvIGJlIHdyaXR0ZW4gdG8gc3RhdHVzIHN0cmVhbVxuICAgICAgICAgICAgY29uc3QgaGFuZGxlTG9naW5DYiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMucmVxdWVzdGVkVmVyaWZpZXIgIT09IFwiXCIgJiYgdGhpcy5jdXJyZW50VmVyaWZpZXIgIT09IHRoaXMucmVxdWVzdGVkVmVyaWZpZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgICByZXF1ZXN0ZWRWZXJpZmllclxuICAgICAgICAgICAgICAgIH0gPSB0aGlzO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcm9taXNlL25vLXByb21pc2UtaW4tY2FsbGJhY2tcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvYWx3YXlzLXJldHVyblxuICAgICAgICAgICAgICAgIC50aGVuKF8gPT4ge1xuICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWRWZXJpZmllciA9IHJlcXVlc3RlZFZlcmlmaWVyO1xuICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd0xvZ2luUG9wdXAodHJ1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodGhpcy5pc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICAgIGhhbmRsZUxvZ2luQ2IoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuaXNMb2dpbkNhbGxiYWNrID0gaGFuZGxlTG9naW5DYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc2V0IHVwIGxpc3RlbmVyIGZvciBsb2dpblxuICAgICAgICAgICAgdGhpcy5fc2hvd0xvZ2luUG9wdXAodHJ1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBpbnBhZ2VQcm92aWRlci50cnlQcmVvcGVuSGFuZGxlID0gKHBheWxvYWQsIGNiKSA9PiB7XG4gICAgICBjb25zdCBfcGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoX3BheWxvYWQpICYmIFVOU0FGRV9NRVRIT0RTLmluY2x1ZGVzKF9wYXlsb2FkLm1ldGhvZCkpIHtcbiAgICAgICAgY29uc3QgcHJlb3Blbkluc3RhbmNlSWQgPSBnZXRQcmVvcGVuSW5zdGFuY2VJZCgpO1xuICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3cocHJlb3Blbkluc3RhbmNlSWQsIHtcbiAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgZmVhdHVyZXM6IEZFQVRVUkVTX0NPTkZJUk1fV0lORE9XXG4gICAgICAgIH0pO1xuICAgICAgICBfcGF5bG9hZC5wcmVvcGVuSW5zdGFuY2VJZCA9IHByZW9wZW5JbnN0YW5jZUlkO1xuICAgICAgfVxuICAgICAgaW5wYWdlUHJvdmlkZXIuX3JwY0VuZ2luZS5oYW5kbGUoX3BheWxvYWQsIGNiKTtcbiAgICB9O1xuXG4gICAgLy8gV29yayBhcm91bmQgZm9yIHdlYjNAMS4wIGRlbGV0aW5nIHRoZSBib3VuZCBgc2VuZEFzeW5jYCBidXQgbm90IHRoZSB1bmJvdW5kXG4gICAgLy8gYHNlbmRBc3luY2AgbWV0aG9kIG9uIHRoZSBwcm90b3R5cGUsIGNhdXNpbmcgYHRoaXNgIHJlZmVyZW5jZSBpc3N1ZXMgd2l0aCBkcml6emxlXG4gICAgY29uc3QgcHJveGllZElucGFnZVByb3ZpZGVyID0gbmV3IFByb3h5KGlucGFnZVByb3ZpZGVyLCB7XG4gICAgICAvLyBzdHJhaWdodCB1cCBsaWUgdGhhdCB3ZSBkZWxldGVkIHRoZSBwcm9wZXJ0eSBzbyB0aGF0IGl0IGRvZXNudFxuICAgICAgLy8gdGhyb3cgYW4gZXJyb3IgaW4gc3RyaWN0IG1vZGVcbiAgICAgIGRlbGV0ZVByb3BlcnR5OiAoKSA9PiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5ldGhlcmV1bSA9IHByb3hpZWRJbnBhZ2VQcm92aWRlcjtcbiAgICBjb25zdCBjb21tdW5pY2F0aW9uTXV4ID0gc2V0dXBNdWx0aXBsZXgoY29tbXVuaWNhdGlvblN0cmVhbSk7XG4gICAgdGhpcy5jb21tdW5pY2F0aW9uTXV4ID0gY29tbXVuaWNhdGlvbk11eDtcbiAgICBjb25zdCB3aW5kb3dTdHJlYW0gPSBjb21tdW5pY2F0aW9uTXV4LmdldFN0cmVhbShcIndpbmRvd1wiKTtcbiAgICB3aW5kb3dTdHJlYW0ub24oXCJkYXRhXCIsIGNodW5rID0+IHtcbiAgICAgIGlmIChjaHVuay5uYW1lID09PSBcImNyZWF0ZV93aW5kb3dcIikge1xuICAgICAgICAvLyB1cmwgaXMgdGhlIHVybCB3ZSBuZWVkIHRvIG9wZW5cbiAgICAgICAgLy8gd2UgY2FuIHBhc3MgdGhlIGZpbmFsIHVybCB1cGZyb250IHNvIHRoYXQgaXQgcmVtb3ZlcyB0aGUgc3RlcCBvZiByZWRpcmVjdGluZyB0byAvcmVkaXJlY3QgYW5kIHdhaXRpbmcgZm9yIGZpbmFsVXJsXG4gICAgICAgIHRoaXMuX2NyZWF0ZVBvcHVwQmxvY2tBbGVydChjaHVuay5kYXRhLnByZW9wZW5JbnN0YW5jZUlkLCBjaHVuay5kYXRhLnVybCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBzaG93IHRvcnVzIHdpZGdldCBpZiBidXR0b24gY2xpY2tlZFxuICAgIGNvbnN0IHdpZGdldFN0cmVhbSA9IGNvbW11bmljYXRpb25NdXguZ2V0U3RyZWFtKFwid2lkZ2V0XCIpO1xuICAgIHdpZGdldFN0cmVhbS5vbihcImRhdGFcIiwgY2h1bmsgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBkYXRhXG4gICAgICB9ID0gY2h1bms7XG4gICAgICB0aGlzLl9kaXNwbGF5SWZyYW1lKGRhdGEpO1xuICAgIH0pO1xuXG4gICAgLy8gU2hvdyB0b3J1cyBidXR0b24gaWYgd2FsbGV0IGhhcyBiZWVuIGh5ZHJhdGVkL2RldGVjdGVkXG4gICAgY29uc3Qgc3RhdHVzU3RyZWFtID0gY29tbXVuaWNhdGlvbk11eC5nZXRTdHJlYW0oXCJzdGF0dXNcIik7XG4gICAgc3RhdHVzU3RyZWFtLm9uKFwiZGF0YVwiLCBzdGF0dXMgPT4ge1xuICAgICAgLy8gbG9naW5cbiAgICAgIGlmIChzdGF0dXMubG9nZ2VkSW4pIHtcbiAgICAgICAgdGhpcy5pc0xvZ2dlZEluID0gc3RhdHVzLmxvZ2dlZEluO1xuICAgICAgICB0aGlzLmN1cnJlbnRWZXJpZmllciA9IHN0YXR1cy52ZXJpZmllcjtcbiAgICAgIH0gLy8gbG9nb3V0XG4gICAgICBlbHNlIHRoaXMuX2Rpc3BsYXlJZnJhbWUoKTtcbiAgICAgIGlmICh0aGlzLmlzTG9naW5DYWxsYmFjaykge1xuICAgICAgICB0aGlzLmlzTG9naW5DYWxsYmFjaygpO1xuICAgICAgICBkZWxldGUgdGhpcy5pc0xvZ2luQ2FsbGJhY2s7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5wcm92aWRlciA9IHByb3hpZWRJbnBhZ2VQcm92aWRlcjtcbiAgICBpZiAodGhpcy5wcm92aWRlci5zaG91bGRTZW5kTWV0YWRhdGEpIHNlbmRTaXRlTWV0YWRhdGEodGhpcy5wcm92aWRlci5fcnBjRW5naW5lKTtcbiAgICBpbnBhZ2VQcm92aWRlci5faW5pdGlhbGl6ZVN0YXRlKCk7XG4gICAgbG9nLmRlYnVnKFwiVG9ydXMgLSBpbmplY3RlZCBwcm92aWRlclwiKTtcbiAgfVxuICBfc2hvd0xvZ2luUG9wdXAoY2FsbGVkRnJvbUVtYmVkLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICBjb25zdCBsb2dpbkhhbmRsZXIgPSBhcmcgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGFyZztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZXJyLFxuICAgICAgICBzZWxlY3RlZEFkZHJlc3NcbiAgICAgIH0gPSBkYXRhO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBsb2cuZXJyb3IoZXJyKTtcbiAgICAgICAgaWYgKHJlamVjdCkgcmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgICAvLyByZXR1cm5zIGFuIGFycmF5IChjYXVzZSBhY2NvdW50cyBleHBlY3RzIGl0KVxuICAgICAgZWxzZSBpZiAocmVzb2x2ZSkgcmVzb2x2ZShbc2VsZWN0ZWRBZGRyZXNzXSk7XG4gICAgICBpZiAodGhpcy5pc0lmcmFtZUZ1bGxTY3JlZW4pIHRoaXMuX2Rpc3BsYXlJZnJhbWUoKTtcbiAgICB9O1xuICAgIGNvbnN0IG9hdXRoU3RyZWFtID0gdGhpcy5jb21tdW5pY2F0aW9uTXV4LmdldFN0cmVhbShcIm9hdXRoXCIpO1xuICAgIGlmICghdGhpcy5yZXF1ZXN0ZWRWZXJpZmllcikge1xuICAgICAgdGhpcy5fZGlzcGxheUlmcmFtZSh0cnVlKTtcbiAgICAgIGhhbmRsZVN0cmVhbShvYXV0aFN0cmVhbSwgXCJkYXRhXCIsIGxvZ2luSGFuZGxlcik7XG4gICAgICBvYXV0aFN0cmVhbS53cml0ZSh7XG4gICAgICAgIG5hbWU6IFwib2F1dGhfbW9kYWxcIixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNhbGxlZEZyb21FbWJlZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlU3RyZWFtKG9hdXRoU3RyZWFtLCBcImRhdGFcIiwgbG9naW5IYW5kbGVyKTtcbiAgICAgIGNvbnN0IHByZW9wZW5JbnN0YW5jZUlkID0gZ2V0UHJlb3Blbkluc3RhbmNlSWQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZVdpbmRvdyhwcmVvcGVuSW5zdGFuY2VJZCk7XG4gICAgICBvYXV0aFN0cmVhbS53cml0ZSh7XG4gICAgICAgIG5hbWU6IFwib2F1dGhcIixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNhbGxlZEZyb21FbWJlZCxcbiAgICAgICAgICB2ZXJpZmllcjogdGhpcy5yZXF1ZXN0ZWRWZXJpZmllcixcbiAgICAgICAgICBwcmVvcGVuSW5zdGFuY2VJZCxcbiAgICAgICAgICBsb2dpbl9oaW50OiB0aGlzLmxvZ2luSGludFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgX2NyZWF0ZVBvcHVwQmxvY2tBbGVydChwcmVvcGVuSW5zdGFuY2VJZCwgdXJsKSB7XG4gICAgY29uc3QgbG9nb1VybCA9IHRoaXMuX2dldExvZ29VcmwoKTtcbiAgICBjb25zdCB0b3J1c0FsZXJ0ID0gaHRtbFRvRWxlbWVudCgnPGRpdiBpZD1cInRvcnVzQWxlcnRcIiBjbGFzcz1cInRvcnVzLWFsZXJ0LS12MlwiPicgKyBgPGRpdiBpZD1cInRvcnVzQWxlcnRfX2xvZ29cIj48aW1nIHNyYz1cIiR7bG9nb1VybH1cIiAvPjwvZGl2PmAgKyBcIjxkaXY+XCIgKyBgPGgxIGlkPVwidG9ydXNBbGVydF9fdGl0bGVcIj4ke3RoaXMuZW1iZWRUcmFuc2xhdGlvbnMuYWN0aW9uUmVxdWlyZWR9PC9oMT5gICsgYDxwIGlkPVwidG9ydXNBbGVydF9fZGVzY1wiPiR7dGhpcy5lbWJlZFRyYW5zbGF0aW9ucy5wZW5kaW5nQWN0aW9ufTwvcD5gICsgXCI8L2Rpdj5cIiArIFwiPC9kaXY+XCIpO1xuICAgIGNvbnN0IHN1Y2Nlc3NBbGVydCA9IGh0bWxUb0VsZW1lbnQoYDxkaXY+PGEgaWQ9XCJ0b3J1c0FsZXJ0X19idG5cIj4ke3RoaXMuZW1iZWRUcmFuc2xhdGlvbnMuY29udGludWV9PC9hPjwvZGl2PmApO1xuICAgIGNvbnN0IGJ0bkNvbnRhaW5lciA9IGh0bWxUb0VsZW1lbnQoJzxkaXYgaWQ9XCJ0b3J1c0FsZXJ0X19idG4tY29udGFpbmVyXCI+PC9kaXY+Jyk7XG4gICAgYnRuQ29udGFpbmVyLmFwcGVuZENoaWxkKHN1Y2Nlc3NBbGVydCk7XG4gICAgdG9ydXNBbGVydC5hcHBlbmRDaGlsZChidG5Db250YWluZXIpO1xuICAgIHRoaXMuX3NldEVtYmVkV2hpdGVMYWJlbCh0b3J1c0FsZXJ0KTtcbiAgICB0aGlzLnRvcnVzQWxlcnRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB0aGlzLnRvcnVzQWxlcnRDb250YWluZXIuYXBwZW5kQ2hpbGQodG9ydXNBbGVydCk7XG4gICAgc3VjY2Vzc0FsZXJ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVXaW5kb3cocHJlb3Blbkluc3RhbmNlSWQsIHtcbiAgICAgICAgdXJsLFxuICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgIGZlYXR1cmVzOiBGRUFUVVJFU19DT05GSVJNX1dJTkRPV1xuICAgICAgfSk7XG4gICAgICB0b3J1c0FsZXJ0LnJlbW92ZSgpO1xuICAgICAgaWYgKHRoaXMudG9ydXNBbGVydENvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGggPT09IDApIHRoaXMudG9ydXNBbGVydENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgQlVUVE9OX1BPU0lUSU9OLCBQQVlNRU5UX1BST1ZJREVSLCBTVVBQT1JURURfUEFZTUVOVF9ORVRXT1JLLCBUT1JVU19CVUlMRF9FTlYsIFRvcnVzSW5wYWdlUHJvdmlkZXIsIFdBTExFVF9PUEVOTE9HSU5fVkVSSUZJRVJfTUFQLCBXQUxMRVRfVkVSSUZJRVJTLCBUb3J1cyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b3J1cy5lc20uanMubWFwXG4iXSwibmFtZXMiOlsiX29iamVjdFNwcmVhZCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldCIsInNldEFQSUtleSIsIlNhZmVFdmVudEVtaXR0ZXIiLCJPYmplY3RNdWx0aXBsZXgiLCJjcmVhdGVTdHJlYW1NaWRkbGV3YXJlIiwiSlJQQ0VuZ2luZSIsImNyZWF0ZUlkUmVtYXBNaWRkbGV3YXJlIiwiQmFzZVBvc3RNZXNzYWdlU3RyZWFtIiwic2V0dXBNdWx0aXBsZXgiLCJkZWVwbWVyZ2UiLCJycGNFcnJvcnMiLCJFdGhlcmV1bVByb3ZpZGVyRXJyb3IiLCJkZXF1YWwiLCJwdW1wIiwibG9nbGV2ZWwiLCJXQUxMRVRfVkVSSUZJRVJTIiwiR09PR0xFIiwiRkFDRUJPT0siLCJUV0lUQ0giLCJSRURESVQiLCJESVNDT1JEIiwiRU1BSUxfUEFTU1dPUkRMRVNTIiwiV0FMTEVUX09QRU5MT0dJTl9WRVJJRklFUl9NQVAiLCJQQVlNRU5UX1BST1ZJREVSIiwiTU9PTlBBWSIsIldZUkUiLCJSQU1QTkVUV09SSyIsIlhBTlBPT0wiLCJNRVJDVVJZTyIsIlRSQU5TQUsiLCJCQU5YQSIsIlNVUFBPUlRFRF9QQVlNRU5UX05FVFdPUksiLCJNQUlOTkVUIiwiTUFUSUMiLCJCU0NfTUFJTk5FVCIsIkFWQUxBTkNIRV9NQUlOTkVUIiwiWERBSSIsIkFSQklUUlVNX01BSU5ORVQiLCJPUFRJTUlTTV9NQUlOTkVUIiwiVE9SVVNfQlVJTERfRU5WIiwiUFJPRFVDVElPTiIsIkRFVkVMT1BNRU5UIiwiQklOQU5DRSIsIlRFU1RJTkciLCJMUkMiLCJCRVRBIiwiQk5CIiwiUE9MWUdPTiIsIkFMUEhBIiwiQlVUVE9OX1BPU0lUSU9OIiwiQk9UVE9NX0xFRlQiLCJUT1BfTEVGVCIsIkJPVFRPTV9SSUdIVCIsIlRPUF9SSUdIVCIsIkNSWVBUT19DT01QQVJFX0NVUlJFTkNJRVMiLCJQUk9WSURFUl9TVVBQT1JURURfRklBVF9DVVJSRU5DSUVTIiwiY3J5cHRvQ29tcGFyZUN1cnJlbmNpZXNTZXQiLCJTZXQiLCJzdXBwb3J0ZWRGaWF0Q3VycmVuY2llcyIsInByb3ZpZGVyIiwicHJvdmlkZXJTdXBwb3J0ZWRGaWF0Q3VycmVuY2llcyIsImZpbHRlciIsImN1cnJlbmN5IiwiaGFzIiwicGF5bWVudFByb3ZpZGVycyQxIiwibGluZTEiLCJsaW5lMiIsImxpbmUzIiwic3VwcG9ydFBhZ2UiLCJtaW5PcmRlclZhbHVlIiwibWF4T3JkZXJWYWx1ZSIsInZhbGlkQ3VycmVuY2llcyIsInZhbGlkQ3J5cHRvQ3VycmVuY2llc0J5Q2hhaW4iLCJ2YWx1ZSIsImRpc3BsYXkiLCJpbmNsdWRlRmVlcyIsImFwaSIsImVuZm9yY2VNYXgiLCJyZWNlaXZlSGludCIsInNlbGwiLCJ0cmFuc2xhdGlvbnMiLCJlbiIsImVtYmVkIiwiY29udGludWUiLCJhY3Rpb25SZXF1aXJlZCIsInBlbmRpbmdBY3Rpb24iLCJjb29raWVzUmVxdWlyZWQiLCJlbmFibGVDb29raWVzIiwiY2xpY2tIZXJlIiwiZGUiLCJqYSIsImtvIiwiemgiLCJjb25maWd1cmF0aW9uIiwic3VwcG9ydGVkVmVyaWZpZXJMaXN0IiwiT2JqZWN0IiwidmFsdWVzIiwicGF5bWVudFByb3ZpZGVycyIsInByb2RUb3J1c1VybCIsImxvY2FsU3RvcmFnZUtleVByZWZpeCIsImh0bWxUb0VsZW1lbnQiLCJodG1sIiwidGVtcGxhdGUiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0cmltbWVkSHRtbCIsInRyaW0iLCJpbm5lckhUTUwiLCJjb250ZW50IiwiZmlyc3RDaGlsZCIsImhhbmRsZVN0cmVhbSIsImhhbmRsZSIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJoYW5kbGVyV3JhcHBlciIsImNodW5rIiwicmVtb3ZlTGlzdGVuZXIiLCJvbiIsImlzU3RyZWFtIiwic3RyZWFtIiwicGlwZSIsImlzV3JpdGFibGVTdHJlYW0iLCJ3cml0YWJsZSIsIl93cml0ZSIsIl93cml0YWJsZVN0YXRlIiwiaXNSZWFkYWJsZVN0cmVhbSIsInJlYWRhYmxlIiwiX3JlYWQiLCJfcmVhZGFibGVTdGF0ZSIsImlzRHVwbGV4U3RyZWFtIiwibG9nIiwiZ2V0TG9nZ2VyIiwibWVzc2FnZXMiLCJlcnJvcnMiLCJkaXNjb25uZWN0ZWQiLCJwZXJtYW5lbnRseURpc2Nvbm5lY3RlZCIsInNlbmRTaXRlTWV0YWRhdGEiLCJ1bnN1cHBvcnRlZFN5bmMiLCJtZXRob2QiLCJpbnZhbGlkRHVwbGV4U3RyZWFtIiwiaW52YWxpZE9wdGlvbnMiLCJtYXhFdmVudExpc3RlbmVycyIsInNob3VsZFNlbmRNZXRhZGF0YSIsImludmFsaWRSZXF1ZXN0QXJncyIsImludmFsaWRSZXF1ZXN0TWV0aG9kIiwiaW52YWxpZFJlcXVlc3RQYXJhbXMiLCJpbnZhbGlkTG9nZ2VyT2JqZWN0IiwiaW52YWxpZExvZ2dlck1ldGhvZCIsImluZm8iLCJjb25uZWN0ZWQiLCJjaGFpbklkIiwid2FybmluZ3MiLCJlbmFibGVEZXByZWNhdGlvbiIsInNlbmREZXByZWNhdGlvbiIsInZhbGlkYXRlUGF5bWVudFByb3ZpZGVyIiwicGFyYW1zIiwiaXNWYWxpZCIsImtleXMiLCJsZW5ndGgiLCJzZWxlY3RlZFByb3ZpZGVyIiwic2VsZWN0ZWRQYXJhbXMiLCJmaWF0VmFsdWUiLCJyZXF1ZXN0ZWRPcmRlckFtb3VudCIsInBhcnNlRmxvYXQiLCJ0b1N0cmluZyIsInNlbGVjdGVkQ3VycmVuY3kiLCJpbmNsdWRlcyIsInNlbGVjdGVkQ3J5cHRvQ3VycmVuY3kiLCJmbGF0IiwibWFwIiwiZmluYWxDcnlwdG9DdXJyZW5jeSIsInRvTG93ZXJDYXNlIiwiY3JlYXRlRXJyb3JNaWRkbGV3YXJlIiwicmVxIiwicmVzIiwibmV4dCIsImVycm9yIiwiaW52YWxpZFJlcXVlc3QiLCJtZXNzYWdlIiwiZGF0YSIsImNhdXNlIiwiZG9uZSIsImxvZ1N0cmVhbURpc2Nvbm5lY3RXYXJuaW5nIiwicmVtb3RlTGFiZWwiLCJlbWl0dGVyIiwid2FybmluZ01zZyIsInN0YWNrIiwid2FybiIsImxpc3RlbmVyQ291bnQiLCJlbWl0IiwiZ2V0UHJlb3Blbkluc3RhbmNlSWQiLCJNYXRoIiwicmFuZG9tIiwic2xpY2UiLCJnZXRUb3J1c1VybCIsImJ1aWxkRW52IiwiaW50ZWdyaXR5IiwidG9ydXNVcmwiLCJsb2dMZXZlbCIsInZlcnNpb24iLCJ2ZXJzaW9uVXNlZCIsInJlc3BvbnNlIiwidXNlQVBJS2V5IiwiZ2V0VXNlckxhbmd1YWdlIiwidXNlckxhbmd1YWdlIiwibmF2aWdhdG9yIiwibGFuZ3VhZ2UiLCJ1c2VyTGFuZ3VhZ2VzIiwic3BsaXQiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJFTUlUVEVEX05PVElGSUNBVElPTlMiLCJOT09QIiwiRkVBVFVSRVNfUFJPVklERVJfQ0hBTkdFX1dJTkRPVyIsIkZFQVRVUkVTX0RFRkFVTFRfV0FMTEVUX1dJTkRPVyIsIkZFQVRVUkVTX0NPTkZJUk1fV0lORE9XIiwiZ2V0UG9wdXBGZWF0dXJlcyIsImR1YWxTY3JlZW5MZWZ0Iiwic2NyZWVuTGVmdCIsInVuZGVmaW5lZCIsInNjcmVlblgiLCJkdWFsU2NyZWVuVG9wIiwic2NyZWVuVG9wIiwic2NyZWVuWSIsInciLCJoIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJzY3JlZW4iLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImNsaWVudEhlaWdodCIsInN5c3RlbVpvb20iLCJsZWZ0IiwiYWJzIiwidG9wIiwiZmVhdHVyZXMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwiZ2V0UnBjUHJvbWlzZUNhbGxiYWNrIiwicmVzb2x2ZSIsInJlamVjdCIsInVud3JhcFJlc3VsdCIsImFyZ3VtZW50cyIsIkFycmF5IiwiaXNBcnJheSIsInJlc3VsdCIsIlRvcnVzSW5wYWdlUHJvdmlkZXIiLCJjb25zdHJ1Y3RvciIsImNvbm5lY3Rpb25TdHJlYW0iLCJqc29uUnBjU3RyZWFtTmFtZSIsIkVycm9yIiwiaXNUb3J1cyIsInNldE1heExpc3RlbmVycyIsIl9zdGF0ZSIsIl9kZWZhdWx0U3RhdGUiLCJzZWxlY3RlZEFkZHJlc3MiLCJuZXR3b3JrVmVyc2lvbiIsIl9oYW5kbGVBY2NvdW50c0NoYW5nZWQiLCJiaW5kIiwiX2hhbmRsZUNoYWluQ2hhbmdlZCIsIl9oYW5kbGVVbmxvY2tTdGF0ZUNoYW5nZWQiLCJfaGFuZGxlQ29ubmVjdCIsIl9oYW5kbGVEaXNjb25uZWN0IiwiX2hhbmRsZVN0cmVhbURpc2Nvbm5lY3QiLCJfc2VuZFN5bmMiLCJfcnBjUmVxdWVzdCIsIl9pbml0aWFsaXplU3RhdGUiLCJyZXF1ZXN0Iiwic2VuZCIsInNlbmRBc3luYyIsIm11eCIsImlnbm9yZVN0cmVhbSIsImlzQ29ubmVjdGVkIiwianNvblJwY0Nvbm5lY3Rpb24iLCJjcmVhdGVTdHJlYW0iLCJycGNFbmdpbmUiLCJwdXNoIiwibWlkZGxld2FyZSIsIl9ycGNFbmdpbmUiLCJldmVudHMiLCJwYXlsb2FkIiwidHlwZSIsImFyZ3MiLCJQcm9taXNlIiwiY2FsbGJhY2siLCJhY2NvdW50cyIsImlzVW5sb2NrZWQiLCJpbml0aWFsaXplZCIsImlzSW50ZXJuYWwiLCJjYiIsIl9wYXlsb2FkIiwianNvbnJwYyIsImVyciIsInRyeVByZW9wZW5IYW5kbGUiLCJtZXRob2RPclBheWxvYWQiLCJjYWxsYmFja09yQXJncyIsImlkIiwiZGVidWciLCJpc1JlY292ZXJhYmxlIiwiZXJyb3JNZXNzYWdlIiwiaXNQZXJtYW5lbnRseURpc2Nvbm5lY3RlZCIsInN0cmVhbU5hbWUiLCJpc0V0aEFjY291bnRzIiwiZmluYWxBY2NvdW50cyIsImFjY291bnQiLCJoYXNFbWl0dGVkQ29ubmVjdGlvbiIsIlBvcHVwSGFuZGxlciIsIl9yZWYiLCJ1cmwiLCJ0YXJnZXQiLCJ0aW1lb3V0Iiwid2luZG93VGltZXIiLCJpQ2xvc2VkV2luZG93IiwiX3NldHVwVGltZXIiLCJOdW1iZXIiLCJzZXRJbnRlcnZhbCIsImNsb3NlZCIsImNsZWFySW50ZXJ2YWwiLCJzZXRUaW1lb3V0Iiwib3BlbiIsIl90aGlzJHdpbmRvdyIsImhyZWYiLCJmb2N1cyIsImNsb3NlIiwicmVkaXJlY3QiLCJsb2NhdGlvblJlcGxhY2VPblJlZGlyZWN0IiwibG9jYXRpb24iLCJyZXBsYWNlIiwiaW1nRXhpc3RzIiwiaW1nIiwib25sb2FkIiwib25lcnJvciIsInNyYyIsImUiLCJnZXRTaXRlTmFtZSIsInNpdGVOYW1lIiwicXVlcnlTZWxlY3RvciIsIm1ldGFUaXRsZSIsInRpdGxlIiwiaG9zdG5hbWUiLCJnZXRTaXRlSWNvbiIsImljb24iLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZpbmQiLCJfaWNvbiIsIkJvb2xlYW4iLCJnZXRTaXRlTWV0YWRhdGEiLCJuYW1lIiwiZW5naW5lIiwiZG9tYWluTWV0YWRhdGEiLCJvcmlnaW5hbEVycm9yIiwiX2V4Y2x1ZGVkIiwiVU5TQUZFX01FVEhPRFMiLCJwcmVMb2FkSWZyYW1lIiwidG9ydXNJZnJhbWVIdG1sIiwiY3Jvc3NPcmlnaW4iLCJyZWwiLCJyZWxMaXN0Iiwic3VwcG9ydHMiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJUb3J1cyIsImJ1dHRvblBvc2l0aW9uIiwiYnV0dG9uU2l6ZSIsIm1vZGFsWkluZGV4IiwiYXBpS2V5IiwiaXNMb2dnZWRJbiIsImlzSW5pdGlhbGl6ZWQiLCJ0b3J1c1dpZGdldFZpc2liaWxpdHkiLCJyZXF1ZXN0ZWRWZXJpZmllciIsImN1cnJlbnRWZXJpZmllciIsImFsZXJ0WkluZGV4IiwiaXNJZnJhbWVGdWxsU2NyZWVuIiwiaW5pdCIsImVuYWJsZUxvZ2dpbmciLCJuZXR3b3JrIiwiaG9zdCIsIm5ldHdvcmtOYW1lIiwiYmxvY2tFeHBsb3JlciIsInRpY2tlciIsInRpY2tlck5hbWUiLCJsb2dpbkNvbmZpZyIsInNob3dUb3J1c0J1dHRvbiIsIndoaXRlTGFiZWwiLCJ1c2VXYWxsZXRDb25uZWN0IiwibWZhTGV2ZWwiLCJpc0N1c3RvbUxvZ2luIiwic2V0RGVmYXVsdExldmVsIiwiZW5hYmxlQWxsIiwiZGlzYWJsZUFsbCIsInRvcnVzSWZyYW1lVXJsIiwiVVJMIiwicGF0aG5hbWUiLCJlbmRzV2l0aCIsImhhc2giLCJ0b3J1c0lmcmFtZSIsInRvcnVzQWxlcnRDb250YWluZXIiLCJzdHlsZSIsInNldFByb3BlcnR5IiwibGluayIsInNldEF0dHJpYnV0ZSIsInN0eWxlTGluayIsImRlZmF1bHRMYW5ndWFnZSIsImN1c3RvbVRyYW5zbGF0aW9ucyIsIm1lcmdlZFRyYW5zbGF0aW9ucyIsImxhbmd1YWdlVHJhbnNsYXRpb25zIiwiZW1iZWRUcmFuc2xhdGlvbnMiLCJfc2V0dXBXZWIzIiwiaW5pdFN0cmVhbSIsImNvbW11bmljYXRpb25NdXgiLCJnZXRTdHJlYW0iLCJzdWNjZXNzIiwiX2Rpc3BsYXlJZnJhbWUiLCJ3cml0ZSIsImJvZHkiLCJsb2dpbiIsInZlcmlmaWVyIiwibG9naW5faGludCIsImxvZ2luSGludCIsImV0aGVyZXVtIiwiZW5hYmxlIiwibG9nb3V0IiwibG9nT3V0U3RyZWFtIiwic3RhdHVzU3RyZWFtIiwic3RhdHVzU3RyZWFtSGFuZGxlciIsImFyZyIsInN0YXR1cyIsImxvZ2dlZEluIiwiY2xlYW5VcCIsImNsZWFySW5pdCIsImlzRWxlbWVudCIsImVsZW1lbnQiLCJFbGVtZW50IiwiSFRNTERvY3VtZW50IiwiY29udGFpbnMiLCJyZW1vdmUiLCJ0b3J1c0FsZXJ0IiwiaGlkZVRvcnVzQnV0dG9uIiwiX3NlbmRXaWRnZXRWaXNpYmlsaXR5U3RhdHVzIiwic2V0UHJvdmlkZXIiLCJyZXN0IiwicHJvdmlkZXJDaGFuZ2VTdHJlYW0iLCJwcmVvcGVuSW5zdGFuY2VJZCIsIl9oYW5kbGVXaW5kb3ciLCJvdmVycmlkZSIsInNob3dXYWxsZXQiLCJwYXRoIiwic2hvd1dhbGxldFN0cmVhbSIsImZpbmFsUGF0aCIsInNob3dXYWxsZXRIYW5kbGVyIiwiaW5zdGFuY2VJZCIsImZpbmFsVXJsIiwic2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwiZm9yRWFjaCIsIngiLCJ3YWxsZXRXaW5kb3ciLCJnZXRQdWJsaWNBZGRyZXNzIiwiX3JlZjIiLCJ2ZXJpZmllcklkIiwiaXNFeHRlbmRlZCIsIndhbGxldFZlcmlmaWVyIiwib3BlbmxvZ2luVmVyaWZpZXIiLCJoZWFkZXJzIiwiZ2V0VXNlckluZm8iLCJ1c2VySW5mb0FjY2Vzc1N0cmVhbSIsInVzZXJJbmZvQWNjZXNzSGFuZGxlciIsImFwcHJvdmVkIiwicmVqZWN0ZWQiLCJuZXdSZXF1ZXN0IiwidXNlckluZm9TdHJlYW0iLCJ1c2VySW5mb0hhbmRsZXIiLCJhcmcyIiwiaGFuZGxlckNodW5rIiwiaW5pdGlhdGVUb3B1cCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b3B1cFN0cmVhbSIsInRvcHVwSGFuZGxlciIsImxvZ2luV2l0aFByaXZhdGVLZXkiLCJsb2dpblBhcmFtcyIsInByaXZhdGVLZXkiLCJ1c2VySW5mbyIsIkJ1ZmZlciIsImxvZ2luUHJpdktleVN0cmVhbSIsImxvZ2luSGFuZGxlciIsInNob3dXYWxsZXRDb25uZWN0U2Nhbm5lciIsIndhbGxldENvbm5lY3RTdHJlYW0iLCJ3YWxsZXRDb25uZWN0SGFuZGxlciIsIndpbmRvd1N0cmVhbSIsImhhbmRsZWRXaW5kb3ciLCJfY3JlYXRlUG9wdXBCbG9ja0FsZXJ0IiwiY2xvc2VIYW5kbGVyIiwiX3JlZjMiLCJyZWNlaXZlZElkIiwib25jZSIsIl9zZXRFbWJlZFdoaXRlTGFiZWwiLCJ0aGVtZSIsImlzRGFyayIsImNvbG9ycyIsImNsYXNzTGlzdCIsImFkZCIsInRvcnVzQnJhbmQxIiwidG9ydXNHcmF5MiIsIl9nZXRMb2dvVXJsIiwiX3RoaXMkd2hpdGVMYWJlbCIsImxvZ29VcmwiLCJfdGhpcyR3aGl0ZUxhYmVsMiIsImxvZ29MaWdodCIsIl90aGlzJHdoaXRlTGFiZWwzIiwibG9nb0RhcmsiLCJ0b3J1c1dpZGdldFZpc2liaWxpdHlTdHJlYW0iLCJpc0Z1bGwiLCJzaXplIiwicmlnaHQiLCJib3R0b20iLCJhc3NpZ24iLCJtZXRhbWFza1N0cmVhbSIsInRhcmdldFdpbmRvdyIsImNvbnRlbnRXaW5kb3ciLCJ0YXJnZXRPcmlnaW4iLCJvcmlnaW4iLCJjb21tdW5pY2F0aW9uU3RyZWFtIiwiaW5wYWdlUHJvdmlkZXIiLCJkZXRlY3RBY2NvdW50UmVxdWVzdFByb3RvdHlwZU1vZGlmaWVyIiwibSIsIm9yaWdpbmFsTWV0aG9kIiwicHJvdmlkZXJGdW5jIiwiX2xlbiIsIl9rZXkiLCJhcHBseSIsImhhbmRsZUxvZ2luQ2IiLCJ0aGVuIiwiXyIsIl9zaG93TG9naW5Qb3B1cCIsImNhdGNoIiwiaXNMb2dpbkNhbGxiYWNrIiwicHJveGllZElucGFnZVByb3ZpZGVyIiwiUHJveHkiLCJkZWxldGVQcm9wZXJ0eSIsIndpZGdldFN0cmVhbSIsImNhbGxlZEZyb21FbWJlZCIsIm9hdXRoU3RyZWFtIiwic3VjY2Vzc0FsZXJ0IiwiYnRuQ29udGFpbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoaWxkcmVuIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/torus-embed/dist/torus.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/torus-embed/node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/torus-embed/node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePostMessageStream: () => (/* binding */ BasePostMessageStream),\n/* harmony export */   IGNORE_SUBSTREAM: () => (/* binding */ IGNORE_SUBSTREAM),\n/* harmony export */   JRPCEngine: () => (/* binding */ JRPCEngine),\n/* harmony export */   ObjectMultiplex: () => (/* binding */ ObjectMultiplex),\n/* harmony export */   PostMessageStream: () => (/* binding */ PostMessageStream),\n/* harmony export */   SafeEventEmitter: () => (/* binding */ SafeEventEmitter),\n/* harmony export */   SerializableError: () => (/* binding */ SerializableError),\n/* harmony export */   Substream: () => (/* binding */ Substream),\n/* harmony export */   createAsyncMiddleware: () => (/* binding */ createAsyncMiddleware),\n/* harmony export */   createEngineStream: () => (/* binding */ createEngineStream),\n/* harmony export */   createErrorMiddleware: () => (/* binding */ createErrorMiddleware),\n/* harmony export */   createIdRemapMiddleware: () => (/* binding */ createIdRemapMiddleware),\n/* harmony export */   createLoggerMiddleware: () => (/* binding */ createLoggerMiddleware),\n/* harmony export */   createScaffoldMiddleware: () => (/* binding */ createScaffoldMiddleware),\n/* harmony export */   createStreamMiddleware: () => (/* binding */ createStreamMiddleware),\n/* harmony export */   getRpcPromiseCallback: () => (/* binding */ getRpcPromiseCallback),\n/* harmony export */   mergeMiddleware: () => (/* binding */ mergeMiddleware),\n/* harmony export */   providerAsMiddleware: () => (/* binding */ providerAsMiddleware),\n/* harmony export */   providerFromEngine: () => (/* binding */ providerFromEngine),\n/* harmony export */   providerFromMiddleware: () => (/* binding */ providerFromMiddleware),\n/* harmony export */   setupMultiplex: () => (/* binding */ setupMultiplex)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var readable_stream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! readable-stream */ \"(ssr)/./node_modules/readable-stream/lib/ours/index.js\");\n/* harmony import */ var readable_stream__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(readable_stream__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fast-safe-stringify */ \"(ssr)/./node_modules/fast-safe-stringify/index.js\");\n/* harmony import */ var fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @metamask/rpc-errors */ \"(ssr)/./node_modules/@metamask/rpc-errors/dist/index.js\");\n/* harmony import */ var end_of_stream__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! end-of-stream */ \"(ssr)/./node_modules/end-of-stream/index.js\");\n/* harmony import */ var end_of_stream__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(end_of_stream__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var once__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! once */ \"(ssr)/./node_modules/once/once.js\");\n/* harmony import */ var once__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(once__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! pump */ \"(ssr)/./node_modules/pump/index.js\");\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(pump__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\nfunction noop() {\n    return undefined;\n}\nconst SYN = \"SYN\";\nconst ACK = \"ACK\";\nconst BRK = \"BRK\";\nclass BasePostMessageStream extends readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex {\n    constructor(_ref){\n        let { name, target, targetWindow = window, targetOrigin = \"*\" } = _ref;\n        super({\n            objectMode: true\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_init\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_haveSyn\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_name\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_target\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_targetWindow\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_targetOrigin\", void 0);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_onMessage\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_synIntervalId\", void 0);\n        if (!name || !target) {\n            throw new Error(\"Invalid input.\");\n        }\n        this._init = false;\n        this._haveSyn = false;\n        this._name = name;\n        this._target = target; // target origin\n        this._targetWindow = targetWindow;\n        this._targetOrigin = targetOrigin;\n        this._onMessage = this.onMessage.bind(this);\n        this._synIntervalId = null;\n        window.addEventListener(\"message\", this._onMessage, false);\n        this._handShake();\n    }\n    _break() {\n        this.cork();\n        this._write(BRK, null, noop);\n        this._haveSyn = false;\n        this._init = false;\n    }\n    _handShake() {\n        this._write(SYN, null, noop);\n        this.cork();\n    }\n    _onData(data) {\n        if (!this._init) {\n            // listen for handshake\n            if (data === SYN) {\n                this._haveSyn = true;\n                this._write(ACK, null, noop);\n            } else if (data === ACK) {\n                this._init = true;\n                if (!this._haveSyn) {\n                    this._write(ACK, null, noop);\n                }\n                this.uncork();\n            }\n        } else if (data === BRK) {\n            this._break();\n        } else {\n            // forward message\n            try {\n                this.push(data);\n            } catch (err) {\n                this.emit(\"error\", err);\n            }\n        }\n    }\n    _postMessage(data) {\n        const originConstraint = this._targetOrigin;\n        this._targetWindow.postMessage({\n            target: this._target,\n            data\n        }, originConstraint);\n    }\n    onMessage(event) {\n        const message = event.data;\n        // validate message\n        if (this._targetOrigin !== \"*\" && event.origin !== this._targetOrigin || event.source !== this._targetWindow || typeof message !== \"object\" || message.target !== this._name || !message.data) {\n            return;\n        }\n        this._onData(message.data);\n    }\n    _read() {\n        return undefined;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _write(data, _, cb) {\n        this._postMessage(data);\n        cb();\n    }\n    _destroy() {\n        window.removeEventListener(\"message\", this._onMessage, false);\n    }\n}\n/* eslint-disable @typescript-eslint/no-explicit-any */ function safeApply(handler, context, args) {\n    try {\n        Reflect.apply(handler, context, args);\n    } catch (err) {\n        // Throw error after timeout so as not to interrupt the stack\n        setTimeout(()=>{\n            throw err;\n        });\n    }\n}\nfunction arrayClone(arr) {\n    const n = arr.length;\n    const copy = new Array(n);\n    for(let i = 0; i < n; i += 1){\n        copy[i] = arr[i];\n    }\n    return copy;\n}\nclass SafeEventEmitter extends events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter {\n    emit(type) {\n        let doError = type === \"error\";\n        const events = this._events;\n        if (events !== undefined) {\n            doError = doError && events.error === undefined;\n        } else if (!doError) {\n            return false;\n        }\n        // If there is no 'error' event listener then throw.\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        if (doError) {\n            let er;\n            if (args.length > 0) {\n                [er] = args;\n            }\n            if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n            }\n            // At least give some kind of context to the user\n            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : \"\"}`);\n            err.context = er;\n            throw err; // Unhandled 'error' event\n        }\n        const handler = events[type];\n        if (handler === undefined) {\n            return false;\n        }\n        if (typeof handler === \"function\") {\n            safeApply(handler, this, args);\n        } else {\n            const len = handler.length;\n            const listeners = arrayClone(handler);\n            for(let i = 0; i < len; i += 1){\n                safeApply(listeners[i], this, args);\n            }\n        }\n        return true;\n    }\n}\nclass SerializableError extends Error {\n    constructor(_ref){\n        let { code, message, data } = _ref;\n        if (!Number.isInteger(code)) {\n            throw new Error(\"code must be an integer\");\n        }\n        if (!message || typeof message !== \"string\") {\n            throw new Error(\"message must be string\");\n        }\n        super(message);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"code\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"data\", void 0);\n        this.code = code;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n    toString() {\n        return fast_safe_stringify__WEBPACK_IMPORTED_MODULE_3___default()({\n            code: this.code,\n            message: this.message,\n            data: this.data,\n            stack: this.stack\n        });\n    }\n}\nconst getRpcPromiseCallback = function(resolve, reject) {\n    let unwrapResult = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    return (error, response)=>{\n        if (error || response.error) {\n            reject(error || response.error);\n        } else if (!unwrapResult || Array.isArray(response)) {\n            resolve(response);\n        } else {\n            resolve(response.result);\n        }\n    };\n};\nfunction createErrorMiddleware(log) {\n    return (req, res, next, end)=>{\n        try {\n            // json-rpc-engine will terminate the request when it notices this error\n            if (typeof req.method !== \"string\" || !req.method) {\n                res.error = new SerializableError({\n                    code: -32603,\n                    message: \"invalid method\"\n                });\n                end();\n                return;\n            }\n            next((done)=>{\n                const { error } = res;\n                if (!error) {\n                    return done();\n                }\n                log.error(`OpenLogin - RPC Error: ${error.message}`, error);\n                return done();\n            });\n        } catch (error) {\n            log.error(`OpenLogin - RPC Error thrown: ${error.message}`, error);\n            res.error = new SerializableError({\n                code: -32603,\n                message: error.message\n            });\n            end();\n        }\n    };\n}\nfunction createStreamMiddleware() {\n    const idMap = {};\n    function readNoop() {\n        return false;\n    }\n    const events = new SafeEventEmitter();\n    function processResponse(res) {\n        const context = idMap[res.id];\n        if (!context) {\n            throw new Error(`StreamMiddleware - Unknown response id \"${res.id}\"`);\n        }\n        delete idMap[res.id];\n        // copy whole res onto original res\n        Object.assign(context.res, res);\n        // run callback on empty stack,\n        // prevent internal stream-handler from catching errors\n        setTimeout(context.end);\n    }\n    function processNotification(res) {\n        events.emit(\"notification\", res);\n    }\n    function processMessage(res, _encoding, cb) {\n        let err;\n        try {\n            const isNotification = !res.id;\n            if (isNotification) {\n                processNotification(res);\n            } else {\n                processResponse(res);\n            }\n        } catch (_err) {\n            err = _err;\n        }\n        // continue processing stream\n        cb(err);\n    }\n    const stream = new readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex({\n        objectMode: true,\n        read: readNoop,\n        write: processMessage\n    });\n    const middleware = (req, res, next, end)=>{\n        // write req to stream\n        stream.push(req);\n        // register request on id map\n        idMap[req.id] = {\n            req,\n            res,\n            next,\n            end\n        };\n    };\n    return {\n        events,\n        middleware,\n        stream\n    };\n}\nfunction createScaffoldMiddleware(handlers) {\n    return (req, res, next, end)=>{\n        const handler = handlers[req.method];\n        // if no handler, return\n        if (handler === undefined) {\n            return next();\n        }\n        // if handler is fn, call as middleware\n        if (typeof handler === \"function\") {\n            return handler(req, res, next, end);\n        }\n        // if handler is some other value, use as result\n        res.result = handler;\n        return end();\n    };\n}\nfunction createIdRemapMiddleware() {\n    return (req, res, next, _end)=>{\n        const originalId = req.id;\n        const newId = Math.random().toString(36).slice(2);\n        req.id = newId;\n        res.id = newId;\n        next((done)=>{\n            req.id = originalId;\n            res.id = originalId;\n            done();\n        });\n    };\n}\nfunction createLoggerMiddleware(logger) {\n    return (req, res, next, _)=>{\n        logger.debug(\"REQ\", req, \"RES\", res);\n        next();\n    };\n}\nfunction createAsyncMiddleware(asyncMiddleware) {\n    return async (req, res, next, end)=>{\n        // nextPromise is the key to the implementation\n        // it is resolved by the return handler passed to the\n        // \"next\" function\n        let resolveNextPromise;\n        const nextPromise = new Promise((resolve)=>{\n            resolveNextPromise = resolve;\n        });\n        let returnHandlerCallback = null;\n        let nextWasCalled = false;\n        // This will be called by the consumer's async middleware.\n        const asyncNext = async ()=>{\n            nextWasCalled = true;\n            // We pass a return handler to next(). When it is called by the engine,\n            // the consumer's async middleware will resume executing.\n            next((runReturnHandlersCallback)=>{\n                // This callback comes from JRPCEngine._runReturnHandlers\n                returnHandlerCallback = runReturnHandlersCallback;\n                resolveNextPromise();\n            });\n            await nextPromise;\n        };\n        try {\n            await asyncMiddleware(req, res, asyncNext);\n            if (nextWasCalled) {\n                await nextPromise; // we must wait until the return handler is called\n                returnHandlerCallback(null);\n            } else {\n                end(null);\n            }\n        } catch (err) {\n            const error = err;\n            if (returnHandlerCallback) {\n                returnHandlerCallback(error);\n            } else {\n                end(error);\n            }\n        }\n    };\n}\n/**\n * A JSON-RPC request and response processor.\n * Give it a stack of middleware, pass it requests, and get back responses.\n */ class JRPCEngine extends SafeEventEmitter {\n    constructor(){\n        super();\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_middleware\", void 0);\n        this._middleware = [];\n    }\n    /**\n   * Serially executes the given stack of middleware.\n   *\n   * @returns An array of any error encountered during middleware execution,\n   * a boolean indicating whether the request was completed, and an array of\n   * middleware-defined return handlers.\n   */ static async _runAllMiddleware(req, res, middlewareStack) {\n        const returnHandlers = [];\n        let error = null;\n        let isComplete = false;\n        // Go down stack of middleware, call and collect optional returnHandlers\n        for (const middleware of middlewareStack){\n            [error, isComplete] = await JRPCEngine._runMiddleware(req, res, middleware, returnHandlers);\n            if (isComplete) {\n                break;\n            }\n        }\n        return [\n            error,\n            isComplete,\n            returnHandlers.reverse()\n        ];\n    }\n    /**\n   * Runs an individual middleware.\n   *\n   * @returns An array of any error encountered during middleware exection,\n   * and a boolean indicating whether the request should end.\n   */ static _runMiddleware(req, res, middleware, returnHandlers) {\n        return new Promise((resolve)=>{\n            const end = (err)=>{\n                const error = err || res.error;\n                if (error) {\n                    res.error = (0,_metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.serializeError)(error);\n                }\n                // True indicates that the request should end\n                resolve([\n                    error,\n                    true\n                ]);\n            };\n            const next = (returnHandler)=>{\n                if (res.error) {\n                    end(res.error);\n                } else {\n                    if (returnHandler) {\n                        if (typeof returnHandler !== \"function\") {\n                            end(new SerializableError({\n                                code: -32603,\n                                message: \"JRPCEngine: 'next' return handlers must be functions\"\n                            }));\n                        }\n                        returnHandlers.push(returnHandler);\n                    }\n                    // False indicates that the request should not end\n                    resolve([\n                        null,\n                        false\n                    ]);\n                }\n            };\n            try {\n                middleware(req, res, next, end);\n            } catch (error) {\n                end(error);\n            }\n        });\n    }\n    /**\n   * Serially executes array of return handlers. The request and response are\n   * assumed to be in their scope.\n   */ static async _runReturnHandlers(handlers) {\n        for (const handler of handlers){\n            await new Promise((resolve, reject)=>{\n                handler((err)=>err ? reject(err) : resolve());\n            });\n        }\n    }\n    /**\n   * Throws an error if the response has neither a result nor an error, or if\n   * the \"isComplete\" flag is falsy.\n   */ static _checkForCompletion(_req, res, isComplete) {\n        if (!(\"result\" in res) && !(\"error\" in res)) {\n            throw new SerializableError({\n                code: -32603,\n                message: \"Response has no error or result for request\"\n            });\n        }\n        if (!isComplete) {\n            throw new SerializableError({\n                code: -32603,\n                message: \"Nothing ended request\"\n            });\n        }\n    }\n    /**\n   * Add a middleware function to the engine's middleware stack.\n   *\n   * @param middleware - The middleware function to add.\n   */ push(middleware) {\n        this._middleware.push(middleware);\n    }\n    /**\n   * Handle a JSON-RPC request, and return a response.\n   *\n   * @param request - The request to handle.\n   * @param callback - An error-first callback that will receive the response.\n   */ /**\n   * Handle an array of JSON-RPC requests, and return an array of responses.\n   *\n   * @param request - The requests to handle.\n   * @param callback - An error-first callback that will receive the array of\n   * responses.\n   */ /**\n   * Handle a JSON-RPC request, and return a response.\n   *\n   * @param request - The request to handle.\n   * @returns A promise that resolves with the response, or rejects with an\n   * error.\n   */ /**\n   * Handle an array of JSON-RPC requests, and return an array of responses.\n   *\n   * @param request - The requests to handle.\n   * @returns A promise that resolves with the array of responses, or rejects\n   * with an error.\n   */ // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    handle(req, cb) {\n        if (cb && typeof cb !== \"function\") {\n            throw new Error('\"callback\" must be a function if provided.');\n        }\n        if (Array.isArray(req)) {\n            if (cb) {\n                return this._handleBatch(req, cb);\n            }\n            return this._handleBatch(req);\n        }\n        if (cb) {\n            return this._handle(req, cb);\n        }\n        return this._promiseHandle(req);\n    }\n    /**\n   * Returns this engine as a middleware function that can be pushed to other\n   * engines.\n   *\n   * @returns This engine as a middleware function.\n   */ asMiddleware() {\n        return async (req, res, next, end)=>{\n            try {\n                const [middlewareError, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);\n                if (isComplete) {\n                    await JRPCEngine._runReturnHandlers(returnHandlers);\n                    return end(middlewareError);\n                }\n                return next(async (handlerCallback)=>{\n                    try {\n                        await JRPCEngine._runReturnHandlers(returnHandlers);\n                    } catch (error) {\n                        return handlerCallback(error);\n                    }\n                    return handlerCallback();\n                });\n            } catch (error) {\n                return end(error);\n            }\n        };\n    }\n    /**\n   * Like _handle, but for batch requests.\n   */ /**\n   * Like _handle, but for batch requests.\n   */ async _handleBatch(reqs, cb) {\n        // The order here is important\n        try {\n            // 2. Wait for all requests to finish, or throw on some kind of fatal\n            // error\n            const responses = await Promise.all(// 1. Begin executing each request in the order received\n            reqs.map(this._promiseHandle.bind(this)));\n            // 3. Return batch response\n            if (cb) {\n                return cb(null, responses);\n            }\n            return responses;\n        } catch (error) {\n            if (cb) {\n                return cb(error);\n            }\n            throw error;\n        }\n    }\n    /**\n   * A promise-wrapped _handle.\n   */ _promiseHandle(req) {\n        return new Promise((resolve)=>{\n            this._handle(req, (_err, res)=>{\n                // There will always be a response, and it will always have any error\n                // that is caught and propagated.\n                resolve(res);\n            });\n        });\n    }\n    /**\n   * Ensures that the request object is valid, processes it, and passes any\n   * error and the response object to the given callback.\n   *\n   * Does not reject.\n   */ async _handle(callerReq, cb) {\n        if (!callerReq || Array.isArray(callerReq) || typeof callerReq !== \"object\") {\n            const error = new SerializableError({\n                code: -32603,\n                message: \"request must be plain object\"\n            });\n            return cb(error, {\n                id: undefined,\n                jsonrpc: \"2.0\",\n                error\n            });\n        }\n        if (typeof callerReq.method !== \"string\") {\n            const error = new SerializableError({\n                code: -32603,\n                message: \"method must be string\"\n            });\n            return cb(error, {\n                id: callerReq.id,\n                jsonrpc: \"2.0\",\n                error\n            });\n        }\n        const req = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()({}, callerReq);\n        const res = {\n            id: req.id,\n            jsonrpc: req.jsonrpc\n        };\n        let error = null;\n        try {\n            await this._processRequest(req, res);\n        } catch (_error) {\n            // A request handler error, a re-thrown middleware error, or something\n            // unexpected.\n            error = _error;\n        }\n        if (error) {\n            // Ensure no result is present on an errored response\n            delete res.result;\n            if (!res.error) {\n                res.error = (0,_metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.serializeError)(error);\n            }\n        }\n        return cb(error, res);\n    }\n    /**\n   * For the given request and response, runs all middleware and their return\n   * handlers, if any, and ensures that internal request processing semantics\n   * are satisfied.\n   */ async _processRequest(req, res) {\n        const [error, isComplete, returnHandlers] = await JRPCEngine._runAllMiddleware(req, res, this._middleware);\n        // Throw if \"end\" was not called, or if the response has neither a result\n        // nor an error.\n        JRPCEngine._checkForCompletion(req, res, isComplete);\n        // The return handlers should run even if an error was encountered during\n        // middleware processing.\n        await JRPCEngine._runReturnHandlers(returnHandlers);\n        // Now we re-throw the middleware processing error, if any, to catch it\n        // further up the call chain.\n        if (error) {\n            throw error;\n        }\n    }\n}\nfunction mergeMiddleware(middlewareStack) {\n    const engine = new JRPCEngine();\n    middlewareStack.forEach((middleware)=>engine.push(middleware));\n    return engine.asMiddleware();\n}\nfunction createEngineStream(opts) {\n    if (!opts || !opts.engine) {\n        throw new Error(\"Missing engine parameter!\");\n    }\n    const { engine } = opts;\n    // eslint-disable-next-line prefer-const\n    let stream;\n    function read() {\n        return undefined;\n    }\n    function write(req, _encoding, cb) {\n        engine.handle(req, (_err, res)=>{\n            stream.push(res);\n        });\n        cb();\n    }\n    stream = new readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex({\n        objectMode: true,\n        read,\n        write\n    });\n    // forward notifications\n    if (engine.on) {\n        engine.on(\"notification\", (message)=>{\n            stream.push(message);\n        });\n    }\n    return stream;\n}\nfunction providerFromEngine(engine) {\n    const provider = new SafeEventEmitter();\n    // handle both rpc send methods\n    provider.sendAsync = async (req)=>{\n        const res = await engine.handle(req);\n        if (res.error) {\n            var _res$error, _res$error2;\n            const err = (0,_metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.serializeError)(res.error, {\n                fallbackError: {\n                    message: ((_res$error = res.error) === null || _res$error === void 0 ? void 0 : _res$error.message) || res.error.toString(),\n                    code: ((_res$error2 = res.error) === null || _res$error2 === void 0 ? void 0 : _res$error2.code) || -32603\n                }\n            });\n            throw _metamask_rpc_errors__WEBPACK_IMPORTED_MODULE_5__.rpcErrors.internal(err);\n        }\n        return res.result;\n    };\n    provider.send = (req, callback)=>{\n        if (typeof callback !== \"function\") {\n            throw new Error('Must provide callback to \"send\" method.');\n        }\n        engine.handle(req, callback);\n    };\n    // forward notifications\n    if (engine.on) {\n        engine.on(\"notification\", (message)=>{\n            provider.emit(\"data\", null, message);\n        });\n    }\n    provider.request = async (args)=>{\n        const req = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()({}, args), {}, {\n            id: Math.random().toString(36).slice(2),\n            jsonrpc: \"2.0\"\n        });\n        const res = await provider.sendAsync(req);\n        return res;\n    };\n    return provider;\n}\nfunction providerFromMiddleware(middleware) {\n    const engine = new JRPCEngine();\n    engine.push(middleware);\n    const provider = providerFromEngine(engine);\n    return provider;\n}\nfunction providerAsMiddleware(provider) {\n    return async (req, res, _next, end)=>{\n        // send request to provider\n        try {\n            const providerRes = await provider.sendAsync(req);\n            res.result = providerRes;\n            return end();\n        } catch (error) {\n            return end(error);\n        }\n    };\n}\nclass Substream extends readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex {\n    constructor(_ref){\n        let { parent, name } = _ref;\n        super({\n            objectMode: true\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_parent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_name\", void 0);\n        this._parent = parent;\n        this._name = name;\n    }\n    /**\n   * Explicitly sets read operations to a no-op.\n   */ _read() {\n        return undefined;\n    }\n    /**\n   * Called when data should be written to this writable stream.\n   *\n   * @param chunk - Arbitrary object to write\n   * @param encoding - Encoding to use when writing payload\n   * @param callback - Called when writing is complete or an error occurs\n   */ _write(chunk, _encoding, callback) {\n        this._parent.push({\n            name: this._name,\n            data: chunk\n        });\n        callback();\n    }\n}\nconst IGNORE_SUBSTREAM = Symbol(\"IGNORE_SUBSTREAM\");\nclass ObjectMultiplex extends readable_stream__WEBPACK_IMPORTED_MODULE_1__.Duplex {\n    constructor(){\n        let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        super(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_4___default()({}, opts), {}, {\n            objectMode: true\n        }));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_substreams\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"getStream\", void 0);\n        this._substreams = {};\n    }\n    createStream(name) {\n        // validate name\n        if (!name) {\n            throw new Error(\"ObjectMultiplex - name must not be empty\");\n        }\n        if (this._substreams[name]) {\n            throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n        }\n        // create substream\n        const substream = new Substream({\n            parent: this,\n            name\n        });\n        this._substreams[name] = substream;\n        // listen for parent stream to end\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        anyStreamEnd(this, (_error)=>substream.destroy(_error || undefined));\n        return substream;\n    }\n    // ignore streams (dont display orphaned data warning)\n    ignoreStream(name) {\n        // validate name\n        if (!name) {\n            throw new Error(\"ObjectMultiplex - name must not be empty\");\n        }\n        if (this._substreams[name]) {\n            throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n        }\n        // set\n        this._substreams[name] = IGNORE_SUBSTREAM;\n    }\n    _read() {\n        return undefined;\n    }\n    _write(chunk, _encoding, callback) {\n        const { name, data } = chunk;\n        if (!name) {\n            window.console.warn(`ObjectMultiplex - malformed chunk without name \"${chunk}\"`);\n            return callback();\n        }\n        // get corresponding substream\n        const substream = this._substreams[name];\n        if (!substream) {\n            window.console.warn(`ObjectMultiplex - orphaned data for stream \"${name}\"`);\n            return callback();\n        }\n        // push data into substream\n        if (substream !== IGNORE_SUBSTREAM) {\n            substream.push(data);\n        }\n        return callback();\n    }\n}\n// util\nfunction anyStreamEnd(stream, _cb) {\n    const cb = once__WEBPACK_IMPORTED_MODULE_7___default()(_cb);\n    end_of_stream__WEBPACK_IMPORTED_MODULE_6___default()(stream, {\n        readable: false\n    }, cb);\n    end_of_stream__WEBPACK_IMPORTED_MODULE_6___default()(stream, {\n        writable: false\n    }, cb);\n}\nfunction setupMultiplex(stream) {\n    const mux = new ObjectMultiplex();\n    mux.getStream = function streamHelper(name) {\n        if (this._substreams[name]) {\n            return this._substreams[name];\n        }\n        return this.createStream(name);\n    };\n    pump__WEBPACK_IMPORTED_MODULE_8___default()(stream, mux, stream, (err)=>{\n        if (err) window.console.error(err);\n    });\n    return mux;\n}\nclass PostMessageStream extends BasePostMessageStream {\n    _postMessage(data) {\n        let originConstraint = this._targetOrigin;\n        if (typeof data === \"object\") {\n            const dataObj = data;\n            if (typeof dataObj.data === \"object\") {\n                const dataObjData = dataObj.data;\n                if (Array.isArray(dataObjData.params) && dataObjData.params.length > 0) {\n                    const dataObjDataParam = dataObjData.params[0];\n                    if (dataObjDataParam._origin) {\n                        originConstraint = dataObjDataParam._origin;\n                    }\n                    // add a constraint for the response\n                    dataObjDataParam._origin = window.location.origin;\n                }\n            }\n        }\n        this._targetWindow.postMessage({\n            target: this._target,\n            data\n        }, originConstraint);\n    }\n}\n //# sourceMappingURL=openloginJrpc.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy90b3J1cy1lbWJlZC9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9vcGVubG9naW4tanJwYy9kaXN0L29wZW5sb2dpbkpycGMuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9FO0FBQzNCO0FBQ0g7QUFDTTtBQUNxQjtBQUNBO0FBQ2pDO0FBQ1I7QUFDQTtBQUV4QixTQUFTVTtJQUNQLE9BQU9DO0FBQ1Q7QUFDQSxNQUFNQyxNQUFNO0FBQ1osTUFBTUMsTUFBTTtBQUNaLE1BQU1DLE1BQU07QUFDWixNQUFNQyw4QkFBOEJkLG1EQUFNQTtJQUN4Q2UsWUFBWUMsSUFBSSxDQUFFO1FBQ2hCLElBQUksRUFDRkMsSUFBSSxFQUNKQyxNQUFNLEVBQ05DLGVBQWVDLE1BQU0sRUFDckJDLGVBQWUsR0FBRyxFQUNuQixHQUFHTDtRQUNKLEtBQUssQ0FBQztZQUNKTSxZQUFZO1FBQ2Q7UUFDQXZCLDRFQUFlQSxDQUFDLElBQUksRUFBRSxTQUFTLEtBQUs7UUFDcENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxZQUFZLEtBQUs7UUFDdkNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxTQUFTLEtBQUs7UUFDcENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxXQUFXLEtBQUs7UUFDdENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxpQkFBaUIsS0FBSztRQUM1Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGlCQUFpQixLQUFLO1FBQzVDLDhEQUE4RDtRQUM5REEsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGNBQWMsS0FBSztRQUN6Q0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGtCQUFrQixLQUFLO1FBQzdDLElBQUksQ0FBQ2tCLFFBQVEsQ0FBQ0MsUUFBUTtZQUNwQixNQUFNLElBQUlLLE1BQU07UUFDbEI7UUFDQSxJQUFJLENBQUNDLEtBQUssR0FBRztRQUNiLElBQUksQ0FBQ0MsUUFBUSxHQUFHO1FBQ2hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHVDtRQUNiLElBQUksQ0FBQ1UsT0FBTyxHQUFHVCxRQUFRLGdCQUFnQjtRQUN2QyxJQUFJLENBQUNVLGFBQWEsR0FBR1Q7UUFDckIsSUFBSSxDQUFDVSxhQUFhLEdBQUdSO1FBQ3JCLElBQUksQ0FBQ1MsVUFBVSxHQUFHLElBQUksQ0FBQ0MsU0FBUyxDQUFDQyxJQUFJLENBQUMsSUFBSTtRQUMxQyxJQUFJLENBQUNDLGNBQWMsR0FBRztRQUN0QmIsT0FBT2MsZ0JBQWdCLENBQUMsV0FBVyxJQUFJLENBQUNKLFVBQVUsRUFBRTtRQUNwRCxJQUFJLENBQUNLLFVBQVU7SUFDakI7SUFDQUMsU0FBUztRQUNQLElBQUksQ0FBQ0MsSUFBSTtRQUNULElBQUksQ0FBQ0MsTUFBTSxDQUFDekIsS0FBSyxNQUFNSjtRQUN2QixJQUFJLENBQUNnQixRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDRCxLQUFLLEdBQUc7SUFDZjtJQUNBVyxhQUFhO1FBQ1gsSUFBSSxDQUFDRyxNQUFNLENBQUMzQixLQUFLLE1BQU1GO1FBQ3ZCLElBQUksQ0FBQzRCLElBQUk7SUFDWDtJQUNBRSxRQUFRQyxJQUFJLEVBQUU7UUFDWixJQUFJLENBQUMsSUFBSSxDQUFDaEIsS0FBSyxFQUFFO1lBQ2YsdUJBQXVCO1lBQ3ZCLElBQUlnQixTQUFTN0IsS0FBSztnQkFDaEIsSUFBSSxDQUFDYyxRQUFRLEdBQUc7Z0JBQ2hCLElBQUksQ0FBQ2EsTUFBTSxDQUFDMUIsS0FBSyxNQUFNSDtZQUN6QixPQUFPLElBQUkrQixTQUFTNUIsS0FBSztnQkFDdkIsSUFBSSxDQUFDWSxLQUFLLEdBQUc7Z0JBQ2IsSUFBSSxDQUFDLElBQUksQ0FBQ0MsUUFBUSxFQUFFO29CQUNsQixJQUFJLENBQUNhLE1BQU0sQ0FBQzFCLEtBQUssTUFBTUg7Z0JBQ3pCO2dCQUNBLElBQUksQ0FBQ2dDLE1BQU07WUFDYjtRQUNGLE9BQU8sSUFBSUQsU0FBUzNCLEtBQUs7WUFDdkIsSUFBSSxDQUFDdUIsTUFBTTtRQUNiLE9BQU87WUFDTCxrQkFBa0I7WUFDbEIsSUFBSTtnQkFDRixJQUFJLENBQUNNLElBQUksQ0FBQ0Y7WUFDWixFQUFFLE9BQU9HLEtBQUs7Z0JBQ1osSUFBSSxDQUFDQyxJQUFJLENBQUMsU0FBU0Q7WUFDckI7UUFDRjtJQUNGO0lBQ0FFLGFBQWFMLElBQUksRUFBRTtRQUNqQixNQUFNTSxtQkFBbUIsSUFBSSxDQUFDakIsYUFBYTtRQUMzQyxJQUFJLENBQUNELGFBQWEsQ0FBQ21CLFdBQVcsQ0FBQztZQUM3QjdCLFFBQVEsSUFBSSxDQUFDUyxPQUFPO1lBQ3BCYTtRQUNGLEdBQUdNO0lBQ0w7SUFDQWYsVUFBVWlCLEtBQUssRUFBRTtRQUNmLE1BQU1DLFVBQVVELE1BQU1SLElBQUk7UUFFMUIsbUJBQW1CO1FBQ25CLElBQUksSUFBSSxDQUFDWCxhQUFhLEtBQUssT0FBT21CLE1BQU1FLE1BQU0sS0FBSyxJQUFJLENBQUNyQixhQUFhLElBQUltQixNQUFNRyxNQUFNLEtBQUssSUFBSSxDQUFDdkIsYUFBYSxJQUFJLE9BQU9xQixZQUFZLFlBQVlBLFFBQVEvQixNQUFNLEtBQUssSUFBSSxDQUFDUSxLQUFLLElBQUksQ0FBQ3VCLFFBQVFULElBQUksRUFBRTtZQUM3TDtRQUNGO1FBQ0EsSUFBSSxDQUFDRCxPQUFPLENBQUNVLFFBQVFULElBQUk7SUFDM0I7SUFDQVksUUFBUTtRQUNOLE9BQU8xQztJQUNUO0lBRUEsOERBQThEO0lBQzlENEIsT0FBT0UsSUFBSSxFQUFFYSxDQUFDLEVBQUVDLEVBQUUsRUFBRTtRQUNsQixJQUFJLENBQUNULFlBQVksQ0FBQ0w7UUFDbEJjO0lBQ0Y7SUFDQUMsV0FBVztRQUNUbkMsT0FBT29DLG1CQUFtQixDQUFDLFdBQVcsSUFBSSxDQUFDMUIsVUFBVSxFQUFFO0lBQ3pEO0FBQ0Y7QUFFQSxxREFBcUQsR0FDckQsU0FBUzJCLFVBQVVDLE9BQU8sRUFBRUMsT0FBTyxFQUFFQyxJQUFJO0lBQ3ZDLElBQUk7UUFDRkMsUUFBUUMsS0FBSyxDQUFDSixTQUFTQyxTQUFTQztJQUNsQyxFQUFFLE9BQU9qQixLQUFLO1FBQ1osNkRBQTZEO1FBQzdEb0IsV0FBVztZQUNULE1BQU1wQjtRQUNSO0lBQ0Y7QUFDRjtBQUNBLFNBQVNxQixXQUFXQyxHQUFHO0lBQ3JCLE1BQU1DLElBQUlELElBQUlFLE1BQU07SUFDcEIsTUFBTUMsT0FBTyxJQUFJQyxNQUFNSDtJQUN2QixJQUFLLElBQUlJLElBQUksR0FBR0EsSUFBSUosR0FBR0ksS0FBSyxFQUFHO1FBQzdCRixJQUFJLENBQUNFLEVBQUUsR0FBR0wsR0FBRyxDQUFDSyxFQUFFO0lBQ2xCO0lBQ0EsT0FBT0Y7QUFDVDtBQUNBLE1BQU1HLHlCQUF5QnRFLGdEQUFZQTtJQUN6QzJDLEtBQUs0QixJQUFJLEVBQUU7UUFDVCxJQUFJQyxVQUFVRCxTQUFTO1FBQ3ZCLE1BQU1FLFNBQVMsSUFBSSxDQUFDQyxPQUFPO1FBQzNCLElBQUlELFdBQVdoRSxXQUFXO1lBQ3hCK0QsVUFBVUEsV0FBV0MsT0FBT0UsS0FBSyxLQUFLbEU7UUFDeEMsT0FBTyxJQUFJLENBQUMrRCxTQUFTO1lBQ25CLE9BQU87UUFDVDtRQUVBLG9EQUFvRDtRQUNwRCxJQUFLLElBQUlJLE9BQU9DLFVBQVVYLE1BQU0sRUFBRVAsT0FBTyxJQUFJUyxNQUFNUSxPQUFPLElBQUlBLE9BQU8sSUFBSSxJQUFJRSxPQUFPLEdBQUdBLE9BQU9GLE1BQU1FLE9BQVE7WUFDMUduQixJQUFJLENBQUNtQixPQUFPLEVBQUUsR0FBR0QsU0FBUyxDQUFDQyxLQUFLO1FBQ2xDO1FBQ0EsSUFBSU4sU0FBUztZQUNYLElBQUlPO1lBQ0osSUFBSXBCLEtBQUtPLE1BQU0sR0FBRyxHQUFHO2dCQUNuQixDQUFDYSxHQUFHLEdBQUdwQjtZQUNUO1lBQ0EsSUFBSW9CLGNBQWN6RCxPQUFPO2dCQUN2QixxRUFBcUU7Z0JBQ3JFLGlFQUFpRTtnQkFDakUsTUFBTXlELElBQUksMEJBQTBCO1lBQ3RDO1lBQ0EsaURBQWlEO1lBQ2pELE1BQU1yQyxNQUFNLElBQUlwQixNQUFNLENBQUMsZ0JBQWdCLEVBQUV5RCxLQUFLLENBQUMsRUFBRSxFQUFFQSxHQUFHL0IsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN2RU4sSUFBSWdCLE9BQU8sR0FBR3FCO1lBQ2QsTUFBTXJDLEtBQUssMEJBQTBCO1FBQ3ZDO1FBRUEsTUFBTWUsVUFBVWdCLE1BQU0sQ0FBQ0YsS0FBSztRQUM1QixJQUFJZCxZQUFZaEQsV0FBVztZQUN6QixPQUFPO1FBQ1Q7UUFDQSxJQUFJLE9BQU9nRCxZQUFZLFlBQVk7WUFDakNELFVBQVVDLFNBQVMsSUFBSSxFQUFFRTtRQUMzQixPQUFPO1lBQ0wsTUFBTXFCLE1BQU12QixRQUFRUyxNQUFNO1lBQzFCLE1BQU1lLFlBQVlsQixXQUFXTjtZQUM3QixJQUFLLElBQUlZLElBQUksR0FBR0EsSUFBSVcsS0FBS1gsS0FBSyxFQUFHO2dCQUMvQmIsVUFBVXlCLFNBQVMsQ0FBQ1osRUFBRSxFQUFFLElBQUksRUFBRVY7WUFDaEM7UUFDRjtRQUNBLE9BQU87SUFDVDtBQUNGO0FBRUEsTUFBTXVCLDBCQUEwQjVEO0lBQzlCUixZQUFZQyxJQUFJLENBQUU7UUFDaEIsSUFBSSxFQUNGb0UsSUFBSSxFQUNKbkMsT0FBTyxFQUNQVCxJQUFJLEVBQ0wsR0FBR3hCO1FBQ0osSUFBSSxDQUFDcUUsT0FBT0MsU0FBUyxDQUFDRixPQUFPO1lBQzNCLE1BQU0sSUFBSTdELE1BQU07UUFDbEI7UUFDQSxJQUFJLENBQUMwQixXQUFXLE9BQU9BLFlBQVksVUFBVTtZQUMzQyxNQUFNLElBQUkxQixNQUFNO1FBQ2xCO1FBQ0EsS0FBSyxDQUFDMEI7UUFDTmxELDRFQUFlQSxDQUFDLElBQUksRUFBRSxRQUFRLEtBQUs7UUFDbkNBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxRQUFRLEtBQUs7UUFDbkMsSUFBSSxDQUFDcUYsSUFBSSxHQUFHQTtRQUNaLElBQUk1QyxTQUFTOUIsV0FBVztZQUN0QixJQUFJLENBQUM4QixJQUFJLEdBQUdBO1FBQ2Q7SUFDRjtJQUNBK0MsV0FBVztRQUNULE9BQU9yRiwwREFBU0EsQ0FBQztZQUNma0YsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDZm5DLFNBQVMsSUFBSSxDQUFDQSxPQUFPO1lBQ3JCVCxNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNmZ0QsT0FBTyxJQUFJLENBQUNBLEtBQUs7UUFDbkI7SUFDRjtBQUNGO0FBRUEsTUFBTUMsd0JBQXdCLFNBQVVDLE9BQU8sRUFBRUMsTUFBTTtJQUNyRCxJQUFJQyxlQUFlZCxVQUFVWCxNQUFNLEdBQUcsS0FBS1csU0FBUyxDQUFDLEVBQUUsS0FBS3BFLFlBQVlvRSxTQUFTLENBQUMsRUFBRSxHQUFHO0lBQ3ZGLE9BQU8sQ0FBQ0YsT0FBT2lCO1FBQ2IsSUFBSWpCLFNBQVNpQixTQUFTakIsS0FBSyxFQUFFO1lBQzNCZSxPQUFPZixTQUFTaUIsU0FBU2pCLEtBQUs7UUFDaEMsT0FBTyxJQUFJLENBQUNnQixnQkFBZ0J2QixNQUFNeUIsT0FBTyxDQUFDRCxXQUFXO1lBQ25ESCxRQUFRRztRQUNWLE9BQU87WUFDTEgsUUFBUUcsU0FBU0UsTUFBTTtRQUN6QjtJQUNGO0FBQ0Y7QUFDQSxTQUFTQyxzQkFBc0JDLEdBQUc7SUFDaEMsT0FBTyxDQUFDQyxLQUFLQyxLQUFLQyxNQUFNQztRQUN0QixJQUFJO1lBQ0Ysd0VBQXdFO1lBQ3hFLElBQUksT0FBT0gsSUFBSUksTUFBTSxLQUFLLFlBQVksQ0FBQ0osSUFBSUksTUFBTSxFQUFFO2dCQUNqREgsSUFBSXZCLEtBQUssR0FBRyxJQUFJTyxrQkFBa0I7b0JBQ2hDQyxNQUFNLENBQUM7b0JBQ1BuQyxTQUFTO2dCQUNYO2dCQUNBb0Q7Z0JBQ0E7WUFDRjtZQUNBRCxLQUFLRyxDQUFBQTtnQkFDSCxNQUFNLEVBQ0ozQixLQUFLLEVBQ04sR0FBR3VCO2dCQUNKLElBQUksQ0FBQ3ZCLE9BQU87b0JBQ1YsT0FBTzJCO2dCQUNUO2dCQUNBTixJQUFJckIsS0FBSyxDQUFDLENBQUMsdUJBQXVCLEVBQUVBLE1BQU0zQixPQUFPLENBQUMsQ0FBQyxFQUFFMkI7Z0JBQ3JELE9BQU8yQjtZQUNUO1FBQ0YsRUFBRSxPQUFPM0IsT0FBTztZQUNkcUIsSUFBSXJCLEtBQUssQ0FBQyxDQUFDLDhCQUE4QixFQUFFQSxNQUFNM0IsT0FBTyxDQUFDLENBQUMsRUFBRTJCO1lBQzVEdUIsSUFBSXZCLEtBQUssR0FBRyxJQUFJTyxrQkFBa0I7Z0JBQ2hDQyxNQUFNLENBQUM7Z0JBQ1BuQyxTQUFTMkIsTUFBTTNCLE9BQU87WUFDeEI7WUFDQW9EO1FBQ0Y7SUFDRjtBQUNGO0FBQ0EsU0FBU0c7SUFDUCxNQUFNQyxRQUFRLENBQUM7SUFDZixTQUFTQztRQUNQLE9BQU87SUFDVDtJQUNBLE1BQU1oQyxTQUFTLElBQUlIO0lBQ25CLFNBQVNvQyxnQkFBZ0JSLEdBQUc7UUFDMUIsTUFBTXhDLFVBQVU4QyxLQUFLLENBQUNOLElBQUlTLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUNqRCxTQUFTO1lBQ1osTUFBTSxJQUFJcEMsTUFBTSxDQUFDLHdDQUF3QyxFQUFFNEUsSUFBSVMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN0RTtRQUNBLE9BQU9ILEtBQUssQ0FBQ04sSUFBSVMsRUFBRSxDQUFDO1FBQ3BCLG1DQUFtQztRQUNuQ0MsT0FBT0MsTUFBTSxDQUFDbkQsUUFBUXdDLEdBQUcsRUFBRUE7UUFDM0IsK0JBQStCO1FBQy9CLHVEQUF1RDtRQUN2RHBDLFdBQVdKLFFBQVEwQyxHQUFHO0lBQ3hCO0lBQ0EsU0FBU1Usb0JBQW9CWixHQUFHO1FBQzlCekIsT0FBTzlCLElBQUksQ0FBQyxnQkFBZ0J1RDtJQUM5QjtJQUNBLFNBQVNhLGVBQWViLEdBQUcsRUFBRWMsU0FBUyxFQUFFM0QsRUFBRTtRQUN4QyxJQUFJWDtRQUNKLElBQUk7WUFDRixNQUFNdUUsaUJBQWlCLENBQUNmLElBQUlTLEVBQUU7WUFDOUIsSUFBSU0sZ0JBQWdCO2dCQUNsQkgsb0JBQW9CWjtZQUN0QixPQUFPO2dCQUNMUSxnQkFBZ0JSO1lBQ2xCO1FBQ0YsRUFBRSxPQUFPZ0IsTUFBTTtZQUNieEUsTUFBTXdFO1FBQ1I7UUFDQSw2QkFBNkI7UUFDN0I3RCxHQUFHWDtJQUNMO0lBQ0EsTUFBTXlFLFNBQVMsSUFBSXBILG1EQUFNQSxDQUFDO1FBQ3hCc0IsWUFBWTtRQUNaK0YsTUFBTVg7UUFDTlksT0FBT047SUFDVDtJQUNBLE1BQU1PLGFBQWEsQ0FBQ3JCLEtBQUtDLEtBQUtDLE1BQU1DO1FBQ2xDLHNCQUFzQjtRQUN0QmUsT0FBTzFFLElBQUksQ0FBQ3dEO1FBQ1osNkJBQTZCO1FBQzdCTyxLQUFLLENBQUNQLElBQUlVLEVBQUUsQ0FBQyxHQUFHO1lBQ2RWO1lBQ0FDO1lBQ0FDO1lBQ0FDO1FBQ0Y7SUFDRjtJQUNBLE9BQU87UUFDTDNCO1FBQ0E2QztRQUNBSDtJQUNGO0FBQ0Y7QUFDQSxTQUFTSSx5QkFBeUJDLFFBQVE7SUFDeEMsT0FBTyxDQUFDdkIsS0FBS0MsS0FBS0MsTUFBTUM7UUFDdEIsTUFBTTNDLFVBQVUrRCxRQUFRLENBQUN2QixJQUFJSSxNQUFNLENBQUM7UUFDcEMsd0JBQXdCO1FBQ3hCLElBQUk1QyxZQUFZaEQsV0FBVztZQUN6QixPQUFPMEY7UUFDVDtRQUNBLHVDQUF1QztRQUN2QyxJQUFJLE9BQU8xQyxZQUFZLFlBQVk7WUFDakMsT0FBT0EsUUFBUXdDLEtBQUtDLEtBQUtDLE1BQU1DO1FBQ2pDO1FBQ0EsZ0RBQWdEO1FBQ2hERixJQUFJSixNQUFNLEdBQUdyQztRQUNiLE9BQU8yQztJQUNUO0FBQ0Y7QUFDQSxTQUFTcUI7SUFDUCxPQUFPLENBQUN4QixLQUFLQyxLQUFLQyxNQUFNdUI7UUFDdEIsTUFBTUMsYUFBYTFCLElBQUlVLEVBQUU7UUFDekIsTUFBTWlCLFFBQVFDLEtBQUtDLE1BQU0sR0FBR3hDLFFBQVEsQ0FBQyxJQUFJeUMsS0FBSyxDQUFDO1FBQy9DOUIsSUFBSVUsRUFBRSxHQUFHaUI7UUFDVDFCLElBQUlTLEVBQUUsR0FBR2lCO1FBQ1R6QixLQUFLRyxDQUFBQTtZQUNITCxJQUFJVSxFQUFFLEdBQUdnQjtZQUNUekIsSUFBSVMsRUFBRSxHQUFHZ0I7WUFDVHJCO1FBQ0Y7SUFDRjtBQUNGO0FBQ0EsU0FBUzBCLHVCQUF1QkMsTUFBTTtJQUNwQyxPQUFPLENBQUNoQyxLQUFLQyxLQUFLQyxNQUFNL0M7UUFDdEI2RSxPQUFPQyxLQUFLLENBQUMsT0FBT2pDLEtBQUssT0FBT0M7UUFDaENDO0lBQ0Y7QUFDRjtBQUNBLFNBQVNnQyxzQkFBc0JDLGVBQWU7SUFDNUMsT0FBTyxPQUFPbkMsS0FBS0MsS0FBS0MsTUFBTUM7UUFDNUIsK0NBQStDO1FBQy9DLHFEQUFxRDtRQUNyRCxrQkFBa0I7UUFDbEIsSUFBSWlDO1FBQ0osTUFBTUMsY0FBYyxJQUFJQyxRQUFROUMsQ0FBQUE7WUFDOUI0QyxxQkFBcUI1QztRQUN2QjtRQUNBLElBQUkrQyx3QkFBd0I7UUFDNUIsSUFBSUMsZ0JBQWdCO1FBRXBCLDBEQUEwRDtRQUMxRCxNQUFNQyxZQUFZO1lBQ2hCRCxnQkFBZ0I7WUFFaEIsdUVBQXVFO1lBQ3ZFLHlEQUF5RDtZQUV6RHRDLEtBQUt3QyxDQUFBQTtnQkFDSCx5REFBeUQ7Z0JBQ3pESCx3QkFBd0JHO2dCQUN4Qk47WUFDRjtZQUNBLE1BQU1DO1FBQ1I7UUFDQSxJQUFJO1lBQ0YsTUFBTUYsZ0JBQWdCbkMsS0FBS0MsS0FBS3dDO1lBQ2hDLElBQUlELGVBQWU7Z0JBQ2pCLE1BQU1ILGFBQWEsa0RBQWtEO2dCQUNyRUUsc0JBQXNCO1lBQ3hCLE9BQU87Z0JBQ0xwQyxJQUFJO1lBQ047UUFDRixFQUFFLE9BQU8xRCxLQUFLO1lBQ1osTUFBTWlDLFFBQVFqQztZQUNkLElBQUk4Rix1QkFBdUI7Z0JBQ3pCQSxzQkFBc0I3RDtZQUN4QixPQUFPO2dCQUNMeUIsSUFBSXpCO1lBQ047UUFDRjtJQUNGO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDRCxNQUFNaUUsbUJBQW1CdEU7SUFDdkJ4RCxhQUFjO1FBQ1osS0FBSztRQUNMaEIsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGVBQWUsS0FBSztRQUMxQyxJQUFJLENBQUMrSSxXQUFXLEdBQUcsRUFBRTtJQUN2QjtJQUVBOzs7Ozs7R0FNQyxHQUNELGFBQWFDLGtCQUFrQjdDLEdBQUcsRUFBRUMsR0FBRyxFQUFFNkMsZUFBZSxFQUFFO1FBQ3hELE1BQU1DLGlCQUFpQixFQUFFO1FBQ3pCLElBQUlyRSxRQUFRO1FBQ1osSUFBSXNFLGFBQWE7UUFFakIsd0VBQXdFO1FBQ3hFLEtBQUssTUFBTTNCLGNBQWN5QixnQkFBaUI7WUFDeEMsQ0FBQ3BFLE9BQU9zRSxXQUFXLEdBQUcsTUFBTUwsV0FBV00sY0FBYyxDQUFDakQsS0FBS0MsS0FBS29CLFlBQVkwQjtZQUM1RSxJQUFJQyxZQUFZO2dCQUNkO1lBQ0Y7UUFDRjtRQUNBLE9BQU87WUFBQ3RFO1lBQU9zRTtZQUFZRCxlQUFlRyxPQUFPO1NBQUc7SUFDdEQ7SUFFQTs7Ozs7R0FLQyxHQUNELE9BQU9ELGVBQWVqRCxHQUFHLEVBQUVDLEdBQUcsRUFBRW9CLFVBQVUsRUFBRTBCLGNBQWMsRUFBRTtRQUMxRCxPQUFPLElBQUlULFFBQVE5QyxDQUFBQTtZQUNqQixNQUFNVyxNQUFNMUQsQ0FBQUE7Z0JBQ1YsTUFBTWlDLFFBQVFqQyxPQUFPd0QsSUFBSXZCLEtBQUs7Z0JBQzlCLElBQUlBLE9BQU87b0JBQ1R1QixJQUFJdkIsS0FBSyxHQUFHeEUsb0VBQWNBLENBQUN3RTtnQkFDN0I7Z0JBQ0EsNkNBQTZDO2dCQUM3Q2MsUUFBUTtvQkFBQ2Q7b0JBQU87aUJBQUs7WUFDdkI7WUFDQSxNQUFNd0IsT0FBT2lELENBQUFBO2dCQUNYLElBQUlsRCxJQUFJdkIsS0FBSyxFQUFFO29CQUNieUIsSUFBSUYsSUFBSXZCLEtBQUs7Z0JBQ2YsT0FBTztvQkFDTCxJQUFJeUUsZUFBZTt3QkFDakIsSUFBSSxPQUFPQSxrQkFBa0IsWUFBWTs0QkFDdkNoRCxJQUFJLElBQUlsQixrQkFBa0I7Z0NBQ3hCQyxNQUFNLENBQUM7Z0NBQ1BuQyxTQUFTOzRCQUNYO3dCQUNGO3dCQUNBZ0csZUFBZXZHLElBQUksQ0FBQzJHO29CQUN0QjtvQkFFQSxrREFBa0Q7b0JBQ2xEM0QsUUFBUTt3QkFBQzt3QkFBTTtxQkFBTTtnQkFDdkI7WUFDRjtZQUNBLElBQUk7Z0JBQ0Y2QixXQUFXckIsS0FBS0MsS0FBS0MsTUFBTUM7WUFDN0IsRUFBRSxPQUFPekIsT0FBTztnQkFDZHlCLElBQUl6QjtZQUNOO1FBQ0Y7SUFDRjtJQUVBOzs7R0FHQyxHQUNELGFBQWEwRSxtQkFBbUI3QixRQUFRLEVBQUU7UUFDeEMsS0FBSyxNQUFNL0QsV0FBVytELFNBQVU7WUFDOUIsTUFBTSxJQUFJZSxRQUFRLENBQUM5QyxTQUFTQztnQkFDMUJqQyxRQUFRZixDQUFBQSxNQUFPQSxNQUFNZ0QsT0FBT2hELE9BQU8rQztZQUNyQztRQUNGO0lBQ0Y7SUFFQTs7O0dBR0MsR0FDRCxPQUFPNkQsb0JBQW9CQyxJQUFJLEVBQUVyRCxHQUFHLEVBQUUrQyxVQUFVLEVBQUU7UUFDaEQsSUFBSSxDQUFFLGFBQVkvQyxHQUFFLEtBQU0sQ0FBRSxZQUFXQSxHQUFFLEdBQUk7WUFDM0MsTUFBTSxJQUFJaEIsa0JBQWtCO2dCQUMxQkMsTUFBTSxDQUFDO2dCQUNQbkMsU0FBUztZQUNYO1FBQ0Y7UUFDQSxJQUFJLENBQUNpRyxZQUFZO1lBQ2YsTUFBTSxJQUFJL0Qsa0JBQWtCO2dCQUMxQkMsTUFBTSxDQUFDO2dCQUNQbkMsU0FBUztZQUNYO1FBQ0Y7SUFDRjtJQUVBOzs7O0dBSUMsR0FDRFAsS0FBSzZFLFVBQVUsRUFBRTtRQUNmLElBQUksQ0FBQ3VCLFdBQVcsQ0FBQ3BHLElBQUksQ0FBQzZFO0lBQ3hCO0lBRUE7Ozs7O0dBS0MsR0FFRDs7Ozs7O0dBTUMsR0FFRDs7Ozs7O0dBTUMsR0FFRDs7Ozs7O0dBTUMsR0FFRCw4REFBOEQ7SUFDOURrQyxPQUFPdkQsR0FBRyxFQUFFNUMsRUFBRSxFQUFFO1FBQ2QsSUFBSUEsTUFBTSxPQUFPQSxPQUFPLFlBQVk7WUFDbEMsTUFBTSxJQUFJL0IsTUFBTTtRQUNsQjtRQUNBLElBQUk4QyxNQUFNeUIsT0FBTyxDQUFDSSxNQUFNO1lBQ3RCLElBQUk1QyxJQUFJO2dCQUNOLE9BQU8sSUFBSSxDQUFDb0csWUFBWSxDQUFDeEQsS0FBSzVDO1lBQ2hDO1lBQ0EsT0FBTyxJQUFJLENBQUNvRyxZQUFZLENBQUN4RDtRQUMzQjtRQUNBLElBQUk1QyxJQUFJO1lBQ04sT0FBTyxJQUFJLENBQUNxRyxPQUFPLENBQUN6RCxLQUFLNUM7UUFDM0I7UUFDQSxPQUFPLElBQUksQ0FBQ3NHLGNBQWMsQ0FBQzFEO0lBQzdCO0lBRUE7Ozs7O0dBS0MsR0FDRDJELGVBQWU7UUFDYixPQUFPLE9BQU8zRCxLQUFLQyxLQUFLQyxNQUFNQztZQUM1QixJQUFJO2dCQUNGLE1BQU0sQ0FBQ3lELGlCQUFpQlosWUFBWUQsZUFBZSxHQUFHLE1BQU1KLFdBQVdFLGlCQUFpQixDQUFDN0MsS0FBS0MsS0FBSyxJQUFJLENBQUMyQyxXQUFXO2dCQUNuSCxJQUFJSSxZQUFZO29CQUNkLE1BQU1MLFdBQVdTLGtCQUFrQixDQUFDTDtvQkFDcEMsT0FBTzVDLElBQUl5RDtnQkFDYjtnQkFDQSxPQUFPMUQsS0FBSyxPQUFNMkQ7b0JBQ2hCLElBQUk7d0JBQ0YsTUFBTWxCLFdBQVdTLGtCQUFrQixDQUFDTDtvQkFDdEMsRUFBRSxPQUFPckUsT0FBTzt3QkFDZCxPQUFPbUYsZ0JBQWdCbkY7b0JBQ3pCO29CQUNBLE9BQU9tRjtnQkFDVDtZQUNGLEVBQUUsT0FBT25GLE9BQU87Z0JBQ2QsT0FBT3lCLElBQUl6QjtZQUNiO1FBQ0Y7SUFDRjtJQUVBOztHQUVDLEdBRUQ7O0dBRUMsR0FFRCxNQUFNOEUsYUFBYU0sSUFBSSxFQUFFMUcsRUFBRSxFQUFFO1FBQzNCLDhCQUE4QjtRQUM5QixJQUFJO1lBQ0YscUVBQXFFO1lBQ3JFLFFBQVE7WUFDUixNQUFNMkcsWUFBWSxNQUFNekIsUUFBUTBCLEdBQUcsQ0FDbkMsd0RBQXdEO1lBQ3hERixLQUFLRyxHQUFHLENBQUMsSUFBSSxDQUFDUCxjQUFjLENBQUM1SCxJQUFJLENBQUMsSUFBSTtZQUV0QywyQkFBMkI7WUFDM0IsSUFBSXNCLElBQUk7Z0JBQ04sT0FBT0EsR0FBRyxNQUFNMkc7WUFDbEI7WUFDQSxPQUFPQTtRQUNULEVBQUUsT0FBT3JGLE9BQU87WUFDZCxJQUFJdEIsSUFBSTtnQkFDTixPQUFPQSxHQUFHc0I7WUFDWjtZQUNBLE1BQU1BO1FBQ1I7SUFDRjtJQUVBOztHQUVDLEdBQ0RnRixlQUFlMUQsR0FBRyxFQUFFO1FBQ2xCLE9BQU8sSUFBSXNDLFFBQVE5QyxDQUFBQTtZQUNqQixJQUFJLENBQUNpRSxPQUFPLENBQUN6RCxLQUFLLENBQUNpQixNQUFNaEI7Z0JBQ3ZCLHFFQUFxRTtnQkFDckUsaUNBQWlDO2dCQUNqQ1QsUUFBUVM7WUFDVjtRQUNGO0lBQ0Y7SUFFQTs7Ozs7R0FLQyxHQUNELE1BQU13RCxRQUFRUyxTQUFTLEVBQUU5RyxFQUFFLEVBQUU7UUFDM0IsSUFBSSxDQUFDOEcsYUFBYS9GLE1BQU15QixPQUFPLENBQUNzRSxjQUFjLE9BQU9BLGNBQWMsVUFBVTtZQUMzRSxNQUFNeEYsUUFBUSxJQUFJTyxrQkFBa0I7Z0JBQ2xDQyxNQUFNLENBQUM7Z0JBQ1BuQyxTQUFTO1lBQ1g7WUFDQSxPQUFPSyxHQUFHc0IsT0FBTztnQkFDZmdDLElBQUlsRztnQkFDSjJKLFNBQVM7Z0JBQ1R6RjtZQUNGO1FBQ0Y7UUFDQSxJQUFJLE9BQU93RixVQUFVOUQsTUFBTSxLQUFLLFVBQVU7WUFDeEMsTUFBTTFCLFFBQVEsSUFBSU8sa0JBQWtCO2dCQUNsQ0MsTUFBTSxDQUFDO2dCQUNQbkMsU0FBUztZQUNYO1lBQ0EsT0FBT0ssR0FBR3NCLE9BQU87Z0JBQ2ZnQyxJQUFJd0QsVUFBVXhELEVBQUU7Z0JBQ2hCeUQsU0FBUztnQkFDVHpGO1lBQ0Y7UUFDRjtRQUNBLE1BQU1zQixNQUFNL0YsMkVBQWFBLENBQUMsQ0FBQyxHQUFHaUs7UUFDOUIsTUFBTWpFLE1BQU07WUFDVlMsSUFBSVYsSUFBSVUsRUFBRTtZQUNWeUQsU0FBU25FLElBQUltRSxPQUFPO1FBQ3RCO1FBQ0EsSUFBSXpGLFFBQVE7UUFDWixJQUFJO1lBQ0YsTUFBTSxJQUFJLENBQUMwRixlQUFlLENBQUNwRSxLQUFLQztRQUNsQyxFQUFFLE9BQU9vRSxRQUFRO1lBQ2Ysc0VBQXNFO1lBQ3RFLGNBQWM7WUFDZDNGLFFBQVEyRjtRQUNWO1FBQ0EsSUFBSTNGLE9BQU87WUFDVCxxREFBcUQ7WUFDckQsT0FBT3VCLElBQUlKLE1BQU07WUFDakIsSUFBSSxDQUFDSSxJQUFJdkIsS0FBSyxFQUFFO2dCQUNkdUIsSUFBSXZCLEtBQUssR0FBR3hFLG9FQUFjQSxDQUFDd0U7WUFDN0I7UUFDRjtRQUNBLE9BQU90QixHQUFHc0IsT0FBT3VCO0lBQ25CO0lBRUE7Ozs7R0FJQyxHQUNELE1BQU1tRSxnQkFBZ0JwRSxHQUFHLEVBQUVDLEdBQUcsRUFBRTtRQUM5QixNQUFNLENBQUN2QixPQUFPc0UsWUFBWUQsZUFBZSxHQUFHLE1BQU1KLFdBQVdFLGlCQUFpQixDQUFDN0MsS0FBS0MsS0FBSyxJQUFJLENBQUMyQyxXQUFXO1FBRXpHLHlFQUF5RTtRQUN6RSxnQkFBZ0I7UUFDaEJELFdBQVdVLG1CQUFtQixDQUFDckQsS0FBS0MsS0FBSytDO1FBRXpDLHlFQUF5RTtRQUN6RSx5QkFBeUI7UUFDekIsTUFBTUwsV0FBV1Msa0JBQWtCLENBQUNMO1FBRXBDLHVFQUF1RTtRQUN2RSw2QkFBNkI7UUFDN0IsSUFBSXJFLE9BQU87WUFDVCxNQUFNQTtRQUNSO0lBQ0Y7QUFDRjtBQUNBLFNBQVM0RixnQkFBZ0J4QixlQUFlO0lBQ3RDLE1BQU15QixTQUFTLElBQUk1QjtJQUNuQkcsZ0JBQWdCMEIsT0FBTyxDQUFDbkQsQ0FBQUEsYUFBY2tELE9BQU8vSCxJQUFJLENBQUM2RTtJQUNsRCxPQUFPa0QsT0FBT1osWUFBWTtBQUM1QjtBQUNBLFNBQVNjLG1CQUFtQkMsSUFBSTtJQUM5QixJQUFJLENBQUNBLFFBQVEsQ0FBQ0EsS0FBS0gsTUFBTSxFQUFFO1FBQ3pCLE1BQU0sSUFBSWxKLE1BQU07SUFDbEI7SUFDQSxNQUFNLEVBQ0prSixNQUFNLEVBQ1AsR0FBR0c7SUFDSix3Q0FBd0M7SUFDeEMsSUFBSXhEO0lBQ0osU0FBU0M7UUFDUCxPQUFPM0c7SUFDVDtJQUNBLFNBQVM0RyxNQUFNcEIsR0FBRyxFQUFFZSxTQUFTLEVBQUUzRCxFQUFFO1FBQy9CbUgsT0FBT2hCLE1BQU0sQ0FBQ3ZELEtBQUssQ0FBQ2lCLE1BQU1oQjtZQUN4QmlCLE9BQU8xRSxJQUFJLENBQUN5RDtRQUNkO1FBQ0E3QztJQUNGO0lBQ0E4RCxTQUFTLElBQUlwSCxtREFBTUEsQ0FBQztRQUNsQnNCLFlBQVk7UUFDWitGO1FBQ0FDO0lBQ0Y7SUFFQSx3QkFBd0I7SUFDeEIsSUFBSW1ELE9BQU9JLEVBQUUsRUFBRTtRQUNiSixPQUFPSSxFQUFFLENBQUMsZ0JBQWdCNUgsQ0FBQUE7WUFDeEJtRSxPQUFPMUUsSUFBSSxDQUFDTztRQUNkO0lBQ0Y7SUFDQSxPQUFPbUU7QUFDVDtBQUNBLFNBQVMwRCxtQkFBbUJMLE1BQU07SUFDaEMsTUFBTU0sV0FBVyxJQUFJeEc7SUFDckIsK0JBQStCO0lBQy9Cd0csU0FBU0MsU0FBUyxHQUFHLE9BQU05RTtRQUN6QixNQUFNQyxNQUFNLE1BQU1zRSxPQUFPaEIsTUFBTSxDQUFDdkQ7UUFDaEMsSUFBSUMsSUFBSXZCLEtBQUssRUFBRTtZQUNiLElBQUlxRyxZQUFZQztZQUNoQixNQUFNdkksTUFBTXZDLG9FQUFjQSxDQUFDK0YsSUFBSXZCLEtBQUssRUFBRTtnQkFDcEN1RyxlQUFlO29CQUNibEksU0FBUyxDQUFDLENBQUNnSSxhQUFhOUUsSUFBSXZCLEtBQUssTUFBTSxRQUFRcUcsZUFBZSxLQUFLLElBQUksS0FBSyxJQUFJQSxXQUFXaEksT0FBTyxLQUFLa0QsSUFBSXZCLEtBQUssQ0FBQ1csUUFBUTtvQkFDekhILE1BQU0sQ0FBQyxDQUFDOEYsY0FBYy9FLElBQUl2QixLQUFLLE1BQU0sUUFBUXNHLGdCQUFnQixLQUFLLElBQUksS0FBSyxJQUFJQSxZQUFZOUYsSUFBSSxLQUFLLENBQUM7Z0JBQ3ZHO1lBQ0Y7WUFDQSxNQUFNL0UsMkRBQVNBLENBQUMrSyxRQUFRLENBQUN6STtRQUMzQjtRQUNBLE9BQU93RCxJQUFJSixNQUFNO0lBQ25CO0lBQ0FnRixTQUFTTSxJQUFJLEdBQUcsQ0FBQ25GLEtBQUtvRjtRQUNwQixJQUFJLE9BQU9BLGFBQWEsWUFBWTtZQUNsQyxNQUFNLElBQUkvSixNQUFNO1FBQ2xCO1FBQ0FrSixPQUFPaEIsTUFBTSxDQUFDdkQsS0FBS29GO0lBQ3JCO0lBQ0Esd0JBQXdCO0lBQ3hCLElBQUliLE9BQU9JLEVBQUUsRUFBRTtRQUNiSixPQUFPSSxFQUFFLENBQUMsZ0JBQWdCNUgsQ0FBQUE7WUFDeEI4SCxTQUFTbkksSUFBSSxDQUFDLFFBQVEsTUFBTUs7UUFDOUI7SUFDRjtJQUNBOEgsU0FBU1EsT0FBTyxHQUFHLE9BQU0zSDtRQUN2QixNQUFNc0MsTUFBTS9GLDJFQUFhQSxDQUFDQSwyRUFBYUEsQ0FBQyxDQUFDLEdBQUd5RCxPQUFPLENBQUMsR0FBRztZQUNyRGdELElBQUlrQixLQUFLQyxNQUFNLEdBQUd4QyxRQUFRLENBQUMsSUFBSXlDLEtBQUssQ0FBQztZQUNyQ3FDLFNBQVM7UUFDWDtRQUNBLE1BQU1sRSxNQUFNLE1BQU00RSxTQUFTQyxTQUFTLENBQUM5RTtRQUNyQyxPQUFPQztJQUNUO0lBQ0EsT0FBTzRFO0FBQ1Q7QUFDQSxTQUFTUyx1QkFBdUJqRSxVQUFVO0lBQ3hDLE1BQU1rRCxTQUFTLElBQUk1QjtJQUNuQjRCLE9BQU8vSCxJQUFJLENBQUM2RTtJQUNaLE1BQU13RCxXQUFXRCxtQkFBbUJMO0lBQ3BDLE9BQU9NO0FBQ1Q7QUFDQSxTQUFTVSxxQkFBcUJWLFFBQVE7SUFDcEMsT0FBTyxPQUFPN0UsS0FBS0MsS0FBS3VGLE9BQU9yRjtRQUM3QiwyQkFBMkI7UUFDM0IsSUFBSTtZQUNGLE1BQU1zRixjQUFjLE1BQU1aLFNBQVNDLFNBQVMsQ0FBQzlFO1lBQzdDQyxJQUFJSixNQUFNLEdBQUc0RjtZQUNiLE9BQU90RjtRQUNULEVBQUUsT0FBT3pCLE9BQU87WUFDZCxPQUFPeUIsSUFBSXpCO1FBQ2I7SUFDRjtBQUNGO0FBRUEsTUFBTWdILGtCQUFrQjVMLG1EQUFNQTtJQUM1QmUsWUFBWUMsSUFBSSxDQUFFO1FBQ2hCLElBQUksRUFDRjZLLE1BQU0sRUFDTjVLLElBQUksRUFDTCxHQUFHRDtRQUNKLEtBQUssQ0FBQztZQUNKTSxZQUFZO1FBQ2Q7UUFDQXZCLDRFQUFlQSxDQUFDLElBQUksRUFBRSxXQUFXLEtBQUs7UUFDdENBLDRFQUFlQSxDQUFDLElBQUksRUFBRSxTQUFTLEtBQUs7UUFDcEMsSUFBSSxDQUFDK0wsT0FBTyxHQUFHRDtRQUNmLElBQUksQ0FBQ25LLEtBQUssR0FBR1Q7SUFDZjtJQUVBOztHQUVDLEdBQ0RtQyxRQUFRO1FBQ04sT0FBTzFDO0lBQ1Q7SUFFQTs7Ozs7O0dBTUMsR0FDRDRCLE9BQU95SixLQUFLLEVBQUU5RSxTQUFTLEVBQUVxRSxRQUFRLEVBQUU7UUFDakMsSUFBSSxDQUFDUSxPQUFPLENBQUNwSixJQUFJLENBQUM7WUFDaEJ6QixNQUFNLElBQUksQ0FBQ1MsS0FBSztZQUNoQmMsTUFBTXVKO1FBQ1I7UUFDQVQ7SUFDRjtBQUNGO0FBRUEsTUFBTVUsbUJBQW1CQyxPQUFPO0FBQ2hDLE1BQU1DLHdCQUF3QmxNLG1EQUFNQTtJQUNsQ2UsYUFBYztRQUNaLElBQUk2SixPQUFPOUYsVUFBVVgsTUFBTSxHQUFHLEtBQUtXLFNBQVMsQ0FBQyxFQUFFLEtBQUtwRSxZQUFZb0UsU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDO1FBQ2hGLEtBQUssQ0FBQzNFLDJFQUFhQSxDQUFDQSwyRUFBYUEsQ0FBQyxDQUFDLEdBQUd5SyxPQUFPLENBQUMsR0FBRztZQUMvQ3RKLFlBQVk7UUFDZDtRQUNBdkIsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGVBQWUsS0FBSztRQUMxQ0EsNEVBQWVBLENBQUMsSUFBSSxFQUFFLGFBQWEsS0FBSztRQUN4QyxJQUFJLENBQUNvTSxXQUFXLEdBQUcsQ0FBQztJQUN0QjtJQUNBQyxhQUFhbkwsSUFBSSxFQUFFO1FBQ2pCLGdCQUFnQjtRQUNoQixJQUFJLENBQUNBLE1BQU07WUFDVCxNQUFNLElBQUlNLE1BQU07UUFDbEI7UUFDQSxJQUFJLElBQUksQ0FBQzRLLFdBQVcsQ0FBQ2xMLEtBQUssRUFBRTtZQUMxQixNQUFNLElBQUlNLE1BQU0sQ0FBQyxzQ0FBc0MsRUFBRU4sS0FBSyxnQkFBZ0IsQ0FBQztRQUNqRjtRQUVBLG1CQUFtQjtRQUNuQixNQUFNb0wsWUFBWSxJQUFJVCxVQUFVO1lBQzlCQyxRQUFRLElBQUk7WUFDWjVLO1FBQ0Y7UUFDQSxJQUFJLENBQUNrTCxXQUFXLENBQUNsTCxLQUFLLEdBQUdvTDtRQUV6QixrQ0FBa0M7UUFDbEMsbUVBQW1FO1FBQ25FQyxhQUFhLElBQUksRUFBRS9CLENBQUFBLFNBQVU4QixVQUFVRSxPQUFPLENBQUNoQyxVQUFVN0o7UUFDekQsT0FBTzJMO0lBQ1Q7SUFFQSxzREFBc0Q7SUFDdERHLGFBQWF2TCxJQUFJLEVBQUU7UUFDakIsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQ0EsTUFBTTtZQUNULE1BQU0sSUFBSU0sTUFBTTtRQUNsQjtRQUNBLElBQUksSUFBSSxDQUFDNEssV0FBVyxDQUFDbEwsS0FBSyxFQUFFO1lBQzFCLE1BQU0sSUFBSU0sTUFBTSxDQUFDLHNDQUFzQyxFQUFFTixLQUFLLGdCQUFnQixDQUFDO1FBQ2pGO1FBQ0EsTUFBTTtRQUNOLElBQUksQ0FBQ2tMLFdBQVcsQ0FBQ2xMLEtBQUssR0FBRytLO0lBQzNCO0lBQ0E1SSxRQUFRO1FBQ04sT0FBTzFDO0lBQ1Q7SUFDQTRCLE9BQU95SixLQUFLLEVBQUU5RSxTQUFTLEVBQUVxRSxRQUFRLEVBQUU7UUFDakMsTUFBTSxFQUNKckssSUFBSSxFQUNKdUIsSUFBSSxFQUNMLEdBQUd1SjtRQUNKLElBQUksQ0FBQzlLLE1BQU07WUFDVEcsT0FBT3FMLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsZ0RBQWdELEVBQUVYLE1BQU0sQ0FBQyxDQUFDO1lBQy9FLE9BQU9UO1FBQ1Q7UUFFQSw4QkFBOEI7UUFDOUIsTUFBTWUsWUFBWSxJQUFJLENBQUNGLFdBQVcsQ0FBQ2xMLEtBQUs7UUFDeEMsSUFBSSxDQUFDb0wsV0FBVztZQUNkakwsT0FBT3FMLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsNENBQTRDLEVBQUV6TCxLQUFLLENBQUMsQ0FBQztZQUMxRSxPQUFPcUs7UUFDVDtRQUVBLDJCQUEyQjtRQUMzQixJQUFJZSxjQUFjTCxrQkFBa0I7WUFDbENLLFVBQVUzSixJQUFJLENBQUNGO1FBQ2pCO1FBQ0EsT0FBTzhJO0lBQ1Q7QUFDRjtBQUVBLE9BQU87QUFDUCxTQUFTZ0IsYUFBYWxGLE1BQU0sRUFBRXVGLEdBQUc7SUFDL0IsTUFBTXJKLEtBQUsvQywyQ0FBSUEsQ0FBQ29NO0lBQ2hCck0sb0RBQUdBLENBQUM4RyxRQUFRO1FBQ1Z3RixVQUFVO0lBQ1osR0FBR3RKO0lBQ0hoRCxvREFBR0EsQ0FBQzhHLFFBQVE7UUFDVnlGLFVBQVU7SUFDWixHQUFHdko7QUFDTDtBQUNBLFNBQVN3SixlQUFlMUYsTUFBTTtJQUM1QixNQUFNMkYsTUFBTSxJQUFJYjtJQUNoQmEsSUFBSUMsU0FBUyxHQUFHLFNBQVNDLGFBQWFoTSxJQUFJO1FBQ3hDLElBQUksSUFBSSxDQUFDa0wsV0FBVyxDQUFDbEwsS0FBSyxFQUFFO1lBQzFCLE9BQU8sSUFBSSxDQUFDa0wsV0FBVyxDQUFDbEwsS0FBSztRQUMvQjtRQUNBLE9BQU8sSUFBSSxDQUFDbUwsWUFBWSxDQUFDbkw7SUFDM0I7SUFDQVQsMkNBQUlBLENBQUM0RyxRQUFRMkYsS0FBSzNGLFFBQVF6RSxDQUFBQTtRQUN4QixJQUFJQSxLQUFLdkIsT0FBT3FMLE9BQU8sQ0FBQzdILEtBQUssQ0FBQ2pDO0lBQ2hDO0lBQ0EsT0FBT29LO0FBQ1Q7QUFFQSxNQUFNRywwQkFBMEJwTTtJQUM5QitCLGFBQWFMLElBQUksRUFBRTtRQUNqQixJQUFJTSxtQkFBbUIsSUFBSSxDQUFDakIsYUFBYTtRQUN6QyxJQUFJLE9BQU9XLFNBQVMsVUFBVTtZQUM1QixNQUFNMkssVUFBVTNLO1lBQ2hCLElBQUksT0FBTzJLLFFBQVEzSyxJQUFJLEtBQUssVUFBVTtnQkFDcEMsTUFBTTRLLGNBQWNELFFBQVEzSyxJQUFJO2dCQUNoQyxJQUFJNkIsTUFBTXlCLE9BQU8sQ0FBQ3NILFlBQVlDLE1BQU0sS0FBS0QsWUFBWUMsTUFBTSxDQUFDbEosTUFBTSxHQUFHLEdBQUc7b0JBQ3RFLE1BQU1tSixtQkFBbUJGLFlBQVlDLE1BQU0sQ0FBQyxFQUFFO29CQUM5QyxJQUFJQyxpQkFBaUJDLE9BQU8sRUFBRTt3QkFDNUJ6SyxtQkFBbUJ3SyxpQkFBaUJDLE9BQU87b0JBQzdDO29CQUVBLG9DQUFvQztvQkFDcENELGlCQUFpQkMsT0FBTyxHQUFHbk0sT0FBT29NLFFBQVEsQ0FBQ3RLLE1BQU07Z0JBQ25EO1lBQ0Y7UUFDRjtRQUNBLElBQUksQ0FBQ3RCLGFBQWEsQ0FBQ21CLFdBQVcsQ0FBQztZQUM3QjdCLFFBQVEsSUFBSSxDQUFDUyxPQUFPO1lBQ3BCYTtRQUNGLEdBQUdNO0lBQ0w7QUFDRjtBQUVrYixDQUNsYiw2Q0FBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvdG9ydXMtZW1iZWQvbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvb3BlbmxvZ2luLWpycGMvZGlzdC9vcGVubG9naW5KcnBjLmVzbS5qcz8xYmRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgeyBEdXBsZXggfSBmcm9tICdyZWFkYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnZmFzdC1zYWZlLXN0cmluZ2lmeSc7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDInO1xuaW1wb3J0IHsgc2VyaWFsaXplRXJyb3IsIHJwY0Vycm9ycyB9IGZyb20gJ0BtZXRhbWFzay9ycGMtZXJyb3JzJztcbmltcG9ydCBlb3MgZnJvbSAnZW5kLW9mLXN0cmVhbSc7XG5pbXBvcnQgb25jZSBmcm9tICdvbmNlJztcbmltcG9ydCBwdW1wIGZyb20gJ3B1bXAnO1xuXG5mdW5jdGlvbiBub29wKCkge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuY29uc3QgU1lOID0gXCJTWU5cIjtcbmNvbnN0IEFDSyA9IFwiQUNLXCI7XG5jb25zdCBCUksgPSBcIkJSS1wiO1xuY2xhc3MgQmFzZVBvc3RNZXNzYWdlU3RyZWFtIGV4dGVuZHMgRHVwbGV4IHtcbiAgY29uc3RydWN0b3IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBuYW1lLFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGFyZ2V0V2luZG93ID0gd2luZG93LFxuICAgICAgdGFyZ2V0T3JpZ2luID0gXCIqXCJcbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcih7XG4gICAgICBvYmplY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2luaXRcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaGF2ZVN5blwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9uYW1lXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3RhcmdldFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90YXJnZXRXaW5kb3dcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdGFyZ2V0T3JpZ2luXCIsIHZvaWQgMCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfb25NZXNzYWdlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N5bkludGVydmFsSWRcIiwgdm9pZCAwKTtcbiAgICBpZiAoIW5hbWUgfHwgIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dC5cIik7XG4gICAgfVxuICAgIHRoaXMuX2luaXQgPSBmYWxzZTtcbiAgICB0aGlzLl9oYXZlU3luID0gZmFsc2U7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0OyAvLyB0YXJnZXQgb3JpZ2luXG4gICAgdGhpcy5fdGFyZ2V0V2luZG93ID0gdGFyZ2V0V2luZG93O1xuICAgIHRoaXMuX3RhcmdldE9yaWdpbiA9IHRhcmdldE9yaWdpbjtcbiAgICB0aGlzLl9vbk1lc3NhZ2UgPSB0aGlzLm9uTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3N5bkludGVydmFsSWQgPSBudWxsO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLl9vbk1lc3NhZ2UsIGZhbHNlKTtcbiAgICB0aGlzLl9oYW5kU2hha2UoKTtcbiAgfVxuICBfYnJlYWsoKSB7XG4gICAgdGhpcy5jb3JrKCk7XG4gICAgdGhpcy5fd3JpdGUoQlJLLCBudWxsLCBub29wKTtcbiAgICB0aGlzLl9oYXZlU3luID0gZmFsc2U7XG4gICAgdGhpcy5faW5pdCA9IGZhbHNlO1xuICB9XG4gIF9oYW5kU2hha2UoKSB7XG4gICAgdGhpcy5fd3JpdGUoU1lOLCBudWxsLCBub29wKTtcbiAgICB0aGlzLmNvcmsoKTtcbiAgfVxuICBfb25EYXRhKGRhdGEpIHtcbiAgICBpZiAoIXRoaXMuX2luaXQpIHtcbiAgICAgIC8vIGxpc3RlbiBmb3IgaGFuZHNoYWtlXG4gICAgICBpZiAoZGF0YSA9PT0gU1lOKSB7XG4gICAgICAgIHRoaXMuX2hhdmVTeW4gPSB0cnVlO1xuICAgICAgICB0aGlzLl93cml0ZShBQ0ssIG51bGwsIG5vb3ApO1xuICAgICAgfSBlbHNlIGlmIChkYXRhID09PSBBQ0spIHtcbiAgICAgICAgdGhpcy5faW5pdCA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5faGF2ZVN5bikge1xuICAgICAgICAgIHRoaXMuX3dyaXRlKEFDSywgbnVsbCwgbm9vcCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bmNvcmsoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRhdGEgPT09IEJSSykge1xuICAgICAgdGhpcy5fYnJlYWsoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZm9yd2FyZCBtZXNzYWdlXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnB1c2goZGF0YSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3Bvc3RNZXNzYWdlKGRhdGEpIHtcbiAgICBjb25zdCBvcmlnaW5Db25zdHJhaW50ID0gdGhpcy5fdGFyZ2V0T3JpZ2luO1xuICAgIHRoaXMuX3RhcmdldFdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICB0YXJnZXQ6IHRoaXMuX3RhcmdldCxcbiAgICAgIGRhdGFcbiAgICB9LCBvcmlnaW5Db25zdHJhaW50KTtcbiAgfVxuICBvbk1lc3NhZ2UoZXZlbnQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQuZGF0YTtcblxuICAgIC8vIHZhbGlkYXRlIG1lc3NhZ2VcbiAgICBpZiAodGhpcy5fdGFyZ2V0T3JpZ2luICE9PSBcIipcIiAmJiBldmVudC5vcmlnaW4gIT09IHRoaXMuX3RhcmdldE9yaWdpbiB8fCBldmVudC5zb3VyY2UgIT09IHRoaXMuX3RhcmdldFdpbmRvdyB8fCB0eXBlb2YgbWVzc2FnZSAhPT0gXCJvYmplY3RcIiB8fCBtZXNzYWdlLnRhcmdldCAhPT0gdGhpcy5fbmFtZSB8fCAhbWVzc2FnZS5kYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX29uRGF0YShtZXNzYWdlLmRhdGEpO1xuICB9XG4gIF9yZWFkKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBfd3JpdGUoZGF0YSwgXywgY2IpIHtcbiAgICB0aGlzLl9wb3N0TWVzc2FnZShkYXRhKTtcbiAgICBjYigpO1xuICB9XG4gIF9kZXN0cm95KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLl9vbk1lc3NhZ2UsIGZhbHNlKTtcbiAgfVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5mdW5jdGlvbiBzYWZlQXBwbHkoaGFuZGxlciwgY29udGV4dCwgYXJncykge1xuICB0cnkge1xuICAgIFJlZmxlY3QuYXBwbHkoaGFuZGxlciwgY29udGV4dCwgYXJncyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFRocm93IGVycm9yIGFmdGVyIHRpbWVvdXQgc28gYXMgbm90IHRvIGludGVycnVwdCB0aGUgc3RhY2tcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIpIHtcbiAgY29uc3QgbiA9IGFyci5sZW5ndGg7XG4gIGNvbnN0IGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSArPSAxKSB7XG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgfVxuICByZXR1cm4gY29weTtcbn1cbmNsYXNzIFNhZmVFdmVudEVtaXR0ZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBlbWl0KHR5cGUpIHtcbiAgICBsZXQgZG9FcnJvciA9IHR5cGUgPT09IFwiZXJyb3JcIjtcbiAgICBjb25zdCBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkb0Vycm9yID0gZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKCFkb0Vycm9yKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBpZiAoZG9FcnJvcikge1xuICAgICAgbGV0IGVyO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICBbZXJdID0gYXJncztcbiAgICAgIH1cbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH1cbiAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgVW5oYW5kbGVkIGVycm9yLiR7ZXIgPyBgICgke2VyLm1lc3NhZ2V9KWAgOiBcIlwifWApO1xuICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHNhZmVBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgICBjb25zdCBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICBzYWZlQXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuY2xhc3MgU2VyaWFsaXphYmxlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgY29kZSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBkYXRhXG4gICAgfSA9IF9yZWY7XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGNvZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb2RlIG11c3QgYmUgYW4gaW50ZWdlclwiKTtcbiAgICB9XG4gICAgaWYgKCFtZXNzYWdlIHx8IHR5cGVvZiBtZXNzYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtZXNzYWdlIG11c3QgYmUgc3RyaW5nXCIpO1xuICAgIH1cbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb2RlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGF0YVwiLCB2b2lkIDApO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeSh7XG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICBzdGFjazogdGhpcy5zdGFja1xuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGdldFJwY1Byb21pc2VDYWxsYmFjayA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgbGV0IHVud3JhcFJlc3VsdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTtcbiAgcmV0dXJuIChlcnJvciwgcmVzcG9uc2UpID0+IHtcbiAgICBpZiAoZXJyb3IgfHwgcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvciB8fCByZXNwb25zZS5lcnJvcik7XG4gICAgfSBlbHNlIGlmICghdW53cmFwUmVzdWx0IHx8IEFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZShyZXNwb25zZS5yZXN1bHQpO1xuICAgIH1cbiAgfTtcbn07XG5mdW5jdGlvbiBjcmVhdGVFcnJvck1pZGRsZXdhcmUobG9nKSB7XG4gIHJldHVybiAocmVxLCByZXMsIG5leHQsIGVuZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBqc29uLXJwYy1lbmdpbmUgd2lsbCB0ZXJtaW5hdGUgdGhlIHJlcXVlc3Qgd2hlbiBpdCBub3RpY2VzIHRoaXMgZXJyb3JcbiAgICAgIGlmICh0eXBlb2YgcmVxLm1ldGhvZCAhPT0gXCJzdHJpbmdcIiB8fCAhcmVxLm1ldGhvZCkge1xuICAgICAgICByZXMuZXJyb3IgPSBuZXcgU2VyaWFsaXphYmxlRXJyb3Ioe1xuICAgICAgICAgIGNvZGU6IC0zMjYwMyxcbiAgICAgICAgICBtZXNzYWdlOiBcImludmFsaWQgbWV0aG9kXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGVuZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuZXh0KGRvbmUgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgfSA9IHJlcztcbiAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nLmVycm9yKGBPcGVuTG9naW4gLSBSUEMgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nLmVycm9yKGBPcGVuTG9naW4gLSBSUEMgRXJyb3IgdGhyb3duOiAke2Vycm9yLm1lc3NhZ2V9YCwgZXJyb3IpO1xuICAgICAgcmVzLmVycm9yID0gbmV3IFNlcmlhbGl6YWJsZUVycm9yKHtcbiAgICAgICAgY29kZTogLTMyNjAzLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0cmVhbU1pZGRsZXdhcmUoKSB7XG4gIGNvbnN0IGlkTWFwID0ge307XG4gIGZ1bmN0aW9uIHJlYWROb29wKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBldmVudHMgPSBuZXcgU2FmZUV2ZW50RW1pdHRlcigpO1xuICBmdW5jdGlvbiBwcm9jZXNzUmVzcG9uc2UocmVzKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGlkTWFwW3Jlcy5pZF07XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0cmVhbU1pZGRsZXdhcmUgLSBVbmtub3duIHJlc3BvbnNlIGlkIFwiJHtyZXMuaWR9XCJgKTtcbiAgICB9XG4gICAgZGVsZXRlIGlkTWFwW3Jlcy5pZF07XG4gICAgLy8gY29weSB3aG9sZSByZXMgb250byBvcmlnaW5hbCByZXNcbiAgICBPYmplY3QuYXNzaWduKGNvbnRleHQucmVzLCByZXMpO1xuICAgIC8vIHJ1biBjYWxsYmFjayBvbiBlbXB0eSBzdGFjayxcbiAgICAvLyBwcmV2ZW50IGludGVybmFsIHN0cmVhbS1oYW5kbGVyIGZyb20gY2F0Y2hpbmcgZXJyb3JzXG4gICAgc2V0VGltZW91dChjb250ZXh0LmVuZCk7XG4gIH1cbiAgZnVuY3Rpb24gcHJvY2Vzc05vdGlmaWNhdGlvbihyZXMpIHtcbiAgICBldmVudHMuZW1pdChcIm5vdGlmaWNhdGlvblwiLCByZXMpO1xuICB9XG4gIGZ1bmN0aW9uIHByb2Nlc3NNZXNzYWdlKHJlcywgX2VuY29kaW5nLCBjYikge1xuICAgIGxldCBlcnI7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGlzTm90aWZpY2F0aW9uID0gIXJlcy5pZDtcbiAgICAgIGlmIChpc05vdGlmaWNhdGlvbikge1xuICAgICAgICBwcm9jZXNzTm90aWZpY2F0aW9uKHJlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzUmVzcG9uc2UocmVzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChfZXJyKSB7XG4gICAgICBlcnIgPSBfZXJyO1xuICAgIH1cbiAgICAvLyBjb250aW51ZSBwcm9jZXNzaW5nIHN0cmVhbVxuICAgIGNiKGVycik7XG4gIH1cbiAgY29uc3Qgc3RyZWFtID0gbmV3IER1cGxleCh7XG4gICAgb2JqZWN0TW9kZTogdHJ1ZSxcbiAgICByZWFkOiByZWFkTm9vcCxcbiAgICB3cml0ZTogcHJvY2Vzc01lc3NhZ2VcbiAgfSk7XG4gIGNvbnN0IG1pZGRsZXdhcmUgPSAocmVxLCByZXMsIG5leHQsIGVuZCkgPT4ge1xuICAgIC8vIHdyaXRlIHJlcSB0byBzdHJlYW1cbiAgICBzdHJlYW0ucHVzaChyZXEpO1xuICAgIC8vIHJlZ2lzdGVyIHJlcXVlc3Qgb24gaWQgbWFwXG4gICAgaWRNYXBbcmVxLmlkXSA9IHtcbiAgICAgIHJlcSxcbiAgICAgIHJlcyxcbiAgICAgIG5leHQsXG4gICAgICBlbmRcbiAgICB9O1xuICB9O1xuICByZXR1cm4ge1xuICAgIGV2ZW50cyxcbiAgICBtaWRkbGV3YXJlLFxuICAgIHN0cmVhbVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU2NhZmZvbGRNaWRkbGV3YXJlKGhhbmRsZXJzKSB7XG4gIHJldHVybiAocmVxLCByZXMsIG5leHQsIGVuZCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1tyZXEubWV0aG9kXTtcbiAgICAvLyBpZiBubyBoYW5kbGVyLCByZXR1cm5cbiAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgICAvLyBpZiBoYW5kbGVyIGlzIGZuLCBjYWxsIGFzIG1pZGRsZXdhcmVcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIGhhbmRsZXIocmVxLCByZXMsIG5leHQsIGVuZCk7XG4gICAgfVxuICAgIC8vIGlmIGhhbmRsZXIgaXMgc29tZSBvdGhlciB2YWx1ZSwgdXNlIGFzIHJlc3VsdFxuICAgIHJlcy5yZXN1bHQgPSBoYW5kbGVyO1xuICAgIHJldHVybiBlbmQoKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUlkUmVtYXBNaWRkbGV3YXJlKCkge1xuICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0LCBfZW5kKSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxJZCA9IHJlcS5pZDtcbiAgICBjb25zdCBuZXdJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuICAgIHJlcS5pZCA9IG5ld0lkO1xuICAgIHJlcy5pZCA9IG5ld0lkO1xuICAgIG5leHQoZG9uZSA9PiB7XG4gICAgICByZXEuaWQgPSBvcmlnaW5hbElkO1xuICAgICAgcmVzLmlkID0gb3JpZ2luYWxJZDtcbiAgICAgIGRvbmUoKTtcbiAgICB9KTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxvZ2dlck1pZGRsZXdhcmUobG9nZ2VyKSB7XG4gIHJldHVybiAocmVxLCByZXMsIG5leHQsIF8pID0+IHtcbiAgICBsb2dnZXIuZGVidWcoXCJSRVFcIiwgcmVxLCBcIlJFU1wiLCByZXMpO1xuICAgIG5leHQoKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUFzeW5jTWlkZGxld2FyZShhc3luY01pZGRsZXdhcmUpIHtcbiAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcywgbmV4dCwgZW5kKSA9PiB7XG4gICAgLy8gbmV4dFByb21pc2UgaXMgdGhlIGtleSB0byB0aGUgaW1wbGVtZW50YXRpb25cbiAgICAvLyBpdCBpcyByZXNvbHZlZCBieSB0aGUgcmV0dXJuIGhhbmRsZXIgcGFzc2VkIHRvIHRoZVxuICAgIC8vIFwibmV4dFwiIGZ1bmN0aW9uXG4gICAgbGV0IHJlc29sdmVOZXh0UHJvbWlzZTtcbiAgICBjb25zdCBuZXh0UHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgcmVzb2x2ZU5leHRQcm9taXNlID0gcmVzb2x2ZTtcbiAgICB9KTtcbiAgICBsZXQgcmV0dXJuSGFuZGxlckNhbGxiYWNrID0gbnVsbDtcbiAgICBsZXQgbmV4dFdhc0NhbGxlZCA9IGZhbHNlO1xuXG4gICAgLy8gVGhpcyB3aWxsIGJlIGNhbGxlZCBieSB0aGUgY29uc3VtZXIncyBhc3luYyBtaWRkbGV3YXJlLlxuICAgIGNvbnN0IGFzeW5jTmV4dCA9IGFzeW5jICgpID0+IHtcbiAgICAgIG5leHRXYXNDYWxsZWQgPSB0cnVlO1xuXG4gICAgICAvLyBXZSBwYXNzIGEgcmV0dXJuIGhhbmRsZXIgdG8gbmV4dCgpLiBXaGVuIGl0IGlzIGNhbGxlZCBieSB0aGUgZW5naW5lLFxuICAgICAgLy8gdGhlIGNvbnN1bWVyJ3MgYXN5bmMgbWlkZGxld2FyZSB3aWxsIHJlc3VtZSBleGVjdXRpbmcuXG5cbiAgICAgIG5leHQocnVuUmV0dXJuSGFuZGxlcnNDYWxsYmFjayA9PiB7XG4gICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgY29tZXMgZnJvbSBKUlBDRW5naW5lLl9ydW5SZXR1cm5IYW5kbGVyc1xuICAgICAgICByZXR1cm5IYW5kbGVyQ2FsbGJhY2sgPSBydW5SZXR1cm5IYW5kbGVyc0NhbGxiYWNrO1xuICAgICAgICByZXNvbHZlTmV4dFByb21pc2UoKTtcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgbmV4dFByb21pc2U7XG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXN5bmNNaWRkbGV3YXJlKHJlcSwgcmVzLCBhc3luY05leHQpO1xuICAgICAgaWYgKG5leHRXYXNDYWxsZWQpIHtcbiAgICAgICAgYXdhaXQgbmV4dFByb21pc2U7IC8vIHdlIG11c3Qgd2FpdCB1bnRpbCB0aGUgcmV0dXJuIGhhbmRsZXIgaXMgY2FsbGVkXG4gICAgICAgIHJldHVybkhhbmRsZXJDYWxsYmFjayhudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZChudWxsKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gZXJyO1xuICAgICAgaWYgKHJldHVybkhhbmRsZXJDYWxsYmFjaykge1xuICAgICAgICByZXR1cm5IYW5kbGVyQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQSBKU09OLVJQQyByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9jZXNzb3IuXG4gKiBHaXZlIGl0IGEgc3RhY2sgb2YgbWlkZGxld2FyZSwgcGFzcyBpdCByZXF1ZXN0cywgYW5kIGdldCBiYWNrIHJlc3BvbnNlcy5cbiAqL1xuY2xhc3MgSlJQQ0VuZ2luZSBleHRlbmRzIFNhZmVFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9taWRkbGV3YXJlXCIsIHZvaWQgMCk7XG4gICAgdGhpcy5fbWlkZGxld2FyZSA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlcmlhbGx5IGV4ZWN1dGVzIHRoZSBnaXZlbiBzdGFjayBvZiBtaWRkbGV3YXJlLlxuICAgKlxuICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiBhbnkgZXJyb3IgZW5jb3VudGVyZWQgZHVyaW5nIG1pZGRsZXdhcmUgZXhlY3V0aW9uLFxuICAgKiBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSByZXF1ZXN0IHdhcyBjb21wbGV0ZWQsIGFuZCBhbiBhcnJheSBvZlxuICAgKiBtaWRkbGV3YXJlLWRlZmluZWQgcmV0dXJuIGhhbmRsZXJzLlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIF9ydW5BbGxNaWRkbGV3YXJlKHJlcSwgcmVzLCBtaWRkbGV3YXJlU3RhY2spIHtcbiAgICBjb25zdCByZXR1cm5IYW5kbGVycyA9IFtdO1xuICAgIGxldCBlcnJvciA9IG51bGw7XG4gICAgbGV0IGlzQ29tcGxldGUgPSBmYWxzZTtcblxuICAgIC8vIEdvIGRvd24gc3RhY2sgb2YgbWlkZGxld2FyZSwgY2FsbCBhbmQgY29sbGVjdCBvcHRpb25hbCByZXR1cm5IYW5kbGVyc1xuICAgIGZvciAoY29uc3QgbWlkZGxld2FyZSBvZiBtaWRkbGV3YXJlU3RhY2spIHtcbiAgICAgIFtlcnJvciwgaXNDb21wbGV0ZV0gPSBhd2FpdCBKUlBDRW5naW5lLl9ydW5NaWRkbGV3YXJlKHJlcSwgcmVzLCBtaWRkbGV3YXJlLCByZXR1cm5IYW5kbGVycyk7XG4gICAgICBpZiAoaXNDb21wbGV0ZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtlcnJvciwgaXNDb21wbGV0ZSwgcmV0dXJuSGFuZGxlcnMucmV2ZXJzZSgpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIGFuIGluZGl2aWR1YWwgbWlkZGxld2FyZS5cbiAgICpcbiAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgYW55IGVycm9yIGVuY291bnRlcmVkIGR1cmluZyBtaWRkbGV3YXJlIGV4ZWN0aW9uLFxuICAgKiBhbmQgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgcmVxdWVzdCBzaG91bGQgZW5kLlxuICAgKi9cbiAgc3RhdGljIF9ydW5NaWRkbGV3YXJlKHJlcSwgcmVzLCBtaWRkbGV3YXJlLCByZXR1cm5IYW5kbGVycykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IGVuZCA9IGVyciA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gZXJyIHx8IHJlcy5lcnJvcjtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmVzLmVycm9yID0gc2VyaWFsaXplRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRydWUgaW5kaWNhdGVzIHRoYXQgdGhlIHJlcXVlc3Qgc2hvdWxkIGVuZFxuICAgICAgICByZXNvbHZlKFtlcnJvciwgdHJ1ZV0pO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IG5leHQgPSByZXR1cm5IYW5kbGVyID0+IHtcbiAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgIGVuZChyZXMuZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChyZXR1cm5IYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJldHVybkhhbmRsZXIgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICBlbmQobmV3IFNlcmlhbGl6YWJsZUVycm9yKHtcbiAgICAgICAgICAgICAgICBjb2RlOiAtMzI2MDMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJKUlBDRW5naW5lOiAnbmV4dCcgcmV0dXJuIGhhbmRsZXJzIG11c3QgYmUgZnVuY3Rpb25zXCJcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuSGFuZGxlcnMucHVzaChyZXR1cm5IYW5kbGVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBGYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgcmVxdWVzdCBzaG91bGQgbm90IGVuZFxuICAgICAgICAgIHJlc29sdmUoW251bGwsIGZhbHNlXSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBtaWRkbGV3YXJlKHJlcSwgcmVzLCBuZXh0LCBlbmQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZW5kKGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXJpYWxseSBleGVjdXRlcyBhcnJheSBvZiByZXR1cm4gaGFuZGxlcnMuIFRoZSByZXF1ZXN0IGFuZCByZXNwb25zZSBhcmVcbiAgICogYXNzdW1lZCB0byBiZSBpbiB0aGVpciBzY29wZS5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBfcnVuUmV0dXJuSGFuZGxlcnMoaGFuZGxlcnMpIHtcbiAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgaGFuZGxlcnMpIHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaGFuZGxlcihlcnIgPT4gZXJyID8gcmVqZWN0KGVycikgOiByZXNvbHZlKCkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgcmVzcG9uc2UgaGFzIG5laXRoZXIgYSByZXN1bHQgbm9yIGFuIGVycm9yLCBvciBpZlxuICAgKiB0aGUgXCJpc0NvbXBsZXRlXCIgZmxhZyBpcyBmYWxzeS5cbiAgICovXG4gIHN0YXRpYyBfY2hlY2tGb3JDb21wbGV0aW9uKF9yZXEsIHJlcywgaXNDb21wbGV0ZSkge1xuICAgIGlmICghKFwicmVzdWx0XCIgaW4gcmVzKSAmJiAhKFwiZXJyb3JcIiBpbiByZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgU2VyaWFsaXphYmxlRXJyb3Ioe1xuICAgICAgICBjb2RlOiAtMzI2MDMsXG4gICAgICAgIG1lc3NhZ2U6IFwiUmVzcG9uc2UgaGFzIG5vIGVycm9yIG9yIHJlc3VsdCBmb3IgcmVxdWVzdFwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFpc0NvbXBsZXRlKSB7XG4gICAgICB0aHJvdyBuZXcgU2VyaWFsaXphYmxlRXJyb3Ioe1xuICAgICAgICBjb2RlOiAtMzI2MDMsXG4gICAgICAgIG1lc3NhZ2U6IFwiTm90aGluZyBlbmRlZCByZXF1ZXN0XCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHRoZSBlbmdpbmUncyBtaWRkbGV3YXJlIHN0YWNrLlxuICAgKlxuICAgKiBAcGFyYW0gbWlkZGxld2FyZSAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIGFkZC5cbiAgICovXG4gIHB1c2gobWlkZGxld2FyZSkge1xuICAgIHRoaXMuX21pZGRsZXdhcmUucHVzaChtaWRkbGV3YXJlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYSBKU09OLVJQQyByZXF1ZXN0LCBhbmQgcmV0dXJuIGEgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHJlcXVlc3QgdG8gaGFuZGxlLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBbiBlcnJvci1maXJzdCBjYWxsYmFjayB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgcmVzcG9uc2UuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgYW4gYXJyYXkgb2YgSlNPTi1SUEMgcmVxdWVzdHMsIGFuZCByZXR1cm4gYW4gYXJyYXkgb2YgcmVzcG9uc2VzLlxuICAgKlxuICAgKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0cyB0byBoYW5kbGUuXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIEFuIGVycm9yLWZpcnN0IGNhbGxiYWNrIHRoYXQgd2lsbCByZWNlaXZlIHRoZSBhcnJheSBvZlxuICAgKiByZXNwb25zZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgYSBKU09OLVJQQyByZXF1ZXN0LCBhbmQgcmV0dXJuIGEgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHJlcXVlc3QgdG8gaGFuZGxlLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXNwb25zZSwgb3IgcmVqZWN0cyB3aXRoIGFuXG4gICAqIGVycm9yLlxuICAgKi9cblxuICAvKipcbiAgICogSGFuZGxlIGFuIGFycmF5IG9mIEpTT04tUlBDIHJlcXVlc3RzLCBhbmQgcmV0dXJuIGFuIGFycmF5IG9mIHJlc3BvbnNlcy5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgcmVxdWVzdHMgdG8gaGFuZGxlLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBhcnJheSBvZiByZXNwb25zZXMsIG9yIHJlamVjdHNcbiAgICogd2l0aCBhbiBlcnJvci5cbiAgICovXG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgaGFuZGxlKHJlcSwgY2IpIHtcbiAgICBpZiAoY2IgJiYgdHlwZW9mIGNiICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJjYWxsYmFja1wiIG11c3QgYmUgYSBmdW5jdGlvbiBpZiBwcm92aWRlZC4nKTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVxKSkge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVCYXRjaChyZXEsIGNiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVCYXRjaChyZXEpO1xuICAgIH1cbiAgICBpZiAoY2IpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGUocmVxLCBjYik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9wcm9taXNlSGFuZGxlKHJlcSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGlzIGVuZ2luZSBhcyBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCBjYW4gYmUgcHVzaGVkIHRvIG90aGVyXG4gICAqIGVuZ2luZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoaXMgZW5naW5lIGFzIGEgbWlkZGxld2FyZSBmdW5jdGlvbi5cbiAgICovXG4gIGFzTWlkZGxld2FyZSgpIHtcbiAgICByZXR1cm4gYXN5bmMgKHJlcSwgcmVzLCBuZXh0LCBlbmQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFttaWRkbGV3YXJlRXJyb3IsIGlzQ29tcGxldGUsIHJldHVybkhhbmRsZXJzXSA9IGF3YWl0IEpSUENFbmdpbmUuX3J1bkFsbE1pZGRsZXdhcmUocmVxLCByZXMsIHRoaXMuX21pZGRsZXdhcmUpO1xuICAgICAgICBpZiAoaXNDb21wbGV0ZSkge1xuICAgICAgICAgIGF3YWl0IEpSUENFbmdpbmUuX3J1blJldHVybkhhbmRsZXJzKHJldHVybkhhbmRsZXJzKTtcbiAgICAgICAgICByZXR1cm4gZW5kKG1pZGRsZXdhcmVFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoYXN5bmMgaGFuZGxlckNhbGxiYWNrID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgSlJQQ0VuZ2luZS5fcnVuUmV0dXJuSGFuZGxlcnMocmV0dXJuSGFuZGxlcnMpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlckNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZXJDYWxsYmFjaygpO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBlbmQoZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogTGlrZSBfaGFuZGxlLCBidXQgZm9yIGJhdGNoIHJlcXVlc3RzLlxuICAgKi9cblxuICAvKipcbiAgICogTGlrZSBfaGFuZGxlLCBidXQgZm9yIGJhdGNoIHJlcXVlc3RzLlxuICAgKi9cblxuICBhc3luYyBfaGFuZGxlQmF0Y2gocmVxcywgY2IpIHtcbiAgICAvLyBUaGUgb3JkZXIgaGVyZSBpcyBpbXBvcnRhbnRcbiAgICB0cnkge1xuICAgICAgLy8gMi4gV2FpdCBmb3IgYWxsIHJlcXVlc3RzIHRvIGZpbmlzaCwgb3IgdGhyb3cgb24gc29tZSBraW5kIG9mIGZhdGFsXG4gICAgICAvLyBlcnJvclxuICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAvLyAxLiBCZWdpbiBleGVjdXRpbmcgZWFjaCByZXF1ZXN0IGluIHRoZSBvcmRlciByZWNlaXZlZFxuICAgICAgcmVxcy5tYXAodGhpcy5fcHJvbWlzZUhhbmRsZS5iaW5kKHRoaXMpKSk7XG5cbiAgICAgIC8vIDMuIFJldHVybiBiYXRjaCByZXNwb25zZVxuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHJldHVybiBjYihudWxsLCByZXNwb25zZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlcztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHJldHVybiBjYihlcnJvcik7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQSBwcm9taXNlLXdyYXBwZWQgX2hhbmRsZS5cbiAgICovXG4gIF9wcm9taXNlSGFuZGxlKHJlcSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZShyZXEsIChfZXJyLCByZXMpID0+IHtcbiAgICAgICAgLy8gVGhlcmUgd2lsbCBhbHdheXMgYmUgYSByZXNwb25zZSwgYW5kIGl0IHdpbGwgYWx3YXlzIGhhdmUgYW55IGVycm9yXG4gICAgICAgIC8vIHRoYXQgaXMgY2F1Z2h0IGFuZCBwcm9wYWdhdGVkLlxuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnN1cmVzIHRoYXQgdGhlIHJlcXVlc3Qgb2JqZWN0IGlzIHZhbGlkLCBwcm9jZXNzZXMgaXQsIGFuZCBwYXNzZXMgYW55XG4gICAqIGVycm9yIGFuZCB0aGUgcmVzcG9uc2Ugb2JqZWN0IHRvIHRoZSBnaXZlbiBjYWxsYmFjay5cbiAgICpcbiAgICogRG9lcyBub3QgcmVqZWN0LlxuICAgKi9cbiAgYXN5bmMgX2hhbmRsZShjYWxsZXJSZXEsIGNiKSB7XG4gICAgaWYgKCFjYWxsZXJSZXEgfHwgQXJyYXkuaXNBcnJheShjYWxsZXJSZXEpIHx8IHR5cGVvZiBjYWxsZXJSZXEgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IFNlcmlhbGl6YWJsZUVycm9yKHtcbiAgICAgICAgY29kZTogLTMyNjAzLFxuICAgICAgICBtZXNzYWdlOiBcInJlcXVlc3QgbXVzdCBiZSBwbGFpbiBvYmplY3RcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY2IoZXJyb3IsIHtcbiAgICAgICAgaWQ6IHVuZGVmaW5lZCxcbiAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgZXJyb3JcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNhbGxlclJlcS5tZXRob2QgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IFNlcmlhbGl6YWJsZUVycm9yKHtcbiAgICAgICAgY29kZTogLTMyNjAzLFxuICAgICAgICBtZXNzYWdlOiBcIm1ldGhvZCBtdXN0IGJlIHN0cmluZ1wiXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjYihlcnJvciwge1xuICAgICAgICBpZDogY2FsbGVyUmVxLmlkLFxuICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICBlcnJvclxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlcSA9IF9vYmplY3RTcHJlYWQoe30sIGNhbGxlclJlcSk7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgaWQ6IHJlcS5pZCxcbiAgICAgIGpzb25ycGM6IHJlcS5qc29ucnBjXG4gICAgfTtcbiAgICBsZXQgZXJyb3IgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLl9wcm9jZXNzUmVxdWVzdChyZXEsIHJlcyk7XG4gICAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICAvLyBBIHJlcXVlc3QgaGFuZGxlciBlcnJvciwgYSByZS10aHJvd24gbWlkZGxld2FyZSBlcnJvciwgb3Igc29tZXRoaW5nXG4gICAgICAvLyB1bmV4cGVjdGVkLlxuICAgICAgZXJyb3IgPSBfZXJyb3I7XG4gICAgfVxuICAgIGlmIChlcnJvcikge1xuICAgICAgLy8gRW5zdXJlIG5vIHJlc3VsdCBpcyBwcmVzZW50IG9uIGFuIGVycm9yZWQgcmVzcG9uc2VcbiAgICAgIGRlbGV0ZSByZXMucmVzdWx0O1xuICAgICAgaWYgKCFyZXMuZXJyb3IpIHtcbiAgICAgICAgcmVzLmVycm9yID0gc2VyaWFsaXplRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2IoZXJyb3IsIHJlcyk7XG4gIH1cblxuICAvKipcbiAgICogRm9yIHRoZSBnaXZlbiByZXF1ZXN0IGFuZCByZXNwb25zZSwgcnVucyBhbGwgbWlkZGxld2FyZSBhbmQgdGhlaXIgcmV0dXJuXG4gICAqIGhhbmRsZXJzLCBpZiBhbnksIGFuZCBlbnN1cmVzIHRoYXQgaW50ZXJuYWwgcmVxdWVzdCBwcm9jZXNzaW5nIHNlbWFudGljc1xuICAgKiBhcmUgc2F0aXNmaWVkLlxuICAgKi9cbiAgYXN5bmMgX3Byb2Nlc3NSZXF1ZXN0KHJlcSwgcmVzKSB7XG4gICAgY29uc3QgW2Vycm9yLCBpc0NvbXBsZXRlLCByZXR1cm5IYW5kbGVyc10gPSBhd2FpdCBKUlBDRW5naW5lLl9ydW5BbGxNaWRkbGV3YXJlKHJlcSwgcmVzLCB0aGlzLl9taWRkbGV3YXJlKTtcblxuICAgIC8vIFRocm93IGlmIFwiZW5kXCIgd2FzIG5vdCBjYWxsZWQsIG9yIGlmIHRoZSByZXNwb25zZSBoYXMgbmVpdGhlciBhIHJlc3VsdFxuICAgIC8vIG5vciBhbiBlcnJvci5cbiAgICBKUlBDRW5naW5lLl9jaGVja0ZvckNvbXBsZXRpb24ocmVxLCByZXMsIGlzQ29tcGxldGUpO1xuXG4gICAgLy8gVGhlIHJldHVybiBoYW5kbGVycyBzaG91bGQgcnVuIGV2ZW4gaWYgYW4gZXJyb3Igd2FzIGVuY291bnRlcmVkIGR1cmluZ1xuICAgIC8vIG1pZGRsZXdhcmUgcHJvY2Vzc2luZy5cbiAgICBhd2FpdCBKUlBDRW5naW5lLl9ydW5SZXR1cm5IYW5kbGVycyhyZXR1cm5IYW5kbGVycyk7XG5cbiAgICAvLyBOb3cgd2UgcmUtdGhyb3cgdGhlIG1pZGRsZXdhcmUgcHJvY2Vzc2luZyBlcnJvciwgaWYgYW55LCB0byBjYXRjaCBpdFxuICAgIC8vIGZ1cnRoZXIgdXAgdGhlIGNhbGwgY2hhaW4uXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlTWlkZGxld2FyZShtaWRkbGV3YXJlU3RhY2spIHtcbiAgY29uc3QgZW5naW5lID0gbmV3IEpSUENFbmdpbmUoKTtcbiAgbWlkZGxld2FyZVN0YWNrLmZvckVhY2gobWlkZGxld2FyZSA9PiBlbmdpbmUucHVzaChtaWRkbGV3YXJlKSk7XG4gIHJldHVybiBlbmdpbmUuYXNNaWRkbGV3YXJlKCk7XG59XG5mdW5jdGlvbiBjcmVhdGVFbmdpbmVTdHJlYW0ob3B0cykge1xuICBpZiAoIW9wdHMgfHwgIW9wdHMuZW5naW5lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBlbmdpbmUgcGFyYW1ldGVyIVwiKTtcbiAgfVxuICBjb25zdCB7XG4gICAgZW5naW5lXG4gIH0gPSBvcHRzO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gIGxldCBzdHJlYW07XG4gIGZ1bmN0aW9uIHJlYWQoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBmdW5jdGlvbiB3cml0ZShyZXEsIF9lbmNvZGluZywgY2IpIHtcbiAgICBlbmdpbmUuaGFuZGxlKHJlcSwgKF9lcnIsIHJlcykgPT4ge1xuICAgICAgc3RyZWFtLnB1c2gocmVzKTtcbiAgICB9KTtcbiAgICBjYigpO1xuICB9XG4gIHN0cmVhbSA9IG5ldyBEdXBsZXgoe1xuICAgIG9iamVjdE1vZGU6IHRydWUsXG4gICAgcmVhZCxcbiAgICB3cml0ZVxuICB9KTtcblxuICAvLyBmb3J3YXJkIG5vdGlmaWNhdGlvbnNcbiAgaWYgKGVuZ2luZS5vbikge1xuICAgIGVuZ2luZS5vbihcIm5vdGlmaWNhdGlvblwiLCBtZXNzYWdlID0+IHtcbiAgICAgIHN0cmVhbS5wdXNoKG1lc3NhZ2UpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBzdHJlYW07XG59XG5mdW5jdGlvbiBwcm92aWRlckZyb21FbmdpbmUoZW5naW5lKSB7XG4gIGNvbnN0IHByb3ZpZGVyID0gbmV3IFNhZmVFdmVudEVtaXR0ZXIoKTtcbiAgLy8gaGFuZGxlIGJvdGggcnBjIHNlbmQgbWV0aG9kc1xuICBwcm92aWRlci5zZW5kQXN5bmMgPSBhc3luYyByZXEgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGVuZ2luZS5oYW5kbGUocmVxKTtcbiAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICB2YXIgX3JlcyRlcnJvciwgX3JlcyRlcnJvcjI7XG4gICAgICBjb25zdCBlcnIgPSBzZXJpYWxpemVFcnJvcihyZXMuZXJyb3IsIHtcbiAgICAgICAgZmFsbGJhY2tFcnJvcjoge1xuICAgICAgICAgIG1lc3NhZ2U6ICgoX3JlcyRlcnJvciA9IHJlcy5lcnJvcikgPT09IG51bGwgfHwgX3JlcyRlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRlcnJvci5tZXNzYWdlKSB8fCByZXMuZXJyb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICBjb2RlOiAoKF9yZXMkZXJyb3IyID0gcmVzLmVycm9yKSA9PT0gbnVsbCB8fCBfcmVzJGVycm9yMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRlcnJvcjIuY29kZSkgfHwgLTMyNjAzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhyb3cgcnBjRXJyb3JzLmludGVybmFsKGVycik7XG4gICAgfVxuICAgIHJldHVybiByZXMucmVzdWx0O1xuICB9O1xuICBwcm92aWRlci5zZW5kID0gKHJlcSwgY2FsbGJhY2spID0+IHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTXVzdCBwcm92aWRlIGNhbGxiYWNrIHRvIFwic2VuZFwiIG1ldGhvZC4nKTtcbiAgICB9XG4gICAgZW5naW5lLmhhbmRsZShyZXEsIGNhbGxiYWNrKTtcbiAgfTtcbiAgLy8gZm9yd2FyZCBub3RpZmljYXRpb25zXG4gIGlmIChlbmdpbmUub24pIHtcbiAgICBlbmdpbmUub24oXCJub3RpZmljYXRpb25cIiwgbWVzc2FnZSA9PiB7XG4gICAgICBwcm92aWRlci5lbWl0KFwiZGF0YVwiLCBudWxsLCBtZXNzYWdlKTtcbiAgICB9KTtcbiAgfVxuICBwcm92aWRlci5yZXF1ZXN0ID0gYXN5bmMgYXJncyA9PiB7XG4gICAgY29uc3QgcmVxID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhcmdzKSwge30sIHtcbiAgICAgIGlkOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSxcbiAgICAgIGpzb25ycGM6IFwiMi4wXCJcbiAgICB9KTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBwcm92aWRlci5zZW5kQXN5bmMocmVxKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICByZXR1cm4gcHJvdmlkZXI7XG59XG5mdW5jdGlvbiBwcm92aWRlckZyb21NaWRkbGV3YXJlKG1pZGRsZXdhcmUpIHtcbiAgY29uc3QgZW5naW5lID0gbmV3IEpSUENFbmdpbmUoKTtcbiAgZW5naW5lLnB1c2gobWlkZGxld2FyZSk7XG4gIGNvbnN0IHByb3ZpZGVyID0gcHJvdmlkZXJGcm9tRW5naW5lKGVuZ2luZSk7XG4gIHJldHVybiBwcm92aWRlcjtcbn1cbmZ1bmN0aW9uIHByb3ZpZGVyQXNNaWRkbGV3YXJlKHByb3ZpZGVyKSB7XG4gIHJldHVybiBhc3luYyAocmVxLCByZXMsIF9uZXh0LCBlbmQpID0+IHtcbiAgICAvLyBzZW5kIHJlcXVlc3QgdG8gcHJvdmlkZXJcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvdmlkZXJSZXMgPSBhd2FpdCBwcm92aWRlci5zZW5kQXN5bmMocmVxKTtcbiAgICAgIHJlcy5yZXN1bHQgPSBwcm92aWRlclJlcztcbiAgICAgIHJldHVybiBlbmQoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGVuZChlcnJvcik7XG4gICAgfVxuICB9O1xufVxuXG5jbGFzcyBTdWJzdHJlYW0gZXh0ZW5kcyBEdXBsZXgge1xuICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgbGV0IHtcbiAgICAgIHBhcmVudCxcbiAgICAgIG5hbWVcbiAgICB9ID0gX3JlZjtcbiAgICBzdXBlcih7XG4gICAgICBvYmplY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhcmVudFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9uYW1lXCIsIHZvaWQgMCk7XG4gICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cGxpY2l0bHkgc2V0cyByZWFkIG9wZXJhdGlvbnMgdG8gYSBuby1vcC5cbiAgICovXG4gIF9yZWFkKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gZGF0YSBzaG91bGQgYmUgd3JpdHRlbiB0byB0aGlzIHdyaXRhYmxlIHN0cmVhbS5cbiAgICpcbiAgICogQHBhcmFtIGNodW5rIC0gQXJiaXRyYXJ5IG9iamVjdCB0byB3cml0ZVxuICAgKiBAcGFyYW0gZW5jb2RpbmcgLSBFbmNvZGluZyB0byB1c2Ugd2hlbiB3cml0aW5nIHBheWxvYWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gQ2FsbGVkIHdoZW4gd3JpdGluZyBpcyBjb21wbGV0ZSBvciBhbiBlcnJvciBvY2N1cnNcbiAgICovXG4gIF93cml0ZShjaHVuaywgX2VuY29kaW5nLCBjYWxsYmFjaykge1xuICAgIHRoaXMuX3BhcmVudC5wdXNoKHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUsXG4gICAgICBkYXRhOiBjaHVua1xuICAgIH0pO1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn1cblxuY29uc3QgSUdOT1JFX1NVQlNUUkVBTSA9IFN5bWJvbChcIklHTk9SRV9TVUJTVFJFQU1cIik7XG5jbGFzcyBPYmplY3RNdWx0aXBsZXggZXh0ZW5kcyBEdXBsZXgge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgc3VwZXIoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRzKSwge30sIHtcbiAgICAgIG9iamVjdE1vZGU6IHRydWVcbiAgICB9KSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N1YnN0cmVhbXNcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRTdHJlYW1cIiwgdm9pZCAwKTtcbiAgICB0aGlzLl9zdWJzdHJlYW1zID0ge307XG4gIH1cbiAgY3JlYXRlU3RyZWFtKG5hbWUpIHtcbiAgICAvLyB2YWxpZGF0ZSBuYW1lXG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3RNdWx0aXBsZXggLSBuYW1lIG11c3Qgbm90IGJlIGVtcHR5XCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic3RyZWFtc1tuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBPYmplY3RNdWx0aXBsZXggLSBTdWJzdHJlYW0gZm9yIG5hbWUgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHNgKTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgc3Vic3RyZWFtXG4gICAgY29uc3Qgc3Vic3RyZWFtID0gbmV3IFN1YnN0cmVhbSh7XG4gICAgICBwYXJlbnQ6IHRoaXMsXG4gICAgICBuYW1lXG4gICAgfSk7XG4gICAgdGhpcy5fc3Vic3RyZWFtc1tuYW1lXSA9IHN1YnN0cmVhbTtcblxuICAgIC8vIGxpc3RlbiBmb3IgcGFyZW50IHN0cmVhbSB0byBlbmRcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgYW55U3RyZWFtRW5kKHRoaXMsIF9lcnJvciA9PiBzdWJzdHJlYW0uZGVzdHJveShfZXJyb3IgfHwgdW5kZWZpbmVkKSk7XG4gICAgcmV0dXJuIHN1YnN0cmVhbTtcbiAgfVxuXG4gIC8vIGlnbm9yZSBzdHJlYW1zIChkb250IGRpc3BsYXkgb3JwaGFuZWQgZGF0YSB3YXJuaW5nKVxuICBpZ25vcmVTdHJlYW0obmFtZSkge1xuICAgIC8vIHZhbGlkYXRlIG5hbWVcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk9iamVjdE11bHRpcGxleCAtIG5hbWUgbXVzdCBub3QgYmUgZW1wdHlcIik7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzdHJlYW1zW25hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9iamVjdE11bHRpcGxleCAtIFN1YnN0cmVhbSBmb3IgbmFtZSBcIiR7bmFtZX1cIiBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICAvLyBzZXRcbiAgICB0aGlzLl9zdWJzdHJlYW1zW25hbWVdID0gSUdOT1JFX1NVQlNUUkVBTTtcbiAgfVxuICBfcmVhZCgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIF93cml0ZShjaHVuaywgX2VuY29kaW5nLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICBkYXRhXG4gICAgfSA9IGNodW5rO1xuICAgIGlmICghbmFtZSkge1xuICAgICAgd2luZG93LmNvbnNvbGUud2FybihgT2JqZWN0TXVsdGlwbGV4IC0gbWFsZm9ybWVkIGNodW5rIHdpdGhvdXQgbmFtZSBcIiR7Y2h1bmt9XCJgKTtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8vIGdldCBjb3JyZXNwb25kaW5nIHN1YnN0cmVhbVxuICAgIGNvbnN0IHN1YnN0cmVhbSA9IHRoaXMuX3N1YnN0cmVhbXNbbmFtZV07XG4gICAgaWYgKCFzdWJzdHJlYW0pIHtcbiAgICAgIHdpbmRvdy5jb25zb2xlLndhcm4oYE9iamVjdE11bHRpcGxleCAtIG9ycGhhbmVkIGRhdGEgZm9yIHN0cmVhbSBcIiR7bmFtZX1cImApO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLy8gcHVzaCBkYXRhIGludG8gc3Vic3RyZWFtXG4gICAgaWYgKHN1YnN0cmVhbSAhPT0gSUdOT1JFX1NVQlNUUkVBTSkge1xuICAgICAgc3Vic3RyZWFtLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG59XG5cbi8vIHV0aWxcbmZ1bmN0aW9uIGFueVN0cmVhbUVuZChzdHJlYW0sIF9jYikge1xuICBjb25zdCBjYiA9IG9uY2UoX2NiKTtcbiAgZW9zKHN0cmVhbSwge1xuICAgIHJlYWRhYmxlOiBmYWxzZVxuICB9LCBjYik7XG4gIGVvcyhzdHJlYW0sIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSwgY2IpO1xufVxuZnVuY3Rpb24gc2V0dXBNdWx0aXBsZXgoc3RyZWFtKSB7XG4gIGNvbnN0IG11eCA9IG5ldyBPYmplY3RNdWx0aXBsZXgoKTtcbiAgbXV4LmdldFN0cmVhbSA9IGZ1bmN0aW9uIHN0cmVhbUhlbHBlcihuYW1lKSB7XG4gICAgaWYgKHRoaXMuX3N1YnN0cmVhbXNbbmFtZV0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdWJzdHJlYW1zW25hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTdHJlYW0obmFtZSk7XG4gIH07XG4gIHB1bXAoc3RyZWFtLCBtdXgsIHN0cmVhbSwgZXJyID0+IHtcbiAgICBpZiAoZXJyKSB3aW5kb3cuY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcbiAgcmV0dXJuIG11eDtcbn1cblxuY2xhc3MgUG9zdE1lc3NhZ2VTdHJlYW0gZXh0ZW5kcyBCYXNlUG9zdE1lc3NhZ2VTdHJlYW0ge1xuICBfcG9zdE1lc3NhZ2UoZGF0YSkge1xuICAgIGxldCBvcmlnaW5Db25zdHJhaW50ID0gdGhpcy5fdGFyZ2V0T3JpZ2luO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3QgZGF0YU9iaiA9IGRhdGE7XG4gICAgICBpZiAodHlwZW9mIGRhdGFPYmouZGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb25zdCBkYXRhT2JqRGF0YSA9IGRhdGFPYmouZGF0YTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YU9iakRhdGEucGFyYW1zKSAmJiBkYXRhT2JqRGF0YS5wYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGRhdGFPYmpEYXRhUGFyYW0gPSBkYXRhT2JqRGF0YS5wYXJhbXNbMF07XG4gICAgICAgICAgaWYgKGRhdGFPYmpEYXRhUGFyYW0uX29yaWdpbikge1xuICAgICAgICAgICAgb3JpZ2luQ29uc3RyYWludCA9IGRhdGFPYmpEYXRhUGFyYW0uX29yaWdpbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBhZGQgYSBjb25zdHJhaW50IGZvciB0aGUgcmVzcG9uc2VcbiAgICAgICAgICBkYXRhT2JqRGF0YVBhcmFtLl9vcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3RhcmdldFdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICB0YXJnZXQ6IHRoaXMuX3RhcmdldCxcbiAgICAgIGRhdGFcbiAgICB9LCBvcmlnaW5Db25zdHJhaW50KTtcbiAgfVxufVxuXG5leHBvcnQgeyBCYXNlUG9zdE1lc3NhZ2VTdHJlYW0sIElHTk9SRV9TVUJTVFJFQU0sIEpSUENFbmdpbmUsIE9iamVjdE11bHRpcGxleCwgUG9zdE1lc3NhZ2VTdHJlYW0sIFNhZmVFdmVudEVtaXR0ZXIsIFNlcmlhbGl6YWJsZUVycm9yLCBTdWJzdHJlYW0sIGNyZWF0ZUFzeW5jTWlkZGxld2FyZSwgY3JlYXRlRW5naW5lU3RyZWFtLCBjcmVhdGVFcnJvck1pZGRsZXdhcmUsIGNyZWF0ZUlkUmVtYXBNaWRkbGV3YXJlLCBjcmVhdGVMb2dnZXJNaWRkbGV3YXJlLCBjcmVhdGVTY2FmZm9sZE1pZGRsZXdhcmUsIGNyZWF0ZVN0cmVhbU1pZGRsZXdhcmUsIGdldFJwY1Byb21pc2VDYWxsYmFjaywgbWVyZ2VNaWRkbGV3YXJlLCBwcm92aWRlckFzTWlkZGxld2FyZSwgcHJvdmlkZXJGcm9tRW5naW5lLCBwcm92aWRlckZyb21NaWRkbGV3YXJlLCBzZXR1cE11bHRpcGxleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmxvZ2luSnJwYy5lc20uanMubWFwXG4iXSwibmFtZXMiOlsiX2RlZmluZVByb3BlcnR5IiwiRHVwbGV4IiwiRXZlbnRFbWl0dGVyIiwic3RyaW5naWZ5IiwiX29iamVjdFNwcmVhZCIsInNlcmlhbGl6ZUVycm9yIiwicnBjRXJyb3JzIiwiZW9zIiwib25jZSIsInB1bXAiLCJub29wIiwidW5kZWZpbmVkIiwiU1lOIiwiQUNLIiwiQlJLIiwiQmFzZVBvc3RNZXNzYWdlU3RyZWFtIiwiY29uc3RydWN0b3IiLCJfcmVmIiwibmFtZSIsInRhcmdldCIsInRhcmdldFdpbmRvdyIsIndpbmRvdyIsInRhcmdldE9yaWdpbiIsIm9iamVjdE1vZGUiLCJFcnJvciIsIl9pbml0IiwiX2hhdmVTeW4iLCJfbmFtZSIsIl90YXJnZXQiLCJfdGFyZ2V0V2luZG93IiwiX3RhcmdldE9yaWdpbiIsIl9vbk1lc3NhZ2UiLCJvbk1lc3NhZ2UiLCJiaW5kIiwiX3N5bkludGVydmFsSWQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRTaGFrZSIsIl9icmVhayIsImNvcmsiLCJfd3JpdGUiLCJfb25EYXRhIiwiZGF0YSIsInVuY29yayIsInB1c2giLCJlcnIiLCJlbWl0IiwiX3Bvc3RNZXNzYWdlIiwib3JpZ2luQ29uc3RyYWludCIsInBvc3RNZXNzYWdlIiwiZXZlbnQiLCJtZXNzYWdlIiwib3JpZ2luIiwic291cmNlIiwiX3JlYWQiLCJfIiwiY2IiLCJfZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzYWZlQXBwbHkiLCJoYW5kbGVyIiwiY29udGV4dCIsImFyZ3MiLCJSZWZsZWN0IiwiYXBwbHkiLCJzZXRUaW1lb3V0IiwiYXJyYXlDbG9uZSIsImFyciIsIm4iLCJsZW5ndGgiLCJjb3B5IiwiQXJyYXkiLCJpIiwiU2FmZUV2ZW50RW1pdHRlciIsInR5cGUiLCJkb0Vycm9yIiwiZXZlbnRzIiwiX2V2ZW50cyIsImVycm9yIiwiX2xlbiIsImFyZ3VtZW50cyIsIl9rZXkiLCJlciIsImxlbiIsImxpc3RlbmVycyIsIlNlcmlhbGl6YWJsZUVycm9yIiwiY29kZSIsIk51bWJlciIsImlzSW50ZWdlciIsInRvU3RyaW5nIiwic3RhY2siLCJnZXRScGNQcm9taXNlQ2FsbGJhY2siLCJyZXNvbHZlIiwicmVqZWN0IiwidW53cmFwUmVzdWx0IiwicmVzcG9uc2UiLCJpc0FycmF5IiwicmVzdWx0IiwiY3JlYXRlRXJyb3JNaWRkbGV3YXJlIiwibG9nIiwicmVxIiwicmVzIiwibmV4dCIsImVuZCIsIm1ldGhvZCIsImRvbmUiLCJjcmVhdGVTdHJlYW1NaWRkbGV3YXJlIiwiaWRNYXAiLCJyZWFkTm9vcCIsInByb2Nlc3NSZXNwb25zZSIsImlkIiwiT2JqZWN0IiwiYXNzaWduIiwicHJvY2Vzc05vdGlmaWNhdGlvbiIsInByb2Nlc3NNZXNzYWdlIiwiX2VuY29kaW5nIiwiaXNOb3RpZmljYXRpb24iLCJfZXJyIiwic3RyZWFtIiwicmVhZCIsIndyaXRlIiwibWlkZGxld2FyZSIsImNyZWF0ZVNjYWZmb2xkTWlkZGxld2FyZSIsImhhbmRsZXJzIiwiY3JlYXRlSWRSZW1hcE1pZGRsZXdhcmUiLCJfZW5kIiwib3JpZ2luYWxJZCIsIm5ld0lkIiwiTWF0aCIsInJhbmRvbSIsInNsaWNlIiwiY3JlYXRlTG9nZ2VyTWlkZGxld2FyZSIsImxvZ2dlciIsImRlYnVnIiwiY3JlYXRlQXN5bmNNaWRkbGV3YXJlIiwiYXN5bmNNaWRkbGV3YXJlIiwicmVzb2x2ZU5leHRQcm9taXNlIiwibmV4dFByb21pc2UiLCJQcm9taXNlIiwicmV0dXJuSGFuZGxlckNhbGxiYWNrIiwibmV4dFdhc0NhbGxlZCIsImFzeW5jTmV4dCIsInJ1blJldHVybkhhbmRsZXJzQ2FsbGJhY2siLCJKUlBDRW5naW5lIiwiX21pZGRsZXdhcmUiLCJfcnVuQWxsTWlkZGxld2FyZSIsIm1pZGRsZXdhcmVTdGFjayIsInJldHVybkhhbmRsZXJzIiwiaXNDb21wbGV0ZSIsIl9ydW5NaWRkbGV3YXJlIiwicmV2ZXJzZSIsInJldHVybkhhbmRsZXIiLCJfcnVuUmV0dXJuSGFuZGxlcnMiLCJfY2hlY2tGb3JDb21wbGV0aW9uIiwiX3JlcSIsImhhbmRsZSIsIl9oYW5kbGVCYXRjaCIsIl9oYW5kbGUiLCJfcHJvbWlzZUhhbmRsZSIsImFzTWlkZGxld2FyZSIsIm1pZGRsZXdhcmVFcnJvciIsImhhbmRsZXJDYWxsYmFjayIsInJlcXMiLCJyZXNwb25zZXMiLCJhbGwiLCJtYXAiLCJjYWxsZXJSZXEiLCJqc29ucnBjIiwiX3Byb2Nlc3NSZXF1ZXN0IiwiX2Vycm9yIiwibWVyZ2VNaWRkbGV3YXJlIiwiZW5naW5lIiwiZm9yRWFjaCIsImNyZWF0ZUVuZ2luZVN0cmVhbSIsIm9wdHMiLCJvbiIsInByb3ZpZGVyRnJvbUVuZ2luZSIsInByb3ZpZGVyIiwic2VuZEFzeW5jIiwiX3JlcyRlcnJvciIsIl9yZXMkZXJyb3IyIiwiZmFsbGJhY2tFcnJvciIsImludGVybmFsIiwic2VuZCIsImNhbGxiYWNrIiwicmVxdWVzdCIsInByb3ZpZGVyRnJvbU1pZGRsZXdhcmUiLCJwcm92aWRlckFzTWlkZGxld2FyZSIsIl9uZXh0IiwicHJvdmlkZXJSZXMiLCJTdWJzdHJlYW0iLCJwYXJlbnQiLCJfcGFyZW50IiwiY2h1bmsiLCJJR05PUkVfU1VCU1RSRUFNIiwiU3ltYm9sIiwiT2JqZWN0TXVsdGlwbGV4IiwiX3N1YnN0cmVhbXMiLCJjcmVhdGVTdHJlYW0iLCJzdWJzdHJlYW0iLCJhbnlTdHJlYW1FbmQiLCJkZXN0cm95IiwiaWdub3JlU3RyZWFtIiwiY29uc29sZSIsIndhcm4iLCJfY2IiLCJyZWFkYWJsZSIsIndyaXRhYmxlIiwic2V0dXBNdWx0aXBsZXgiLCJtdXgiLCJnZXRTdHJlYW0iLCJzdHJlYW1IZWxwZXIiLCJQb3N0TWVzc2FnZVN0cmVhbSIsImRhdGFPYmoiLCJkYXRhT2JqRGF0YSIsInBhcmFtcyIsImRhdGFPYmpEYXRhUGFyYW0iLCJfb3JpZ2luIiwibG9jYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/torus-embed/node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/tweetnacl-js/nacl-fast.js":
/*!***********************************************************!*\
  !*** ./node_modules/@toruslabs/tweetnacl-js/nacl-fast.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("(function(nacl) {\n    \"use strict\";\n    // Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n    // Public domain.\n    //\n    // Implementation derived from TweetNaCl version 20140427.\n    // See for details: http://tweetnacl.cr.yp.to/\n    var gf = function(init) {\n        var i, r = new Float64Array(16);\n        if (init) for(i = 0; i < init.length; i++)r[i] = init[i];\n        return r;\n    };\n    //  Pluggable, initialized in high-level API below.\n    var randombytes = function() {\n        throw new Error(\"no PRNG\");\n    };\n    var _0 = new Uint8Array(16);\n    var _9 = new Uint8Array(32);\n    _9[0] = 9;\n    var gf0 = gf(), gf1 = gf([\n        1\n    ]), _121665 = gf([\n        0xdb41,\n        1\n    ]), D = gf([\n        0x78a3,\n        0x1359,\n        0x4dca,\n        0x75eb,\n        0xd8ab,\n        0x4141,\n        0x0a4d,\n        0x0070,\n        0xe898,\n        0x7779,\n        0x4079,\n        0x8cc7,\n        0xfe73,\n        0x2b6f,\n        0x6cee,\n        0x5203\n    ]), D2 = gf([\n        0xf159,\n        0x26b2,\n        0x9b94,\n        0xebd6,\n        0xb156,\n        0x8283,\n        0x149a,\n        0x00e0,\n        0xd130,\n        0xeef3,\n        0x80f2,\n        0x198e,\n        0xfce7,\n        0x56df,\n        0xd9dc,\n        0x2406\n    ]), X = gf([\n        0xd51a,\n        0x8f25,\n        0x2d60,\n        0xc956,\n        0xa7b2,\n        0x9525,\n        0xc760,\n        0x692c,\n        0xdc5c,\n        0xfdd6,\n        0xe231,\n        0xc0a4,\n        0x53fe,\n        0xcd6e,\n        0x36d3,\n        0x2169\n    ]), Y = gf([\n        0x6658,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666,\n        0x6666\n    ]), I = gf([\n        0xa0b0,\n        0x4a0e,\n        0x1b27,\n        0xc4ee,\n        0xe478,\n        0xad2f,\n        0x1806,\n        0x2f43,\n        0xd7a7,\n        0x3dfb,\n        0x0099,\n        0x2b4d,\n        0xdf0b,\n        0x4fc1,\n        0x2480,\n        0x2b83\n    ]);\n    function ts64(x, i, h, l) {\n        x[i] = h >> 24 & 0xff;\n        x[i + 1] = h >> 16 & 0xff;\n        x[i + 2] = h >> 8 & 0xff;\n        x[i + 3] = h & 0xff;\n        x[i + 4] = l >> 24 & 0xff;\n        x[i + 5] = l >> 16 & 0xff;\n        x[i + 6] = l >> 8 & 0xff;\n        x[i + 7] = l & 0xff;\n    }\n    function vn(x, xi, y, yi, n) {\n        var i, d = 0;\n        for(i = 0; i < n; i++)d |= x[xi + i] ^ y[yi + i];\n        return (1 & d - 1 >>> 8) - 1;\n    }\n    function crypto_verify_16(x, xi, y, yi) {\n        return vn(x, xi, y, yi, 16);\n    }\n    function crypto_verify_32(x, xi, y, yi) {\n        return vn(x, xi, y, yi, 32);\n    }\n    function core_salsa20(o, p, k, c) {\n        var j0 = c[0] & 0xff | (c[1] & 0xff) << 8 | (c[2] & 0xff) << 16 | (c[3] & 0xff) << 24, j1 = k[0] & 0xff | (k[1] & 0xff) << 8 | (k[2] & 0xff) << 16 | (k[3] & 0xff) << 24, j2 = k[4] & 0xff | (k[5] & 0xff) << 8 | (k[6] & 0xff) << 16 | (k[7] & 0xff) << 24, j3 = k[8] & 0xff | (k[9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24, j4 = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24, j5 = c[4] & 0xff | (c[5] & 0xff) << 8 | (c[6] & 0xff) << 16 | (c[7] & 0xff) << 24, j6 = p[0] & 0xff | (p[1] & 0xff) << 8 | (p[2] & 0xff) << 16 | (p[3] & 0xff) << 24, j7 = p[4] & 0xff | (p[5] & 0xff) << 8 | (p[6] & 0xff) << 16 | (p[7] & 0xff) << 24, j8 = p[8] & 0xff | (p[9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24, j9 = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24, j10 = c[8] & 0xff | (c[9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24, j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24, j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24, j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24, j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24, j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24;\n        var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7, x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14, x15 = j15, u;\n        for(var i = 0; i < 20; i += 2){\n            u = x0 + x12 | 0;\n            x4 ^= u << 7 | u >>> 32 - 7;\n            u = x4 + x0 | 0;\n            x8 ^= u << 9 | u >>> 32 - 9;\n            u = x8 + x4 | 0;\n            x12 ^= u << 13 | u >>> 32 - 13;\n            u = x12 + x8 | 0;\n            x0 ^= u << 18 | u >>> 32 - 18;\n            u = x5 + x1 | 0;\n            x9 ^= u << 7 | u >>> 32 - 7;\n            u = x9 + x5 | 0;\n            x13 ^= u << 9 | u >>> 32 - 9;\n            u = x13 + x9 | 0;\n            x1 ^= u << 13 | u >>> 32 - 13;\n            u = x1 + x13 | 0;\n            x5 ^= u << 18 | u >>> 32 - 18;\n            u = x10 + x6 | 0;\n            x14 ^= u << 7 | u >>> 32 - 7;\n            u = x14 + x10 | 0;\n            x2 ^= u << 9 | u >>> 32 - 9;\n            u = x2 + x14 | 0;\n            x6 ^= u << 13 | u >>> 32 - 13;\n            u = x6 + x2 | 0;\n            x10 ^= u << 18 | u >>> 32 - 18;\n            u = x15 + x11 | 0;\n            x3 ^= u << 7 | u >>> 32 - 7;\n            u = x3 + x15 | 0;\n            x7 ^= u << 9 | u >>> 32 - 9;\n            u = x7 + x3 | 0;\n            x11 ^= u << 13 | u >>> 32 - 13;\n            u = x11 + x7 | 0;\n            x15 ^= u << 18 | u >>> 32 - 18;\n            u = x0 + x3 | 0;\n            x1 ^= u << 7 | u >>> 32 - 7;\n            u = x1 + x0 | 0;\n            x2 ^= u << 9 | u >>> 32 - 9;\n            u = x2 + x1 | 0;\n            x3 ^= u << 13 | u >>> 32 - 13;\n            u = x3 + x2 | 0;\n            x0 ^= u << 18 | u >>> 32 - 18;\n            u = x5 + x4 | 0;\n            x6 ^= u << 7 | u >>> 32 - 7;\n            u = x6 + x5 | 0;\n            x7 ^= u << 9 | u >>> 32 - 9;\n            u = x7 + x6 | 0;\n            x4 ^= u << 13 | u >>> 32 - 13;\n            u = x4 + x7 | 0;\n            x5 ^= u << 18 | u >>> 32 - 18;\n            u = x10 + x9 | 0;\n            x11 ^= u << 7 | u >>> 32 - 7;\n            u = x11 + x10 | 0;\n            x8 ^= u << 9 | u >>> 32 - 9;\n            u = x8 + x11 | 0;\n            x9 ^= u << 13 | u >>> 32 - 13;\n            u = x9 + x8 | 0;\n            x10 ^= u << 18 | u >>> 32 - 18;\n            u = x15 + x14 | 0;\n            x12 ^= u << 7 | u >>> 32 - 7;\n            u = x12 + x15 | 0;\n            x13 ^= u << 9 | u >>> 32 - 9;\n            u = x13 + x12 | 0;\n            x14 ^= u << 13 | u >>> 32 - 13;\n            u = x14 + x13 | 0;\n            x15 ^= u << 18 | u >>> 32 - 18;\n        }\n        x0 = x0 + j0 | 0;\n        x1 = x1 + j1 | 0;\n        x2 = x2 + j2 | 0;\n        x3 = x3 + j3 | 0;\n        x4 = x4 + j4 | 0;\n        x5 = x5 + j5 | 0;\n        x6 = x6 + j6 | 0;\n        x7 = x7 + j7 | 0;\n        x8 = x8 + j8 | 0;\n        x9 = x9 + j9 | 0;\n        x10 = x10 + j10 | 0;\n        x11 = x11 + j11 | 0;\n        x12 = x12 + j12 | 0;\n        x13 = x13 + j13 | 0;\n        x14 = x14 + j14 | 0;\n        x15 = x15 + j15 | 0;\n        o[0] = x0 >>> 0 & 0xff;\n        o[1] = x0 >>> 8 & 0xff;\n        o[2] = x0 >>> 16 & 0xff;\n        o[3] = x0 >>> 24 & 0xff;\n        o[4] = x1 >>> 0 & 0xff;\n        o[5] = x1 >>> 8 & 0xff;\n        o[6] = x1 >>> 16 & 0xff;\n        o[7] = x1 >>> 24 & 0xff;\n        o[8] = x2 >>> 0 & 0xff;\n        o[9] = x2 >>> 8 & 0xff;\n        o[10] = x2 >>> 16 & 0xff;\n        o[11] = x2 >>> 24 & 0xff;\n        o[12] = x3 >>> 0 & 0xff;\n        o[13] = x3 >>> 8 & 0xff;\n        o[14] = x3 >>> 16 & 0xff;\n        o[15] = x3 >>> 24 & 0xff;\n        o[16] = x4 >>> 0 & 0xff;\n        o[17] = x4 >>> 8 & 0xff;\n        o[18] = x4 >>> 16 & 0xff;\n        o[19] = x4 >>> 24 & 0xff;\n        o[20] = x5 >>> 0 & 0xff;\n        o[21] = x5 >>> 8 & 0xff;\n        o[22] = x5 >>> 16 & 0xff;\n        o[23] = x5 >>> 24 & 0xff;\n        o[24] = x6 >>> 0 & 0xff;\n        o[25] = x6 >>> 8 & 0xff;\n        o[26] = x6 >>> 16 & 0xff;\n        o[27] = x6 >>> 24 & 0xff;\n        o[28] = x7 >>> 0 & 0xff;\n        o[29] = x7 >>> 8 & 0xff;\n        o[30] = x7 >>> 16 & 0xff;\n        o[31] = x7 >>> 24 & 0xff;\n        o[32] = x8 >>> 0 & 0xff;\n        o[33] = x8 >>> 8 & 0xff;\n        o[34] = x8 >>> 16 & 0xff;\n        o[35] = x8 >>> 24 & 0xff;\n        o[36] = x9 >>> 0 & 0xff;\n        o[37] = x9 >>> 8 & 0xff;\n        o[38] = x9 >>> 16 & 0xff;\n        o[39] = x9 >>> 24 & 0xff;\n        o[40] = x10 >>> 0 & 0xff;\n        o[41] = x10 >>> 8 & 0xff;\n        o[42] = x10 >>> 16 & 0xff;\n        o[43] = x10 >>> 24 & 0xff;\n        o[44] = x11 >>> 0 & 0xff;\n        o[45] = x11 >>> 8 & 0xff;\n        o[46] = x11 >>> 16 & 0xff;\n        o[47] = x11 >>> 24 & 0xff;\n        o[48] = x12 >>> 0 & 0xff;\n        o[49] = x12 >>> 8 & 0xff;\n        o[50] = x12 >>> 16 & 0xff;\n        o[51] = x12 >>> 24 & 0xff;\n        o[52] = x13 >>> 0 & 0xff;\n        o[53] = x13 >>> 8 & 0xff;\n        o[54] = x13 >>> 16 & 0xff;\n        o[55] = x13 >>> 24 & 0xff;\n        o[56] = x14 >>> 0 & 0xff;\n        o[57] = x14 >>> 8 & 0xff;\n        o[58] = x14 >>> 16 & 0xff;\n        o[59] = x14 >>> 24 & 0xff;\n        o[60] = x15 >>> 0 & 0xff;\n        o[61] = x15 >>> 8 & 0xff;\n        o[62] = x15 >>> 16 & 0xff;\n        o[63] = x15 >>> 24 & 0xff;\n    }\n    function core_hsalsa20(o, p, k, c) {\n        var j0 = c[0] & 0xff | (c[1] & 0xff) << 8 | (c[2] & 0xff) << 16 | (c[3] & 0xff) << 24, j1 = k[0] & 0xff | (k[1] & 0xff) << 8 | (k[2] & 0xff) << 16 | (k[3] & 0xff) << 24, j2 = k[4] & 0xff | (k[5] & 0xff) << 8 | (k[6] & 0xff) << 16 | (k[7] & 0xff) << 24, j3 = k[8] & 0xff | (k[9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24, j4 = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24, j5 = c[4] & 0xff | (c[5] & 0xff) << 8 | (c[6] & 0xff) << 16 | (c[7] & 0xff) << 24, j6 = p[0] & 0xff | (p[1] & 0xff) << 8 | (p[2] & 0xff) << 16 | (p[3] & 0xff) << 24, j7 = p[4] & 0xff | (p[5] & 0xff) << 8 | (p[6] & 0xff) << 16 | (p[7] & 0xff) << 24, j8 = p[8] & 0xff | (p[9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24, j9 = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24, j10 = c[8] & 0xff | (c[9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24, j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24, j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24, j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24, j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24, j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24;\n        var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7, x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14, x15 = j15, u;\n        for(var i = 0; i < 20; i += 2){\n            u = x0 + x12 | 0;\n            x4 ^= u << 7 | u >>> 32 - 7;\n            u = x4 + x0 | 0;\n            x8 ^= u << 9 | u >>> 32 - 9;\n            u = x8 + x4 | 0;\n            x12 ^= u << 13 | u >>> 32 - 13;\n            u = x12 + x8 | 0;\n            x0 ^= u << 18 | u >>> 32 - 18;\n            u = x5 + x1 | 0;\n            x9 ^= u << 7 | u >>> 32 - 7;\n            u = x9 + x5 | 0;\n            x13 ^= u << 9 | u >>> 32 - 9;\n            u = x13 + x9 | 0;\n            x1 ^= u << 13 | u >>> 32 - 13;\n            u = x1 + x13 | 0;\n            x5 ^= u << 18 | u >>> 32 - 18;\n            u = x10 + x6 | 0;\n            x14 ^= u << 7 | u >>> 32 - 7;\n            u = x14 + x10 | 0;\n            x2 ^= u << 9 | u >>> 32 - 9;\n            u = x2 + x14 | 0;\n            x6 ^= u << 13 | u >>> 32 - 13;\n            u = x6 + x2 | 0;\n            x10 ^= u << 18 | u >>> 32 - 18;\n            u = x15 + x11 | 0;\n            x3 ^= u << 7 | u >>> 32 - 7;\n            u = x3 + x15 | 0;\n            x7 ^= u << 9 | u >>> 32 - 9;\n            u = x7 + x3 | 0;\n            x11 ^= u << 13 | u >>> 32 - 13;\n            u = x11 + x7 | 0;\n            x15 ^= u << 18 | u >>> 32 - 18;\n            u = x0 + x3 | 0;\n            x1 ^= u << 7 | u >>> 32 - 7;\n            u = x1 + x0 | 0;\n            x2 ^= u << 9 | u >>> 32 - 9;\n            u = x2 + x1 | 0;\n            x3 ^= u << 13 | u >>> 32 - 13;\n            u = x3 + x2 | 0;\n            x0 ^= u << 18 | u >>> 32 - 18;\n            u = x5 + x4 | 0;\n            x6 ^= u << 7 | u >>> 32 - 7;\n            u = x6 + x5 | 0;\n            x7 ^= u << 9 | u >>> 32 - 9;\n            u = x7 + x6 | 0;\n            x4 ^= u << 13 | u >>> 32 - 13;\n            u = x4 + x7 | 0;\n            x5 ^= u << 18 | u >>> 32 - 18;\n            u = x10 + x9 | 0;\n            x11 ^= u << 7 | u >>> 32 - 7;\n            u = x11 + x10 | 0;\n            x8 ^= u << 9 | u >>> 32 - 9;\n            u = x8 + x11 | 0;\n            x9 ^= u << 13 | u >>> 32 - 13;\n            u = x9 + x8 | 0;\n            x10 ^= u << 18 | u >>> 32 - 18;\n            u = x15 + x14 | 0;\n            x12 ^= u << 7 | u >>> 32 - 7;\n            u = x12 + x15 | 0;\n            x13 ^= u << 9 | u >>> 32 - 9;\n            u = x13 + x12 | 0;\n            x14 ^= u << 13 | u >>> 32 - 13;\n            u = x14 + x13 | 0;\n            x15 ^= u << 18 | u >>> 32 - 18;\n        }\n        o[0] = x0 >>> 0 & 0xff;\n        o[1] = x0 >>> 8 & 0xff;\n        o[2] = x0 >>> 16 & 0xff;\n        o[3] = x0 >>> 24 & 0xff;\n        o[4] = x5 >>> 0 & 0xff;\n        o[5] = x5 >>> 8 & 0xff;\n        o[6] = x5 >>> 16 & 0xff;\n        o[7] = x5 >>> 24 & 0xff;\n        o[8] = x10 >>> 0 & 0xff;\n        o[9] = x10 >>> 8 & 0xff;\n        o[10] = x10 >>> 16 & 0xff;\n        o[11] = x10 >>> 24 & 0xff;\n        o[12] = x15 >>> 0 & 0xff;\n        o[13] = x15 >>> 8 & 0xff;\n        o[14] = x15 >>> 16 & 0xff;\n        o[15] = x15 >>> 24 & 0xff;\n        o[16] = x6 >>> 0 & 0xff;\n        o[17] = x6 >>> 8 & 0xff;\n        o[18] = x6 >>> 16 & 0xff;\n        o[19] = x6 >>> 24 & 0xff;\n        o[20] = x7 >>> 0 & 0xff;\n        o[21] = x7 >>> 8 & 0xff;\n        o[22] = x7 >>> 16 & 0xff;\n        o[23] = x7 >>> 24 & 0xff;\n        o[24] = x8 >>> 0 & 0xff;\n        o[25] = x8 >>> 8 & 0xff;\n        o[26] = x8 >>> 16 & 0xff;\n        o[27] = x8 >>> 24 & 0xff;\n        o[28] = x9 >>> 0 & 0xff;\n        o[29] = x9 >>> 8 & 0xff;\n        o[30] = x9 >>> 16 & 0xff;\n        o[31] = x9 >>> 24 & 0xff;\n    }\n    function crypto_core_salsa20(out, inp, k, c) {\n        core_salsa20(out, inp, k, c);\n    }\n    function crypto_core_hsalsa20(out, inp, k, c) {\n        core_hsalsa20(out, inp, k, c);\n    }\n    var sigma = new Uint8Array([\n        101,\n        120,\n        112,\n        97,\n        110,\n        100,\n        32,\n        51,\n        50,\n        45,\n        98,\n        121,\n        116,\n        101,\n        32,\n        107\n    ]);\n    // \"expand 32-byte k\"\n    function crypto_stream_salsa20_xor(c, cpos, m, mpos, b, n, k) {\n        var z = new Uint8Array(16), x = new Uint8Array(64);\n        var u, i;\n        for(i = 0; i < 16; i++)z[i] = 0;\n        for(i = 0; i < 8; i++)z[i] = n[i];\n        while(b >= 64){\n            crypto_core_salsa20(x, z, k, sigma);\n            for(i = 0; i < 64; i++)c[cpos + i] = m[mpos + i] ^ x[i];\n            u = 1;\n            for(i = 8; i < 16; i++){\n                u = u + (z[i] & 0xff) | 0;\n                z[i] = u & 0xff;\n                u >>>= 8;\n            }\n            b -= 64;\n            cpos += 64;\n            mpos += 64;\n        }\n        if (b > 0) {\n            crypto_core_salsa20(x, z, k, sigma);\n            for(i = 0; i < b; i++)c[cpos + i] = m[mpos + i] ^ x[i];\n        }\n        return 0;\n    }\n    function crypto_stream_salsa20(c, cpos, b, n, k) {\n        var z = new Uint8Array(16), x = new Uint8Array(64);\n        var u, i;\n        for(i = 0; i < 16; i++)z[i] = 0;\n        for(i = 0; i < 8; i++)z[i] = n[i];\n        while(b >= 64){\n            crypto_core_salsa20(x, z, k, sigma);\n            for(i = 0; i < 64; i++)c[cpos + i] = x[i];\n            u = 1;\n            for(i = 8; i < 16; i++){\n                u = u + (z[i] & 0xff) | 0;\n                z[i] = u & 0xff;\n                u >>>= 8;\n            }\n            b -= 64;\n            cpos += 64;\n        }\n        if (b > 0) {\n            crypto_core_salsa20(x, z, k, sigma);\n            for(i = 0; i < b; i++)c[cpos + i] = x[i];\n        }\n        return 0;\n    }\n    function crypto_stream(c, cpos, d, n, k) {\n        var s = new Uint8Array(32);\n        crypto_core_hsalsa20(s, n, k, sigma);\n        var sn = new Uint8Array(8);\n        for(var i = 0; i < 8; i++)sn[i] = n[i + 16];\n        return crypto_stream_salsa20(c, cpos, d, sn, s);\n    }\n    function crypto_stream_xor(c, cpos, m, mpos, d, n, k) {\n        var s = new Uint8Array(32);\n        crypto_core_hsalsa20(s, n, k, sigma);\n        var sn = new Uint8Array(8);\n        for(var i = 0; i < 8; i++)sn[i] = n[i + 16];\n        return crypto_stream_salsa20_xor(c, cpos, m, mpos, d, sn, s);\n    }\n    /*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/ var poly1305 = function(key) {\n        this.buffer = new Uint8Array(16);\n        this.r = new Uint16Array(10);\n        this.h = new Uint16Array(10);\n        this.pad = new Uint16Array(8);\n        this.leftover = 0;\n        this.fin = 0;\n        var t0, t1, t2, t3, t4, t5, t6, t7;\n        t0 = key[0] & 0xff | (key[1] & 0xff) << 8;\n        this.r[0] = t0 & 0x1fff;\n        t1 = key[2] & 0xff | (key[3] & 0xff) << 8;\n        this.r[1] = (t0 >>> 13 | t1 << 3) & 0x1fff;\n        t2 = key[4] & 0xff | (key[5] & 0xff) << 8;\n        this.r[2] = (t1 >>> 10 | t2 << 6) & 0x1f03;\n        t3 = key[6] & 0xff | (key[7] & 0xff) << 8;\n        this.r[3] = (t2 >>> 7 | t3 << 9) & 0x1fff;\n        t4 = key[8] & 0xff | (key[9] & 0xff) << 8;\n        this.r[4] = (t3 >>> 4 | t4 << 12) & 0x00ff;\n        this.r[5] = t4 >>> 1 & 0x1ffe;\n        t5 = key[10] & 0xff | (key[11] & 0xff) << 8;\n        this.r[6] = (t4 >>> 14 | t5 << 2) & 0x1fff;\n        t6 = key[12] & 0xff | (key[13] & 0xff) << 8;\n        this.r[7] = (t5 >>> 11 | t6 << 5) & 0x1f81;\n        t7 = key[14] & 0xff | (key[15] & 0xff) << 8;\n        this.r[8] = (t6 >>> 8 | t7 << 8) & 0x1fff;\n        this.r[9] = t7 >>> 5 & 0x007f;\n        this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n        this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n        this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n        this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n        this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n        this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n        this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n        this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n    };\n    poly1305.prototype.blocks = function(m, mpos, bytes) {\n        var hibit = this.fin ? 0 : 1 << 11;\n        var t0, t1, t2, t3, t4, t5, t6, t7, c;\n        var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n        var h0 = this.h[0], h1 = this.h[1], h2 = this.h[2], h3 = this.h[3], h4 = this.h[4], h5 = this.h[5], h6 = this.h[6], h7 = this.h[7], h8 = this.h[8], h9 = this.h[9];\n        var r0 = this.r[0], r1 = this.r[1], r2 = this.r[2], r3 = this.r[3], r4 = this.r[4], r5 = this.r[5], r6 = this.r[6], r7 = this.r[7], r8 = this.r[8], r9 = this.r[9];\n        while(bytes >= 16){\n            t0 = m[mpos + 0] & 0xff | (m[mpos + 1] & 0xff) << 8;\n            h0 += t0 & 0x1fff;\n            t1 = m[mpos + 2] & 0xff | (m[mpos + 3] & 0xff) << 8;\n            h1 += (t0 >>> 13 | t1 << 3) & 0x1fff;\n            t2 = m[mpos + 4] & 0xff | (m[mpos + 5] & 0xff) << 8;\n            h2 += (t1 >>> 10 | t2 << 6) & 0x1fff;\n            t3 = m[mpos + 6] & 0xff | (m[mpos + 7] & 0xff) << 8;\n            h3 += (t2 >>> 7 | t3 << 9) & 0x1fff;\n            t4 = m[mpos + 8] & 0xff | (m[mpos + 9] & 0xff) << 8;\n            h4 += (t3 >>> 4 | t4 << 12) & 0x1fff;\n            h5 += t4 >>> 1 & 0x1fff;\n            t5 = m[mpos + 10] & 0xff | (m[mpos + 11] & 0xff) << 8;\n            h6 += (t4 >>> 14 | t5 << 2) & 0x1fff;\n            t6 = m[mpos + 12] & 0xff | (m[mpos + 13] & 0xff) << 8;\n            h7 += (t5 >>> 11 | t6 << 5) & 0x1fff;\n            t7 = m[mpos + 14] & 0xff | (m[mpos + 15] & 0xff) << 8;\n            h8 += (t6 >>> 8 | t7 << 8) & 0x1fff;\n            h9 += t7 >>> 5 | hibit;\n            c = 0;\n            d0 = c;\n            d0 += h0 * r0;\n            d0 += h1 * (5 * r9);\n            d0 += h2 * (5 * r8);\n            d0 += h3 * (5 * r7);\n            d0 += h4 * (5 * r6);\n            c = d0 >>> 13;\n            d0 &= 0x1fff;\n            d0 += h5 * (5 * r5);\n            d0 += h6 * (5 * r4);\n            d0 += h7 * (5 * r3);\n            d0 += h8 * (5 * r2);\n            d0 += h9 * (5 * r1);\n            c += d0 >>> 13;\n            d0 &= 0x1fff;\n            d1 = c;\n            d1 += h0 * r1;\n            d1 += h1 * r0;\n            d1 += h2 * (5 * r9);\n            d1 += h3 * (5 * r8);\n            d1 += h4 * (5 * r7);\n            c = d1 >>> 13;\n            d1 &= 0x1fff;\n            d1 += h5 * (5 * r6);\n            d1 += h6 * (5 * r5);\n            d1 += h7 * (5 * r4);\n            d1 += h8 * (5 * r3);\n            d1 += h9 * (5 * r2);\n            c += d1 >>> 13;\n            d1 &= 0x1fff;\n            d2 = c;\n            d2 += h0 * r2;\n            d2 += h1 * r1;\n            d2 += h2 * r0;\n            d2 += h3 * (5 * r9);\n            d2 += h4 * (5 * r8);\n            c = d2 >>> 13;\n            d2 &= 0x1fff;\n            d2 += h5 * (5 * r7);\n            d2 += h6 * (5 * r6);\n            d2 += h7 * (5 * r5);\n            d2 += h8 * (5 * r4);\n            d2 += h9 * (5 * r3);\n            c += d2 >>> 13;\n            d2 &= 0x1fff;\n            d3 = c;\n            d3 += h0 * r3;\n            d3 += h1 * r2;\n            d3 += h2 * r1;\n            d3 += h3 * r0;\n            d3 += h4 * (5 * r9);\n            c = d3 >>> 13;\n            d3 &= 0x1fff;\n            d3 += h5 * (5 * r8);\n            d3 += h6 * (5 * r7);\n            d3 += h7 * (5 * r6);\n            d3 += h8 * (5 * r5);\n            d3 += h9 * (5 * r4);\n            c += d3 >>> 13;\n            d3 &= 0x1fff;\n            d4 = c;\n            d4 += h0 * r4;\n            d4 += h1 * r3;\n            d4 += h2 * r2;\n            d4 += h3 * r1;\n            d4 += h4 * r0;\n            c = d4 >>> 13;\n            d4 &= 0x1fff;\n            d4 += h5 * (5 * r9);\n            d4 += h6 * (5 * r8);\n            d4 += h7 * (5 * r7);\n            d4 += h8 * (5 * r6);\n            d4 += h9 * (5 * r5);\n            c += d4 >>> 13;\n            d4 &= 0x1fff;\n            d5 = c;\n            d5 += h0 * r5;\n            d5 += h1 * r4;\n            d5 += h2 * r3;\n            d5 += h3 * r2;\n            d5 += h4 * r1;\n            c = d5 >>> 13;\n            d5 &= 0x1fff;\n            d5 += h5 * r0;\n            d5 += h6 * (5 * r9);\n            d5 += h7 * (5 * r8);\n            d5 += h8 * (5 * r7);\n            d5 += h9 * (5 * r6);\n            c += d5 >>> 13;\n            d5 &= 0x1fff;\n            d6 = c;\n            d6 += h0 * r6;\n            d6 += h1 * r5;\n            d6 += h2 * r4;\n            d6 += h3 * r3;\n            d6 += h4 * r2;\n            c = d6 >>> 13;\n            d6 &= 0x1fff;\n            d6 += h5 * r1;\n            d6 += h6 * r0;\n            d6 += h7 * (5 * r9);\n            d6 += h8 * (5 * r8);\n            d6 += h9 * (5 * r7);\n            c += d6 >>> 13;\n            d6 &= 0x1fff;\n            d7 = c;\n            d7 += h0 * r7;\n            d7 += h1 * r6;\n            d7 += h2 * r5;\n            d7 += h3 * r4;\n            d7 += h4 * r3;\n            c = d7 >>> 13;\n            d7 &= 0x1fff;\n            d7 += h5 * r2;\n            d7 += h6 * r1;\n            d7 += h7 * r0;\n            d7 += h8 * (5 * r9);\n            d7 += h9 * (5 * r8);\n            c += d7 >>> 13;\n            d7 &= 0x1fff;\n            d8 = c;\n            d8 += h0 * r8;\n            d8 += h1 * r7;\n            d8 += h2 * r6;\n            d8 += h3 * r5;\n            d8 += h4 * r4;\n            c = d8 >>> 13;\n            d8 &= 0x1fff;\n            d8 += h5 * r3;\n            d8 += h6 * r2;\n            d8 += h7 * r1;\n            d8 += h8 * r0;\n            d8 += h9 * (5 * r9);\n            c += d8 >>> 13;\n            d8 &= 0x1fff;\n            d9 = c;\n            d9 += h0 * r9;\n            d9 += h1 * r8;\n            d9 += h2 * r7;\n            d9 += h3 * r6;\n            d9 += h4 * r5;\n            c = d9 >>> 13;\n            d9 &= 0x1fff;\n            d9 += h5 * r4;\n            d9 += h6 * r3;\n            d9 += h7 * r2;\n            d9 += h8 * r1;\n            d9 += h9 * r0;\n            c += d9 >>> 13;\n            d9 &= 0x1fff;\n            c = (c << 2) + c | 0;\n            c = c + d0 | 0;\n            d0 = c & 0x1fff;\n            c = c >>> 13;\n            d1 += c;\n            h0 = d0;\n            h1 = d1;\n            h2 = d2;\n            h3 = d3;\n            h4 = d4;\n            h5 = d5;\n            h6 = d6;\n            h7 = d7;\n            h8 = d8;\n            h9 = d9;\n            mpos += 16;\n            bytes -= 16;\n        }\n        this.h[0] = h0;\n        this.h[1] = h1;\n        this.h[2] = h2;\n        this.h[3] = h3;\n        this.h[4] = h4;\n        this.h[5] = h5;\n        this.h[6] = h6;\n        this.h[7] = h7;\n        this.h[8] = h8;\n        this.h[9] = h9;\n    };\n    poly1305.prototype.finish = function(mac, macpos) {\n        var g = new Uint16Array(10);\n        var c, mask, f, i;\n        if (this.leftover) {\n            i = this.leftover;\n            this.buffer[i++] = 1;\n            for(; i < 16; i++)this.buffer[i] = 0;\n            this.fin = 1;\n            this.blocks(this.buffer, 0, 16);\n        }\n        c = this.h[1] >>> 13;\n        this.h[1] &= 0x1fff;\n        for(i = 2; i < 10; i++){\n            this.h[i] += c;\n            c = this.h[i] >>> 13;\n            this.h[i] &= 0x1fff;\n        }\n        this.h[0] += c * 5;\n        c = this.h[0] >>> 13;\n        this.h[0] &= 0x1fff;\n        this.h[1] += c;\n        c = this.h[1] >>> 13;\n        this.h[1] &= 0x1fff;\n        this.h[2] += c;\n        g[0] = this.h[0] + 5;\n        c = g[0] >>> 13;\n        g[0] &= 0x1fff;\n        for(i = 1; i < 10; i++){\n            g[i] = this.h[i] + c;\n            c = g[i] >>> 13;\n            g[i] &= 0x1fff;\n        }\n        g[9] -= 1 << 13;\n        mask = (c ^ 1) - 1;\n        for(i = 0; i < 10; i++)g[i] &= mask;\n        mask = ~mask;\n        for(i = 0; i < 10; i++)this.h[i] = this.h[i] & mask | g[i];\n        this.h[0] = (this.h[0] | this.h[1] << 13) & 0xffff;\n        this.h[1] = (this.h[1] >>> 3 | this.h[2] << 10) & 0xffff;\n        this.h[2] = (this.h[2] >>> 6 | this.h[3] << 7) & 0xffff;\n        this.h[3] = (this.h[3] >>> 9 | this.h[4] << 4) & 0xffff;\n        this.h[4] = (this.h[4] >>> 12 | this.h[5] << 1 | this.h[6] << 14) & 0xffff;\n        this.h[5] = (this.h[6] >>> 2 | this.h[7] << 11) & 0xffff;\n        this.h[6] = (this.h[7] >>> 5 | this.h[8] << 8) & 0xffff;\n        this.h[7] = (this.h[8] >>> 8 | this.h[9] << 5) & 0xffff;\n        f = this.h[0] + this.pad[0];\n        this.h[0] = f & 0xffff;\n        for(i = 1; i < 8; i++){\n            f = (this.h[i] + this.pad[i] | 0) + (f >>> 16) | 0;\n            this.h[i] = f & 0xffff;\n        }\n        mac[macpos + 0] = this.h[0] >>> 0 & 0xff;\n        mac[macpos + 1] = this.h[0] >>> 8 & 0xff;\n        mac[macpos + 2] = this.h[1] >>> 0 & 0xff;\n        mac[macpos + 3] = this.h[1] >>> 8 & 0xff;\n        mac[macpos + 4] = this.h[2] >>> 0 & 0xff;\n        mac[macpos + 5] = this.h[2] >>> 8 & 0xff;\n        mac[macpos + 6] = this.h[3] >>> 0 & 0xff;\n        mac[macpos + 7] = this.h[3] >>> 8 & 0xff;\n        mac[macpos + 8] = this.h[4] >>> 0 & 0xff;\n        mac[macpos + 9] = this.h[4] >>> 8 & 0xff;\n        mac[macpos + 10] = this.h[5] >>> 0 & 0xff;\n        mac[macpos + 11] = this.h[5] >>> 8 & 0xff;\n        mac[macpos + 12] = this.h[6] >>> 0 & 0xff;\n        mac[macpos + 13] = this.h[6] >>> 8 & 0xff;\n        mac[macpos + 14] = this.h[7] >>> 0 & 0xff;\n        mac[macpos + 15] = this.h[7] >>> 8 & 0xff;\n    };\n    poly1305.prototype.update = function(m, mpos, bytes) {\n        var i, want;\n        if (this.leftover) {\n            want = 16 - this.leftover;\n            if (want > bytes) want = bytes;\n            for(i = 0; i < want; i++)this.buffer[this.leftover + i] = m[mpos + i];\n            bytes -= want;\n            mpos += want;\n            this.leftover += want;\n            if (this.leftover < 16) return;\n            this.blocks(this.buffer, 0, 16);\n            this.leftover = 0;\n        }\n        if (bytes >= 16) {\n            want = bytes - bytes % 16;\n            this.blocks(m, mpos, want);\n            mpos += want;\n            bytes -= want;\n        }\n        if (bytes) {\n            for(i = 0; i < bytes; i++)this.buffer[this.leftover + i] = m[mpos + i];\n            this.leftover += bytes;\n        }\n    };\n    function crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n        var s = new poly1305(k);\n        s.update(m, mpos, n);\n        s.finish(out, outpos);\n        return 0;\n    }\n    function crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n        var x = new Uint8Array(16);\n        crypto_onetimeauth(x, 0, m, mpos, n, k);\n        return crypto_verify_16(h, hpos, x, 0);\n    }\n    function crypto_secretbox(c, m, d, n, k) {\n        var i;\n        if (d < 32) return -1;\n        crypto_stream_xor(c, 0, m, 0, d, n, k);\n        crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n        for(i = 0; i < 16; i++)c[i] = 0;\n        return 0;\n    }\n    function crypto_secretbox_open(m, c, d, n, k) {\n        var i;\n        var x = new Uint8Array(32);\n        if (d < 32) return -1;\n        crypto_stream(x, 0, 32, n, k);\n        if (crypto_onetimeauth_verify(c, 16, c, 32, d - 32, x) !== 0) return -1;\n        crypto_stream_xor(m, 0, c, 0, d, n, k);\n        for(i = 0; i < 32; i++)m[i] = 0;\n        return 0;\n    }\n    function set25519(r, a) {\n        var i;\n        for(i = 0; i < 16; i++)r[i] = a[i] | 0;\n    }\n    function car25519(o) {\n        var i, v, c = 1;\n        for(i = 0; i < 16; i++){\n            v = o[i] + c + 65535;\n            c = Math.floor(v / 65536);\n            o[i] = v - c * 65536;\n        }\n        o[0] += c - 1 + 37 * (c - 1);\n    }\n    function sel25519(p, q, b) {\n        var t, c = ~(b - 1);\n        for(var i = 0; i < 16; i++){\n            t = c & (p[i] ^ q[i]);\n            p[i] ^= t;\n            q[i] ^= t;\n        }\n    }\n    function pack25519(o, n) {\n        var i, j, b;\n        var m = gf(), t = gf();\n        for(i = 0; i < 16; i++)t[i] = n[i];\n        car25519(t);\n        car25519(t);\n        car25519(t);\n        for(j = 0; j < 2; j++){\n            m[0] = t[0] - 0xffed;\n            for(i = 1; i < 15; i++){\n                m[i] = t[i] - 0xffff - (m[i - 1] >> 16 & 1);\n                m[i - 1] &= 0xffff;\n            }\n            m[15] = t[15] - 0x7fff - (m[14] >> 16 & 1);\n            b = m[15] >> 16 & 1;\n            m[14] &= 0xffff;\n            sel25519(t, m, 1 - b);\n        }\n        for(i = 0; i < 16; i++){\n            o[2 * i] = t[i] & 0xff;\n            o[2 * i + 1] = t[i] >> 8;\n        }\n    }\n    function neq25519(a, b) {\n        var c = new Uint8Array(32), d = new Uint8Array(32);\n        pack25519(c, a);\n        pack25519(d, b);\n        return crypto_verify_32(c, 0, d, 0);\n    }\n    function par25519(a) {\n        var d = new Uint8Array(32);\n        pack25519(d, a);\n        return d[0] & 1;\n    }\n    function unpack25519(o, n) {\n        var i;\n        for(i = 0; i < 16; i++)o[i] = n[2 * i] + (n[2 * i + 1] << 8);\n        o[15] &= 0x7fff;\n    }\n    function A(o, a, b) {\n        for(var i = 0; i < 16; i++)o[i] = a[i] + b[i];\n    }\n    function Z(o, a, b) {\n        for(var i = 0; i < 16; i++)o[i] = a[i] - b[i];\n    }\n    function M(o, a, b) {\n        var v, c, t0 = 0, t1 = 0, t2 = 0, t3 = 0, t4 = 0, t5 = 0, t6 = 0, t7 = 0, t8 = 0, t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0, t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0, t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0, b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7], b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11], b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];\n        v = a[0];\n        t0 += v * b0;\n        t1 += v * b1;\n        t2 += v * b2;\n        t3 += v * b3;\n        t4 += v * b4;\n        t5 += v * b5;\n        t6 += v * b6;\n        t7 += v * b7;\n        t8 += v * b8;\n        t9 += v * b9;\n        t10 += v * b10;\n        t11 += v * b11;\n        t12 += v * b12;\n        t13 += v * b13;\n        t14 += v * b14;\n        t15 += v * b15;\n        v = a[1];\n        t1 += v * b0;\n        t2 += v * b1;\n        t3 += v * b2;\n        t4 += v * b3;\n        t5 += v * b4;\n        t6 += v * b5;\n        t7 += v * b6;\n        t8 += v * b7;\n        t9 += v * b8;\n        t10 += v * b9;\n        t11 += v * b10;\n        t12 += v * b11;\n        t13 += v * b12;\n        t14 += v * b13;\n        t15 += v * b14;\n        t16 += v * b15;\n        v = a[2];\n        t2 += v * b0;\n        t3 += v * b1;\n        t4 += v * b2;\n        t5 += v * b3;\n        t6 += v * b4;\n        t7 += v * b5;\n        t8 += v * b6;\n        t9 += v * b7;\n        t10 += v * b8;\n        t11 += v * b9;\n        t12 += v * b10;\n        t13 += v * b11;\n        t14 += v * b12;\n        t15 += v * b13;\n        t16 += v * b14;\n        t17 += v * b15;\n        v = a[3];\n        t3 += v * b0;\n        t4 += v * b1;\n        t5 += v * b2;\n        t6 += v * b3;\n        t7 += v * b4;\n        t8 += v * b5;\n        t9 += v * b6;\n        t10 += v * b7;\n        t11 += v * b8;\n        t12 += v * b9;\n        t13 += v * b10;\n        t14 += v * b11;\n        t15 += v * b12;\n        t16 += v * b13;\n        t17 += v * b14;\n        t18 += v * b15;\n        v = a[4];\n        t4 += v * b0;\n        t5 += v * b1;\n        t6 += v * b2;\n        t7 += v * b3;\n        t8 += v * b4;\n        t9 += v * b5;\n        t10 += v * b6;\n        t11 += v * b7;\n        t12 += v * b8;\n        t13 += v * b9;\n        t14 += v * b10;\n        t15 += v * b11;\n        t16 += v * b12;\n        t17 += v * b13;\n        t18 += v * b14;\n        t19 += v * b15;\n        v = a[5];\n        t5 += v * b0;\n        t6 += v * b1;\n        t7 += v * b2;\n        t8 += v * b3;\n        t9 += v * b4;\n        t10 += v * b5;\n        t11 += v * b6;\n        t12 += v * b7;\n        t13 += v * b8;\n        t14 += v * b9;\n        t15 += v * b10;\n        t16 += v * b11;\n        t17 += v * b12;\n        t18 += v * b13;\n        t19 += v * b14;\n        t20 += v * b15;\n        v = a[6];\n        t6 += v * b0;\n        t7 += v * b1;\n        t8 += v * b2;\n        t9 += v * b3;\n        t10 += v * b4;\n        t11 += v * b5;\n        t12 += v * b6;\n        t13 += v * b7;\n        t14 += v * b8;\n        t15 += v * b9;\n        t16 += v * b10;\n        t17 += v * b11;\n        t18 += v * b12;\n        t19 += v * b13;\n        t20 += v * b14;\n        t21 += v * b15;\n        v = a[7];\n        t7 += v * b0;\n        t8 += v * b1;\n        t9 += v * b2;\n        t10 += v * b3;\n        t11 += v * b4;\n        t12 += v * b5;\n        t13 += v * b6;\n        t14 += v * b7;\n        t15 += v * b8;\n        t16 += v * b9;\n        t17 += v * b10;\n        t18 += v * b11;\n        t19 += v * b12;\n        t20 += v * b13;\n        t21 += v * b14;\n        t22 += v * b15;\n        v = a[8];\n        t8 += v * b0;\n        t9 += v * b1;\n        t10 += v * b2;\n        t11 += v * b3;\n        t12 += v * b4;\n        t13 += v * b5;\n        t14 += v * b6;\n        t15 += v * b7;\n        t16 += v * b8;\n        t17 += v * b9;\n        t18 += v * b10;\n        t19 += v * b11;\n        t20 += v * b12;\n        t21 += v * b13;\n        t22 += v * b14;\n        t23 += v * b15;\n        v = a[9];\n        t9 += v * b0;\n        t10 += v * b1;\n        t11 += v * b2;\n        t12 += v * b3;\n        t13 += v * b4;\n        t14 += v * b5;\n        t15 += v * b6;\n        t16 += v * b7;\n        t17 += v * b8;\n        t18 += v * b9;\n        t19 += v * b10;\n        t20 += v * b11;\n        t21 += v * b12;\n        t22 += v * b13;\n        t23 += v * b14;\n        t24 += v * b15;\n        v = a[10];\n        t10 += v * b0;\n        t11 += v * b1;\n        t12 += v * b2;\n        t13 += v * b3;\n        t14 += v * b4;\n        t15 += v * b5;\n        t16 += v * b6;\n        t17 += v * b7;\n        t18 += v * b8;\n        t19 += v * b9;\n        t20 += v * b10;\n        t21 += v * b11;\n        t22 += v * b12;\n        t23 += v * b13;\n        t24 += v * b14;\n        t25 += v * b15;\n        v = a[11];\n        t11 += v * b0;\n        t12 += v * b1;\n        t13 += v * b2;\n        t14 += v * b3;\n        t15 += v * b4;\n        t16 += v * b5;\n        t17 += v * b6;\n        t18 += v * b7;\n        t19 += v * b8;\n        t20 += v * b9;\n        t21 += v * b10;\n        t22 += v * b11;\n        t23 += v * b12;\n        t24 += v * b13;\n        t25 += v * b14;\n        t26 += v * b15;\n        v = a[12];\n        t12 += v * b0;\n        t13 += v * b1;\n        t14 += v * b2;\n        t15 += v * b3;\n        t16 += v * b4;\n        t17 += v * b5;\n        t18 += v * b6;\n        t19 += v * b7;\n        t20 += v * b8;\n        t21 += v * b9;\n        t22 += v * b10;\n        t23 += v * b11;\n        t24 += v * b12;\n        t25 += v * b13;\n        t26 += v * b14;\n        t27 += v * b15;\n        v = a[13];\n        t13 += v * b0;\n        t14 += v * b1;\n        t15 += v * b2;\n        t16 += v * b3;\n        t17 += v * b4;\n        t18 += v * b5;\n        t19 += v * b6;\n        t20 += v * b7;\n        t21 += v * b8;\n        t22 += v * b9;\n        t23 += v * b10;\n        t24 += v * b11;\n        t25 += v * b12;\n        t26 += v * b13;\n        t27 += v * b14;\n        t28 += v * b15;\n        v = a[14];\n        t14 += v * b0;\n        t15 += v * b1;\n        t16 += v * b2;\n        t17 += v * b3;\n        t18 += v * b4;\n        t19 += v * b5;\n        t20 += v * b6;\n        t21 += v * b7;\n        t22 += v * b8;\n        t23 += v * b9;\n        t24 += v * b10;\n        t25 += v * b11;\n        t26 += v * b12;\n        t27 += v * b13;\n        t28 += v * b14;\n        t29 += v * b15;\n        v = a[15];\n        t15 += v * b0;\n        t16 += v * b1;\n        t17 += v * b2;\n        t18 += v * b3;\n        t19 += v * b4;\n        t20 += v * b5;\n        t21 += v * b6;\n        t22 += v * b7;\n        t23 += v * b8;\n        t24 += v * b9;\n        t25 += v * b10;\n        t26 += v * b11;\n        t27 += v * b12;\n        t28 += v * b13;\n        t29 += v * b14;\n        t30 += v * b15;\n        t0 += 38 * t16;\n        t1 += 38 * t17;\n        t2 += 38 * t18;\n        t3 += 38 * t19;\n        t4 += 38 * t20;\n        t5 += 38 * t21;\n        t6 += 38 * t22;\n        t7 += 38 * t23;\n        t8 += 38 * t24;\n        t9 += 38 * t25;\n        t10 += 38 * t26;\n        t11 += 38 * t27;\n        t12 += 38 * t28;\n        t13 += 38 * t29;\n        t14 += 38 * t30;\n        // t15 left as is\n        // first car\n        c = 1;\n        v = t0 + c + 65535;\n        c = Math.floor(v / 65536);\n        t0 = v - c * 65536;\n        v = t1 + c + 65535;\n        c = Math.floor(v / 65536);\n        t1 = v - c * 65536;\n        v = t2 + c + 65535;\n        c = Math.floor(v / 65536);\n        t2 = v - c * 65536;\n        v = t3 + c + 65535;\n        c = Math.floor(v / 65536);\n        t3 = v - c * 65536;\n        v = t4 + c + 65535;\n        c = Math.floor(v / 65536);\n        t4 = v - c * 65536;\n        v = t5 + c + 65535;\n        c = Math.floor(v / 65536);\n        t5 = v - c * 65536;\n        v = t6 + c + 65535;\n        c = Math.floor(v / 65536);\n        t6 = v - c * 65536;\n        v = t7 + c + 65535;\n        c = Math.floor(v / 65536);\n        t7 = v - c * 65536;\n        v = t8 + c + 65535;\n        c = Math.floor(v / 65536);\n        t8 = v - c * 65536;\n        v = t9 + c + 65535;\n        c = Math.floor(v / 65536);\n        t9 = v - c * 65536;\n        v = t10 + c + 65535;\n        c = Math.floor(v / 65536);\n        t10 = v - c * 65536;\n        v = t11 + c + 65535;\n        c = Math.floor(v / 65536);\n        t11 = v - c * 65536;\n        v = t12 + c + 65535;\n        c = Math.floor(v / 65536);\n        t12 = v - c * 65536;\n        v = t13 + c + 65535;\n        c = Math.floor(v / 65536);\n        t13 = v - c * 65536;\n        v = t14 + c + 65535;\n        c = Math.floor(v / 65536);\n        t14 = v - c * 65536;\n        v = t15 + c + 65535;\n        c = Math.floor(v / 65536);\n        t15 = v - c * 65536;\n        t0 += c - 1 + 37 * (c - 1);\n        // second car\n        c = 1;\n        v = t0 + c + 65535;\n        c = Math.floor(v / 65536);\n        t0 = v - c * 65536;\n        v = t1 + c + 65535;\n        c = Math.floor(v / 65536);\n        t1 = v - c * 65536;\n        v = t2 + c + 65535;\n        c = Math.floor(v / 65536);\n        t2 = v - c * 65536;\n        v = t3 + c + 65535;\n        c = Math.floor(v / 65536);\n        t3 = v - c * 65536;\n        v = t4 + c + 65535;\n        c = Math.floor(v / 65536);\n        t4 = v - c * 65536;\n        v = t5 + c + 65535;\n        c = Math.floor(v / 65536);\n        t5 = v - c * 65536;\n        v = t6 + c + 65535;\n        c = Math.floor(v / 65536);\n        t6 = v - c * 65536;\n        v = t7 + c + 65535;\n        c = Math.floor(v / 65536);\n        t7 = v - c * 65536;\n        v = t8 + c + 65535;\n        c = Math.floor(v / 65536);\n        t8 = v - c * 65536;\n        v = t9 + c + 65535;\n        c = Math.floor(v / 65536);\n        t9 = v - c * 65536;\n        v = t10 + c + 65535;\n        c = Math.floor(v / 65536);\n        t10 = v - c * 65536;\n        v = t11 + c + 65535;\n        c = Math.floor(v / 65536);\n        t11 = v - c * 65536;\n        v = t12 + c + 65535;\n        c = Math.floor(v / 65536);\n        t12 = v - c * 65536;\n        v = t13 + c + 65535;\n        c = Math.floor(v / 65536);\n        t13 = v - c * 65536;\n        v = t14 + c + 65535;\n        c = Math.floor(v / 65536);\n        t14 = v - c * 65536;\n        v = t15 + c + 65535;\n        c = Math.floor(v / 65536);\n        t15 = v - c * 65536;\n        t0 += c - 1 + 37 * (c - 1);\n        o[0] = t0;\n        o[1] = t1;\n        o[2] = t2;\n        o[3] = t3;\n        o[4] = t4;\n        o[5] = t5;\n        o[6] = t6;\n        o[7] = t7;\n        o[8] = t8;\n        o[9] = t9;\n        o[10] = t10;\n        o[11] = t11;\n        o[12] = t12;\n        o[13] = t13;\n        o[14] = t14;\n        o[15] = t15;\n    }\n    function S(o, a) {\n        M(o, a, a);\n    }\n    function inv25519(o, i) {\n        var c = gf();\n        var a;\n        for(a = 0; a < 16; a++)c[a] = i[a];\n        for(a = 253; a >= 0; a--){\n            S(c, c);\n            if (a !== 2 && a !== 4) M(c, c, i);\n        }\n        for(a = 0; a < 16; a++)o[a] = c[a];\n    }\n    function pow2523(o, i) {\n        var c = gf();\n        var a;\n        for(a = 0; a < 16; a++)c[a] = i[a];\n        for(a = 250; a >= 0; a--){\n            S(c, c);\n            if (a !== 1) M(c, c, i);\n        }\n        for(a = 0; a < 16; a++)o[a] = c[a];\n    }\n    function crypto_scalarmult(q, n, p) {\n        var z = new Uint8Array(32);\n        var x = new Float64Array(80), r, i;\n        var a = gf(), b = gf(), c = gf(), d = gf(), e = gf(), f = gf();\n        for(i = 0; i < 31; i++)z[i] = n[i];\n        z[31] = n[31] & 127 | 64;\n        z[0] &= 248;\n        unpack25519(x, p);\n        for(i = 0; i < 16; i++){\n            b[i] = x[i];\n            d[i] = a[i] = c[i] = 0;\n        }\n        a[0] = d[0] = 1;\n        for(i = 254; i >= 0; --i){\n            r = z[i >>> 3] >>> (i & 7) & 1;\n            sel25519(a, b, r);\n            sel25519(c, d, r);\n            A(e, a, c);\n            Z(a, a, c);\n            A(c, b, d);\n            Z(b, b, d);\n            S(d, e);\n            S(f, a);\n            M(a, c, a);\n            M(c, b, e);\n            A(e, a, c);\n            Z(a, a, c);\n            S(b, a);\n            Z(c, d, f);\n            M(a, c, _121665);\n            A(a, a, d);\n            M(c, c, a);\n            M(a, d, f);\n            M(d, b, x);\n            S(b, e);\n            sel25519(a, b, r);\n            sel25519(c, d, r);\n        }\n        for(i = 0; i < 16; i++){\n            x[i + 16] = a[i];\n            x[i + 32] = c[i];\n            x[i + 48] = b[i];\n            x[i + 64] = d[i];\n        }\n        var x32 = x.subarray(32);\n        var x16 = x.subarray(16);\n        inv25519(x32, x32);\n        M(x16, x16, x32);\n        pack25519(q, x16);\n        return 0;\n    }\n    function crypto_scalarmult_base(q, n) {\n        return crypto_scalarmult(q, n, _9);\n    }\n    function crypto_box_keypair(y, x) {\n        randombytes(x, 32);\n        return crypto_scalarmult_base(y, x);\n    }\n    function crypto_box_beforenm(k, y, x) {\n        var s = new Uint8Array(32);\n        crypto_scalarmult(s, x, y);\n        return crypto_core_hsalsa20(k, _0, s, sigma);\n    }\n    var crypto_box_afternm = crypto_secretbox;\n    var crypto_box_open_afternm = crypto_secretbox_open;\n    function crypto_box(c, m, d, n, y, x) {\n        var k = new Uint8Array(32);\n        crypto_box_beforenm(k, y, x);\n        return crypto_box_afternm(c, m, d, n, k);\n    }\n    function crypto_box_open(m, c, d, n, y, x) {\n        var k = new Uint8Array(32);\n        crypto_box_beforenm(k, y, x);\n        return crypto_box_open_afternm(m, c, d, n, k);\n    }\n    var K = [\n        0x428a2f98,\n        0xd728ae22,\n        0x71374491,\n        0x23ef65cd,\n        0xb5c0fbcf,\n        0xec4d3b2f,\n        0xe9b5dba5,\n        0x8189dbbc,\n        0x3956c25b,\n        0xf348b538,\n        0x59f111f1,\n        0xb605d019,\n        0x923f82a4,\n        0xaf194f9b,\n        0xab1c5ed5,\n        0xda6d8118,\n        0xd807aa98,\n        0xa3030242,\n        0x12835b01,\n        0x45706fbe,\n        0x243185be,\n        0x4ee4b28c,\n        0x550c7dc3,\n        0xd5ffb4e2,\n        0x72be5d74,\n        0xf27b896f,\n        0x80deb1fe,\n        0x3b1696b1,\n        0x9bdc06a7,\n        0x25c71235,\n        0xc19bf174,\n        0xcf692694,\n        0xe49b69c1,\n        0x9ef14ad2,\n        0xefbe4786,\n        0x384f25e3,\n        0x0fc19dc6,\n        0x8b8cd5b5,\n        0x240ca1cc,\n        0x77ac9c65,\n        0x2de92c6f,\n        0x592b0275,\n        0x4a7484aa,\n        0x6ea6e483,\n        0x5cb0a9dc,\n        0xbd41fbd4,\n        0x76f988da,\n        0x831153b5,\n        0x983e5152,\n        0xee66dfab,\n        0xa831c66d,\n        0x2db43210,\n        0xb00327c8,\n        0x98fb213f,\n        0xbf597fc7,\n        0xbeef0ee4,\n        0xc6e00bf3,\n        0x3da88fc2,\n        0xd5a79147,\n        0x930aa725,\n        0x06ca6351,\n        0xe003826f,\n        0x14292967,\n        0x0a0e6e70,\n        0x27b70a85,\n        0x46d22ffc,\n        0x2e1b2138,\n        0x5c26c926,\n        0x4d2c6dfc,\n        0x5ac42aed,\n        0x53380d13,\n        0x9d95b3df,\n        0x650a7354,\n        0x8baf63de,\n        0x766a0abb,\n        0x3c77b2a8,\n        0x81c2c92e,\n        0x47edaee6,\n        0x92722c85,\n        0x1482353b,\n        0xa2bfe8a1,\n        0x4cf10364,\n        0xa81a664b,\n        0xbc423001,\n        0xc24b8b70,\n        0xd0f89791,\n        0xc76c51a3,\n        0x0654be30,\n        0xd192e819,\n        0xd6ef5218,\n        0xd6990624,\n        0x5565a910,\n        0xf40e3585,\n        0x5771202a,\n        0x106aa070,\n        0x32bbd1b8,\n        0x19a4c116,\n        0xb8d2d0c8,\n        0x1e376c08,\n        0x5141ab53,\n        0x2748774c,\n        0xdf8eeb99,\n        0x34b0bcb5,\n        0xe19b48a8,\n        0x391c0cb3,\n        0xc5c95a63,\n        0x4ed8aa4a,\n        0xe3418acb,\n        0x5b9cca4f,\n        0x7763e373,\n        0x682e6ff3,\n        0xd6b2b8a3,\n        0x748f82ee,\n        0x5defb2fc,\n        0x78a5636f,\n        0x43172f60,\n        0x84c87814,\n        0xa1f0ab72,\n        0x8cc70208,\n        0x1a6439ec,\n        0x90befffa,\n        0x23631e28,\n        0xa4506ceb,\n        0xde82bde9,\n        0xbef9a3f7,\n        0xb2c67915,\n        0xc67178f2,\n        0xe372532b,\n        0xca273ece,\n        0xea26619c,\n        0xd186b8c7,\n        0x21c0c207,\n        0xeada7dd6,\n        0xcde0eb1e,\n        0xf57d4f7f,\n        0xee6ed178,\n        0x06f067aa,\n        0x72176fba,\n        0x0a637dc5,\n        0xa2c898a6,\n        0x113f9804,\n        0xbef90dae,\n        0x1b710b35,\n        0x131c471b,\n        0x28db77f5,\n        0x23047d84,\n        0x32caab7b,\n        0x40c72493,\n        0x3c9ebe0a,\n        0x15c9bebc,\n        0x431d67c4,\n        0x9c100d4c,\n        0x4cc5d4be,\n        0xcb3e42b6,\n        0x597f299c,\n        0xfc657e2a,\n        0x5fcb6fab,\n        0x3ad6faec,\n        0x6c44198c,\n        0x4a475817\n    ];\n    function crypto_hashblocks_hl(hh, hl, m, n) {\n        var wh = new Int32Array(16), wl = new Int32Array(16), bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7, bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7, th, tl, i, j, h, l, a, b, c, d;\n        var ah0 = hh[0], ah1 = hh[1], ah2 = hh[2], ah3 = hh[3], ah4 = hh[4], ah5 = hh[5], ah6 = hh[6], ah7 = hh[7], al0 = hl[0], al1 = hl[1], al2 = hl[2], al3 = hl[3], al4 = hl[4], al5 = hl[5], al6 = hl[6], al7 = hl[7];\n        var pos = 0;\n        while(n >= 128){\n            for(i = 0; i < 16; i++){\n                j = 8 * i + pos;\n                wh[i] = m[j + 0] << 24 | m[j + 1] << 16 | m[j + 2] << 8 | m[j + 3];\n                wl[i] = m[j + 4] << 24 | m[j + 5] << 16 | m[j + 6] << 8 | m[j + 7];\n            }\n            for(i = 0; i < 80; i++){\n                bh0 = ah0;\n                bh1 = ah1;\n                bh2 = ah2;\n                bh3 = ah3;\n                bh4 = ah4;\n                bh5 = ah5;\n                bh6 = ah6;\n                bh7 = ah7;\n                bl0 = al0;\n                bl1 = al1;\n                bl2 = al2;\n                bl3 = al3;\n                bl4 = al4;\n                bl5 = al5;\n                bl6 = al6;\n                bl7 = al7;\n                // add\n                h = ah7;\n                l = al7;\n                a = l & 0xffff;\n                b = l >>> 16;\n                c = h & 0xffff;\n                d = h >>> 16;\n                // Sigma1\n                h = (ah4 >>> 14 | al4 << 32 - 14) ^ (ah4 >>> 18 | al4 << 32 - 18) ^ (al4 >>> 41 - 32 | ah4 << 32 - (41 - 32));\n                l = (al4 >>> 14 | ah4 << 32 - 14) ^ (al4 >>> 18 | ah4 << 32 - 18) ^ (ah4 >>> 41 - 32 | al4 << 32 - (41 - 32));\n                a += l & 0xffff;\n                b += l >>> 16;\n                c += h & 0xffff;\n                d += h >>> 16;\n                // Ch\n                h = ah4 & ah5 ^ ~ah4 & ah6;\n                l = al4 & al5 ^ ~al4 & al6;\n                a += l & 0xffff;\n                b += l >>> 16;\n                c += h & 0xffff;\n                d += h >>> 16;\n                // K\n                h = K[i * 2];\n                l = K[i * 2 + 1];\n                a += l & 0xffff;\n                b += l >>> 16;\n                c += h & 0xffff;\n                d += h >>> 16;\n                // w\n                h = wh[i % 16];\n                l = wl[i % 16];\n                a += l & 0xffff;\n                b += l >>> 16;\n                c += h & 0xffff;\n                d += h >>> 16;\n                b += a >>> 16;\n                c += b >>> 16;\n                d += c >>> 16;\n                th = c & 0xffff | d << 16;\n                tl = a & 0xffff | b << 16;\n                // add\n                h = th;\n                l = tl;\n                a = l & 0xffff;\n                b = l >>> 16;\n                c = h & 0xffff;\n                d = h >>> 16;\n                // Sigma0\n                h = (ah0 >>> 28 | al0 << 32 - 28) ^ (al0 >>> 34 - 32 | ah0 << 32 - (34 - 32)) ^ (al0 >>> 39 - 32 | ah0 << 32 - (39 - 32));\n                l = (al0 >>> 28 | ah0 << 32 - 28) ^ (ah0 >>> 34 - 32 | al0 << 32 - (34 - 32)) ^ (ah0 >>> 39 - 32 | al0 << 32 - (39 - 32));\n                a += l & 0xffff;\n                b += l >>> 16;\n                c += h & 0xffff;\n                d += h >>> 16;\n                // Maj\n                h = ah0 & ah1 ^ ah0 & ah2 ^ ah1 & ah2;\n                l = al0 & al1 ^ al0 & al2 ^ al1 & al2;\n                a += l & 0xffff;\n                b += l >>> 16;\n                c += h & 0xffff;\n                d += h >>> 16;\n                b += a >>> 16;\n                c += b >>> 16;\n                d += c >>> 16;\n                bh7 = c & 0xffff | d << 16;\n                bl7 = a & 0xffff | b << 16;\n                // add\n                h = bh3;\n                l = bl3;\n                a = l & 0xffff;\n                b = l >>> 16;\n                c = h & 0xffff;\n                d = h >>> 16;\n                h = th;\n                l = tl;\n                a += l & 0xffff;\n                b += l >>> 16;\n                c += h & 0xffff;\n                d += h >>> 16;\n                b += a >>> 16;\n                c += b >>> 16;\n                d += c >>> 16;\n                bh3 = c & 0xffff | d << 16;\n                bl3 = a & 0xffff | b << 16;\n                ah1 = bh0;\n                ah2 = bh1;\n                ah3 = bh2;\n                ah4 = bh3;\n                ah5 = bh4;\n                ah6 = bh5;\n                ah7 = bh6;\n                ah0 = bh7;\n                al1 = bl0;\n                al2 = bl1;\n                al3 = bl2;\n                al4 = bl3;\n                al5 = bl4;\n                al6 = bl5;\n                al7 = bl6;\n                al0 = bl7;\n                if (i % 16 === 15) {\n                    for(j = 0; j < 16; j++){\n                        // add\n                        h = wh[j];\n                        l = wl[j];\n                        a = l & 0xffff;\n                        b = l >>> 16;\n                        c = h & 0xffff;\n                        d = h >>> 16;\n                        h = wh[(j + 9) % 16];\n                        l = wl[(j + 9) % 16];\n                        a += l & 0xffff;\n                        b += l >>> 16;\n                        c += h & 0xffff;\n                        d += h >>> 16;\n                        // sigma0\n                        th = wh[(j + 1) % 16];\n                        tl = wl[(j + 1) % 16];\n                        h = (th >>> 1 | tl << 32 - 1) ^ (th >>> 8 | tl << 32 - 8) ^ th >>> 7;\n                        l = (tl >>> 1 | th << 32 - 1) ^ (tl >>> 8 | th << 32 - 8) ^ (tl >>> 7 | th << 32 - 7);\n                        a += l & 0xffff;\n                        b += l >>> 16;\n                        c += h & 0xffff;\n                        d += h >>> 16;\n                        // sigma1\n                        th = wh[(j + 14) % 16];\n                        tl = wl[(j + 14) % 16];\n                        h = (th >>> 19 | tl << 32 - 19) ^ (tl >>> 61 - 32 | th << 32 - (61 - 32)) ^ th >>> 6;\n                        l = (tl >>> 19 | th << 32 - 19) ^ (th >>> 61 - 32 | tl << 32 - (61 - 32)) ^ (tl >>> 6 | th << 32 - 6);\n                        a += l & 0xffff;\n                        b += l >>> 16;\n                        c += h & 0xffff;\n                        d += h >>> 16;\n                        b += a >>> 16;\n                        c += b >>> 16;\n                        d += c >>> 16;\n                        wh[j] = c & 0xffff | d << 16;\n                        wl[j] = a & 0xffff | b << 16;\n                    }\n                }\n            }\n            // add\n            h = ah0;\n            l = al0;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[0];\n            l = hl[0];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[0] = ah0 = c & 0xffff | d << 16;\n            hl[0] = al0 = a & 0xffff | b << 16;\n            h = ah1;\n            l = al1;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[1];\n            l = hl[1];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[1] = ah1 = c & 0xffff | d << 16;\n            hl[1] = al1 = a & 0xffff | b << 16;\n            h = ah2;\n            l = al2;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[2];\n            l = hl[2];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[2] = ah2 = c & 0xffff | d << 16;\n            hl[2] = al2 = a & 0xffff | b << 16;\n            h = ah3;\n            l = al3;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[3];\n            l = hl[3];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[3] = ah3 = c & 0xffff | d << 16;\n            hl[3] = al3 = a & 0xffff | b << 16;\n            h = ah4;\n            l = al4;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[4];\n            l = hl[4];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[4] = ah4 = c & 0xffff | d << 16;\n            hl[4] = al4 = a & 0xffff | b << 16;\n            h = ah5;\n            l = al5;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[5];\n            l = hl[5];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[5] = ah5 = c & 0xffff | d << 16;\n            hl[5] = al5 = a & 0xffff | b << 16;\n            h = ah6;\n            l = al6;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[6];\n            l = hl[6];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[6] = ah6 = c & 0xffff | d << 16;\n            hl[6] = al6 = a & 0xffff | b << 16;\n            h = ah7;\n            l = al7;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[7];\n            l = hl[7];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[7] = ah7 = c & 0xffff | d << 16;\n            hl[7] = al7 = a & 0xffff | b << 16;\n            pos += 128;\n            n -= 128;\n        }\n        return n;\n    }\n    function crypto_hash(out, m, n) {\n        var hh = new Int32Array(8), hl = new Int32Array(8), x = new Uint8Array(256), i, b = n;\n        hh[0] = 0x6a09e667;\n        hh[1] = 0xbb67ae85;\n        hh[2] = 0x3c6ef372;\n        hh[3] = 0xa54ff53a;\n        hh[4] = 0x510e527f;\n        hh[5] = 0x9b05688c;\n        hh[6] = 0x1f83d9ab;\n        hh[7] = 0x5be0cd19;\n        hl[0] = 0xf3bcc908;\n        hl[1] = 0x84caa73b;\n        hl[2] = 0xfe94f82b;\n        hl[3] = 0x5f1d36f1;\n        hl[4] = 0xade682d1;\n        hl[5] = 0x2b3e6c1f;\n        hl[6] = 0xfb41bd6b;\n        hl[7] = 0x137e2179;\n        crypto_hashblocks_hl(hh, hl, m, n);\n        n %= 128;\n        for(i = 0; i < n; i++)x[i] = m[b - n + i];\n        x[n] = 128;\n        n = 256 - 128 * (n < 112 ? 1 : 0);\n        x[n - 9] = 0;\n        ts64(x, n - 8, b / 0x20000000 | 0, b << 3);\n        crypto_hashblocks_hl(hh, hl, x, n);\n        for(i = 0; i < 8; i++)ts64(out, 8 * i, hh[i], hl[i]);\n        return 0;\n    }\n    function add(p, q) {\n        var a = gf(), b = gf(), c = gf(), d = gf(), e = gf(), f = gf(), g = gf(), h = gf(), t = gf();\n        Z(a, p[1], p[0]);\n        Z(t, q[1], q[0]);\n        M(a, a, t);\n        A(b, p[0], p[1]);\n        A(t, q[0], q[1]);\n        M(b, b, t);\n        M(c, p[3], q[3]);\n        M(c, c, D2);\n        M(d, p[2], q[2]);\n        A(d, d, d);\n        Z(e, b, a);\n        Z(f, d, c);\n        A(g, d, c);\n        A(h, b, a);\n        M(p[0], e, f);\n        M(p[1], h, g);\n        M(p[2], g, f);\n        M(p[3], e, h);\n    }\n    function cswap(p, q, b) {\n        var i;\n        for(i = 0; i < 4; i++){\n            sel25519(p[i], q[i], b);\n        }\n    }\n    function pack(r, p) {\n        var tx = gf(), ty = gf(), zi = gf();\n        inv25519(zi, p[2]);\n        M(tx, p[0], zi);\n        M(ty, p[1], zi);\n        pack25519(r, ty);\n        r[31] ^= par25519(tx) << 7;\n    }\n    function scalarmult(p, q, s) {\n        var b, i;\n        set25519(p[0], gf0);\n        set25519(p[1], gf1);\n        set25519(p[2], gf1);\n        set25519(p[3], gf0);\n        for(i = 255; i >= 0; --i){\n            b = s[i / 8 | 0] >> (i & 7) & 1;\n            cswap(p, q, b);\n            add(q, p);\n            add(p, p);\n            cswap(p, q, b);\n        }\n    }\n    function scalarbase(p, s) {\n        var q = [\n            gf(),\n            gf(),\n            gf(),\n            gf()\n        ];\n        set25519(q[0], X);\n        set25519(q[1], Y);\n        set25519(q[2], gf1);\n        M(q[3], X, Y);\n        scalarmult(p, q, s);\n    }\n    function crypto_sign_keypair(pk, sk, seeded) {\n        var d = new Uint8Array(64);\n        var p = [\n            gf(),\n            gf(),\n            gf(),\n            gf()\n        ];\n        var i;\n        if (!seeded) randombytes(sk, 32);\n        crypto_hash(d, sk, 32);\n        d[0] &= 248;\n        d[31] &= 127;\n        d[31] |= 64;\n        scalarbase(p, d);\n        pack(pk, p);\n        for(i = 0; i < 32; i++)sk[i + 32] = pk[i];\n        return 0;\n    }\n    var L = new Float64Array([\n        0xed,\n        0xd3,\n        0xf5,\n        0x5c,\n        0x1a,\n        0x63,\n        0x12,\n        0x58,\n        0xd6,\n        0x9c,\n        0xf7,\n        0xa2,\n        0xde,\n        0xf9,\n        0xde,\n        0x14,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0x10\n    ]);\n    function modL(r, x) {\n        var carry, i, j, k;\n        for(i = 63; i >= 32; --i){\n            carry = 0;\n            for(j = i - 32, k = i - 12; j < k; ++j){\n                x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n                carry = Math.floor((x[j] + 128) / 256);\n                x[j] -= carry * 256;\n            }\n            x[j] += carry;\n            x[i] = 0;\n        }\n        carry = 0;\n        for(j = 0; j < 32; j++){\n            x[j] += carry - (x[31] >> 4) * L[j];\n            carry = x[j] >> 8;\n            x[j] &= 255;\n        }\n        for(j = 0; j < 32; j++)x[j] -= carry * L[j];\n        for(i = 0; i < 32; i++){\n            x[i + 1] += x[i] >> 8;\n            r[i] = x[i] & 255;\n        }\n    }\n    function reduce(r) {\n        var x = new Float64Array(64), i;\n        for(i = 0; i < 64; i++)x[i] = r[i];\n        for(i = 0; i < 64; i++)r[i] = 0;\n        modL(r, x);\n    }\n    // Note: difference from C - smlen returned, not passed as argument.\n    function crypto_sign(sm, m, n, sk) {\n        var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n        var i, j, x = new Float64Array(64);\n        var p = [\n            gf(),\n            gf(),\n            gf(),\n            gf()\n        ];\n        crypto_hash(d, sk, 32);\n        d[0] &= 248;\n        d[31] &= 127;\n        d[31] |= 64;\n        var smlen = n + 64;\n        for(i = 0; i < n; i++)sm[64 + i] = m[i];\n        for(i = 0; i < 32; i++)sm[32 + i] = d[32 + i];\n        crypto_hash(r, sm.subarray(32), n + 32);\n        reduce(r);\n        scalarbase(p, r);\n        pack(sm, p);\n        for(i = 32; i < 64; i++)sm[i] = sk[i];\n        crypto_hash(h, sm, n + 64);\n        reduce(h);\n        for(i = 0; i < 64; i++)x[i] = 0;\n        for(i = 0; i < 32; i++)x[i] = r[i];\n        for(i = 0; i < 32; i++){\n            for(j = 0; j < 32; j++){\n                x[i + j] += h[i] * d[j];\n            }\n        }\n        modL(sm.subarray(32), x);\n        return smlen;\n    }\n    function unpackneg(r, p) {\n        var t = gf(), chk = gf(), num = gf(), den = gf(), den2 = gf(), den4 = gf(), den6 = gf();\n        set25519(r[2], gf1);\n        unpack25519(r[1], p);\n        S(num, r[1]);\n        M(den, num, D);\n        Z(num, num, r[2]);\n        A(den, r[2], den);\n        S(den2, den);\n        S(den4, den2);\n        M(den6, den4, den2);\n        M(t, den6, num);\n        M(t, t, den);\n        pow2523(t, t);\n        M(t, t, num);\n        M(t, t, den);\n        M(t, t, den);\n        M(r[0], t, den);\n        S(chk, r[0]);\n        M(chk, chk, den);\n        if (neq25519(chk, num)) M(r[0], r[0], I);\n        S(chk, r[0]);\n        M(chk, chk, den);\n        if (neq25519(chk, num)) return -1;\n        if (par25519(r[0]) === p[31] >> 7) Z(r[0], gf0, r[0]);\n        M(r[3], r[0], r[1]);\n        return 0;\n    }\n    function crypto_sign_open(m, sm, n, pk) {\n        var i;\n        var t = new Uint8Array(32), h = new Uint8Array(64);\n        var p = [\n            gf(),\n            gf(),\n            gf(),\n            gf()\n        ], q = [\n            gf(),\n            gf(),\n            gf(),\n            gf()\n        ];\n        if (n < 64) return -1;\n        if (unpackneg(q, pk)) return -1;\n        for(i = 0; i < n; i++)m[i] = sm[i];\n        for(i = 0; i < 32; i++)m[i + 32] = pk[i];\n        crypto_hash(h, m, n);\n        reduce(h);\n        scalarmult(p, q, h);\n        scalarbase(q, sm.subarray(32));\n        add(p, q);\n        pack(t, p);\n        n -= 64;\n        if (crypto_verify_32(sm, 0, t, 0)) {\n            for(i = 0; i < n; i++)m[i] = 0;\n            return -1;\n        }\n        for(i = 0; i < n; i++)m[i] = sm[i + 64];\n        return n;\n    }\n    var crypto_secretbox_KEYBYTES = 32, crypto_secretbox_NONCEBYTES = 24, crypto_secretbox_ZEROBYTES = 32, crypto_secretbox_BOXZEROBYTES = 16, crypto_scalarmult_BYTES = 32, crypto_scalarmult_SCALARBYTES = 32, crypto_box_PUBLICKEYBYTES = 32, crypto_box_SECRETKEYBYTES = 32, crypto_box_BEFORENMBYTES = 32, crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES, crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES, crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES, crypto_sign_BYTES = 64, crypto_sign_PUBLICKEYBYTES = 32, crypto_sign_SECRETKEYBYTES = 64, crypto_sign_SEEDBYTES = 32, crypto_hash_BYTES = 64;\n    nacl.lowlevel = {\n        crypto_core_hsalsa20: crypto_core_hsalsa20,\n        crypto_stream_xor: crypto_stream_xor,\n        crypto_stream: crypto_stream,\n        crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n        crypto_stream_salsa20: crypto_stream_salsa20,\n        crypto_onetimeauth: crypto_onetimeauth,\n        crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n        crypto_verify_16: crypto_verify_16,\n        crypto_verify_32: crypto_verify_32,\n        crypto_secretbox: crypto_secretbox,\n        crypto_secretbox_open: crypto_secretbox_open,\n        crypto_scalarmult: crypto_scalarmult,\n        crypto_scalarmult_base: crypto_scalarmult_base,\n        crypto_box_beforenm: crypto_box_beforenm,\n        crypto_box_afternm: crypto_box_afternm,\n        crypto_box: crypto_box,\n        crypto_box_open: crypto_box_open,\n        crypto_box_keypair: crypto_box_keypair,\n        crypto_hash: crypto_hash,\n        crypto_sign: crypto_sign,\n        crypto_sign_keypair: crypto_sign_keypair,\n        crypto_sign_open: crypto_sign_open,\n        crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n        crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n        crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n        crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n        crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n        crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n        crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n        crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n        crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n        crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n        crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n        crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n        crypto_sign_BYTES: crypto_sign_BYTES,\n        crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n        crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n        crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n        crypto_hash_BYTES: crypto_hash_BYTES,\n        gf: gf,\n        D: D,\n        L: L,\n        pack: pack,\n        pack25519: pack25519,\n        unpack25519: unpack25519,\n        M: M,\n        A: A,\n        S: S,\n        Z: Z,\n        pow2523: pow2523,\n        add: add,\n        set25519: set25519,\n        modL: modL,\n        scalarmult: scalarmult,\n        scalarbase: scalarbase\n    };\n    /* High-level API */ function checkLengths(k, n) {\n        if (k.length !== crypto_secretbox_KEYBYTES) throw new Error(\"bad key size\");\n        if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error(\"bad nonce size\");\n    }\n    function checkBoxLengths(pk, sk) {\n        if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error(\"bad public key size\");\n        if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error(\"bad secret key size\");\n    }\n    function checkArrayTypes() {\n        for(var i = 0; i < arguments.length; i++){\n            if (!(arguments[i] instanceof Uint8Array)) throw new TypeError(\"unexpected type, use Uint8Array\");\n        }\n    }\n    function cleanup(arr) {\n        for(var i = 0; i < arr.length; i++)arr[i] = 0;\n    }\n    nacl.randomBytes = function(n) {\n        var b = new Uint8Array(n);\n        randombytes(b, n);\n        return b;\n    };\n    nacl.secretbox = function(msg, nonce, key) {\n        checkArrayTypes(msg, nonce, key);\n        checkLengths(key, nonce);\n        var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n        var c = new Uint8Array(m.length);\n        for(var i = 0; i < msg.length; i++)m[i + crypto_secretbox_ZEROBYTES] = msg[i];\n        crypto_secretbox(c, m, m.length, nonce, key);\n        return c.subarray(crypto_secretbox_BOXZEROBYTES);\n    };\n    nacl.secretbox.open = function(box, nonce, key) {\n        checkArrayTypes(box, nonce, key);\n        checkLengths(key, nonce);\n        var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n        var m = new Uint8Array(c.length);\n        for(var i = 0; i < box.length; i++)c[i + crypto_secretbox_BOXZEROBYTES] = box[i];\n        if (c.length < 32) return null;\n        if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n        return m.subarray(crypto_secretbox_ZEROBYTES);\n    };\n    nacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\n    nacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\n    nacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n    nacl.scalarMult = function(n, p) {\n        checkArrayTypes(n, p);\n        if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error(\"bad n size\");\n        if (p.length !== crypto_scalarmult_BYTES) throw new Error(\"bad p size\");\n        var q = new Uint8Array(crypto_scalarmult_BYTES);\n        crypto_scalarmult(q, n, p);\n        return q;\n    };\n    nacl.scalarMult.base = function(n) {\n        checkArrayTypes(n);\n        if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error(\"bad n size\");\n        var q = new Uint8Array(crypto_scalarmult_BYTES);\n        crypto_scalarmult_base(q, n);\n        return q;\n    };\n    nacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\n    nacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n    nacl.box = function(msg, nonce, publicKey, secretKey) {\n        var k = nacl.box.before(publicKey, secretKey);\n        return nacl.secretbox(msg, nonce, k);\n    };\n    nacl.box.before = function(publicKey, secretKey) {\n        checkArrayTypes(publicKey, secretKey);\n        checkBoxLengths(publicKey, secretKey);\n        var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n        crypto_box_beforenm(k, publicKey, secretKey);\n        return k;\n    };\n    nacl.box.after = nacl.secretbox;\n    nacl.box.open = function(msg, nonce, publicKey, secretKey) {\n        var k = nacl.box.before(publicKey, secretKey);\n        return nacl.secretbox.open(msg, nonce, k);\n    };\n    nacl.box.open.after = nacl.secretbox.open;\n    nacl.box.keyPair = function() {\n        var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n        var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n        crypto_box_keypair(pk, sk);\n        return {\n            publicKey: pk,\n            secretKey: sk\n        };\n    };\n    nacl.box.keyPair.fromSecretKey = function(secretKey) {\n        checkArrayTypes(secretKey);\n        if (secretKey.length !== crypto_box_SECRETKEYBYTES) throw new Error(\"bad secret key size\");\n        var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n        crypto_scalarmult_base(pk, secretKey);\n        return {\n            publicKey: pk,\n            secretKey: new Uint8Array(secretKey)\n        };\n    };\n    nacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\n    nacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\n    nacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\n    nacl.box.nonceLength = crypto_box_NONCEBYTES;\n    nacl.box.overheadLength = nacl.secretbox.overheadLength;\n    nacl.sign = function(msg, secretKey) {\n        checkArrayTypes(msg, secretKey);\n        if (secretKey.length !== crypto_sign_SECRETKEYBYTES) throw new Error(\"bad secret key size\");\n        var signedMsg = new Uint8Array(crypto_sign_BYTES + msg.length);\n        crypto_sign(signedMsg, msg, msg.length, secretKey);\n        return signedMsg;\n    };\n    nacl.sign.open = function(signedMsg, publicKey) {\n        checkArrayTypes(signedMsg, publicKey);\n        if (publicKey.length !== crypto_sign_PUBLICKEYBYTES) throw new Error(\"bad public key size\");\n        var tmp = new Uint8Array(signedMsg.length);\n        var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n        if (mlen < 0) return null;\n        var m = new Uint8Array(mlen);\n        for(var i = 0; i < m.length; i++)m[i] = tmp[i];\n        return m;\n    };\n    nacl.sign.detached = function(msg, secretKey) {\n        var signedMsg = nacl.sign(msg, secretKey);\n        var sig = new Uint8Array(crypto_sign_BYTES);\n        for(var i = 0; i < sig.length; i++)sig[i] = signedMsg[i];\n        return sig;\n    };\n    nacl.sign.detached.verify = function(msg, sig, publicKey) {\n        checkArrayTypes(msg, sig, publicKey);\n        if (sig.length !== crypto_sign_BYTES) throw new Error(\"bad signature size\");\n        if (publicKey.length !== crypto_sign_PUBLICKEYBYTES) throw new Error(\"bad public key size\");\n        var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n        var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n        var i;\n        for(i = 0; i < crypto_sign_BYTES; i++)sm[i] = sig[i];\n        for(i = 0; i < msg.length; i++)sm[i + crypto_sign_BYTES] = msg[i];\n        return crypto_sign_open(m, sm, sm.length, publicKey) >= 0;\n    };\n    nacl.sign.keyPair = function() {\n        var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n        var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n        crypto_sign_keypair(pk, sk);\n        return {\n            publicKey: pk,\n            secretKey: sk\n        };\n    };\n    nacl.sign.keyPair.fromSecretKey = function(secretKey) {\n        checkArrayTypes(secretKey);\n        if (secretKey.length !== crypto_sign_SECRETKEYBYTES) throw new Error(\"bad secret key size\");\n        var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n        for(var i = 0; i < pk.length; i++)pk[i] = secretKey[32 + i];\n        return {\n            publicKey: pk,\n            secretKey: new Uint8Array(secretKey)\n        };\n    };\n    nacl.sign.keyPair.fromSeed = function(seed) {\n        checkArrayTypes(seed);\n        if (seed.length !== crypto_sign_SEEDBYTES) throw new Error(\"bad seed size\");\n        var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n        var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n        for(var i = 0; i < 32; i++)sk[i] = seed[i];\n        crypto_sign_keypair(pk, sk, true);\n        return {\n            publicKey: pk,\n            secretKey: sk\n        };\n    };\n    nacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\n    nacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\n    nacl.sign.seedLength = crypto_sign_SEEDBYTES;\n    nacl.sign.signatureLength = crypto_sign_BYTES;\n    nacl.hash = function(msg) {\n        checkArrayTypes(msg);\n        var h = new Uint8Array(crypto_hash_BYTES);\n        crypto_hash(h, msg, msg.length);\n        return h;\n    };\n    nacl.hash.hashLength = crypto_hash_BYTES;\n    nacl.verify = function(x, y) {\n        checkArrayTypes(x, y);\n        // Zero length arguments are considered not equal.\n        if (x.length === 0 || y.length === 0) return false;\n        if (x.length !== y.length) return false;\n        return vn(x, 0, y, 0, x.length) === 0 ? true : false;\n    };\n    nacl.setPRNG = function(fn) {\n        randombytes = fn;\n    };\n    (function() {\n        // Initialize PRNG if environment provides CSPRNG.\n        // If not, methods calling randombytes will throw.\n        var crypto = typeof self !== \"undefined\" ? self.crypto || self.msCrypto : null;\n        if (crypto && crypto.getRandomValues) {\n            // Browsers.\n            var QUOTA = 65536;\n            nacl.setPRNG(function(x, n) {\n                var i, v = new Uint8Array(n);\n                for(i = 0; i < n; i += QUOTA){\n                    crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n                }\n                for(i = 0; i < n; i++)x[i] = v[i];\n                cleanup(v);\n            });\n        } else if (true) {\n            // Node.js.\n            crypto = __webpack_require__(/*! crypto */ \"crypto\");\n            if (crypto && crypto.randomBytes) {\n                nacl.setPRNG(function(x, n) {\n                    var i, v = crypto.randomBytes(n);\n                    for(i = 0; i < n; i++)x[i] = v[i];\n                    cleanup(v);\n                });\n            }\n        }\n    })();\n})( true && module.exports ? module.exports : self.nacl = self.nacl || {});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy90d2VldG5hY2wtanMvbmFjbC1mYXN0LmpzIiwibWFwcGluZ3MiOiJBQUFDLFVBQVNBLElBQUk7SUFDZDtJQUVBLHVEQUF1RDtJQUN2RCxpQkFBaUI7SUFDakIsRUFBRTtJQUNGLDBEQUEwRDtJQUMxRCw4Q0FBOEM7SUFFOUMsSUFBSUMsS0FBSyxTQUFTQyxJQUFJO1FBQ3BCLElBQUlDLEdBQUdDLElBQUksSUFBSUMsYUFBYTtRQUM1QixJQUFJSCxNQUFNLElBQUtDLElBQUksR0FBR0EsSUFBSUQsS0FBS0ksTUFBTSxFQUFFSCxJQUFLQyxDQUFDLENBQUNELEVBQUUsR0FBR0QsSUFBSSxDQUFDQyxFQUFFO1FBQzFELE9BQU9DO0lBQ1Q7SUFFQSxtREFBbUQ7SUFDbkQsSUFBSUcsY0FBYztRQUF1QixNQUFNLElBQUlDLE1BQU07SUFBWTtJQUVyRSxJQUFJQyxLQUFLLElBQUlDLFdBQVc7SUFDeEIsSUFBSUMsS0FBSyxJQUFJRCxXQUFXO0lBQUtDLEVBQUUsQ0FBQyxFQUFFLEdBQUc7SUFFckMsSUFBSUMsTUFBTVgsTUFDTlksTUFBTVosR0FBRztRQUFDO0tBQUUsR0FDWmEsVUFBVWIsR0FBRztRQUFDO1FBQVE7S0FBRSxHQUN4QmMsSUFBSWQsR0FBRztRQUFDO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO0tBQU8sR0FDdkllLEtBQUtmLEdBQUc7UUFBQztRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtLQUFPLEdBQ3hJZ0IsSUFBSWhCLEdBQUc7UUFBQztRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtLQUFPLEdBQ3ZJaUIsSUFBSWpCLEdBQUc7UUFBQztRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtLQUFPLEdBQ3ZJa0IsSUFBSWxCLEdBQUc7UUFBQztRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtRQUFRO1FBQVE7UUFBUTtLQUFPO0lBRTNJLFNBQVNtQixLQUFLQyxDQUFDLEVBQUVsQixDQUFDLEVBQUVtQixDQUFDLEVBQUVDLENBQUM7UUFDdEJGLENBQUMsQ0FBQ2xCLEVBQUUsR0FBSyxLQUFNLEtBQU07UUFDckJrQixDQUFDLENBQUNsQixJQUFFLEVBQUUsR0FBRyxLQUFNLEtBQU07UUFDckJrQixDQUFDLENBQUNsQixJQUFFLEVBQUUsR0FBRyxLQUFPLElBQUs7UUFDckJrQixDQUFDLENBQUNsQixJQUFFLEVBQUUsR0FBR21CLElBQUk7UUFDYkQsQ0FBQyxDQUFDbEIsSUFBRSxFQUFFLEdBQUcsS0FBTSxLQUFPO1FBQ3RCa0IsQ0FBQyxDQUFDbEIsSUFBRSxFQUFFLEdBQUcsS0FBTSxLQUFPO1FBQ3RCa0IsQ0FBQyxDQUFDbEIsSUFBRSxFQUFFLEdBQUcsS0FBTyxJQUFNO1FBQ3RCa0IsQ0FBQyxDQUFDbEIsSUFBRSxFQUFFLEdBQUdvQixJQUFJO0lBQ2Y7SUFFQSxTQUFTQyxHQUFHSCxDQUFDLEVBQUVJLEVBQUUsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFLEVBQUVDLENBQUM7UUFDekIsSUFBSXpCLEdBQUUwQixJQUFJO1FBQ1YsSUFBSzFCLElBQUksR0FBR0EsSUFBSXlCLEdBQUd6QixJQUFLMEIsS0FBS1IsQ0FBQyxDQUFDSSxLQUFHdEIsRUFBRSxHQUFDdUIsQ0FBQyxDQUFDQyxLQUFHeEIsRUFBRTtRQUM1QyxPQUFPLENBQUMsSUFBSyxJQUFLLE1BQU8sQ0FBQyxJQUFLO0lBQ2pDO0lBRUEsU0FBUzJCLGlCQUFpQlQsQ0FBQyxFQUFFSSxFQUFFLEVBQUVDLENBQUMsRUFBRUMsRUFBRTtRQUNwQyxPQUFPSCxHQUFHSCxHQUFFSSxJQUFHQyxHQUFFQyxJQUFHO0lBQ3RCO0lBRUEsU0FBU0ksaUJBQWlCVixDQUFDLEVBQUVJLEVBQUUsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFO1FBQ3BDLE9BQU9ILEdBQUdILEdBQUVJLElBQUdDLEdBQUVDLElBQUc7SUFDdEI7SUFFQSxTQUFTSyxhQUFhQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDO1FBQzlCLElBQUlDLEtBQU1ELENBQUMsQ0FBRSxFQUFFLEdBQUcsT0FBTyxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxJQUFJLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLEtBQUssQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFDOUVFLEtBQU1ILENBQUMsQ0FBRSxFQUFFLEdBQUcsT0FBTyxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxJQUFJLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLEtBQUssQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFDOUVJLEtBQU1KLENBQUMsQ0FBRSxFQUFFLEdBQUcsT0FBTyxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxJQUFJLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLEtBQUssQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFDOUVLLEtBQU1MLENBQUMsQ0FBRSxFQUFFLEdBQUcsT0FBTyxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxJQUFJLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBRyxLQUFJLEtBQUssQ0FBQ0EsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFHLEtBQUksSUFDOUVNLEtBQU1OLENBQUMsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDQSxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBSSxJQUFJLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBRyxLQUFJLEtBQUssQ0FBQ0EsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFHLEtBQUksSUFDOUVPLEtBQU1OLENBQUMsQ0FBRSxFQUFFLEdBQUcsT0FBTyxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxJQUFJLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLEtBQUssQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFDOUVPLEtBQU1ULENBQUMsQ0FBRSxFQUFFLEdBQUcsT0FBTyxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxJQUFJLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLEtBQUssQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFDOUVVLEtBQU1WLENBQUMsQ0FBRSxFQUFFLEdBQUcsT0FBTyxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxJQUFJLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLEtBQUssQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFDOUVXLEtBQU1YLENBQUMsQ0FBRSxFQUFFLEdBQUcsT0FBTyxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxJQUFJLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBRyxLQUFJLEtBQUssQ0FBQ0EsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFHLEtBQUksSUFDOUVZLEtBQU1aLENBQUMsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDQSxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBSSxJQUFJLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBRyxLQUFJLEtBQUssQ0FBQ0EsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFHLEtBQUksSUFDOUVhLE1BQU1YLENBQUMsQ0FBRSxFQUFFLEdB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RyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLElBQzlFSSxLQUFNSixDQUFDLENBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLElBQzlFSyxLQUFNTCxDQUFDLENBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBRyxLQUFJLElBQzlFTSxLQUFNTixDQUFDLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBRyxLQUFJLElBQzlFTyxLQUFNTixDQUFDLENBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLElBQzlFTyxLQUFNVCxDQUFDLENBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLElBQzlFVSxLQUFNVixDQUFDLENBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUUsRUFBRSxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBRSxFQUFFLEdBQUcsSUFBRyxLQUFJLElBQzlFVyxLQUFNWCxDQUFDLENBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBRyxLQUFJLElBQzlFWSxLQUFNWixDQUFDLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBRyxLQUFJLElBQzlFYSxNQUFNWCxDQUFDLENBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFFLEVBQUUsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBRyxLQUFJLElBQzlFWSxNQUFNYixDQUFDLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBRyxLQUFJLElBQzlFYyxNQUFNZCxDQUFDLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQ0EsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFHLEtBQUksSUFBSSxDQUFDQSxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBSSxLQUFLLENBQUNBLENBQUMsQ0FBQyxHQUFHLEdBQUcs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QUksQ0FBQ3VGLEdBQUcsQ0FBQyxFQUFFLEdBQUdILEdBQUcsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDQSxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBTTtRQUNuRCxJQUFJLENBQUNHLEdBQUcsQ0FBQyxFQUFFLEdBQUdILEdBQUcsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDQSxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBTTtRQUNuRCxJQUFJLENBQUNHLEdBQUcsQ0FBQyxFQUFFLEdBQUdILEdBQUcsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDQSxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBTTtRQUNuRCxJQUFJLENBQUNHLEdBQUcsQ0FBQyxFQUFFLEdBQUdILEdBQUcsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDQSxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBTTtRQUNuRCxJQUFJLENBQUNHLEdBQUcsQ0FBQyxFQUFFLEdBQUdILEdBQUcsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDQSxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBTTtRQUNuRCxJQUFJLENBQUNHLEdBQUcsQ0FBQyxFQUFFLEdBQUdILEdBQUcsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDQSxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBTTtRQUNuRCxJQUFJLENBQUNHLEdBQUcsQ0FBQyxFQUFFLEdBQUdILEdBQUcsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDQSxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBTTtRQUNuRCxJQUFJLENBQUNHLEdBQUcsQ0FBQyxFQUFFLEdBQUdILEdBQUcsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDQSxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUcsS0FBTTtJQUNyRDtJQUVBRCxTQUFTZSxTQUFTLENBQUNDLE1BQU0sR0FBRyxTQUFTekIsQ0FBQyxFQUFFQyxJQUFJLEVBQUV5QixLQUFLO1FBQ2pELElBQUlDLFFBQVEsSUFBSSxDQUFDWixHQUFHLEdBQUcsSUFBSyxLQUFLO1FBQ2pDLElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlDLElBQUlqRTtRQUNwQyxJQUFJc0UsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUMsSUFBSUM7UUFFeEMsSUFBSUMsS0FBSyxJQUFJLENBQUM5RixDQUFDLENBQUMsRUFBRSxFQUNkK0YsS0FBSyxJQUFJLENBQUMvRixDQUFDLENBQUMsRUFBRSxFQUNkZ0csS0FBSyxJQUFJLENBQUNoRyxDQUFDLENBQUMsRUFBRSxFQUNkaUcsS0FBSyxJQUFJLENBQUNqRyxDQUFDLENBQUMsRUFBRSxFQUNka0csS0FBSyxJQUFJLENBQUNsRyxDQUFDLENBQUMsRUFBRSxFQUNkbUcsS0FBSyxJQUFJLENBQUNuRyxDQUFDLENBQUMsRUFBRSxFQUNkb0csS0FBSyxJQUFJLENBQUNwRyxDQUFDLENBQUMsRUFBRSxFQUNkcUcsS0FBSyxJQUFJLENBQUNyRyxDQUFDLENBQUMsRUFBRSxFQUNkc0csS0FBSyxJQUFJLENBQUN0RyxDQUFDLENBQUMsRUFBRSxFQUNkdUcsS0FBSyxJQUFJLENBQUN2RyxDQUFDLENBQUMsRUFBRTtRQUVsQixJQUFJd0csS0FBSyxJQUFJLENBQUMxSCxDQUFDLENBQUMsRUFBRSxFQUNkMkgsS0FBSyxJQUFJLENBQUMzSCxDQUFDLENBQUMsRUFBRSxFQUNkNEgsS0FBSyxJQUFJLENBQUM1SCxDQUFDLENBQUMsRUFBRSxFQUNkNkgsS0FBSyxJQUFJLENBQUM3SCxDQUFDLENBQUMsRUFBRSxFQUNkOEgsS0FBSyxJQUFJLENBQUM5SCxDQUFDLENBQUMsRUFBRSxFQUNkK0gsS0FBSyxJQUFJLENBQUMvSCxDQUFDLENBQUMsRUFBRSxFQUNkZ0ksS0FBSyxJQUFJLENBQUNoSSxDQUFDLENBQUMsRUFBRSxFQUNkaUksS0FBSyxJQUFJLENBQUNqSSxDQUFDLENBQUMsRUFBRSxFQUNka0ksS0FBSyxJQUFJLENBQUNsSSxDQUFDLENBQUMsRUFBRSxFQUNkbUksS0FBSyxJQUFJLENBQUNuSSxDQUFDLENBQUMsRUFBRTtRQUVsQixNQUFPb0csU0FBUyxHQUFJO1lBQ2xCVixLQUFLaEIsQ0FBQyxDQUFDQyxPQUFNLEVBQUUsR0FBRyxPQUFPLENBQUNELENBQUMsQ0FBQ0MsT0FBTSxFQUFFLEdBQUcsSUFBRyxLQUFNO1lBQUdxQyxNQUFNLEtBQTZCO1lBQ3RGckIsS0FBS2pCLENBQUMsQ0FBQ0MsT0FBTSxFQUFFLEdBQUcsT0FBTyxDQUFDRCxDQUFDLENBQUNDLE9BQU0sRUFBRSxHQUFHLElBQUcsS0FBTTtZQUFHc0MsTUFBTSxDQUFDLE9BQVEsS0FBT3RCLE1BQU8sQ0FBQyxJQUFLO1lBQ3RGQyxLQUFLbEIsQ0FBQyxDQUFDQyxPQUFNLEVBQUUsR0FBRyxPQUFPLENBQUNELENBQUMsQ0FBQ0MsT0FBTSxFQUFFLEdBQUcsSUFBRyxLQUFNO1lBQUd1QyxNQUFNLENBQUMsT0FBUSxLQUFPdEIsTUFBTyxDQUFDLElBQUs7WUFDdEZDLEtBQUtuQixDQUFDLENBQUNDLE9BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQ0QsQ0FBQyxDQUFDQyxPQUFNLEVBQUUsR0FBRyxJQUFHLEtBQU07WUFBR3dDLE1BQU0sQ0FBQyxPQUFTLElBQU10QixNQUFPLENBQUMsSUFBSztZQUN0RkMsS0FBS3BCLENBQUMsQ0FBQ0MsT0FBTSxFQUFFLEdBQUcsT0FBTyxDQUFDRCxDQUFDLENBQUNDLE9BQU0sRUFBRSxHQUFHLElBQUcsS0FBTTtZQUFHeUMsTUFBTSxDQUFDLE9BQVMsSUFBTXRCLE1BQU0sRUFBRSxJQUFLO1lBQ3RGdUIsTUFBTSxPQUFVLElBQU07WUFDdEJ0QixLQUFLckIsQ0FBQyxDQUFDQyxPQUFLLEdBQUcsR0FBRyxPQUFPLENBQUNELENBQUMsQ0FBQ0MsT0FBSyxHQUFHLEdBQUcsSUFBRyxLQUFNO1lBQUcyQyxNQUFNLENBQUMsT0FBUSxLQUFPdkIsTUFBTyxDQUFDLElBQUs7WUFDdEZDLEtBQUt0QixDQUFDLENBQUNDLE9BQUssR0FBRyxHQUFHLE9BQU8sQ0FBQ0QsQ0FBQyxDQUFDQyxPQUFLLEdBQUcsR0FBRyxJQUFHLEtBQU07WUFBRzRDLE1BQU0sQ0FBQyxPQUFRLEtBQU92QixNQUFPLENBQUMsSUFBSztZQUN0RkMsS0FBS3ZCLENBQUMsQ0FBQ0MsT0FBSyxHQUFHLEdBQUcsT0FBTyxDQUFDRCxDQUFDLENBQUNDLE9BQUssR0FBRyxHQUFHLElBQUcsS0FBTTtZQUFHNkMsTUFBTSxDQUFDLE9BQVMsSUFBTXZCLE1BQU8sQ0FBQyxJQUFLO1lBQ3RGd0IsTUFBTSxPQUFTLElBQU1wQjtZQUVyQnJFLElBQUk7WUFFSnNFLEtBQUt0RTtZQUNMc0UsTUFBTVUsS0FBS1U7WUFDWHBCLE1BQU1XLEtBQU0sS0FBSWtCLEVBQUM7WUFDakI3QixNQUFNWSxLQUFNLEtBQUlnQixFQUFDO1lBQ2pCNUIsTUFBTWEsS0FBTSxLQUFJYyxFQUFDO1lBQ2pCM0IsTUFBTWMsS0FBTSxLQUFJWSxFQUFDO1lBQ2pCaEcsSUFBS3NFLE9BQU87WUFBS0EsTUFBTTtZQUN2QkEsTUFBTWUsS0FBTSxLQUFJVSxFQUFDO1lBQ2pCekIsTUFBTWdCLEtBQU0sS0FBSVEsRUFBQztZQUNqQnhCLE1BQU1pQixLQUFNLEtBQUlNLEVBQUM7WUFDakJ2QixNQUFNa0IsS0FBTSxLQUFJSSxFQUFDO1lBQ2pCdEIsTUFBTW1CLEtBQU0sS0FBSUUsRUFBQztZQUNqQjNGLEtBQU1zRSxPQUFPO1lBQUtBLE1BQU07WUFFeEJDLEtBQUt2RTtZQUNMdUUsTUFBTVMsS0FBS1c7WUFDWHBCLE1BQU1VLEtBQUtTO1lBQ1huQixNQUFNVyxLQUFNLEtBQUlpQixFQUFDO1lBQ2pCNUIsTUFBTVksS0FBTSxLQUFJZSxFQUFDO1lBQ2pCM0IsTUFBTWEsS0FBTSxLQUFJYSxFQUFDO1lBQ2pCakcsSUFBS3VFLE9BQU87WUFBS0EsTUFBTTtZQUN2QkEsTUFBTWMsS0FBTSxLQUFJVyxFQUFDO1lBQ2pCekIsTUFBTWUsS0FBTSxLQUFJUyxFQUFDO1lBQ2pCeEIsTUFBTWdCLEtBQU0sS0FBSU8sRUFBQztZQUNqQnZCLE1BQU1pQixLQUFNLEtBQUlLLEVBQUM7WUFDakJ0QixNQUFNa0IsS0FBTSxLQUFJRyxFQUFDO1lBQ2pCNUYsS0FBTXVFLE9BQU87WUFBS0EsTUFBTTtZQUV4QkMsS0FBS3hFO1lBQ0x3RSxNQUFNUSxLQUFLWTtZQUNYcEIsTUFBTVMsS0FBS1U7WUFDWG5CLE1BQU1VLEtBQUtRO1lBQ1hsQixNQUFNVyxLQUFNLEtBQUlnQixFQUFDO1lBQ2pCM0IsTUFBTVksS0FBTSxLQUFJYyxFQUFDO1lBQ2pCbEcsSUFBS3dFLE9BQU87WUFBS0EsTUFBTTtZQUN2QkEsTUFBTWEsS0FBTSxLQUFJWSxFQUFDO1lBQ2pCekIsTUFBTWMsS0FBTSxLQUFJVSxFQUFDO1lBQ2pCeEIsTUFBTWUsS0FBTSxLQUFJUSxFQUFDO1lBQ2pCdkIsTUFBTWdCLEtBQU0sS0FBSU0sRUFBQztZQUNqQnRCLE1BQU1pQixLQUFNLEtBQUlJLEVBQUM7WUFDakI3RixLQUFNd0UsT0FBTztZQUFLQSxNQUFNO1lBRXhCQyxLQUFLekU7WUFDTHlFLE1BQU1PLEtBQUthO1lBQ1hwQixNQUFNUSxLQUFLVztZQUNYbkIsTUFBTVMsS0FBS1M7WUFDWGxCLE1BQU1VLEtBQUtPO1lBQ1hqQixNQUFNVyxLQUFNLEtBQUllLEVBQUM7WUFDakJuRyxJQUFLeUUsT0FBTztZQUFLQSxNQUFNO1lBQ3ZCQSxNQUFNWSxLQUFNLEtBQUlhLEVBQUM7WUFDakJ6QixNQUFNYSxLQUFNLEtBQUlXLEVBQUM7WUFDakJ4QixNQUFNYyxLQUFNLEtBQUlTLEVBQUM7WUFDakJ2QixNQUFNZSxLQUFNLEtBQUlPLEVBQUM7WUFDakJ0QixNQUFNZ0IsS0FBTSxLQUFJSyxFQUFDO1lBQ2pCOUYsS0FBTXlFLE9BQU87WUFBS0EsTUFBTTtZQUV4QkMsS0FBSzFFO1lBQ0wwRSxNQUFNTSxLQUFLYztZQUNYcEIsTUFBTU8sS0FBS1k7WUFDWG5CLE1BQU1RLEtBQUtVO1lBQ1hsQixNQUFNUyxLQUFLUTtZQUNYakIsTUFBTVUsS0FBS007WUFDWDFGLElBQUswRSxPQUFPO1lBQUtBLE1BQU07WUFDdkJBLE1BQU1XLEtBQU0sS0FBSWMsRUFBQztZQUNqQnpCLE1BQU1ZLEtBQU0sS0FBSVksRUFBQztZQUNqQnhCLE1BQU1hLEtBQU0sS0FBSVUsRUFBQztZQUNqQnZCLE1BQU1jLEtBQU0sS0FBSVEsRUFBQztZQUNqQnRCLE1BQU1lLEtBQU0sS0FBSU0sRUFBQztZQUNqQi9GLEtBQU0wRSxPQUFPO1lBQUtBLE1BQU07WUFFeEJDLEtBQUszRTtZQUNMMkUsTUFBTUssS0FBS2U7WUFDWHBCLE1BQU1NLEtBQUthO1lBQ1huQixNQUFNTyxLQUFLVztZQUNYbEIsTUFBTVEsS0FBS1M7WUFDWGpCLE1BQU1TLEtBQUtPO1lBQ1gzRixJQUFLMkUsT0FBTztZQUFLQSxNQUFNO1lBQ3ZCQSxNQUFNVSxLQUFLSztZQUNYZixNQUFNVyxLQUFNLEtBQUlhLEVBQUM7WUFDakJ4QixNQUFNWSxLQUFNLEtBQUlXLEVBQUM7WUFDakJ2QixNQUFNYSxLQUFNLEtBQUlTLEVBQUM7WUFDakJ0QixNQUFNYyxLQUFNLEtBQUlPLEVBQUM7WUFDakJoRyxLQUFNMkUsT0FBTztZQUFLQSxNQUFNO1lBRXhCQyxLQUFLNUU7WUFDTDRFLE1BQU1JLEtBQUtnQjtZQUNYcEIsTUFBTUssS0FBS2M7WUFDWG5CLE1BQU1NLEtBQUtZO1lBQ1hsQixNQUFNTyxLQUFLVTtZQUNYakIsTUFBTVEsS0FBS1E7WUFDWDVGLElBQUs0RSxPQUFPO1lBQUtBLE1BQU07WUFDdkJBLE1BQU1TLEtBQUtNO1lBQ1hmLE1BQU1VLEtBQUtJO1lBQ1hkLE1BQU1XLEtBQU0sS0FBSVksRUFBQztZQUNqQnZCLE1BQU1ZLEtBQU0sS0FBSVUsRUFBQztZQUNqQnRCLE1BQU1hLEtBQU0sS0FBSVEsRUFBQztZQUNqQmpHLEtBQU00RSxPQUFPO1lBQUtBLE1BQU07WUFFeEJDLEtBQUs3RTtZQUNMNkUsTUFBTUcsS0FBS2lCO1lBQ1hwQixNQUFNSSxLQUFLZTtZQUNYbkIsTUFBTUssS0FBS2E7WUFDWGxCLE1BQU1NLEtBQUtXO1lBQ1hqQixNQUFNTyxLQUFLUztZQUNYN0YsSUFBSzZFLE9BQU87WUFBS0EsTUFBTTtZQUN2QkEsTUFBTVEsS0FBS087WUFDWGYsTUFBTVMsS0FBS0s7WUFDWGQsTUFBTVUsS0FBS0c7WUFDWGIsTUFBTVcsS0FBTSxLQUFJVyxFQUFDO1lBQ2pCdEIsTUFBTVksS0FBTSxLQUFJUyxFQUFDO1lBQ2pCbEcsS0FBTTZFLE9BQU87WUFBS0EsTUFBTTtZQUV4QkMsS0FBSzlFO1lBQ0w4RSxNQUFNRSxLQUFLa0I7WUFDWHBCLE1BQU1HLEtBQUtnQjtZQUNYbkIsTUFBTUksS0FBS2M7WUFDWGxCLE1BQU1LLEtBQUtZO1lBQ1hqQixNQUFNTSxLQUFLVTtZQUNYOUYsSUFBSzhFLE9BQU87WUFBS0EsTUFBTTtZQUN2QkEsTUFBTU8sS0FBS1E7WUFDWGYsTUFBTVEsS0FBS007WUFDWGQsTUFBTVMsS0FBS0k7WUFDWGIsTUFBTVUsS0FBS0U7WUFDWFosTUFBTVcsS0FBTSxLQUFJVSxFQUFDO1lBQ2pCbkcsS0FBTThFLE9BQU87WUFBS0EsTUFBTTtZQUV4QkMsS0FBSy9FO1lBQ0wrRSxNQUFNQyxLQUFLbUI7WUFDWHBCLE1BQU1FLEtBQUtpQjtZQUNYbkIsTUFBTUcsS0FBS2U7WUFDWGxCLE1BQU1JLEtBQUthO1lBQ1hqQixNQUFNSyxLQUFLVztZQUNYL0YsSUFBSytFLE9BQU87WUFBS0EsTUFBTTtZQUN2QkEsTUFBTU0sS0FBS1M7WUFDWGYsTUFBTU8sS0FBS087WUFDWGQsTUFBTVEsS0FBS0s7WUFDWGIsTUFBTVMsS0FBS0c7WUFDWFosTUFBTVUsS0FBS0M7WUFDWDFGLEtBQU0rRSxPQUFPO1lBQUtBLE1BQU07WUFFeEIvRSxJQUFJLENBQUdBLEtBQUssS0FBS0EsSUFBTTtZQUN2QkEsSUFBSSxJQUFLc0UsS0FBTTtZQUNmQSxLQUFLdEUsSUFBSTtZQUNUQSxJQUFLQSxNQUFNO1lBQ1h1RSxNQUFNdkU7WUFFTmdGLEtBQUtWO1lBQ0xXLEtBQUtWO1lBQ0xXLEtBQUtWO1lBQ0xXLEtBQUtWO1lBQ0xXLEtBQUtWO1lBQ0xXLEtBQUtWO1lBQ0xXLEtBQUtWO1lBQ0xXLEtBQUtWO1lBQ0xXLEtBQUtWO1lBQ0xXLEtBQUtWO1lBRUxwQyxRQUFRO1lBQ1J5QixTQUFTO1FBQ1g7UUFDQSxJQUFJLENBQUNsRixDQUFDLENBQUMsRUFBRSxHQUFHOEY7UUFDWixJQUFJLENBQUM5RixDQUFDLENBQUMsRUFBRSxHQUFHK0Y7UUFDWixJQUFJLENBQUMvRixDQUFDLENBQUMsRUFBRSxHQUFHZ0c7UUFDWixJQUFJLENBQUNoRyxDQUFDLENBQUMsRUFBRSxHQUFHaUc7UUFDWixJQUFJLENBQUNqRyxDQUFDLENBQUMsRUFBRSxHQUFHa0c7UUFDWixJQUFJLENBQUNsRyxDQUFDLENBQUMsRUFBRSxHQUFHbUc7UUFDWixJQUFJLENBQUNuRyxDQUFDLENBQUMsRUFBRSxHQUFHb0c7UUFDWixJQUFJLENBQUNwRyxDQUFDLENBQUMsRUFBRSxHQUFHcUc7UUFDWixJQUFJLENBQUNyRyxDQUFDLENBQUMsRUFBRSxHQUFHc0c7UUFDWixJQUFJLENBQUN0RyxDQUFDLENBQUMsRUFBRSxHQUFHdUc7SUFDZDtJQUVBdEMsU0FBU2UsU0FBUyxDQUFDa0MsTUFBTSxHQUFHLFNBQVNDLEdBQUcsRUFBRUMsTUFBTTtRQUM5QyxJQUFJQyxJQUFJLElBQUlqRCxZQUFZO1FBQ3hCLElBQUl0RCxHQUFHd0csTUFBTUMsR0FBRzFJO1FBRWhCLElBQUksSUFBSSxDQUFDeUYsUUFBUSxFQUFFO1lBQ2pCekYsSUFBSSxJQUFJLENBQUN5RixRQUFRO1lBQ2pCLElBQUksQ0FBQ0gsTUFBTSxDQUFDdEYsSUFBSSxHQUFHO1lBQ25CLE1BQU9BLElBQUksSUFBSUEsSUFBSyxJQUFJLENBQUNzRixNQUFNLENBQUN0RixFQUFFLEdBQUc7WUFDckMsSUFBSSxDQUFDMEYsR0FBRyxHQUFHO1lBQ1gsSUFBSSxDQUFDVSxNQUFNLENBQUMsSUFBSSxDQUFDZCxNQUFNLEVBQUUsR0FBRztRQUM5QjtRQUVBckQsSUFBSSxJQUFJLENBQUNkLENBQUMsQ0FBQyxFQUFFLEtBQUs7UUFDbEIsSUFBSSxDQUFDQSxDQUFDLENBQUMsRUFBRSxJQUFJO1FBQ2IsSUFBS25CLElBQUksR0FBR0EsSUFBSSxJQUFJQSxJQUFLO1lBQ3ZCLElBQUksQ0FBQ21CLENBQUMsQ0FBQ25CLEVBQUUsSUFBSWlDO1lBQ2JBLElBQUksSUFBSSxDQUFDZCxDQUFDLENBQUNuQixFQUFFLEtBQUs7WUFDbEIsSUFBSSxDQUFDbUIsQ0FBQyxDQUFDbkIsRUFBRSxJQUFJO1FBQ2Y7UUFDQSxJQUFJLENBQUNtQixDQUFDLENBQUMsRUFBRSxJQUFLYyxJQUFJO1FBQ2xCQSxJQUFJLElBQUksQ0FBQ2QsQ0FBQyxDQUFDLEVBQUUsS0FBSztRQUNsQixJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLElBQUk7UUFDYixJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLElBQUljO1FBQ2JBLElBQUksSUFBSSxDQUFDZCxDQUFDLENBQUMsRUFBRSxLQUFLO1FBQ2xCLElBQUksQ0FBQ0EsQ0FBQyxDQUFDLEVBQUUsSUFBSTtRQUNiLElBQUksQ0FBQ0EsQ0FBQyxDQUFDLEVBQUUsSUFBSWM7UUFFYnVHLENBQUMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDckgsQ0FBQyxDQUFDLEVBQUUsR0FBRztRQUNuQmMsSUFBSXVHLENBQUMsQ0FBQyxFQUFFLEtBQUs7UUFDYkEsQ0FBQyxDQUFDLEVBQUUsSUFBSTtRQUNSLElBQUt4SSxJQUFJLEdBQUdBLElBQUksSUFBSUEsSUFBSztZQUN2QndJLENBQUMsQ0FBQ3hJLEVBQUUsR0FBRyxJQUFJLENBQUNtQixDQUFDLENBQUNuQixFQUFFLEdBQUdpQztZQUNuQkEsSUFBSXVHLENBQUMsQ0FBQ3hJLEVBQUUsS0FBSztZQUNid0ksQ0FBQyxDQUFDeEksRUFBRSxJQUFJO1FBQ1Y7UUFDQXdJLENBQUMsQ0FBQyxFQUFFLElBQUssS0FBSztRQUVkQyxPQUFPLENBQUN4RyxJQUFJLEtBQUs7UUFDakIsSUFBS2pDLElBQUksR0FBR0EsSUFBSSxJQUFJQSxJQUFLd0ksQ0FBQyxDQUFDeEksRUFBRSxJQUFJeUk7UUFDakNBLE9BQU8sQ0FBQ0E7UUFDUixJQUFLekksSUFBSSxHQUFHQSxJQUFJLElBQUlBLElBQUssSUFBSSxDQUFDbUIsQ0FBQyxDQUFDbkIsRUFBRSxHQUFHLElBQUssQ0FBQ21CLENBQUMsQ0FBQ25CLEVBQUUsR0FBR3lJLE9BQVFELENBQUMsQ0FBQ3hJLEVBQUU7UUFFOUQsSUFBSSxDQUFDbUIsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUssQ0FBQ0EsQ0FBQyxDQUFDLEVBQUUsR0FBWSxJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUF5QjtRQUMzRSxJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFLLENBQUNBLENBQUMsQ0FBQyxFQUFFLEtBQU0sSUFBTSxJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUF5QjtRQUMzRSxJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFLLENBQUNBLENBQUMsQ0FBQyxFQUFFLEtBQU0sSUFBTSxJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLElBQUssQ0FBQyxJQUF5QjtRQUMzRSxJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFLLENBQUNBLENBQUMsQ0FBQyxFQUFFLEtBQU0sSUFBTSxJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLElBQUssQ0FBQyxJQUF5QjtRQUMzRSxJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFLLENBQUNBLENBQUMsQ0FBQyxFQUFFLEtBQUssS0FBTyxJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLElBQUssSUFBTSxJQUFJLENBQUNBLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFLO1FBQzNFLElBQUksQ0FBQ0EsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUssQ0FBQ0EsQ0FBQyxDQUFDLEVBQUUsS0FBTSxJQUFNLElBQUksQ0FBQ0EsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQXlCO1FBQzNFLElBQUksQ0FBQ0EsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUssQ0FBQ0EsQ0FB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T0FBT3JDLFdBQVcsQ0FBQ2hTO29CQUM5QixJQUFLekIsSUFBSSxHQUFHQSxJQUFJeUIsR0FBR3pCLElBQUtrQixDQUFDLENBQUNsQixFQUFFLEdBQUdzSixDQUFDLENBQUN0SixFQUFFO29CQUNuQ3VULFFBQVFqSztnQkFDVjtZQUNGO1FBQ0Y7SUFDRjtBQUVBLEdBQUcsS0FBa0IsSUFBZStNLE9BQU9DLE9BQU8sR0FBR0QsT0FBT0MsT0FBTyxHQUFJUCxLQUFLbFcsSUFBSSxHQUFHa1csS0FBS2xXLElBQUksSUFBSSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL3R3ZWV0bmFjbC1qcy9uYWNsLWZhc3QuanM/YmQ0YSJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24obmFjbCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBQb3J0ZWQgaW4gMjAxNCBieSBEbWl0cnkgQ2hlc3RueWtoIGFuZCBEZXZpIE1hbmRpcmkuXG4vLyBQdWJsaWMgZG9tYWluLlxuLy9cbi8vIEltcGxlbWVudGF0aW9uIGRlcml2ZWQgZnJvbSBUd2VldE5hQ2wgdmVyc2lvbiAyMDE0MDQyNy5cbi8vIFNlZSBmb3IgZGV0YWlsczogaHR0cDovL3R3ZWV0bmFjbC5jci55cC50by9cblxudmFyIGdmID0gZnVuY3Rpb24oaW5pdCkge1xuICB2YXIgaSwgciA9IG5ldyBGbG9hdDY0QXJyYXkoMTYpO1xuICBpZiAoaW5pdCkgZm9yIChpID0gMDsgaSA8IGluaXQubGVuZ3RoOyBpKyspIHJbaV0gPSBpbml0W2ldO1xuICByZXR1cm4gcjtcbn07XG5cbi8vICBQbHVnZ2FibGUsIGluaXRpYWxpemVkIGluIGhpZ2gtbGV2ZWwgQVBJIGJlbG93LlxudmFyIHJhbmRvbWJ5dGVzID0gZnVuY3Rpb24oLyogeCwgbiAqLykgeyB0aHJvdyBuZXcgRXJyb3IoJ25vIFBSTkcnKTsgfTtcblxudmFyIF8wID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xudmFyIF85ID0gbmV3IFVpbnQ4QXJyYXkoMzIpOyBfOVswXSA9IDk7XG5cbnZhciBnZjAgPSBnZigpLFxuICAgIGdmMSA9IGdmKFsxXSksXG4gICAgXzEyMTY2NSA9IGdmKFsweGRiNDEsIDFdKSxcbiAgICBEID0gZ2YoWzB4NzhhMywgMHgxMzU5LCAweDRkY2EsIDB4NzVlYiwgMHhkOGFiLCAweDQxNDEsIDB4MGE0ZCwgMHgwMDcwLCAweGU4OTgsIDB4Nzc3OSwgMHg0MDc5LCAweDhjYzcsIDB4ZmU3MywgMHgyYjZmLCAweDZjZWUsIDB4NTIwM10pLFxuICAgIEQyID0gZ2YoWzB4ZjE1OSwgMHgyNmIyLCAweDliOTQsIDB4ZWJkNiwgMHhiMTU2LCAweDgyODMsIDB4MTQ5YSwgMHgwMGUwLCAweGQxMzAsIDB4ZWVmMywgMHg4MGYyLCAweDE5OGUsIDB4ZmNlNywgMHg1NmRmLCAweGQ5ZGMsIDB4MjQwNl0pLFxuICAgIFggPSBnZihbMHhkNTFhLCAweDhmMjUsIDB4MmQ2MCwgMHhjOTU2LCAweGE3YjIsIDB4OTUyNSwgMHhjNzYwLCAweDY5MmMsIDB4ZGM1YywgMHhmZGQ2LCAweGUyMzEsIDB4YzBhNCwgMHg1M2ZlLCAweGNkNmUsIDB4MzZkMywgMHgyMTY5XSksXG4gICAgWSA9IGdmKFsweDY2NTgsIDB4NjY2NiwgMHg2NjY2LCAweDY2NjYsIDB4NjY2NiwgMHg2NjY2LCAweDY2NjYsIDB4NjY2NiwgMHg2NjY2LCAweDY2NjYsIDB4NjY2NiwgMHg2NjY2LCAweDY2NjYsIDB4NjY2NiwgMHg2NjY2LCAweDY2NjZdKSxcbiAgICBJID0gZ2YoWzB4YTBiMCwgMHg0YTBlLCAweDFiMjcsIDB4YzRlZSwgMHhlNDc4LCAweGFkMmYsIDB4MTgwNiwgMHgyZjQzLCAweGQ3YTcsIDB4M2RmYiwgMHgwMDk5LCAweDJiNGQsIDB4ZGYwYiwgMHg0ZmMxLCAweDI0ODAsIDB4MmI4M10pO1xuXG5mdW5jdGlvbiB0czY0KHgsIGksIGgsIGwpIHtcbiAgeFtpXSAgID0gKGggPj4gMjQpICYgMHhmZjtcbiAgeFtpKzFdID0gKGggPj4gMTYpICYgMHhmZjtcbiAgeFtpKzJdID0gKGggPj4gIDgpICYgMHhmZjtcbiAgeFtpKzNdID0gaCAmIDB4ZmY7XG4gIHhbaSs0XSA9IChsID4+IDI0KSAgJiAweGZmO1xuICB4W2krNV0gPSAobCA+PiAxNikgICYgMHhmZjtcbiAgeFtpKzZdID0gKGwgPj4gIDgpICAmIDB4ZmY7XG4gIHhbaSs3XSA9IGwgJiAweGZmO1xufVxuXG5mdW5jdGlvbiB2bih4LCB4aSwgeSwgeWksIG4pIHtcbiAgdmFyIGksZCA9IDA7XG4gIGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIGQgfD0geFt4aStpXV55W3lpK2ldO1xuICByZXR1cm4gKDEgJiAoKGQgLSAxKSA+Pj4gOCkpIC0gMTtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX3ZlcmlmeV8xNih4LCB4aSwgeSwgeWkpIHtcbiAgcmV0dXJuIHZuKHgseGkseSx5aSwxNik7XG59XG5cbmZ1bmN0aW9uIGNyeXB0b192ZXJpZnlfMzIoeCwgeGksIHksIHlpKSB7XG4gIHJldHVybiB2bih4LHhpLHkseWksMzIpO1xufVxuXG5mdW5jdGlvbiBjb3JlX3NhbHNhMjAobywgcCwgaywgYykge1xuICB2YXIgajAgID0gY1sgMF0gJiAweGZmIHwgKGNbIDFdICYgMHhmZik8PDggfCAoY1sgMl0gJiAweGZmKTw8MTYgfCAoY1sgM10gJiAweGZmKTw8MjQsXG4gICAgICBqMSAgPSBrWyAwXSAmIDB4ZmYgfCAoa1sgMV0gJiAweGZmKTw8OCB8IChrWyAyXSAmIDB4ZmYpPDwxNiB8IChrWyAzXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoyICA9IGtbIDRdICYgMHhmZiB8IChrWyA1XSAmIDB4ZmYpPDw4IHwgKGtbIDZdICYgMHhmZik8PDE2IHwgKGtbIDddICYgMHhmZik8PDI0LFxuICAgICAgajMgID0ga1sgOF0gJiAweGZmIHwgKGtbIDldICYgMHhmZik8PDggfCAoa1sxMF0gJiAweGZmKTw8MTYgfCAoa1sxMV0gJiAweGZmKTw8MjQsXG4gICAgICBqNCAgPSBrWzEyXSAmIDB4ZmYgfCAoa1sxM10gJiAweGZmKTw8OCB8IChrWzE0XSAmIDB4ZmYpPDwxNiB8IChrWzE1XSAmIDB4ZmYpPDwyNCxcbiAgICAgIGo1ICA9IGNbIDRdICYgMHhmZiB8IChjWyA1XSAmIDB4ZmYpPDw4IHwgKGNbIDZdICYgMHhmZik8PDE2IHwgKGNbIDddICYgMHhmZik8PDI0LFxuICAgICAgajYgID0gcFsgMF0gJiAweGZmIHwgKHBbIDFdICYgMHhmZik8PDggfCAocFsgMl0gJiAweGZmKTw8MTYgfCAocFsgM10gJiAweGZmKTw8MjQsXG4gICAgICBqNyAgPSBwWyA0XSAmIDB4ZmYgfCAocFsgNV0gJiAweGZmKTw8OCB8IChwWyA2XSAmIDB4ZmYpPDwxNiB8IChwWyA3XSAmIDB4ZmYpPDwyNCxcbiAgICAgIGo4ICA9IHBbIDhdICYgMHhmZiB8IChwWyA5XSAmIDB4ZmYpPDw4IHwgKHBbMTBdICYgMHhmZik8PDE2IHwgKHBbMTFdICYgMHhmZik8PDI0LFxuICAgICAgajkgID0gcFsxMl0gJiAweGZmIHwgKHBbMTNdICYgMHhmZik8PDggfCAocFsxNF0gJiAweGZmKTw8MTYgfCAocFsxNV0gJiAweGZmKTw8MjQsXG4gICAgICBqMTAgPSBjWyA4XSAmIDB4ZmYgfCAoY1sgOV0gJiAweGZmKTw8OCB8IChjWzEwXSAmIDB4ZmYpPDwxNiB8IChjWzExXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoxMSA9IGtbMTZdICYgMHhmZiB8IChrWzE3XSAmIDB4ZmYpPDw4IHwgKGtbMThdICYgMHhmZik8PDE2IHwgKGtbMTldICYgMHhmZik8PDI0LFxuICAgICAgajEyID0ga1syMF0gJiAweGZmIHwgKGtbMjFdICYgMHhmZik8PDggfCAoa1syMl0gJiAweGZmKTw8MTYgfCAoa1syM10gJiAweGZmKTw8MjQsXG4gICAgICBqMTMgPSBrWzI0XSAmIDB4ZmYgfCAoa1syNV0gJiAweGZmKTw8OCB8IChrWzI2XSAmIDB4ZmYpPDwxNiB8IChrWzI3XSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoxNCA9IGtbMjhdICYgMHhmZiB8IChrWzI5XSAmIDB4ZmYpPDw4IHwgKGtbMzBdICYgMHhmZik8PDE2IHwgKGtbMzFdICYgMHhmZik8PDI0LFxuICAgICAgajE1ID0gY1sxMl0gJiAweGZmIHwgKGNbMTNdICYgMHhmZik8PDggfCAoY1sxNF0gJiAweGZmKTw8MTYgfCAoY1sxNV0gJiAweGZmKTw8MjQ7XG5cbiAgdmFyIHgwID0gajAsIHgxID0gajEsIHgyID0gajIsIHgzID0gajMsIHg0ID0gajQsIHg1ID0gajUsIHg2ID0gajYsIHg3ID0gajcsXG4gICAgICB4OCA9IGo4LCB4OSA9IGo5LCB4MTAgPSBqMTAsIHgxMSA9IGoxMSwgeDEyID0gajEyLCB4MTMgPSBqMTMsIHgxNCA9IGoxNCxcbiAgICAgIHgxNSA9IGoxNSwgdTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyBpICs9IDIpIHtcbiAgICB1ID0geDAgKyB4MTIgfCAwO1xuICAgIHg0IF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4NCArIHgwIHwgMDtcbiAgICB4OCBePSB1PDw5IHwgdT4+PigzMi05KTtcbiAgICB1ID0geDggKyB4NCB8IDA7XG4gICAgeDEyIF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgdSA9IHgxMiArIHg4IHwgMDtcbiAgICB4MCBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuXG4gICAgdSA9IHg1ICsgeDEgfCAwO1xuICAgIHg5IF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4OSArIHg1IHwgMDtcbiAgICB4MTMgXj0gdTw8OSB8IHU+Pj4oMzItOSk7XG4gICAgdSA9IHgxMyArIHg5IHwgMDtcbiAgICB4MSBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4MSArIHgxMyB8IDA7XG4gICAgeDUgXj0gdTw8MTggfCB1Pj4+KDMyLTE4KTtcblxuICAgIHUgPSB4MTAgKyB4NiB8IDA7XG4gICAgeDE0IF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4MTQgKyB4MTAgfCAwO1xuICAgIHgyIF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4MiArIHgxNCB8IDA7XG4gICAgeDYgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDYgKyB4MiB8IDA7XG4gICAgeDEwIF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICB1ID0geDE1ICsgeDExIHwgMDtcbiAgICB4MyBePSB1PDw3IHwgdT4+PigzMi03KTtcbiAgICB1ID0geDMgKyB4MTUgfCAwO1xuICAgIHg3IF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4NyArIHgzIHwgMDtcbiAgICB4MTEgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDExICsgeDcgfCAwO1xuICAgIHgxNSBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuXG4gICAgdSA9IHgwICsgeDMgfCAwO1xuICAgIHgxIF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4MSArIHgwIHwgMDtcbiAgICB4MiBePSB1PDw5IHwgdT4+PigzMi05KTtcbiAgICB1ID0geDIgKyB4MSB8IDA7XG4gICAgeDMgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDMgKyB4MiB8IDA7XG4gICAgeDAgXj0gdTw8MTggfCB1Pj4+KDMyLTE4KTtcblxuICAgIHUgPSB4NSArIHg0IHwgMDtcbiAgICB4NiBePSB1PDw3IHwgdT4+PigzMi03KTtcbiAgICB1ID0geDYgKyB4NSB8IDA7XG4gICAgeDcgXj0gdTw8OSB8IHU+Pj4oMzItOSk7XG4gICAgdSA9IHg3ICsgeDYgfCAwO1xuICAgIHg0IF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgdSA9IHg0ICsgeDcgfCAwO1xuICAgIHg1IF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICB1ID0geDEwICsgeDkgfCAwO1xuICAgIHgxMSBePSB1PDw3IHwgdT4+PigzMi03KTtcbiAgICB1ID0geDExICsgeDEwIHwgMDtcbiAgICB4OCBePSB1PDw5IHwgdT4+PigzMi05KTtcbiAgICB1ID0geDggKyB4MTEgfCAwO1xuICAgIHg5IF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgdSA9IHg5ICsgeDggfCAwO1xuICAgIHgxMCBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuXG4gICAgdSA9IHgxNSArIHgxNCB8IDA7XG4gICAgeDEyIF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4MTIgKyB4MTUgfCAwO1xuICAgIHgxMyBePSB1PDw5IHwgdT4+PigzMi05KTtcbiAgICB1ID0geDEzICsgeDEyIHwgMDtcbiAgICB4MTQgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDE0ICsgeDEzIHwgMDtcbiAgICB4MTUgXj0gdTw8MTggfCB1Pj4+KDMyLTE4KTtcbiAgfVxuICAgeDAgPSAgeDAgKyAgajAgfCAwO1xuICAgeDEgPSAgeDEgKyAgajEgfCAwO1xuICAgeDIgPSAgeDIgKyAgajIgfCAwO1xuICAgeDMgPSAgeDMgKyAgajMgfCAwO1xuICAgeDQgPSAgeDQgKyAgajQgfCAwO1xuICAgeDUgPSAgeDUgKyAgajUgfCAwO1xuICAgeDYgPSAgeDYgKyAgajYgfCAwO1xuICAgeDcgPSAgeDcgKyAgajcgfCAwO1xuICAgeDggPSAgeDggKyAgajggfCAwO1xuICAgeDkgPSAgeDkgKyAgajkgfCAwO1xuICB4MTAgPSB4MTAgKyBqMTAgfCAwO1xuICB4MTEgPSB4MTEgKyBqMTEgfCAwO1xuICB4MTIgPSB4MTIgKyBqMTIgfCAwO1xuICB4MTMgPSB4MTMgKyBqMTMgfCAwO1xuICB4MTQgPSB4MTQgKyBqMTQgfCAwO1xuICB4MTUgPSB4MTUgKyBqMTUgfCAwO1xuXG4gIG9bIDBdID0geDAgPj4+ICAwICYgMHhmZjtcbiAgb1sgMV0gPSB4MCA+Pj4gIDggJiAweGZmO1xuICBvWyAyXSA9IHgwID4+PiAxNiAmIDB4ZmY7XG4gIG9bIDNdID0geDAgPj4+IDI0ICYgMHhmZjtcblxuICBvWyA0XSA9IHgxID4+PiAgMCAmIDB4ZmY7XG4gIG9bIDVdID0geDEgPj4+ICA4ICYgMHhmZjtcbiAgb1sgNl0gPSB4MSA+Pj4gMTYgJiAweGZmO1xuICBvWyA3XSA9IHgxID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1sgOF0gPSB4MiA+Pj4gIDAgJiAweGZmO1xuICBvWyA5XSA9IHgyID4+PiAgOCAmIDB4ZmY7XG4gIG9bMTBdID0geDIgPj4+IDE2ICYgMHhmZjtcbiAgb1sxMV0gPSB4MiA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bMTJdID0geDMgPj4+ICAwICYgMHhmZjtcbiAgb1sxM10gPSB4MyA+Pj4gIDggJiAweGZmO1xuICBvWzE0XSA9IHgzID4+PiAxNiAmIDB4ZmY7XG4gIG9bMTVdID0geDMgPj4+IDI0ICYgMHhmZjtcblxuICBvWzE2XSA9IHg0ID4+PiAgMCAmIDB4ZmY7XG4gIG9bMTddID0geDQgPj4+ICA4ICYgMHhmZjtcbiAgb1sxOF0gPSB4NCA+Pj4gMTYgJiAweGZmO1xuICBvWzE5XSA9IHg0ID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1syMF0gPSB4NSA+Pj4gIDAgJiAweGZmO1xuICBvWzIxXSA9IHg1ID4+PiAgOCAmIDB4ZmY7XG4gIG9bMjJdID0geDUgPj4+IDE2ICYgMHhmZjtcbiAgb1syM10gPSB4NSA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bMjRdID0geDYgPj4+ICAwICYgMHhmZjtcbiAgb1syNV0gPSB4NiA+Pj4gIDggJiAweGZmO1xuICBvWzI2XSA9IHg2ID4+PiAxNiAmIDB4ZmY7XG4gIG9bMjddID0geDYgPj4+IDI0ICYgMHhmZjtcblxuICBvWzI4XSA9IHg3ID4+PiAgMCAmIDB4ZmY7XG4gIG9bMjldID0geDcgPj4+ICA4ICYgMHhmZjtcbiAgb1szMF0gPSB4NyA+Pj4gMTYgJiAweGZmO1xuICBvWzMxXSA9IHg3ID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1szMl0gPSB4OCA+Pj4gIDAgJiAweGZmO1xuICBvWzMzXSA9IHg4ID4+PiAgOCAmIDB4ZmY7XG4gIG9bMzRdID0geDggPj4+IDE2ICYgMHhmZjtcbiAgb1szNV0gPSB4OCA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bMzZdID0geDkgPj4+ICAwICYgMHhmZjtcbiAgb1szN10gPSB4OSA+Pj4gIDggJiAweGZmO1xuICBvWzM4XSA9IHg5ID4+PiAxNiAmIDB4ZmY7XG4gIG9bMzldID0geDkgPj4+IDI0ICYgMHhmZjtcblxuICBvWzQwXSA9IHgxMCA+Pj4gIDAgJiAweGZmO1xuICBvWzQxXSA9IHgxMCA+Pj4gIDggJiAweGZmO1xuICBvWzQyXSA9IHgxMCA+Pj4gMTYgJiAweGZmO1xuICBvWzQzXSA9IHgxMCA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bNDRdID0geDExID4+PiAgMCAmIDB4ZmY7XG4gIG9bNDVdID0geDExID4+PiAgOCAmIDB4ZmY7XG4gIG9bNDZdID0geDExID4+PiAxNiAmIDB4ZmY7XG4gIG9bNDddID0geDExID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1s0OF0gPSB4MTIgPj4+ICAwICYgMHhmZjtcbiAgb1s0OV0gPSB4MTIgPj4+ICA4ICYgMHhmZjtcbiAgb1s1MF0gPSB4MTIgPj4+IDE2ICYgMHhmZjtcbiAgb1s1MV0gPSB4MTIgPj4+IDI0ICYgMHhmZjtcblxuICBvWzUyXSA9IHgxMyA+Pj4gIDAgJiAweGZmO1xuICBvWzUzXSA9IHgxMyA+Pj4gIDggJiAweGZmO1xuICBvWzU0XSA9IHgxMyA+Pj4gMTYgJiAweGZmO1xuICBvWzU1XSA9IHgxMyA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bNTZdID0geDE0ID4+PiAgMCAmIDB4ZmY7XG4gIG9bNTddID0geDE0ID4+PiAgOCAmIDB4ZmY7XG4gIG9bNThdID0geDE0ID4+PiAxNiAmIDB4ZmY7XG4gIG9bNTldID0geDE0ID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1s2MF0gPSB4MTUgPj4+ICAwICYgMHhmZjtcbiAgb1s2MV0gPSB4MTUgPj4+ICA4ICYgMHhmZjtcbiAgb1s2Ml0gPSB4MTUgPj4+IDE2ICYgMHhmZjtcbiAgb1s2M10gPSB4MTUgPj4+IDI0ICYgMHhmZjtcbn1cblxuZnVuY3Rpb24gY29yZV9oc2Fsc2EyMChvLHAsayxjKSB7XG4gIHZhciBqMCAgPSBjWyAwXSAmIDB4ZmYgfCAoY1sgMV0gJiAweGZmKTw8OCB8IChjWyAyXSAmIDB4ZmYpPDwxNiB8IChjWyAzXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoxICA9IGtbIDBdICYgMHhmZiB8IChrWyAxXSAmIDB4ZmYpPDw4IHwgKGtbIDJdICYgMHhmZik8PDE2IHwgKGtbIDNdICYgMHhmZik8PDI0LFxuICAgICAgajIgID0ga1sgNF0gJiAweGZmIHwgKGtbIDVdICYgMHhmZik8PDggfCAoa1sgNl0gJiAweGZmKTw8MTYgfCAoa1sgN10gJiAweGZmKTw8MjQsXG4gICAgICBqMyAgPSBrWyA4XSAmIDB4ZmYgfCAoa1sgOV0gJiAweGZmKTw8OCB8IChrWzEwXSAmIDB4ZmYpPDwxNiB8IChrWzExXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGo0ICA9IGtbMTJdICYgMHhmZiB8IChrWzEzXSAmIDB4ZmYpPDw4IHwgKGtbMTRdICYgMHhmZik8PDE2IHwgKGtbMTVdICYgMHhmZik8PDI0LFxuICAgICAgajUgID0gY1sgNF0gJiAweGZmIHwgKGNbIDVdICYgMHhmZik8PDggfCAoY1sgNl0gJiAweGZmKTw8MTYgfCAoY1sgN10gJiAweGZmKTw8MjQsXG4gICAgICBqNiAgPSBwWyAwXSAmIDB4ZmYgfCAocFsgMV0gJiAweGZmKTw8OCB8IChwWyAyXSAmIDB4ZmYpPDwxNiB8IChwWyAzXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGo3ICA9IHBbIDRdICYgMHhmZiB8IChwWyA1XSAmIDB4ZmYpPDw4IHwgKHBbIDZdICYgMHhmZik8PDE2IHwgKHBbIDddICYgMHhmZik8PDI0LFxuICAgICAgajggID0gcFsgOF0gJiAweGZmIHwgKHBbIDldICYgMHhmZik8PDggfCAocFsxMF0gJiAweGZmKTw8MTYgfCAocFsxMV0gJiAweGZmKTw8MjQsXG4gICAgICBqOSAgPSBwWzEyXSAmIDB4ZmYgfCAocFsxM10gJiAweGZmKTw8OCB8IChwWzE0XSAmIDB4ZmYpPDwxNiB8IChwWzE1XSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoxMCA9IGNbIDhdICYgMHhmZiB8IChjWyA5XSAmIDB4ZmYpPDw4IHwgKGNbMTBdICYgMHhmZik8PDE2IHwgKGNbMTFdICYgMHhmZik8PDI0LFxuICAgICAgajExID0ga1sxNl0gJiAweGZmIHwgKGtbMTddICYgMHhmZik8PDggfCAoa1sxOF0gJiAweGZmKTw8MTYgfCAoa1sxOV0gJiAweGZmKTw8MjQsXG4gICAgICBqMTIgPSBrWzIwXSAmIDB4ZmYgfCAoa1syMV0gJiAweGZmKTw8OCB8IChrWzIyXSAmIDB4ZmYpPDwxNiB8IChrWzIzXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoxMyA9IGtbMjRdICYgMHhmZiB8IChrWzI1XSAmIDB4ZmYpPDw4IHwgKGtbMjZdICYgMHhmZik8PDE2IHwgKGtbMjddICYgMHhmZik8PDI0LFxuICAgICAgajE0ID0ga1syOF0gJiAweGZmIHwgKGtbMjldICYgMHhmZik8PDggfCAoa1szMF0gJiAweGZmKTw8MTYgfCAoa1szMV0gJiAweGZmKTw8MjQsXG4gICAgICBqMTUgPSBjWzEyXSAmIDB4ZmYgfCAoY1sxM10gJiAweGZmKTw8OCB8IChjWzE0XSAmIDB4ZmYpPDwxNiB8IChjWzE1XSAmIDB4ZmYpPDwyNDtcblxuICB2YXIgeDAgPSBqMCwgeDEgPSBqMSwgeDIgPSBqMiwgeDMgPSBqMywgeDQgPSBqNCwgeDUgPSBqNSwgeDYgPSBqNiwgeDcgPSBqNyxcbiAgICAgIHg4ID0gajgsIHg5ID0gajksIHgxMCA9IGoxMCwgeDExID0gajExLCB4MTIgPSBqMTIsIHgxMyA9IGoxMywgeDE0ID0gajE0LFxuICAgICAgeDE1ID0gajE1LCB1O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7IGkgKz0gMikge1xuICAgIHUgPSB4MCArIHgxMiB8IDA7XG4gICAgeDQgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHg0ICsgeDAgfCAwO1xuICAgIHg4IF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4OCArIHg0IHwgMDtcbiAgICB4MTIgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDEyICsgeDggfCAwO1xuICAgIHgwIF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICB1ID0geDUgKyB4MSB8IDA7XG4gICAgeDkgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHg5ICsgeDUgfCAwO1xuICAgIHgxMyBePSB1PDw5IHwgdT4+PigzMi05KTtcbiAgICB1ID0geDEzICsgeDkgfCAwO1xuICAgIHgxIF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgdSA9IHgxICsgeDEzIHwgMDtcbiAgICB4NSBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuXG4gICAgdSA9IHgxMCArIHg2IHwgMDtcbiAgICB4MTQgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHgxNCArIHgxMCB8IDA7XG4gICAgeDIgXj0gdTw8OSB8IHU+Pj4oMzItOSk7XG4gICAgdSA9IHgyICsgeDE0IHwgMDtcbiAgICB4NiBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4NiArIHgyIHwgMDtcbiAgICB4MTAgXj0gdTw8MTggfCB1Pj4+KDMyLTE4KTtcblxuICAgIHUgPSB4MTUgKyB4MTEgfCAwO1xuICAgIHgzIF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4MyArIHgxNSB8IDA7XG4gICAgeDcgXj0gdTw8OSB8IHU+Pj4oMzItOSk7XG4gICAgdSA9IHg3ICsgeDMgfCAwO1xuICAgIHgxMSBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4MTEgKyB4NyB8IDA7XG4gICAgeDE1IF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICB1ID0geDAgKyB4MyB8IDA7XG4gICAgeDEgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHgxICsgeDAgfCAwO1xuICAgIHgyIF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4MiArIHgxIHwgMDtcbiAgICB4MyBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4MyArIHgyIHwgMDtcbiAgICB4MCBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuXG4gICAgdSA9IHg1ICsgeDQgfCAwO1xuICAgIHg2IF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4NiArIHg1IHwgMDtcbiAgICB4NyBePSB1PDw5IHwgdT4+PigzMi05KTtcbiAgICB1ID0geDcgKyB4NiB8IDA7XG4gICAgeDQgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDQgKyB4NyB8IDA7XG4gICAgeDUgXj0gdTw8MTggfCB1Pj4+KDMyLTE4KTtcblxuICAgIHUgPSB4MTAgKyB4OSB8IDA7XG4gICAgeDExIF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4MTEgKyB4MTAgfCAwO1xuICAgIHg4IF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4OCArIHgxMSB8IDA7XG4gICAgeDkgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDkgKyB4OCB8IDA7XG4gICAgeDEwIF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICB1ID0geDE1ICsgeDE0IHwgMDtcbiAgICB4MTIgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHgxMiArIHgxNSB8IDA7XG4gICAgeDEzIF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4MTMgKyB4MTIgfCAwO1xuICAgIHgxNCBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4MTQgKyB4MTMgfCAwO1xuICAgIHgxNSBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuICB9XG5cbiAgb1sgMF0gPSB4MCA+Pj4gIDAgJiAweGZmO1xuICBvWyAxXSA9IHgwID4+PiAgOCAmIDB4ZmY7XG4gIG9bIDJdID0geDAgPj4+IDE2ICYgMHhmZjtcbiAgb1sgM10gPSB4MCA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bIDRdID0geDUgPj4+ICAwICYgMHhmZjtcbiAgb1sgNV0gPSB4NSA+Pj4gIDggJiAweGZmO1xuICBvWyA2XSA9IHg1ID4+PiAxNiAmIDB4ZmY7XG4gIG9bIDddID0geDUgPj4+IDI0ICYgMHhmZjtcblxuICBvWyA4XSA9IHgxMCA+Pj4gIDAgJiAweGZmO1xuICBvWyA5XSA9IHgxMCA+Pj4gIDggJiAweGZmO1xuICBvWzEwXSA9IHgxMCA+Pj4gMTYgJiAweGZmO1xuICBvWzExXSA9IHgxMCA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bMTJdID0geDE1ID4+PiAgMCAmIDB4ZmY7XG4gIG9bMTNdID0geDE1ID4+PiAgOCAmIDB4ZmY7XG4gIG9bMTRdID0geDE1ID4+PiAxNiAmIDB4ZmY7XG4gIG9bMTVdID0geDE1ID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1sxNl0gPSB4NiA+Pj4gIDAgJiAweGZmO1xuICBvWzE3XSA9IHg2ID4+PiAgOCAmIDB4ZmY7XG4gIG9bMThdID0geDYgPj4+IDE2ICYgMHhmZjtcbiAgb1sxOV0gPSB4NiA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bMjBdID0geDcgPj4+ICAwICYgMHhmZjtcbiAgb1syMV0gPSB4NyA+Pj4gIDggJiAweGZmO1xuICBvWzIyXSA9IHg3ID4+PiAxNiAmIDB4ZmY7XG4gIG9bMjNdID0geDcgPj4+IDI0ICYgMHhmZjtcblxuICBvWzI0XSA9IHg4ID4+PiAgMCAmIDB4ZmY7XG4gIG9bMjVdID0geDggPj4+ICA4ICYgMHhmZjtcbiAgb1syNl0gPSB4OCA+Pj4gMTYgJiAweGZmO1xuICBvWzI3XSA9IHg4ID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1syOF0gPSB4OSA+Pj4gIDAgJiAweGZmO1xuICBvWzI5XSA9IHg5ID4+PiAgOCAmIDB4ZmY7XG4gIG9bMzBdID0geDkgPj4+IDE2ICYgMHhmZjtcbiAgb1szMV0gPSB4OSA+Pj4gMjQgJiAweGZmO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fY29yZV9zYWxzYTIwKG91dCxpbnAsayxjKSB7XG4gIGNvcmVfc2Fsc2EyMChvdXQsaW5wLGssYyk7XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19jb3JlX2hzYWxzYTIwKG91dCxpbnAsayxjKSB7XG4gIGNvcmVfaHNhbHNhMjAob3V0LGlucCxrLGMpO1xufVxuXG52YXIgc2lnbWEgPSBuZXcgVWludDhBcnJheShbMTAxLCAxMjAsIDExMiwgOTcsIDExMCwgMTAwLCAzMiwgNTEsIDUwLCA0NSwgOTgsIDEyMSwgMTE2LCAxMDEsIDMyLCAxMDddKTtcbiAgICAgICAgICAgIC8vIFwiZXhwYW5kIDMyLWJ5dGUga1wiXG5cbmZ1bmN0aW9uIGNyeXB0b19zdHJlYW1fc2Fsc2EyMF94b3IoYyxjcG9zLG0sbXBvcyxiLG4saykge1xuICB2YXIgeiA9IG5ldyBVaW50OEFycmF5KDE2KSwgeCA9IG5ldyBVaW50OEFycmF5KDY0KTtcbiAgdmFyIHUsIGk7XG4gIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB6W2ldID0gMDtcbiAgZm9yIChpID0gMDsgaSA8IDg7IGkrKykgeltpXSA9IG5baV07XG4gIHdoaWxlIChiID49IDY0KSB7XG4gICAgY3J5cHRvX2NvcmVfc2Fsc2EyMCh4LHosayxzaWdtYSk7XG4gICAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIGNbY3BvcytpXSA9IG1bbXBvcytpXSBeIHhbaV07XG4gICAgdSA9IDE7XG4gICAgZm9yIChpID0gODsgaSA8IDE2OyBpKyspIHtcbiAgICAgIHUgPSB1ICsgKHpbaV0gJiAweGZmKSB8IDA7XG4gICAgICB6W2ldID0gdSAmIDB4ZmY7XG4gICAgICB1ID4+Pj0gODtcbiAgICB9XG4gICAgYiAtPSA2NDtcbiAgICBjcG9zICs9IDY0O1xuICAgIG1wb3MgKz0gNjQ7XG4gIH1cbiAgaWYgKGIgPiAwKSB7XG4gICAgY3J5cHRvX2NvcmVfc2Fsc2EyMCh4LHosayxzaWdtYSk7XG4gICAgZm9yIChpID0gMDsgaSA8IGI7IGkrKykgY1tjcG9zK2ldID0gbVttcG9zK2ldIF4geFtpXTtcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX3N0cmVhbV9zYWxzYTIwKGMsY3BvcyxiLG4saykge1xuICB2YXIgeiA9IG5ldyBVaW50OEFycmF5KDE2KSwgeCA9IG5ldyBVaW50OEFycmF5KDY0KTtcbiAgdmFyIHUsIGk7XG4gIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB6W2ldID0gMDtcbiAgZm9yIChpID0gMDsgaSA8IDg7IGkrKykgeltpXSA9IG5baV07XG4gIHdoaWxlIChiID49IDY0KSB7XG4gICAgY3J5cHRvX2NvcmVfc2Fsc2EyMCh4LHosayxzaWdtYSk7XG4gICAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIGNbY3BvcytpXSA9IHhbaV07XG4gICAgdSA9IDE7XG4gICAgZm9yIChpID0gODsgaSA8IDE2OyBpKyspIHtcbiAgICAgIHUgPSB1ICsgKHpbaV0gJiAweGZmKSB8IDA7XG4gICAgICB6W2ldID0gdSAmIDB4ZmY7XG4gICAgICB1ID4+Pj0gODtcbiAgICB9XG4gICAgYiAtPSA2NDtcbiAgICBjcG9zICs9IDY0O1xuICB9XG4gIGlmIChiID4gMCkge1xuICAgIGNyeXB0b19jb3JlX3NhbHNhMjAoeCx6LGssc2lnbWEpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBiOyBpKyspIGNbY3BvcytpXSA9IHhbaV07XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19zdHJlYW0oYyxjcG9zLGQsbixrKSB7XG4gIHZhciBzID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICBjcnlwdG9fY29yZV9oc2Fsc2EyMChzLG4sayxzaWdtYSk7XG4gIHZhciBzbiA9IG5ldyBVaW50OEFycmF5KDgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykgc25baV0gPSBuW2krMTZdO1xuICByZXR1cm4gY3J5cHRvX3N0cmVhbV9zYWxzYTIwKGMsY3BvcyxkLHNuLHMpO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fc3RyZWFtX3hvcihjLGNwb3MsbSxtcG9zLGQsbixrKSB7XG4gIHZhciBzID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICBjcnlwdG9fY29yZV9oc2Fsc2EyMChzLG4sayxzaWdtYSk7XG4gIHZhciBzbiA9IG5ldyBVaW50OEFycmF5KDgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykgc25baV0gPSBuW2krMTZdO1xuICByZXR1cm4gY3J5cHRvX3N0cmVhbV9zYWxzYTIwX3hvcihjLGNwb3MsbSxtcG9zLGQsc24scyk7XG59XG5cbi8qXG4qIFBvcnQgb2YgQW5kcmV3IE1vb24ncyBQb2x5MTMwNS1kb25uYS0xNi4gUHVibGljIGRvbWFpbi5cbiogaHR0cHM6Ly9naXRodWIuY29tL2Zsb29keWJlcnJ5L3BvbHkxMzA1LWRvbm5hXG4qL1xuXG52YXIgcG9seTEzMDUgPSBmdW5jdGlvbihrZXkpIHtcbiAgdGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheSgxNik7XG4gIHRoaXMuciA9IG5ldyBVaW50MTZBcnJheSgxMCk7XG4gIHRoaXMuaCA9IG5ldyBVaW50MTZBcnJheSgxMCk7XG4gIHRoaXMucGFkID0gbmV3IFVpbnQxNkFycmF5KDgpO1xuICB0aGlzLmxlZnRvdmVyID0gMDtcbiAgdGhpcy5maW4gPSAwO1xuXG4gIHZhciB0MCwgdDEsIHQyLCB0MywgdDQsIHQ1LCB0NiwgdDc7XG5cbiAgdDAgPSBrZXlbIDBdICYgMHhmZiB8IChrZXlbIDFdICYgMHhmZikgPDwgODsgdGhpcy5yWzBdID0gKCB0MCAgICAgICAgICAgICAgICAgICAgICkgJiAweDFmZmY7XG4gIHQxID0ga2V5WyAyXSAmIDB4ZmYgfCAoa2V5WyAzXSAmIDB4ZmYpIDw8IDg7IHRoaXMuclsxXSA9ICgodDAgPj4+IDEzKSB8ICh0MSA8PCAgMykpICYgMHgxZmZmO1xuICB0MiA9IGtleVsgNF0gJiAweGZmIHwgKGtleVsgNV0gJiAweGZmKSA8PCA4OyB0aGlzLnJbMl0gPSAoKHQxID4+PiAxMCkgfCAodDIgPDwgIDYpKSAmIDB4MWYwMztcbiAgdDMgPSBrZXlbIDZdICYgMHhmZiB8IChrZXlbIDddICYgMHhmZikgPDwgODsgdGhpcy5yWzNdID0gKCh0MiA+Pj4gIDcpIHwgKHQzIDw8ICA5KSkgJiAweDFmZmY7XG4gIHQ0ID0ga2V5WyA4XSAmIDB4ZmYgfCAoa2V5WyA5XSAmIDB4ZmYpIDw8IDg7IHRoaXMucls0XSA9ICgodDMgPj4+ICA0KSB8ICh0NCA8PCAxMikpICYgMHgwMGZmO1xuICB0aGlzLnJbNV0gPSAoKHQ0ID4+PiAgMSkpICYgMHgxZmZlO1xuICB0NSA9IGtleVsxMF0gJiAweGZmIHwgKGtleVsxMV0gJiAweGZmKSA8PCA4OyB0aGlzLnJbNl0gPSAoKHQ0ID4+PiAxNCkgfCAodDUgPDwgIDIpKSAmIDB4MWZmZjtcbiAgdDYgPSBrZXlbMTJdICYgMHhmZiB8IChrZXlbMTNdICYgMHhmZikgPDwgODsgdGhpcy5yWzddID0gKCh0NSA+Pj4gMTEpIHwgKHQ2IDw8ICA1KSkgJiAweDFmODE7XG4gIHQ3ID0ga2V5WzE0XSAmIDB4ZmYgfCAoa2V5WzE1XSAmIDB4ZmYpIDw8IDg7IHRoaXMucls4XSA9ICgodDYgPj4+ICA4KSB8ICh0NyA8PCAgOCkpICYgMHgxZmZmO1xuICB0aGlzLnJbOV0gPSAoKHQ3ID4+PiAgNSkpICYgMHgwMDdmO1xuXG4gIHRoaXMucGFkWzBdID0ga2V5WzE2XSAmIDB4ZmYgfCAoa2V5WzE3XSAmIDB4ZmYpIDw8IDg7XG4gIHRoaXMucGFkWzFdID0ga2V5WzE4XSAmIDB4ZmYgfCAoa2V5WzE5XSAmIDB4ZmYpIDw8IDg7XG4gIHRoaXMucGFkWzJdID0ga2V5WzIwXSAmIDB4ZmYgfCAoa2V5WzIxXSAmIDB4ZmYpIDw8IDg7XG4gIHRoaXMucGFkWzNdID0ga2V5WzIyXSAmIDB4ZmYgfCAoa2V5WzIzXSAmIDB4ZmYpIDw8IDg7XG4gIHRoaXMucGFkWzRdID0ga2V5WzI0XSAmIDB4ZmYgfCAoa2V5WzI1XSAmIDB4ZmYpIDw8IDg7XG4gIHRoaXMucGFkWzVdID0ga2V5WzI2XSAmIDB4ZmYgfCAoa2V5WzI3XSAmIDB4ZmYpIDw8IDg7XG4gIHRoaXMucGFkWzZdID0ga2V5WzI4XSAmIDB4ZmYgfCAoa2V5WzI5XSAmIDB4ZmYpIDw8IDg7XG4gIHRoaXMucGFkWzddID0ga2V5WzMwXSAmIDB4ZmYgfCAoa2V5WzMxXSAmIDB4ZmYpIDw8IDg7XG59O1xuXG5wb2x5MTMwNS5wcm90b3R5cGUuYmxvY2tzID0gZnVuY3Rpb24obSwgbXBvcywgYnl0ZXMpIHtcbiAgdmFyIGhpYml0ID0gdGhpcy5maW4gPyAwIDogKDEgPDwgMTEpO1xuICB2YXIgdDAsIHQxLCB0MiwgdDMsIHQ0LCB0NSwgdDYsIHQ3LCBjO1xuICB2YXIgZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDYsIGQ3LCBkOCwgZDk7XG5cbiAgdmFyIGgwID0gdGhpcy5oWzBdLFxuICAgICAgaDEgPSB0aGlzLmhbMV0sXG4gICAgICBoMiA9IHRoaXMuaFsyXSxcbiAgICAgIGgzID0gdGhpcy5oWzNdLFxuICAgICAgaDQgPSB0aGlzLmhbNF0sXG4gICAgICBoNSA9IHRoaXMuaFs1XSxcbiAgICAgIGg2ID0gdGhpcy5oWzZdLFxuICAgICAgaDcgPSB0aGlzLmhbN10sXG4gICAgICBoOCA9IHRoaXMuaFs4XSxcbiAgICAgIGg5ID0gdGhpcy5oWzldO1xuXG4gIHZhciByMCA9IHRoaXMuclswXSxcbiAgICAgIHIxID0gdGhpcy5yWzFdLFxuICAgICAgcjIgPSB0aGlzLnJbMl0sXG4gICAgICByMyA9IHRoaXMuclszXSxcbiAgICAgIHI0ID0gdGhpcy5yWzRdLFxuICAgICAgcjUgPSB0aGlzLnJbNV0sXG4gICAgICByNiA9IHRoaXMucls2XSxcbiAgICAgIHI3ID0gdGhpcy5yWzddLFxuICAgICAgcjggPSB0aGlzLnJbOF0sXG4gICAgICByOSA9IHRoaXMucls5XTtcblxuICB3aGlsZSAoYnl0ZXMgPj0gMTYpIHtcbiAgICB0MCA9IG1bbXBvcysgMF0gJiAweGZmIHwgKG1bbXBvcysgMV0gJiAweGZmKSA8PCA4OyBoMCArPSAoIHQwICAgICAgICAgICAgICAgICAgICAgKSAmIDB4MWZmZjtcbiAgICB0MSA9IG1bbXBvcysgMl0gJiAweGZmIHwgKG1bbXBvcysgM10gJiAweGZmKSA8PCA4OyBoMSArPSAoKHQwID4+PiAxMykgfCAodDEgPDwgIDMpKSAmIDB4MWZmZjtcbiAgICB0MiA9IG1bbXBvcysgNF0gJiAweGZmIHwgKG1bbXBvcysgNV0gJiAweGZmKSA8PCA4OyBoMiArPSAoKHQxID4+PiAxMCkgfCAodDIgPDwgIDYpKSAmIDB4MWZmZjtcbiAgICB0MyA9IG1bbXBvcysgNl0gJiAweGZmIHwgKG1bbXBvcysgN10gJiAweGZmKSA8PCA4OyBoMyArPSAoKHQyID4+PiAgNykgfCAodDMgPDwgIDkpKSAmIDB4MWZmZjtcbiAgICB0NCA9IG1bbXBvcysgOF0gJiAweGZmIHwgKG1bbXBvcysgOV0gJiAweGZmKSA8PCA4OyBoNCArPSAoKHQzID4+PiAgNCkgfCAodDQgPDwgMTIpKSAmIDB4MWZmZjtcbiAgICBoNSArPSAoKHQ0ID4+PiAgMSkpICYgMHgxZmZmO1xuICAgIHQ1ID0gbVttcG9zKzEwXSAmIDB4ZmYgfCAobVttcG9zKzExXSAmIDB4ZmYpIDw8IDg7IGg2ICs9ICgodDQgPj4+IDE0KSB8ICh0NSA8PCAgMikpICYgMHgxZmZmO1xuICAgIHQ2ID0gbVttcG9zKzEyXSAmIDB4ZmYgfCAobVttcG9zKzEzXSAmIDB4ZmYpIDw8IDg7IGg3ICs9ICgodDUgPj4+IDExKSB8ICh0NiA8PCAgNSkpICYgMHgxZmZmO1xuICAgIHQ3ID0gbVttcG9zKzE0XSAmIDB4ZmYgfCAobVttcG9zKzE1XSAmIDB4ZmYpIDw8IDg7IGg4ICs9ICgodDYgPj4+ICA4KSB8ICh0NyA8PCAgOCkpICYgMHgxZmZmO1xuICAgIGg5ICs9ICgodDcgPj4+IDUpKSB8IGhpYml0O1xuXG4gICAgYyA9IDA7XG5cbiAgICBkMCA9IGM7XG4gICAgZDAgKz0gaDAgKiByMDtcbiAgICBkMCArPSBoMSAqICg1ICogcjkpO1xuICAgIGQwICs9IGgyICogKDUgKiByOCk7XG4gICAgZDAgKz0gaDMgKiAoNSAqIHI3KTtcbiAgICBkMCArPSBoNCAqICg1ICogcjYpO1xuICAgIGMgPSAoZDAgPj4+IDEzKTsgZDAgJj0gMHgxZmZmO1xuICAgIGQwICs9IGg1ICogKDUgKiByNSk7XG4gICAgZDAgKz0gaDYgKiAoNSAqIHI0KTtcbiAgICBkMCArPSBoNyAqICg1ICogcjMpO1xuICAgIGQwICs9IGg4ICogKDUgKiByMik7XG4gICAgZDAgKz0gaDkgKiAoNSAqIHIxKTtcbiAgICBjICs9IChkMCA+Pj4gMTMpOyBkMCAmPSAweDFmZmY7XG5cbiAgICBkMSA9IGM7XG4gICAgZDEgKz0gaDAgKiByMTtcbiAgICBkMSArPSBoMSAqIHIwO1xuICAgIGQxICs9IGgyICogKDUgKiByOSk7XG4gICAgZDEgKz0gaDMgKiAoNSAqIHI4KTtcbiAgICBkMSArPSBoNCAqICg1ICogcjcpO1xuICAgIGMgPSAoZDEgPj4+IDEzKTsgZDEgJj0gMHgxZmZmO1xuICAgIGQxICs9IGg1ICogKDUgKiByNik7XG4gICAgZDEgKz0gaDYgKiAoNSAqIHI1KTtcbiAgICBkMSArPSBoNyAqICg1ICogcjQpO1xuICAgIGQxICs9IGg4ICogKDUgKiByMyk7XG4gICAgZDEgKz0gaDkgKiAoNSAqIHIyKTtcbiAgICBjICs9IChkMSA+Pj4gMTMpOyBkMSAmPSAweDFmZmY7XG5cbiAgICBkMiA9IGM7XG4gICAgZDIgKz0gaDAgKiByMjtcbiAgICBkMiArPSBoMSAqIHIxO1xuICAgIGQyICs9IGgyICogcjA7XG4gICAgZDIgKz0gaDMgKiAoNSAqIHI5KTtcbiAgICBkMiArPSBoNCAqICg1ICogcjgpO1xuICAgIGMgPSAoZDIgPj4+IDEzKTsgZDIgJj0gMHgxZmZmO1xuICAgIGQyICs9IGg1ICogKDUgKiByNyk7XG4gICAgZDIgKz0gaDYgKiAoNSAqIHI2KTtcbiAgICBkMiArPSBoNyAqICg1ICogcjUpO1xuICAgIGQyICs9IGg4ICogKDUgKiByNCk7XG4gICAgZDIgKz0gaDkgKiAoNSAqIHIzKTtcbiAgICBjICs9IChkMiA+Pj4gMTMpOyBkMiAmPSAweDFmZmY7XG5cbiAgICBkMyA9IGM7XG4gICAgZDMgKz0gaDAgKiByMztcbiAgICBkMyArPSBoMSAqIHIyO1xuICAgIGQzICs9IGgyICogcjE7XG4gICAgZDMgKz0gaDMgKiByMDtcbiAgICBkMyArPSBoNCAqICg1ICogcjkpO1xuICAgIGMgPSAoZDMgPj4+IDEzKTsgZDMgJj0gMHgxZmZmO1xuICAgIGQzICs9IGg1ICogKDUgKiByOCk7XG4gICAgZDMgKz0gaDYgKiAoNSAqIHI3KTtcbiAgICBkMyArPSBoNyAqICg1ICogcjYpO1xuICAgIGQzICs9IGg4ICogKDUgKiByNSk7XG4gICAgZDMgKz0gaDkgKiAoNSAqIHI0KTtcbiAgICBjICs9IChkMyA+Pj4gMTMpOyBkMyAmPSAweDFmZmY7XG5cbiAgICBkNCA9IGM7XG4gICAgZDQgKz0gaDAgKiByNDtcbiAgICBkNCArPSBoMSAqIHIzO1xuICAgIGQ0ICs9IGgyICogcjI7XG4gICAgZDQgKz0gaDMgKiByMTtcbiAgICBkNCArPSBoNCAqIHIwO1xuICAgIGMgPSAoZDQgPj4+IDEzKTsgZDQgJj0gMHgxZmZmO1xuICAgIGQ0ICs9IGg1ICogKDUgKiByOSk7XG4gICAgZDQgKz0gaDYgKiAoNSAqIHI4KTtcbiAgICBkNCArPSBoNyAqICg1ICogcjcpO1xuICAgIGQ0ICs9IGg4ICogKDUgKiByNik7XG4gICAgZDQgKz0gaDkgKiAoNSAqIHI1KTtcbiAgICBjICs9IChkNCA+Pj4gMTMpOyBkNCAmPSAweDFmZmY7XG5cbiAgICBkNSA9IGM7XG4gICAgZDUgKz0gaDAgKiByNTtcbiAgICBkNSArPSBoMSAqIHI0O1xuICAgIGQ1ICs9IGgyICogcjM7XG4gICAgZDUgKz0gaDMgKiByMjtcbiAgICBkNSArPSBoNCAqIHIxO1xuICAgIGMgPSAoZDUgPj4+IDEzKTsgZDUgJj0gMHgxZmZmO1xuICAgIGQ1ICs9IGg1ICogcjA7XG4gICAgZDUgKz0gaDYgKiAoNSAqIHI5KTtcbiAgICBkNSArPSBoNyAqICg1ICogcjgpO1xuICAgIGQ1ICs9IGg4ICogKDUgKiByNyk7XG4gICAgZDUgKz0gaDkgKiAoNSAqIHI2KTtcbiAgICBjICs9IChkNSA+Pj4gMTMpOyBkNSAmPSAweDFmZmY7XG5cbiAgICBkNiA9IGM7XG4gICAgZDYgKz0gaDAgKiByNjtcbiAgICBkNiArPSBoMSAqIHI1O1xuICAgIGQ2ICs9IGgyICogcjQ7XG4gICAgZDYgKz0gaDMgKiByMztcbiAgICBkNiArPSBoNCAqIHIyO1xuICAgIGMgPSAoZDYgPj4+IDEzKTsgZDYgJj0gMHgxZmZmO1xuICAgIGQ2ICs9IGg1ICogcjE7XG4gICAgZDYgKz0gaDYgKiByMDtcbiAgICBkNiArPSBoNyAqICg1ICogcjkpO1xuICAgIGQ2ICs9IGg4ICogKDUgKiByOCk7XG4gICAgZDYgKz0gaDkgKiAoNSAqIHI3KTtcbiAgICBjICs9IChkNiA+Pj4gMTMpOyBkNiAmPSAweDFmZmY7XG5cbiAgICBkNyA9IGM7XG4gICAgZDcgKz0gaDAgKiByNztcbiAgICBkNyArPSBoMSAqIHI2O1xuICAgIGQ3ICs9IGgyICogcjU7XG4gICAgZDcgKz0gaDMgKiByNDtcbiAgICBkNyArPSBoNCAqIHIzO1xuICAgIGMgPSAoZDcgPj4+IDEzKTsgZDcgJj0gMHgxZmZmO1xuICAgIGQ3ICs9IGg1ICogcjI7XG4gICAgZDcgKz0gaDYgKiByMTtcbiAgICBkNyArPSBoNyAqIHIwO1xuICAgIGQ3ICs9IGg4ICogKDUgKiByOSk7XG4gICAgZDcgKz0gaDkgKiAoNSAqIHI4KTtcbiAgICBjICs9IChkNyA+Pj4gMTMpOyBkNyAmPSAweDFmZmY7XG5cbiAgICBkOCA9IGM7XG4gICAgZDggKz0gaDAgKiByODtcbiAgICBkOCArPSBoMSAqIHI3O1xuICAgIGQ4ICs9IGgyICogcjY7XG4gICAgZDggKz0gaDMgKiByNTtcbiAgICBkOCArPSBoNCAqIHI0O1xuICAgIGMgPSAoZDggPj4+IDEzKTsgZDggJj0gMHgxZmZmO1xuICAgIGQ4ICs9IGg1ICogcjM7XG4gICAgZDggKz0gaDYgKiByMjtcbiAgICBkOCArPSBoNyAqIHIxO1xuICAgIGQ4ICs9IGg4ICogcjA7XG4gICAgZDggKz0gaDkgKiAoNSAqIHI5KTtcbiAgICBjICs9IChkOCA+Pj4gMTMpOyBkOCAmPSAweDFmZmY7XG5cbiAgICBkOSA9IGM7XG4gICAgZDkgKz0gaDAgKiByOTtcbiAgICBkOSArPSBoMSAqIHI4O1xuICAgIGQ5ICs9IGgyICogcjc7XG4gICAgZDkgKz0gaDMgKiByNjtcbiAgICBkOSArPSBoNCAqIHI1O1xuICAgIGMgPSAoZDkgPj4+IDEzKTsgZDkgJj0gMHgxZmZmO1xuICAgIGQ5ICs9IGg1ICogcjQ7XG4gICAgZDkgKz0gaDYgKiByMztcbiAgICBkOSArPSBoNyAqIHIyO1xuICAgIGQ5ICs9IGg4ICogcjE7XG4gICAgZDkgKz0gaDkgKiByMDtcbiAgICBjICs9IChkOSA+Pj4gMTMpOyBkOSAmPSAweDFmZmY7XG5cbiAgICBjID0gKCgoYyA8PCAyKSArIGMpKSB8IDA7XG4gICAgYyA9IChjICsgZDApIHwgMDtcbiAgICBkMCA9IGMgJiAweDFmZmY7XG4gICAgYyA9IChjID4+PiAxMyk7XG4gICAgZDEgKz0gYztcblxuICAgIGgwID0gZDA7XG4gICAgaDEgPSBkMTtcbiAgICBoMiA9IGQyO1xuICAgIGgzID0gZDM7XG4gICAgaDQgPSBkNDtcbiAgICBoNSA9IGQ1O1xuICAgIGg2ID0gZDY7XG4gICAgaDcgPSBkNztcbiAgICBoOCA9IGQ4O1xuICAgIGg5ID0gZDk7XG5cbiAgICBtcG9zICs9IDE2O1xuICAgIGJ5dGVzIC09IDE2O1xuICB9XG4gIHRoaXMuaFswXSA9IGgwO1xuICB0aGlzLmhbMV0gPSBoMTtcbiAgdGhpcy5oWzJdID0gaDI7XG4gIHRoaXMuaFszXSA9IGgzO1xuICB0aGlzLmhbNF0gPSBoNDtcbiAgdGhpcy5oWzVdID0gaDU7XG4gIHRoaXMuaFs2XSA9IGg2O1xuICB0aGlzLmhbN10gPSBoNztcbiAgdGhpcy5oWzhdID0gaDg7XG4gIHRoaXMuaFs5XSA9IGg5O1xufTtcblxucG9seTEzMDUucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uKG1hYywgbWFjcG9zKSB7XG4gIHZhciBnID0gbmV3IFVpbnQxNkFycmF5KDEwKTtcbiAgdmFyIGMsIG1hc2ssIGYsIGk7XG5cbiAgaWYgKHRoaXMubGVmdG92ZXIpIHtcbiAgICBpID0gdGhpcy5sZWZ0b3ZlcjtcbiAgICB0aGlzLmJ1ZmZlcltpKytdID0gMTtcbiAgICBmb3IgKDsgaSA8IDE2OyBpKyspIHRoaXMuYnVmZmVyW2ldID0gMDtcbiAgICB0aGlzLmZpbiA9IDE7XG4gICAgdGhpcy5ibG9ja3ModGhpcy5idWZmZXIsIDAsIDE2KTtcbiAgfVxuXG4gIGMgPSB0aGlzLmhbMV0gPj4+IDEzO1xuICB0aGlzLmhbMV0gJj0gMHgxZmZmO1xuICBmb3IgKGkgPSAyOyBpIDwgMTA7IGkrKykge1xuICAgIHRoaXMuaFtpXSArPSBjO1xuICAgIGMgPSB0aGlzLmhbaV0gPj4+IDEzO1xuICAgIHRoaXMuaFtpXSAmPSAweDFmZmY7XG4gIH1cbiAgdGhpcy5oWzBdICs9IChjICogNSk7XG4gIGMgPSB0aGlzLmhbMF0gPj4+IDEzO1xuICB0aGlzLmhbMF0gJj0gMHgxZmZmO1xuICB0aGlzLmhbMV0gKz0gYztcbiAgYyA9IHRoaXMuaFsxXSA+Pj4gMTM7XG4gIHRoaXMuaFsxXSAmPSAweDFmZmY7XG4gIHRoaXMuaFsyXSArPSBjO1xuXG4gIGdbMF0gPSB0aGlzLmhbMF0gKyA1O1xuICBjID0gZ1swXSA+Pj4gMTM7XG4gIGdbMF0gJj0gMHgxZmZmO1xuICBmb3IgKGkgPSAxOyBpIDwgMTA7IGkrKykge1xuICAgIGdbaV0gPSB0aGlzLmhbaV0gKyBjO1xuICAgIGMgPSBnW2ldID4+PiAxMztcbiAgICBnW2ldICY9IDB4MWZmZjtcbiAgfVxuICBnWzldIC09ICgxIDw8IDEzKTtcblxuICBtYXNrID0gKGMgXiAxKSAtIDE7XG4gIGZvciAoaSA9IDA7IGkgPCAxMDsgaSsrKSBnW2ldICY9IG1hc2s7XG4gIG1hc2sgPSB+bWFzaztcbiAgZm9yIChpID0gMDsgaSA8IDEwOyBpKyspIHRoaXMuaFtpXSA9ICh0aGlzLmhbaV0gJiBtYXNrKSB8IGdbaV07XG5cbiAgdGhpcy5oWzBdID0gKCh0aGlzLmhbMF0gICAgICAgKSB8ICh0aGlzLmhbMV0gPDwgMTMpICAgICAgICAgICAgICAgICAgICApICYgMHhmZmZmO1xuICB0aGlzLmhbMV0gPSAoKHRoaXMuaFsxXSA+Pj4gIDMpIHwgKHRoaXMuaFsyXSA8PCAxMCkgICAgICAgICAgICAgICAgICAgICkgJiAweGZmZmY7XG4gIHRoaXMuaFsyXSA9ICgodGhpcy5oWzJdID4+PiAgNikgfCAodGhpcy5oWzNdIDw8ICA3KSAgICAgICAgICAgICAgICAgICAgKSAmIDB4ZmZmZjtcbiAgdGhpcy5oWzNdID0gKCh0aGlzLmhbM10gPj4+ICA5KSB8ICh0aGlzLmhbNF0gPDwgIDQpICAgICAgICAgICAgICAgICAgICApICYgMHhmZmZmO1xuICB0aGlzLmhbNF0gPSAoKHRoaXMuaFs0XSA+Pj4gMTIpIHwgKHRoaXMuaFs1XSA8PCAgMSkgfCAodGhpcy5oWzZdIDw8IDE0KSkgJiAweGZmZmY7XG4gIHRoaXMuaFs1XSA9ICgodGhpcy5oWzZdID4+PiAgMikgfCAodGhpcy5oWzddIDw8IDExKSAgICAgICAgICAgICAgICAgICAgKSAmIDB4ZmZmZjtcbiAgdGhpcy5oWzZdID0gKCh0aGlzLmhbN10gPj4+ICA1KSB8ICh0aGlzLmhbOF0gPDwgIDgpICAgICAgICAgICAgICAgICAgICApICYgMHhmZmZmO1xuICB0aGlzLmhbN10gPSAoKHRoaXMuaFs4XSA+Pj4gIDgpIHwgKHRoaXMuaFs5XSA8PCAgNSkgICAgICAgICAgICAgICAgICAgICkgJiAweGZmZmY7XG5cbiAgZiA9IHRoaXMuaFswXSArIHRoaXMucGFkWzBdO1xuICB0aGlzLmhbMF0gPSBmICYgMHhmZmZmO1xuICBmb3IgKGkgPSAxOyBpIDwgODsgaSsrKSB7XG4gICAgZiA9ICgoKHRoaXMuaFtpXSArIHRoaXMucGFkW2ldKSB8IDApICsgKGYgPj4+IDE2KSkgfCAwO1xuICAgIHRoaXMuaFtpXSA9IGYgJiAweGZmZmY7XG4gIH1cblxuICBtYWNbbWFjcG9zKyAwXSA9ICh0aGlzLmhbMF0gPj4+IDApICYgMHhmZjtcbiAgbWFjW21hY3BvcysgMV0gPSAodGhpcy5oWzBdID4+PiA4KSAmIDB4ZmY7XG4gIG1hY1ttYWNwb3MrIDJdID0gKHRoaXMuaFsxXSA+Pj4gMCkgJiAweGZmO1xuICBtYWNbbWFjcG9zKyAzXSA9ICh0aGlzLmhbMV0gPj4+IDgpICYgMHhmZjtcbiAgbWFjW21hY3BvcysgNF0gPSAodGhpcy5oWzJdID4+PiAwKSAmIDB4ZmY7XG4gIG1hY1ttYWNwb3MrIDVdID0gKHRoaXMuaFsyXSA+Pj4gOCkgJiAweGZmO1xuICBtYWNbbWFjcG9zKyA2XSA9ICh0aGlzLmhbM10gPj4+IDApICYgMHhmZjtcbiAgbWFjW21hY3BvcysgN10gPSAodGhpcy5oWzNdID4+PiA4KSAmIDB4ZmY7XG4gIG1hY1ttYWNwb3MrIDhdID0gKHRoaXMuaFs0XSA+Pj4gMCkgJiAweGZmO1xuICBtYWNbbWFjcG9zKyA5XSA9ICh0aGlzLmhbNF0gPj4+IDgpICYgMHhmZjtcbiAgbWFjW21hY3BvcysxMF0gPSAodGhpcy5oWzVdID4+PiAwKSAmIDB4ZmY7XG4gIG1hY1ttYWNwb3MrMTFdID0gKHRoaXMuaFs1XSA+Pj4gOCkgJiAweGZmO1xuICBtYWNbbWFjcG9zKzEyXSA9ICh0aGlzLmhbNl0gPj4+IDApICYgMHhmZjtcbiAgbWFjW21hY3BvcysxM10gPSAodGhpcy5oWzZdID4+PiA4KSAmIDB4ZmY7XG4gIG1hY1ttYWNwb3MrMTRdID0gKHRoaXMuaFs3XSA+Pj4gMCkgJiAweGZmO1xuICBtYWNbbWFjcG9zKzE1XSA9ICh0aGlzLmhbN10gPj4+IDgpICYgMHhmZjtcbn07XG5cbnBvbHkxMzA1LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihtLCBtcG9zLCBieXRlcykge1xuICB2YXIgaSwgd2FudDtcblxuICBpZiAodGhpcy5sZWZ0b3Zlcikge1xuICAgIHdhbnQgPSAoMTYgLSB0aGlzLmxlZnRvdmVyKTtcbiAgICBpZiAod2FudCA+IGJ5dGVzKVxuICAgICAgd2FudCA9IGJ5dGVzO1xuICAgIGZvciAoaSA9IDA7IGkgPCB3YW50OyBpKyspXG4gICAgICB0aGlzLmJ1ZmZlclt0aGlzLmxlZnRvdmVyICsgaV0gPSBtW21wb3MraV07XG4gICAgYnl0ZXMgLT0gd2FudDtcbiAgICBtcG9zICs9IHdhbnQ7XG4gICAgdGhpcy5sZWZ0b3ZlciArPSB3YW50O1xuICAgIGlmICh0aGlzLmxlZnRvdmVyIDwgMTYpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5ibG9ja3ModGhpcy5idWZmZXIsIDAsIDE2KTtcbiAgICB0aGlzLmxlZnRvdmVyID0gMDtcbiAgfVxuXG4gIGlmIChieXRlcyA+PSAxNikge1xuICAgIHdhbnQgPSBieXRlcyAtIChieXRlcyAlIDE2KTtcbiAgICB0aGlzLmJsb2NrcyhtLCBtcG9zLCB3YW50KTtcbiAgICBtcG9zICs9IHdhbnQ7XG4gICAgYnl0ZXMgLT0gd2FudDtcbiAgfVxuXG4gIGlmIChieXRlcykge1xuICAgIGZvciAoaSA9IDA7IGkgPCBieXRlczsgaSsrKVxuICAgICAgdGhpcy5idWZmZXJbdGhpcy5sZWZ0b3ZlciArIGldID0gbVttcG9zK2ldO1xuICAgIHRoaXMubGVmdG92ZXIgKz0gYnl0ZXM7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNyeXB0b19vbmV0aW1lYXV0aChvdXQsIG91dHBvcywgbSwgbXBvcywgbiwgaykge1xuICB2YXIgcyA9IG5ldyBwb2x5MTMwNShrKTtcbiAgcy51cGRhdGUobSwgbXBvcywgbik7XG4gIHMuZmluaXNoKG91dCwgb3V0cG9zKTtcbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19vbmV0aW1lYXV0aF92ZXJpZnkoaCwgaHBvcywgbSwgbXBvcywgbiwgaykge1xuICB2YXIgeCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgY3J5cHRvX29uZXRpbWVhdXRoKHgsMCxtLG1wb3MsbixrKTtcbiAgcmV0dXJuIGNyeXB0b192ZXJpZnlfMTYoaCxocG9zLHgsMCk7XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19zZWNyZXRib3goYyxtLGQsbixrKSB7XG4gIHZhciBpO1xuICBpZiAoZCA8IDMyKSByZXR1cm4gLTE7XG4gIGNyeXB0b19zdHJlYW1feG9yKGMsMCxtLDAsZCxuLGspO1xuICBjcnlwdG9fb25ldGltZWF1dGgoYywgMTYsIGMsIDMyLCBkIC0gMzIsIGMpO1xuICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkrKykgY1tpXSA9IDA7XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fc2VjcmV0Ym94X29wZW4obSxjLGQsbixrKSB7XG4gIHZhciBpO1xuICB2YXIgeCA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgaWYgKGQgPCAzMikgcmV0dXJuIC0xO1xuICBjcnlwdG9fc3RyZWFtKHgsMCwzMixuLGspO1xuICBpZiAoY3J5cHRvX29uZXRpbWVhdXRoX3ZlcmlmeShjLCAxNixjLCAzMixkIC0gMzIseCkgIT09IDApIHJldHVybiAtMTtcbiAgY3J5cHRvX3N0cmVhbV94b3IobSwwLGMsMCxkLG4sayk7XG4gIGZvciAoaSA9IDA7IGkgPCAzMjsgaSsrKSBtW2ldID0gMDtcbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIHNldDI1NTE5KHIsIGEpIHtcbiAgdmFyIGk7XG4gIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSByW2ldID0gYVtpXXwwO1xufVxuXG5mdW5jdGlvbiBjYXIyNTUxOShvKSB7XG4gIHZhciBpLCB2LCBjID0gMTtcbiAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICB2ID0gb1tpXSArIGMgKyA2NTUzNTtcbiAgICBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpO1xuICAgIG9baV0gPSB2IC0gYyAqIDY1NTM2O1xuICB9XG4gIG9bMF0gKz0gYy0xICsgMzcgKiAoYy0xKTtcbn1cblxuZnVuY3Rpb24gc2VsMjU1MTkocCwgcSwgYikge1xuICB2YXIgdCwgYyA9IH4oYi0xKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgdCA9IGMgJiAocFtpXSBeIHFbaV0pO1xuICAgIHBbaV0gXj0gdDtcbiAgICBxW2ldIF49IHQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFjazI1NTE5KG8sIG4pIHtcbiAgdmFyIGksIGosIGI7XG4gIHZhciBtID0gZ2YoKSwgdCA9IGdmKCk7XG4gIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB0W2ldID0gbltpXTtcbiAgY2FyMjU1MTkodCk7XG4gIGNhcjI1NTE5KHQpO1xuICBjYXIyNTUxOSh0KTtcbiAgZm9yIChqID0gMDsgaiA8IDI7IGorKykge1xuICAgIG1bMF0gPSB0WzBdIC0gMHhmZmVkO1xuICAgIGZvciAoaSA9IDE7IGkgPCAxNTsgaSsrKSB7XG4gICAgICBtW2ldID0gdFtpXSAtIDB4ZmZmZiAtICgobVtpLTFdPj4xNikgJiAxKTtcbiAgICAgIG1baS0xXSAmPSAweGZmZmY7XG4gICAgfVxuICAgIG1bMTVdID0gdFsxNV0gLSAweDdmZmYgLSAoKG1bMTRdPj4xNikgJiAxKTtcbiAgICBiID0gKG1bMTVdPj4xNikgJiAxO1xuICAgIG1bMTRdICY9IDB4ZmZmZjtcbiAgICBzZWwyNTUxOSh0LCBtLCAxLWIpO1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgb1syKmldID0gdFtpXSAmIDB4ZmY7XG4gICAgb1syKmkrMV0gPSB0W2ldPj44O1xuICB9XG59XG5cbmZ1bmN0aW9uIG5lcTI1NTE5KGEsIGIpIHtcbiAgdmFyIGMgPSBuZXcgVWludDhBcnJheSgzMiksIGQgPSBuZXcgVWludDhBcnJheSgzMik7XG4gIHBhY2syNTUxOShjLCBhKTtcbiAgcGFjazI1NTE5KGQsIGIpO1xuICByZXR1cm4gY3J5cHRvX3ZlcmlmeV8zMihjLCAwLCBkLCAwKTtcbn1cblxuZnVuY3Rpb24gcGFyMjU1MTkoYSkge1xuICB2YXIgZCA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgcGFjazI1NTE5KGQsIGEpO1xuICByZXR1cm4gZFswXSAmIDE7XG59XG5cbmZ1bmN0aW9uIHVucGFjazI1NTE5KG8sIG4pIHtcbiAgdmFyIGk7XG4gIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSBvW2ldID0gblsyKmldICsgKG5bMippKzFdIDw8IDgpO1xuICBvWzE1XSAmPSAweDdmZmY7XG59XG5cbmZ1bmN0aW9uIEEobywgYSwgYikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIG9baV0gPSBhW2ldICsgYltpXTtcbn1cblxuZnVuY3Rpb24gWihvLCBhLCBiKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykgb1tpXSA9IGFbaV0gLSBiW2ldO1xufVxuXG5mdW5jdGlvbiBNKG8sIGEsIGIpIHtcbiAgdmFyIHYsIGMsXG4gICAgIHQwID0gMCwgIHQxID0gMCwgIHQyID0gMCwgIHQzID0gMCwgIHQ0ID0gMCwgIHQ1ID0gMCwgIHQ2ID0gMCwgIHQ3ID0gMCxcbiAgICAgdDggPSAwLCAgdDkgPSAwLCB0MTAgPSAwLCB0MTEgPSAwLCB0MTIgPSAwLCB0MTMgPSAwLCB0MTQgPSAwLCB0MTUgPSAwLFxuICAgIHQxNiA9IDAsIHQxNyA9IDAsIHQxOCA9IDAsIHQxOSA9IDAsIHQyMCA9IDAsIHQyMSA9IDAsIHQyMiA9IDAsIHQyMyA9IDAsXG4gICAgdDI0ID0gMCwgdDI1ID0gMCwgdDI2ID0gMCwgdDI3ID0gMCwgdDI4ID0gMCwgdDI5ID0gMCwgdDMwID0gMCxcbiAgICBiMCA9IGJbMF0sXG4gICAgYjEgPSBiWzFdLFxuICAgIGIyID0gYlsyXSxcbiAgICBiMyA9IGJbM10sXG4gICAgYjQgPSBiWzRdLFxuICAgIGI1ID0gYls1XSxcbiAgICBiNiA9IGJbNl0sXG4gICAgYjcgPSBiWzddLFxuICAgIGI4ID0gYls4XSxcbiAgICBiOSA9IGJbOV0sXG4gICAgYjEwID0gYlsxMF0sXG4gICAgYjExID0gYlsxMV0sXG4gICAgYjEyID0gYlsxMl0sXG4gICAgYjEzID0gYlsxM10sXG4gICAgYjE0ID0gYlsxNF0sXG4gICAgYjE1ID0gYlsxNV07XG5cbiAgdiA9IGFbMF07XG4gIHQwICs9IHYgKiBiMDtcbiAgdDEgKz0gdiAqIGIxO1xuICB0MiArPSB2ICogYjI7XG4gIHQzICs9IHYgKiBiMztcbiAgdDQgKz0gdiAqIGI0O1xuICB0NSArPSB2ICogYjU7XG4gIHQ2ICs9IHYgKiBiNjtcbiAgdDcgKz0gdiAqIGI3O1xuICB0OCArPSB2ICogYjg7XG4gIHQ5ICs9IHYgKiBiOTtcbiAgdDEwICs9IHYgKiBiMTA7XG4gIHQxMSArPSB2ICogYjExO1xuICB0MTIgKz0gdiAqIGIxMjtcbiAgdDEzICs9IHYgKiBiMTM7XG4gIHQxNCArPSB2ICogYjE0O1xuICB0MTUgKz0gdiAqIGIxNTtcbiAgdiA9IGFbMV07XG4gIHQxICs9IHYgKiBiMDtcbiAgdDIgKz0gdiAqIGIxO1xuICB0MyArPSB2ICogYjI7XG4gIHQ0ICs9IHYgKiBiMztcbiAgdDUgKz0gdiAqIGI0O1xuICB0NiArPSB2ICogYjU7XG4gIHQ3ICs9IHYgKiBiNjtcbiAgdDggKz0gdiAqIGI3O1xuICB0OSArPSB2ICogYjg7XG4gIHQxMCArPSB2ICogYjk7XG4gIHQxMSArPSB2ICogYjEwO1xuICB0MTIgKz0gdiAqIGIxMTtcbiAgdDEzICs9IHYgKiBiMTI7XG4gIHQxNCArPSB2ICogYjEzO1xuICB0MTUgKz0gdiAqIGIxNDtcbiAgdDE2ICs9IHYgKiBiMTU7XG4gIHYgPSBhWzJdO1xuICB0MiArPSB2ICogYjA7XG4gIHQzICs9IHYgKiBiMTtcbiAgdDQgKz0gdiAqIGIyO1xuICB0NSArPSB2ICogYjM7XG4gIHQ2ICs9IHYgKiBiNDtcbiAgdDcgKz0gdiAqIGI1O1xuICB0OCArPSB2ICogYjY7XG4gIHQ5ICs9IHYgKiBiNztcbiAgdDEwICs9IHYgKiBiODtcbiAgdDExICs9IHYgKiBiOTtcbiAgdDEyICs9IHYgKiBiMTA7XG4gIHQxMyArPSB2ICogYjExO1xuICB0MTQgKz0gdiAqIGIxMjtcbiAgdDE1ICs9IHYgKiBiMTM7XG4gIHQxNiArPSB2ICogYjE0O1xuICB0MTcgKz0gdiAqIGIxNTtcbiAgdiA9IGFbM107XG4gIHQzICs9IHYgKiBiMDtcbiAgdDQgKz0gdiAqIGIxO1xuICB0NSArPSB2ICogYjI7XG4gIHQ2ICs9IHYgKiBiMztcbiAgdDcgKz0gdiAqIGI0O1xuICB0OCArPSB2ICogYjU7XG4gIHQ5ICs9IHYgKiBiNjtcbiAgdDEwICs9IHYgKiBiNztcbiAgdDExICs9IHYgKiBiODtcbiAgdDEyICs9IHYgKiBiOTtcbiAgdDEzICs9IHYgKiBiMTA7XG4gIHQxNCArPSB2ICogYjExO1xuICB0MTUgKz0gdiAqIGIxMjtcbiAgdDE2ICs9IHYgKiBiMTM7XG4gIHQxNyArPSB2ICogYjE0O1xuICB0MTggKz0gdiAqIGIxNTtcbiAgdiA9IGFbNF07XG4gIHQ0ICs9IHYgKiBiMDtcbiAgdDUgKz0gdiAqIGIxO1xuICB0NiArPSB2ICogYjI7XG4gIHQ3ICs9IHYgKiBiMztcbiAgdDggKz0gdiAqIGI0O1xuICB0OSArPSB2ICogYjU7XG4gIHQxMCArPSB2ICogYjY7XG4gIHQxMSArPSB2ICogYjc7XG4gIHQxMiArPSB2ICogYjg7XG4gIHQxMyArPSB2ICogYjk7XG4gIHQxNCArPSB2ICogYjEwO1xuICB0MTUgKz0gdiAqIGIxMTtcbiAgdDE2ICs9IHYgKiBiMTI7XG4gIHQxNyArPSB2ICogYjEzO1xuICB0MTggKz0gdiAqIGIxNDtcbiAgdDE5ICs9IHYgKiBiMTU7XG4gIHYgPSBhWzVdO1xuICB0NSArPSB2ICogYjA7XG4gIHQ2ICs9IHYgKiBiMTtcbiAgdDcgKz0gdiAqIGIyO1xuICB0OCArPSB2ICogYjM7XG4gIHQ5ICs9IHYgKiBiNDtcbiAgdDEwICs9IHYgKiBiNTtcbiAgdDExICs9IHYgKiBiNjtcbiAgdDEyICs9IHYgKiBiNztcbiAgdDEzICs9IHYgKiBiODtcbiAgdDE0ICs9IHYgKiBiOTtcbiAgdDE1ICs9IHYgKiBiMTA7XG4gIHQxNiArPSB2ICogYjExO1xuICB0MTcgKz0gdiAqIGIxMjtcbiAgdDE4ICs9IHYgKiBiMTM7XG4gIHQxOSArPSB2ICogYjE0O1xuICB0MjAgKz0gdiAqIGIxNTtcbiAgdiA9IGFbNl07XG4gIHQ2ICs9IHYgKiBiMDtcbiAgdDcgKz0gdiAqIGIxO1xuICB0OCArPSB2ICogYjI7XG4gIHQ5ICs9IHYgKiBiMztcbiAgdDEwICs9IHYgKiBiNDtcbiAgdDExICs9IHYgKiBiNTtcbiAgdDEyICs9IHYgKiBiNjtcbiAgdDEzICs9IHYgKiBiNztcbiAgdDE0ICs9IHYgKiBiODtcbiAgdDE1ICs9IHYgKiBiOTtcbiAgdDE2ICs9IHYgKiBiMTA7XG4gIHQxNyArPSB2ICogYjExO1xuICB0MTggKz0gdiAqIGIxMjtcbiAgdDE5ICs9IHYgKiBiMTM7XG4gIHQyMCArPSB2ICogYjE0O1xuICB0MjEgKz0gdiAqIGIxNTtcbiAgdiA9IGFbN107XG4gIHQ3ICs9IHYgKiBiMDtcbiAgdDggKz0gdiAqIGIxO1xuICB0OSArPSB2ICogYjI7XG4gIHQxMCArPSB2ICogYjM7XG4gIHQxMSArPSB2ICogYjQ7XG4gIHQxMiArPSB2ICogYjU7XG4gIHQxMyArPSB2ICogYjY7XG4gIHQxNCArPSB2ICogYjc7XG4gIHQxNSArPSB2ICogYjg7XG4gIHQxNiArPSB2ICogYjk7XG4gIHQxNyArPSB2ICogYjEwO1xuICB0MTggKz0gdiAqIGIxMTtcbiAgdDE5ICs9IHYgKiBiMTI7XG4gIHQyMCArPSB2ICogYjEzO1xuICB0MjEgKz0gdiAqIGIxNDtcbiAgdDIyICs9IHYgKiBiMTU7XG4gIHYgPSBhWzhdO1xuICB0OCArPSB2ICogYjA7XG4gIHQ5ICs9IHYgKiBiMTtcbiAgdDEwICs9IHYgKiBiMjtcbiAgdDExICs9IHYgKiBiMztcbiAgdDEyICs9IHYgKiBiNDtcbiAgdDEzICs9IHYgKiBiNTtcbiAgdDE0ICs9IHYgKiBiNjtcbiAgdDE1ICs9IHYgKiBiNztcbiAgdDE2ICs9IHYgKiBiODtcbiAgdDE3ICs9IHYgKiBiOTtcbiAgdDE4ICs9IHYgKiBiMTA7XG4gIHQxOSArPSB2ICogYjExO1xuICB0MjAgKz0gdiAqIGIxMjtcbiAgdDIxICs9IHYgKiBiMTM7XG4gIHQyMiArPSB2ICogYjE0O1xuICB0MjMgKz0gdiAqIGIxNTtcbiAgdiA9IGFbOV07XG4gIHQ5ICs9IHYgKiBiMDtcbiAgdDEwICs9IHYgKiBiMTtcbiAgdDExICs9IHYgKiBiMjtcbiAgdDEyICs9IHYgKiBiMztcbiAgdDEzICs9IHYgKiBiNDtcbiAgdDE0ICs9IHYgKiBiNTtcbiAgdDE1ICs9IHYgKiBiNjtcbiAgdDE2ICs9IHYgKiBiNztcbiAgdDE3ICs9IHYgKiBiODtcbiAgdDE4ICs9IHYgKiBiOTtcbiAgdDE5ICs9IHYgKiBiMTA7XG4gIHQyMCArPSB2ICogYjExO1xuICB0MjEgKz0gdiAqIGIxMjtcbiAgdDIyICs9IHYgKiBiMTM7XG4gIHQyMyArPSB2ICogYjE0O1xuICB0MjQgKz0gdiAqIGIxNTtcbiAgdiA9IGFbMTBdO1xuICB0MTAgKz0gdiAqIGIwO1xuICB0MTEgKz0gdiAqIGIxO1xuICB0MTIgKz0gdiAqIGIyO1xuICB0MTMgKz0gdiAqIGIzO1xuICB0MTQgKz0gdiAqIGI0O1xuICB0MTUgKz0gdiAqIGI1O1xuICB0MTYgKz0gdiAqIGI2O1xuICB0MTcgKz0gdiAqIGI3O1xuICB0MTggKz0gdiAqIGI4O1xuICB0MTkgKz0gdiAqIGI5O1xuICB0MjAgKz0gdiAqIGIxMDtcbiAgdDIxICs9IHYgKiBiMTE7XG4gIHQyMiArPSB2ICogYjEyO1xuICB0MjMgKz0gdiAqIGIxMztcbiAgdDI0ICs9IHYgKiBiMTQ7XG4gIHQyNSArPSB2ICogYjE1O1xuICB2ID0gYVsxMV07XG4gIHQxMSArPSB2ICogYjA7XG4gIHQxMiArPSB2ICogYjE7XG4gIHQxMyArPSB2ICogYjI7XG4gIHQxNCArPSB2ICogYjM7XG4gIHQxNSArPSB2ICogYjQ7XG4gIHQxNiArPSB2ICogYjU7XG4gIHQxNyArPSB2ICogYjY7XG4gIHQxOCArPSB2ICogYjc7XG4gIHQxOSArPSB2ICogYjg7XG4gIHQyMCArPSB2ICogYjk7XG4gIHQyMSArPSB2ICogYjEwO1xuICB0MjIgKz0gdiAqIGIxMTtcbiAgdDIzICs9IHYgKiBiMTI7XG4gIHQyNCArPSB2ICogYjEzO1xuICB0MjUgKz0gdiAqIGIxNDtcbiAgdDI2ICs9IHYgKiBiMTU7XG4gIHYgPSBhWzEyXTtcbiAgdDEyICs9IHYgKiBiMDtcbiAgdDEzICs9IHYgKiBiMTtcbiAgdDE0ICs9IHYgKiBiMjtcbiAgdDE1ICs9IHYgKiBiMztcbiAgdDE2ICs9IHYgKiBiNDtcbiAgdDE3ICs9IHYgKiBiNTtcbiAgdDE4ICs9IHYgKiBiNjtcbiAgdDE5ICs9IHYgKiBiNztcbiAgdDIwICs9IHYgKiBiODtcbiAgdDIxICs9IHYgKiBiOTtcbiAgdDIyICs9IHYgKiBiMTA7XG4gIHQyMyArPSB2ICogYjExO1xuICB0MjQgKz0gdiAqIGIxMjtcbiAgdDI1ICs9IHYgKiBiMTM7XG4gIHQyNiArPSB2ICogYjE0O1xuICB0MjcgKz0gdiAqIGIxNTtcbiAgdiA9IGFbMTNdO1xuICB0MTMgKz0gdiAqIGIwO1xuICB0MTQgKz0gdiAqIGIxO1xuICB0MTUgKz0gdiAqIGIyO1xuICB0MTYgKz0gdiAqIGIzO1xuICB0MTcgKz0gdiAqIGI0O1xuICB0MTggKz0gdiAqIGI1O1xuICB0MTkgKz0gdiAqIGI2O1xuICB0MjAgKz0gdiAqIGI3O1xuICB0MjEgKz0gdiAqIGI4O1xuICB0MjIgKz0gdiAqIGI5O1xuICB0MjMgKz0gdiAqIGIxMDtcbiAgdDI0ICs9IHYgKiBiMTE7XG4gIHQyNSArPSB2ICogYjEyO1xuICB0MjYgKz0gdiAqIGIxMztcbiAgdDI3ICs9IHYgKiBiMTQ7XG4gIHQyOCArPSB2ICogYjE1O1xuICB2ID0gYVsxNF07XG4gIHQxNCArPSB2ICogYjA7XG4gIHQxNSArPSB2ICogYjE7XG4gIHQxNiArPSB2ICogYjI7XG4gIHQxNyArPSB2ICogYjM7XG4gIHQxOCArPSB2ICogYjQ7XG4gIHQxOSArPSB2ICogYjU7XG4gIHQyMCArPSB2ICogYjY7XG4gIHQyMSArPSB2ICogYjc7XG4gIHQyMiArPSB2ICogYjg7XG4gIHQyMyArPSB2ICogYjk7XG4gIHQyNCArPSB2ICogYjEwO1xuICB0MjUgKz0gdiAqIGIxMTtcbiAgdDI2ICs9IHYgKiBiMTI7XG4gIHQyNyArPSB2ICogYjEzO1xuICB0MjggKz0gdiAqIGIxNDtcbiAgdDI5ICs9IHYgKiBiMTU7XG4gIHYgPSBhWzE1XTtcbiAgdDE1ICs9IHYgKiBiMDtcbiAgdDE2ICs9IHYgKiBiMTtcbiAgdDE3ICs9IHYgKiBiMjtcbiAgdDE4ICs9IHYgKiBiMztcbiAgdDE5ICs9IHYgKiBiNDtcbiAgdDIwICs9IHYgKiBiNTtcbiAgdDIxICs9IHYgKiBiNjtcbiAgdDIyICs9IHYgKiBiNztcbiAgdDIzICs9IHYgKiBiODtcbiAgdDI0ICs9IHYgKiBiOTtcbiAgdDI1ICs9IHYgKiBiMTA7XG4gIHQyNiArPSB2ICogYjExO1xuICB0MjcgKz0gdiAqIGIxMjtcbiAgdDI4ICs9IHYgKiBiMTM7XG4gIHQyOSArPSB2ICogYjE0O1xuICB0MzAgKz0gdiAqIGIxNTtcblxuICB0MCAgKz0gMzggKiB0MTY7XG4gIHQxICArPSAzOCAqIHQxNztcbiAgdDIgICs9IDM4ICogdDE4O1xuICB0MyAgKz0gMzggKiB0MTk7XG4gIHQ0ICArPSAzOCAqIHQyMDtcbiAgdDUgICs9IDM4ICogdDIxO1xuICB0NiAgKz0gMzggKiB0MjI7XG4gIHQ3ICArPSAzOCAqIHQyMztcbiAgdDggICs9IDM4ICogdDI0O1xuICB0OSAgKz0gMzggKiB0MjU7XG4gIHQxMCArPSAzOCAqIHQyNjtcbiAgdDExICs9IDM4ICogdDI3O1xuICB0MTIgKz0gMzggKiB0Mjg7XG4gIHQxMyArPSAzOCAqIHQyOTtcbiAgdDE0ICs9IDM4ICogdDMwO1xuICAvLyB0MTUgbGVmdCBhcyBpc1xuXG4gIC8vIGZpcnN0IGNhclxuICBjID0gMTtcbiAgdiA9ICB0MCArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgIHQwID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9ICB0MSArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgIHQxID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9ICB0MiArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgIHQyID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9ICB0MyArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgIHQzID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9ICB0NCArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgIHQ0ID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9ICB0NSArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgIHQ1ID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9ICB0NiArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgIHQ2ID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9ICB0NyArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgIHQ3ID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9ICB0OCArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgIHQ4ID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9ICB0OSArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgIHQ5ID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9IHQxMCArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgdDEwID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9IHQxMSArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgdDExID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9IHQxMiArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgdDEyID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9IHQxMyArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgdDEzID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9IHQxNCArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgdDE0ID0gdiAtIGMgKiA2NTUzNjtcbiAgdiA9IHQxNSArIGMgKyA2NTUzNTsgYyA9IE1hdGguZmxvb3IodiAvIDY1NTM2KTsgdDE1ID0gdiAtIGMgKiA2NTUzNjtcbiAgdDAgKz0gYy0xICsgMzcgKiAoYy0xKTtcblxuICAvLyBzZWNvbmQgY2FyXG4gIGMgPSAxO1xuICB2ID0gIHQwICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDAgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQxICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDEgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQyICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDIgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQzICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDMgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ0ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDQgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ1ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDUgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ2ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDYgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ3ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDcgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ4ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDggPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ5ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDkgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDEwICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTAgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDExICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTEgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDEyICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTIgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDEzICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTMgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDE0ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTQgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDE1ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTUgPSB2IC0gYyAqIDY1NTM2O1xuICB0MCArPSBjLTEgKyAzNyAqIChjLTEpO1xuXG4gIG9bIDBdID0gdDA7XG4gIG9bIDFdID0gdDE7XG4gIG9bIDJdID0gdDI7XG4gIG9bIDNdID0gdDM7XG4gIG9bIDRdID0gdDQ7XG4gIG9bIDVdID0gdDU7XG4gIG9bIDZdID0gdDY7XG4gIG9bIDddID0gdDc7XG4gIG9bIDhdID0gdDg7XG4gIG9bIDldID0gdDk7XG4gIG9bMTBdID0gdDEwO1xuICBvWzExXSA9IHQxMTtcbiAgb1sxMl0gPSB0MTI7XG4gIG9bMTNdID0gdDEzO1xuICBvWzE0XSA9IHQxNDtcbiAgb1sxNV0gPSB0MTU7XG59XG5cbmZ1bmN0aW9uIFMobywgYSkge1xuICBNKG8sIGEsIGEpO1xufVxuXG5mdW5jdGlvbiBpbnYyNTUxOShvLCBpKSB7XG4gIHZhciBjID0gZ2YoKTtcbiAgdmFyIGE7XG4gIGZvciAoYSA9IDA7IGEgPCAxNjsgYSsrKSBjW2FdID0gaVthXTtcbiAgZm9yIChhID0gMjUzOyBhID49IDA7IGEtLSkge1xuICAgIFMoYywgYyk7XG4gICAgaWYoYSAhPT0gMiAmJiBhICE9PSA0KSBNKGMsIGMsIGkpO1xuICB9XG4gIGZvciAoYSA9IDA7IGEgPCAxNjsgYSsrKSBvW2FdID0gY1thXTtcbn1cblxuZnVuY3Rpb24gcG93MjUyMyhvLCBpKSB7XG4gIHZhciBjID0gZ2YoKTtcbiAgdmFyIGE7XG4gIGZvciAoYSA9IDA7IGEgPCAxNjsgYSsrKSBjW2FdID0gaVthXTtcbiAgZm9yIChhID0gMjUwOyBhID49IDA7IGEtLSkge1xuICAgICAgUyhjLCBjKTtcbiAgICAgIGlmKGEgIT09IDEpIE0oYywgYywgaSk7XG4gIH1cbiAgZm9yIChhID0gMDsgYSA8IDE2OyBhKyspIG9bYV0gPSBjW2FdO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fc2NhbGFybXVsdChxLCBuLCBwKSB7XG4gIHZhciB6ID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICB2YXIgeCA9IG5ldyBGbG9hdDY0QXJyYXkoODApLCByLCBpO1xuICB2YXIgYSA9IGdmKCksIGIgPSBnZigpLCBjID0gZ2YoKSxcbiAgICAgIGQgPSBnZigpLCBlID0gZ2YoKSwgZiA9IGdmKCk7XG4gIGZvciAoaSA9IDA7IGkgPCAzMTsgaSsrKSB6W2ldID0gbltpXTtcbiAgelszMV09KG5bMzFdJjEyNyl8NjQ7XG4gIHpbMF0mPTI0ODtcbiAgdW5wYWNrMjU1MTkoeCxwKTtcbiAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICBiW2ldPXhbaV07XG4gICAgZFtpXT1hW2ldPWNbaV09MDtcbiAgfVxuICBhWzBdPWRbMF09MTtcbiAgZm9yIChpPTI1NDsgaT49MDsgLS1pKSB7XG4gICAgcj0oeltpPj4+M10+Pj4oaSY3KSkmMTtcbiAgICBzZWwyNTUxOShhLGIscik7XG4gICAgc2VsMjU1MTkoYyxkLHIpO1xuICAgIEEoZSxhLGMpO1xuICAgIFooYSxhLGMpO1xuICAgIEEoYyxiLGQpO1xuICAgIFooYixiLGQpO1xuICAgIFMoZCxlKTtcbiAgICBTKGYsYSk7XG4gICAgTShhLGMsYSk7XG4gICAgTShjLGIsZSk7XG4gICAgQShlLGEsYyk7XG4gICAgWihhLGEsYyk7XG4gICAgUyhiLGEpO1xuICAgIFooYyxkLGYpO1xuICAgIE0oYSxjLF8xMjE2NjUpO1xuICAgIEEoYSxhLGQpO1xuICAgIE0oYyxjLGEpO1xuICAgIE0oYSxkLGYpO1xuICAgIE0oZCxiLHgpO1xuICAgIFMoYixlKTtcbiAgICBzZWwyNTUxOShhLGIscik7XG4gICAgc2VsMjU1MTkoYyxkLHIpO1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgeFtpKzE2XT1hW2ldO1xuICAgIHhbaSszMl09Y1tpXTtcbiAgICB4W2krNDhdPWJbaV07XG4gICAgeFtpKzY0XT1kW2ldO1xuICB9XG4gIHZhciB4MzIgPSB4LnN1YmFycmF5KDMyKTtcbiAgdmFyIHgxNiA9IHguc3ViYXJyYXkoMTYpO1xuICBpbnYyNTUxOSh4MzIseDMyKTtcbiAgTSh4MTYseDE2LHgzMik7XG4gIHBhY2syNTUxOShxLHgxNik7XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fc2NhbGFybXVsdF9iYXNlKHEsIG4pIHtcbiAgcmV0dXJuIGNyeXB0b19zY2FsYXJtdWx0KHEsIG4sIF85KTtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX2JveF9rZXlwYWlyKHksIHgpIHtcbiAgcmFuZG9tYnl0ZXMoeCwgMzIpO1xuICByZXR1cm4gY3J5cHRvX3NjYWxhcm11bHRfYmFzZSh5LCB4KTtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX2JveF9iZWZvcmVubShrLCB5LCB4KSB7XG4gIHZhciBzID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICBjcnlwdG9fc2NhbGFybXVsdChzLCB4LCB5KTtcbiAgcmV0dXJuIGNyeXB0b19jb3JlX2hzYWxzYTIwKGssIF8wLCBzLCBzaWdtYSk7XG59XG5cbnZhciBjcnlwdG9fYm94X2FmdGVybm0gPSBjcnlwdG9fc2VjcmV0Ym94O1xudmFyIGNyeXB0b19ib3hfb3Blbl9hZnRlcm5tID0gY3J5cHRvX3NlY3JldGJveF9vcGVuO1xuXG5mdW5jdGlvbiBjcnlwdG9fYm94KGMsIG0sIGQsIG4sIHksIHgpIHtcbiAgdmFyIGsgPSBuZXcgVWludDhBcnJheSgzMik7XG4gIGNyeXB0b19ib3hfYmVmb3Jlbm0oaywgeSwgeCk7XG4gIHJldHVybiBjcnlwdG9fYm94X2FmdGVybm0oYywgbSwgZCwgbiwgayk7XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19ib3hfb3BlbihtLCBjLCBkLCBuLCB5LCB4KSB7XG4gIHZhciBrID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICBjcnlwdG9fYm94X2JlZm9yZW5tKGssIHksIHgpO1xuICByZXR1cm4gY3J5cHRvX2JveF9vcGVuX2FmdGVybm0obSwgYywgZCwgbiwgayk7XG59XG5cbnZhciBLID0gW1xuICAweDQyOGEyZjk4LCAweGQ3MjhhZTIyLCAweDcxMzc0NDkxLCAweDIzZWY2NWNkLFxuICAweGI1YzBmYmNmLCAweGVjNGQzYjJmLCAweGU5YjVkYmE1LCAweDgxODlkYmJjLFxuICAweDM5NTZjMjViLCAweGYzNDhiNTM4LCAweDU5ZjExMWYxLCAweGI2MDVkMDE5LFxuICAweDkyM2Y4MmE0LCAweGFmMTk0ZjliLCAweGFiMWM1ZWQ1LCAweGRhNmQ4MTE4LFxuICAweGQ4MDdhYTk4LCAweGEzMDMwMjQyLCAweDEyODM1YjAxLCAweDQ1NzA2ZmJlLFxuICAweDI0MzE4NWJlLCAweDRlZTRiMjhjLCAweDU1MGM3ZGMzLCAweGQ1ZmZiNGUyLFxuICAweDcyYmU1ZDc0LCAweGYyN2I4OTZmLCAweDgwZGViMWZlLCAweDNiMTY5NmIxLFxuICAweDliZGMwNmE3LCAweDI1YzcxMjM1LCAweGMxOWJmMTc0LCAweGNmNjkyNjk0LFxuICAweGU0OWI2OWMxLCAweDllZjE0YWQyLCAweGVmYmU0Nzg2LCAweDM4NGYyNWUzLFxuICAweDBmYzE5ZGM2LCAweDhiOGNkNWI1LCAweDI0MGNhMWNjLCAweDc3YWM5YzY1LFxuICAweDJkZTkyYzZmLCAweDU5MmIwMjc1LCAweDRhNzQ4NGFhLCAweDZlYTZlNDgzLFxuICAweDVjYjBhOWRjLCAweGJkNDFmYmQ0LCAweDc2Zjk4OGRhLCAweDgzMTE1M2I1LFxuICAweDk4M2U1MTUyLCAweGVlNjZkZmFiLCAweGE4MzFjNjZkLCAweDJkYjQzMjEwLFxuICAweGIwMDMyN2M4LCAweDk4ZmIyMTNmLCAweGJmNTk3ZmM3LCAweGJlZWYwZWU0LFxuICAweGM2ZTAwYmYzLCAweDNkYTg4ZmMyLCAweGQ1YTc5MTQ3LCAweDkzMGFhNzI1LFxuICAweDA2Y2E2MzUxLCAweGUwMDM4MjZmLCAweDE0MjkyOTY3LCAweDBhMGU2ZTcwLFxuICAweDI3YjcwYTg1LCAweDQ2ZDIyZmZjLCAweDJlMWIyMTM4LCAweDVjMjZjOTI2LFxuICAweDRkMmM2ZGZjLCAweDVhYzQyYWVkLCAweDUzMzgwZDEzLCAweDlkOTViM2RmLFxuICAweDY1MGE3MzU0LCAweDhiYWY2M2RlLCAweDc2NmEwYWJiLCAweDNjNzdiMmE4LFxuICAweDgxYzJjOTJlLCAweDQ3ZWRhZWU2LCAweDkyNzIyYzg1LCAweDE0ODIzNTNiLFxuICAweGEyYmZlOGExLCAweDRjZjEwMzY0LCAweGE4MWE2NjRiLCAweGJjNDIzMDAxLFxuICAweGMyNGI4YjcwLCAweGQwZjg5NzkxLCAweGM3NmM1MWEzLCAweDA2NTRiZTMwLFxuICAweGQxOTJlODE5LCAweGQ2ZWY1MjE4LCAweGQ2OTkwNjI0LCAweDU1NjVhOTEwLFxuICAweGY0MGUzNTg1LCAweDU3NzEyMDJhLCAweDEwNmFhMDcwLCAweDMyYmJkMWI4LFxuICAweDE5YTRjMTE2LCAweGI4ZDJkMGM4LCAweDFlMzc2YzA4LCAweDUxNDFhYjUzLFxuICAweDI3NDg3NzRjLCAweGRmOGVlYjk5LCAweDM0YjBiY2I1LCAweGUxOWI0OGE4LFxuICAweDM5MWMwY2IzLCAweGM1Yzk1YTYzLCAweDRlZDhhYTRhLCAweGUzNDE4YWNiLFxuICAweDViOWNjYTRmLCAweDc3NjNlMzczLCAweDY4MmU2ZmYzLCAweGQ2YjJiOGEzLFxuICAweDc0OGY4MmVlLCAweDVkZWZiMmZjLCAweDc4YTU2MzZmLCAweDQzMTcyZjYwLFxuICAweDg0Yzg3ODE0LCAweGExZjBhYjcyLCAweDhjYzcwMjA4LCAweDFhNjQzOWVjLFxuICAweDkwYmVmZmZhLCAweDIzNjMxZTI4LCAweGE0NTA2Y2ViLCAweGRlODJiZGU5LFxuICAweGJlZjlhM2Y3LCAweGIyYzY3OTE1LCAweGM2NzE3OGYyLCAweGUzNzI1MzJiLFxuICAweGNhMjczZWNlLCAweGVhMjY2MTljLCAweGQxODZiOGM3LCAweDIxYzBjMjA3LFxuICAweGVhZGE3ZGQ2LCAweGNkZTBlYjFlLCAweGY1N2Q0ZjdmLCAweGVlNmVkMTc4LFxuICAweDA2ZjA2N2FhLCAweDcyMTc2ZmJhLCAweDBhNjM3ZGM1LCAweGEyYzg5OGE2LFxuICAweDExM2Y5ODA0LCAweGJlZjkwZGFlLCAweDFiNzEwYjM1LCAweDEzMWM0NzFiLFxuICAweDI4ZGI3N2Y1LCAweDIzMDQ3ZDg0LCAweDMyY2FhYjdiLCAweDQwYzcyNDkzLFxuICAweDNjOWViZTBhLCAweDE1YzliZWJjLCAweDQzMWQ2N2M0LCAweDljMTAwZDRjLFxuICAweDRjYzVkNGJlLCAweGNiM2U0MmI2LCAweDU5N2YyOTljLCAweGZjNjU3ZTJhLFxuICAweDVmY2I2ZmFiLCAweDNhZDZmYWVjLCAweDZjNDQxOThjLCAweDRhNDc1ODE3XG5dO1xuXG5mdW5jdGlvbiBjcnlwdG9faGFzaGJsb2Nrc19obChoaCwgaGwsIG0sIG4pIHtcbiAgdmFyIHdoID0gbmV3IEludDMyQXJyYXkoMTYpLCB3bCA9IG5ldyBJbnQzMkFycmF5KDE2KSxcbiAgICAgIGJoMCwgYmgxLCBiaDIsIGJoMywgYmg0LCBiaDUsIGJoNiwgYmg3LFxuICAgICAgYmwwLCBibDEsIGJsMiwgYmwzLCBibDQsIGJsNSwgYmw2LCBibDcsXG4gICAgICB0aCwgdGwsIGksIGosIGgsIGwsIGEsIGIsIGMsIGQ7XG5cbiAgdmFyIGFoMCA9IGhoWzBdLFxuICAgICAgYWgxID0gaGhbMV0sXG4gICAgICBhaDIgPSBoaFsyXSxcbiAgICAgIGFoMyA9IGhoWzNdLFxuICAgICAgYWg0ID0gaGhbNF0sXG4gICAgICBhaDUgPSBoaFs1XSxcbiAgICAgIGFoNiA9IGhoWzZdLFxuICAgICAgYWg3ID0gaGhbN10sXG5cbiAgICAgIGFsMCA9IGhsWzBdLFxuICAgICAgYWwxID0gaGxbMV0sXG4gICAgICBhbDIgPSBobFsyXSxcbiAgICAgIGFsMyA9IGhsWzNdLFxuICAgICAgYWw0ID0gaGxbNF0sXG4gICAgICBhbDUgPSBobFs1XSxcbiAgICAgIGFsNiA9IGhsWzZdLFxuICAgICAgYWw3ID0gaGxbN107XG5cbiAgdmFyIHBvcyA9IDA7XG4gIHdoaWxlIChuID49IDEyOCkge1xuICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBqID0gOCAqIGkgKyBwb3M7XG4gICAgICB3aFtpXSA9IChtW2orMF0gPDwgMjQpIHwgKG1baisxXSA8PCAxNikgfCAobVtqKzJdIDw8IDgpIHwgbVtqKzNdO1xuICAgICAgd2xbaV0gPSAobVtqKzRdIDw8IDI0KSB8IChtW2orNV0gPDwgMTYpIHwgKG1bais2XSA8PCA4KSB8IG1bais3XTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IDgwOyBpKyspIHtcbiAgICAgIGJoMCA9IGFoMDtcbiAgICAgIGJoMSA9IGFoMTtcbiAgICAgIGJoMiA9IGFoMjtcbiAgICAgIGJoMyA9IGFoMztcbiAgICAgIGJoNCA9IGFoNDtcbiAgICAgIGJoNSA9IGFoNTtcbiAgICAgIGJoNiA9IGFoNjtcbiAgICAgIGJoNyA9IGFoNztcblxuICAgICAgYmwwID0gYWwwO1xuICAgICAgYmwxID0gYWwxO1xuICAgICAgYmwyID0gYWwyO1xuICAgICAgYmwzID0gYWwzO1xuICAgICAgYmw0ID0gYWw0O1xuICAgICAgYmw1ID0gYWw1O1xuICAgICAgYmw2ID0gYWw2O1xuICAgICAgYmw3ID0gYWw3O1xuXG4gICAgICAvLyBhZGRcbiAgICAgIGggPSBhaDc7XG4gICAgICBsID0gYWw3O1xuXG4gICAgICBhID0gbCAmIDB4ZmZmZjsgYiA9IGwgPj4+IDE2O1xuICAgICAgYyA9IGggJiAweGZmZmY7IGQgPSBoID4+PiAxNjtcblxuICAgICAgLy8gU2lnbWExXG4gICAgICBoID0gKChhaDQgPj4+IDE0KSB8IChhbDQgPDwgKDMyLTE0KSkpIF4gKChhaDQgPj4+IDE4KSB8IChhbDQgPDwgKDMyLTE4KSkpIF4gKChhbDQgPj4+ICg0MS0zMikpIHwgKGFoNCA8PCAoMzItKDQxLTMyKSkpKTtcbiAgICAgIGwgPSAoKGFsNCA+Pj4gMTQpIHwgKGFoNCA8PCAoMzItMTQpKSkgXiAoKGFsNCA+Pj4gMTgpIHwgKGFoNCA8PCAoMzItMTgpKSkgXiAoKGFoNCA+Pj4gKDQxLTMyKSkgfCAoYWw0IDw8ICgzMi0oNDEtMzIpKSkpO1xuXG4gICAgICBhICs9IGwgJiAweGZmZmY7IGIgKz0gbCA+Pj4gMTY7XG4gICAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICAgIC8vIENoXG4gICAgICBoID0gKGFoNCAmIGFoNSkgXiAofmFoNCAmIGFoNik7XG4gICAgICBsID0gKGFsNCAmIGFsNSkgXiAofmFsNCAmIGFsNik7XG5cbiAgICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgICAgLy8gS1xuICAgICAgaCA9IEtbaSoyXTtcbiAgICAgIGwgPSBLW2kqMisxXTtcblxuICAgICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgICAgYyArPSBoICYgMHhmZmZmOyBkICs9IGggPj4+IDE2O1xuXG4gICAgICAvLyB3XG4gICAgICBoID0gd2hbaSUxNl07XG4gICAgICBsID0gd2xbaSUxNl07XG5cbiAgICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgICAgYiArPSBhID4+PiAxNjtcbiAgICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgICB0aCA9IGMgJiAweGZmZmYgfCBkIDw8IDE2O1xuICAgICAgdGwgPSBhICYgMHhmZmZmIHwgYiA8PCAxNjtcblxuICAgICAgLy8gYWRkXG4gICAgICBoID0gdGg7XG4gICAgICBsID0gdGw7XG5cbiAgICAgIGEgPSBsICYgMHhmZmZmOyBiID0gbCA+Pj4gMTY7XG4gICAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgICAvLyBTaWdtYTBcbiAgICAgIGggPSAoKGFoMCA+Pj4gMjgpIHwgKGFsMCA8PCAoMzItMjgpKSkgXiAoKGFsMCA+Pj4gKDM0LTMyKSkgfCAoYWgwIDw8ICgzMi0oMzQtMzIpKSkpIF4gKChhbDAgPj4+ICgzOS0zMikpIHwgKGFoMCA8PCAoMzItKDM5LTMyKSkpKTtcbiAgICAgIGwgPSAoKGFsMCA+Pj4gMjgpIHwgKGFoMCA8PCAoMzItMjgpKSkgXiAoKGFoMCA+Pj4gKDM0LTMyKSkgfCAoYWwwIDw8ICgzMi0oMzQtMzIpKSkpIF4gKChhaDAgPj4+ICgzOS0zMikpIHwgKGFsMCA8PCAoMzItKDM5LTMyKSkpKTtcblxuICAgICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgICAgYyArPSBoICYgMHhmZmZmOyBkICs9IGggPj4+IDE2O1xuXG4gICAgICAvLyBNYWpcbiAgICAgIGggPSAoYWgwICYgYWgxKSBeIChhaDAgJiBhaDIpIF4gKGFoMSAmIGFoMik7XG4gICAgICBsID0gKGFsMCAmIGFsMSkgXiAoYWwwICYgYWwyKSBeIChhbDEgJiBhbDIpO1xuXG4gICAgICBhICs9IGwgJiAweGZmZmY7IGIgKz0gbCA+Pj4gMTY7XG4gICAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgICBjICs9IGIgPj4+IDE2O1xuICAgICAgZCArPSBjID4+PiAxNjtcblxuICAgICAgYmg3ID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgICAgYmw3ID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuXG4gICAgICAvLyBhZGRcbiAgICAgIGggPSBiaDM7XG4gICAgICBsID0gYmwzO1xuXG4gICAgICBhID0gbCAmIDB4ZmZmZjsgYiA9IGwgPj4+IDE2O1xuICAgICAgYyA9IGggJiAweGZmZmY7IGQgPSBoID4+PiAxNjtcblxuICAgICAgaCA9IHRoO1xuICAgICAgbCA9IHRsO1xuXG4gICAgICBhICs9IGwgJiAweGZmZmY7IGIgKz0gbCA+Pj4gMTY7XG4gICAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgICBjICs9IGIgPj4+IDE2O1xuICAgICAgZCArPSBjID4+PiAxNjtcblxuICAgICAgYmgzID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgICAgYmwzID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuXG4gICAgICBhaDEgPSBiaDA7XG4gICAgICBhaDIgPSBiaDE7XG4gICAgICBhaDMgPSBiaDI7XG4gICAgICBhaDQgPSBiaDM7XG4gICAgICBhaDUgPSBiaDQ7XG4gICAgICBhaDYgPSBiaDU7XG4gICAgICBhaDcgPSBiaDY7XG4gICAgICBhaDAgPSBiaDc7XG5cbiAgICAgIGFsMSA9IGJsMDtcbiAgICAgIGFsMiA9IGJsMTtcbiAgICAgIGFsMyA9IGJsMjtcbiAgICAgIGFsNCA9IGJsMztcbiAgICAgIGFsNSA9IGJsNDtcbiAgICAgIGFsNiA9IGJsNTtcbiAgICAgIGFsNyA9IGJsNjtcbiAgICAgIGFsMCA9IGJsNztcblxuICAgICAgaWYgKGklMTYgPT09IDE1KSB7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCAxNjsgaisrKSB7XG4gICAgICAgICAgLy8gYWRkXG4gICAgICAgICAgaCA9IHdoW2pdO1xuICAgICAgICAgIGwgPSB3bFtqXTtcblxuICAgICAgICAgIGEgPSBsICYgMHhmZmZmOyBiID0gbCA+Pj4gMTY7XG4gICAgICAgICAgYyA9IGggJiAweGZmZmY7IGQgPSBoID4+PiAxNjtcblxuICAgICAgICAgIGggPSB3aFsoais5KSUxNl07XG4gICAgICAgICAgbCA9IHdsWyhqKzkpJTE2XTtcblxuICAgICAgICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICAgICAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICAgICAgICAvLyBzaWdtYTBcbiAgICAgICAgICB0aCA9IHdoWyhqKzEpJTE2XTtcbiAgICAgICAgICB0bCA9IHdsWyhqKzEpJTE2XTtcbiAgICAgICAgICBoID0gKCh0aCA+Pj4gMSkgfCAodGwgPDwgKDMyLTEpKSkgXiAoKHRoID4+PiA4KSB8ICh0bCA8PCAoMzItOCkpKSBeICh0aCA+Pj4gNyk7XG4gICAgICAgICAgbCA9ICgodGwgPj4+IDEpIHwgKHRoIDw8ICgzMi0xKSkpIF4gKCh0bCA+Pj4gOCkgfCAodGggPDwgKDMyLTgpKSkgXiAoKHRsID4+PiA3KSB8ICh0aCA8PCAoMzItNykpKTtcblxuICAgICAgICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICAgICAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICAgICAgICAvLyBzaWdtYTFcbiAgICAgICAgICB0aCA9IHdoWyhqKzE0KSUxNl07XG4gICAgICAgICAgdGwgPSB3bFsoaisxNCklMTZdO1xuICAgICAgICAgIGggPSAoKHRoID4+PiAxOSkgfCAodGwgPDwgKDMyLTE5KSkpIF4gKCh0bCA+Pj4gKDYxLTMyKSkgfCAodGggPDwgKDMyLSg2MS0zMikpKSkgXiAodGggPj4+IDYpO1xuICAgICAgICAgIGwgPSAoKHRsID4+PiAxOSkgfCAodGggPDwgKDMyLTE5KSkpIF4gKCh0aCA+Pj4gKDYxLTMyKSkgfCAodGwgPDwgKDMyLSg2MS0zMikpKSkgXiAoKHRsID4+PiA2KSB8ICh0aCA8PCAoMzItNikpKTtcblxuICAgICAgICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICAgICAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICAgICAgICBiICs9IGEgPj4+IDE2O1xuICAgICAgICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgICAgICAgZCArPSBjID4+PiAxNjtcblxuICAgICAgICAgIHdoW2pdID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgICAgICAgIHdsW2pdID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkXG4gICAgaCA9IGFoMDtcbiAgICBsID0gYWwwO1xuXG4gICAgYSA9IGwgJiAweGZmZmY7IGIgPSBsID4+PiAxNjtcbiAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgaCA9IGhoWzBdO1xuICAgIGwgPSBobFswXTtcblxuICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICBiICs9IGEgPj4+IDE2O1xuICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgZCArPSBjID4+PiAxNjtcblxuICAgIGhoWzBdID0gYWgwID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgIGhsWzBdID0gYWwwID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuXG4gICAgaCA9IGFoMTtcbiAgICBsID0gYWwxO1xuXG4gICAgYSA9IGwgJiAweGZmZmY7IGIgPSBsID4+PiAxNjtcbiAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgaCA9IGhoWzFdO1xuICAgIGwgPSBobFsxXTtcblxuICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICBiICs9IGEgPj4+IDE2O1xuICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgZCArPSBjID4+PiAxNjtcblxuICAgIGhoWzFdID0gYWgxID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgIGhsWzFdID0gYWwxID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuXG4gICAgaCA9IGFoMjtcbiAgICBsID0gYWwyO1xuXG4gICAgYSA9IGwgJiAweGZmZmY7IGIgPSBsID4+PiAxNjtcbiAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgaCA9IGhoWzJdO1xuICAgIGwgPSBobFsyXTtcblxuICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICBiICs9IGEgPj4+IDE2O1xuICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgZCArPSBjID4+PiAxNjtcblxuICAgIGhoWzJdID0gYWgyID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgIGhsWzJdID0gYWwyID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuXG4gICAgaCA9IGFoMztcbiAgICBsID0gYWwzO1xuXG4gICAgYSA9IGwgJiAweGZmZmY7IGIgPSBsID4+PiAxNjtcbiAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgaCA9IGhoWzNdO1xuICAgIGwgPSBobFszXTtcblxuICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICBiICs9IGEgPj4+IDE2O1xuICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgZCArPSBjID4+PiAxNjtcblxuICAgIGhoWzNdID0gYWgzID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgIGhsWzNdID0gYWwzID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuXG4gICAgaCA9IGFoNDtcbiAgICBsID0gYWw0O1xuXG4gICAgYSA9IGwgJiAweGZmZmY7IGIgPSBsID4+PiAxNjtcbiAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgaCA9IGhoWzRdO1xuICAgIGwgPSBobFs0XTtcblxuICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICBiICs9IGEgPj4+IDE2O1xuICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgZCArPSBjID4+PiAxNjtcblxuICAgIGhoWzRdID0gYWg0ID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgIGhsWzRdID0gYWw0ID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuXG4gICAgaCA9IGFoNTtcbiAgICBsID0gYWw1O1xuXG4gICAgYSA9IGwgJiAweGZmZmY7IGIgPSBsID4+PiAxNjtcbiAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgaCA9IGhoWzVdO1xuICAgIGwgPSBobFs1XTtcblxuICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICBiICs9IGEgPj4+IDE2O1xuICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgZCArPSBjID4+PiAxNjtcblxuICAgIGhoWzVdID0gYWg1ID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgIGhsWzVdID0gYWw1ID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuXG4gICAgaCA9IGFoNjtcbiAgICBsID0gYWw2O1xuXG4gICAgYSA9IGwgJiAweGZmZmY7IGIgPSBsID4+PiAxNjtcbiAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgaCA9IGhoWzZdO1xuICAgIGwgPSBobFs2XTtcblxuICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICBiICs9IGEgPj4+IDE2O1xuICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgZCArPSBjID4+PiAxNjtcblxuICAgIGhoWzZdID0gYWg2ID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgIGhsWzZdID0gYWw2ID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuXG4gICAgaCA9IGFoNztcbiAgICBsID0gYWw3O1xuXG4gICAgYSA9IGwgJiAweGZmZmY7IGIgPSBsID4+PiAxNjtcbiAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgaCA9IGhoWzddO1xuICAgIGwgPSBobFs3XTtcblxuICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICBiICs9IGEgPj4+IDE2O1xuICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgZCArPSBjID4+PiAxNjtcblxuICAgIGhoWzddID0gYWg3ID0gKGMgJiAweGZmZmYpIHwgKGQgPDwgMTYpO1xuICAgIGhsWzddID0gYWw3ID0gKGEgJiAweGZmZmYpIHwgKGIgPDwgMTYpO1xuXG4gICAgcG9zICs9IDEyODtcbiAgICBuIC09IDEyODtcbiAgfVxuXG4gIHJldHVybiBuO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9faGFzaChvdXQsIG0sIG4pIHtcbiAgdmFyIGhoID0gbmV3IEludDMyQXJyYXkoOCksXG4gICAgICBobCA9IG5ldyBJbnQzMkFycmF5KDgpLFxuICAgICAgeCA9IG5ldyBVaW50OEFycmF5KDI1NiksXG4gICAgICBpLCBiID0gbjtcblxuICBoaFswXSA9IDB4NmEwOWU2Njc7XG4gIGhoWzFdID0gMHhiYjY3YWU4NTtcbiAgaGhbMl0gPSAweDNjNmVmMzcyO1xuICBoaFszXSA9IDB4YTU0ZmY1M2E7XG4gIGhoWzRdID0gMHg1MTBlNTI3ZjtcbiAgaGhbNV0gPSAweDliMDU2ODhjO1xuICBoaFs2XSA9IDB4MWY4M2Q5YWI7XG4gIGhoWzddID0gMHg1YmUwY2QxOTtcblxuICBobFswXSA9IDB4ZjNiY2M5MDg7XG4gIGhsWzFdID0gMHg4NGNhYTczYjtcbiAgaGxbMl0gPSAweGZlOTRmODJiO1xuICBobFszXSA9IDB4NWYxZDM2ZjE7XG4gIGhsWzRdID0gMHhhZGU2ODJkMTtcbiAgaGxbNV0gPSAweDJiM2U2YzFmO1xuICBobFs2XSA9IDB4ZmI0MWJkNmI7XG4gIGhsWzddID0gMHgxMzdlMjE3OTtcblxuICBjcnlwdG9faGFzaGJsb2Nrc19obChoaCwgaGwsIG0sIG4pO1xuICBuICU9IDEyODtcblxuICBmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB4W2ldID0gbVtiLW4raV07XG4gIHhbbl0gPSAxMjg7XG5cbiAgbiA9IDI1Ni0xMjgqKG48MTEyPzE6MCk7XG4gIHhbbi05XSA9IDA7XG4gIHRzNjQoeCwgbi04LCAgKGIgLyAweDIwMDAwMDAwKSB8IDAsIGIgPDwgMyk7XG4gIGNyeXB0b19oYXNoYmxvY2tzX2hsKGhoLCBobCwgeCwgbik7XG5cbiAgZm9yIChpID0gMDsgaSA8IDg7IGkrKykgdHM2NChvdXQsIDgqaSwgaGhbaV0sIGhsW2ldKTtcblxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gYWRkKHAsIHEpIHtcbiAgdmFyIGEgPSBnZigpLCBiID0gZ2YoKSwgYyA9IGdmKCksXG4gICAgICBkID0gZ2YoKSwgZSA9IGdmKCksIGYgPSBnZigpLFxuICAgICAgZyA9IGdmKCksIGggPSBnZigpLCB0ID0gZ2YoKTtcblxuICBaKGEsIHBbMV0sIHBbMF0pO1xuICBaKHQsIHFbMV0sIHFbMF0pO1xuICBNKGEsIGEsIHQpO1xuICBBKGIsIHBbMF0sIHBbMV0pO1xuICBBKHQsIHFbMF0sIHFbMV0pO1xuICBNKGIsIGIsIHQpO1xuICBNKGMsIHBbM10sIHFbM10pO1xuICBNKGMsIGMsIEQyKTtcbiAgTShkLCBwWzJdLCBxWzJdKTtcbiAgQShkLCBkLCBkKTtcbiAgWihlLCBiLCBhKTtcbiAgWihmLCBkLCBjKTtcbiAgQShnLCBkLCBjKTtcbiAgQShoLCBiLCBhKTtcblxuICBNKHBbMF0sIGUsIGYpO1xuICBNKHBbMV0sIGgsIGcpO1xuICBNKHBbMl0sIGcsIGYpO1xuICBNKHBbM10sIGUsIGgpO1xufVxuXG5mdW5jdGlvbiBjc3dhcChwLCBxLCBiKSB7XG4gIHZhciBpO1xuICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgc2VsMjU1MTkocFtpXSwgcVtpXSwgYik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFjayhyLCBwKSB7XG4gIHZhciB0eCA9IGdmKCksIHR5ID0gZ2YoKSwgemkgPSBnZigpO1xuICBpbnYyNTUxOSh6aSwgcFsyXSk7XG4gIE0odHgsIHBbMF0sIHppKTtcbiAgTSh0eSwgcFsxXSwgemkpO1xuICBwYWNrMjU1MTkociwgdHkpO1xuICByWzMxXSBePSBwYXIyNTUxOSh0eCkgPDwgNztcbn1cblxuZnVuY3Rpb24gc2NhbGFybXVsdChwLCBxLCBzKSB7XG4gIHZhciBiLCBpO1xuICBzZXQyNTUxOShwWzBdLCBnZjApO1xuICBzZXQyNTUxOShwWzFdLCBnZjEpO1xuICBzZXQyNTUxOShwWzJdLCBnZjEpO1xuICBzZXQyNTUxOShwWzNdLCBnZjApO1xuICBmb3IgKGkgPSAyNTU7IGkgPj0gMDsgLS1pKSB7XG4gICAgYiA9IChzWyhpLzgpfDBdID4+IChpJjcpKSAmIDE7XG4gICAgY3N3YXAocCwgcSwgYik7XG4gICAgYWRkKHEsIHApO1xuICAgIGFkZChwLCBwKTtcbiAgICBjc3dhcChwLCBxLCBiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzY2FsYXJiYXNlKHAsIHMpIHtcbiAgdmFyIHEgPSBbZ2YoKSwgZ2YoKSwgZ2YoKSwgZ2YoKV07XG4gIHNldDI1NTE5KHFbMF0sIFgpO1xuICBzZXQyNTUxOShxWzFdLCBZKTtcbiAgc2V0MjU1MTkocVsyXSwgZ2YxKTtcbiAgTShxWzNdLCBYLCBZKTtcbiAgc2NhbGFybXVsdChwLCBxLCBzKTtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX3NpZ25fa2V5cGFpcihwaywgc2ssIHNlZWRlZCkge1xuICB2YXIgZCA9IG5ldyBVaW50OEFycmF5KDY0KTtcbiAgdmFyIHAgPSBbZ2YoKSwgZ2YoKSwgZ2YoKSwgZ2YoKV07XG4gIHZhciBpO1xuXG4gIGlmICghc2VlZGVkKSByYW5kb21ieXRlcyhzaywgMzIpO1xuICBjcnlwdG9faGFzaChkLCBzaywgMzIpO1xuICBkWzBdICY9IDI0ODtcbiAgZFszMV0gJj0gMTI3O1xuICBkWzMxXSB8PSA2NDtcblxuICBzY2FsYXJiYXNlKHAsIGQpO1xuICBwYWNrKHBrLCBwKTtcblxuICBmb3IgKGkgPSAwOyBpIDwgMzI7IGkrKykgc2tbaSszMl0gPSBwa1tpXTtcbiAgcmV0dXJuIDA7XG59XG5cbnZhciBMID0gbmV3IEZsb2F0NjRBcnJheShbMHhlZCwgMHhkMywgMHhmNSwgMHg1YywgMHgxYSwgMHg2MywgMHgxMiwgMHg1OCwgMHhkNiwgMHg5YywgMHhmNywgMHhhMiwgMHhkZSwgMHhmOSwgMHhkZSwgMHgxNCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMHgxMF0pO1xuXG5mdW5jdGlvbiBtb2RMKHIsIHgpIHtcbiAgdmFyIGNhcnJ5LCBpLCBqLCBrO1xuICBmb3IgKGkgPSA2MzsgaSA+PSAzMjsgLS1pKSB7XG4gICAgY2FycnkgPSAwO1xuICAgIGZvciAoaiA9IGkgLSAzMiwgayA9IGkgLSAxMjsgaiA8IGs7ICsraikge1xuICAgICAgeFtqXSArPSBjYXJyeSAtIDE2ICogeFtpXSAqIExbaiAtIChpIC0gMzIpXTtcbiAgICAgIGNhcnJ5ID0gTWF0aC5mbG9vcigoeFtqXSArIDEyOCkgLyAyNTYpO1xuICAgICAgeFtqXSAtPSBjYXJyeSAqIDI1NjtcbiAgICB9XG4gICAgeFtqXSArPSBjYXJyeTtcbiAgICB4W2ldID0gMDtcbiAgfVxuICBjYXJyeSA9IDA7XG4gIGZvciAoaiA9IDA7IGogPCAzMjsgaisrKSB7XG4gICAgeFtqXSArPSBjYXJyeSAtICh4WzMxXSA+PiA0KSAqIExbal07XG4gICAgY2FycnkgPSB4W2pdID4+IDg7XG4gICAgeFtqXSAmPSAyNTU7XG4gIH1cbiAgZm9yIChqID0gMDsgaiA8IDMyOyBqKyspIHhbal0gLT0gY2FycnkgKiBMW2pdO1xuICBmb3IgKGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgIHhbaSsxXSArPSB4W2ldID4+IDg7XG4gICAgcltpXSA9IHhbaV0gJiAyNTU7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVkdWNlKHIpIHtcbiAgdmFyIHggPSBuZXcgRmxvYXQ2NEFycmF5KDY0KSwgaTtcbiAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIHhbaV0gPSByW2ldO1xuICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkrKykgcltpXSA9IDA7XG4gIG1vZEwociwgeCk7XG59XG5cbi8vIE5vdGU6IGRpZmZlcmVuY2UgZnJvbSBDIC0gc21sZW4gcmV0dXJuZWQsIG5vdCBwYXNzZWQgYXMgYXJndW1lbnQuXG5mdW5jdGlvbiBjcnlwdG9fc2lnbihzbSwgbSwgbiwgc2spIHtcbiAgdmFyIGQgPSBuZXcgVWludDhBcnJheSg2NCksIGggPSBuZXcgVWludDhBcnJheSg2NCksIHIgPSBuZXcgVWludDhBcnJheSg2NCk7XG4gIHZhciBpLCBqLCB4ID0gbmV3IEZsb2F0NjRBcnJheSg2NCk7XG4gIHZhciBwID0gW2dmKCksIGdmKCksIGdmKCksIGdmKCldO1xuXG4gIGNyeXB0b19oYXNoKGQsIHNrLCAzMik7XG4gIGRbMF0gJj0gMjQ4O1xuICBkWzMxXSAmPSAxMjc7XG4gIGRbMzFdIHw9IDY0O1xuXG4gIHZhciBzbWxlbiA9IG4gKyA2NDtcbiAgZm9yIChpID0gMDsgaSA8IG47IGkrKykgc21bNjQgKyBpXSA9IG1baV07XG4gIGZvciAoaSA9IDA7IGkgPCAzMjsgaSsrKSBzbVszMiArIGldID0gZFszMiArIGldO1xuXG4gIGNyeXB0b19oYXNoKHIsIHNtLnN1YmFycmF5KDMyKSwgbiszMik7XG4gIHJlZHVjZShyKTtcbiAgc2NhbGFyYmFzZShwLCByKTtcbiAgcGFjayhzbSwgcCk7XG5cbiAgZm9yIChpID0gMzI7IGkgPCA2NDsgaSsrKSBzbVtpXSA9IHNrW2ldO1xuICBjcnlwdG9faGFzaChoLCBzbSwgbiArIDY0KTtcbiAgcmVkdWNlKGgpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB4W2ldID0gMDtcbiAgZm9yIChpID0gMDsgaSA8IDMyOyBpKyspIHhbaV0gPSByW2ldO1xuICBmb3IgKGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgIGZvciAoaiA9IDA7IGogPCAzMjsgaisrKSB7XG4gICAgICB4W2kral0gKz0gaFtpXSAqIGRbal07XG4gICAgfVxuICB9XG5cbiAgbW9kTChzbS5zdWJhcnJheSgzMiksIHgpO1xuICByZXR1cm4gc21sZW47XG59XG5cbmZ1bmN0aW9uIHVucGFja25lZyhyLCBwKSB7XG4gIHZhciB0ID0gZ2YoKSwgY2hrID0gZ2YoKSwgbnVtID0gZ2YoKSxcbiAgICAgIGRlbiA9IGdmKCksIGRlbjIgPSBnZigpLCBkZW40ID0gZ2YoKSxcbiAgICAgIGRlbjYgPSBnZigpO1xuXG4gIHNldDI1NTE5KHJbMl0sIGdmMSk7XG4gIHVucGFjazI1NTE5KHJbMV0sIHApO1xuICBTKG51bSwgclsxXSk7XG4gIE0oZGVuLCBudW0sIEQpO1xuICBaKG51bSwgbnVtLCByWzJdKTtcbiAgQShkZW4sIHJbMl0sIGRlbik7XG5cbiAgUyhkZW4yLCBkZW4pO1xuICBTKGRlbjQsIGRlbjIpO1xuICBNKGRlbjYsIGRlbjQsIGRlbjIpO1xuICBNKHQsIGRlbjYsIG51bSk7XG4gIE0odCwgdCwgZGVuKTtcblxuICBwb3cyNTIzKHQsIHQpO1xuICBNKHQsIHQsIG51bSk7XG4gIE0odCwgdCwgZGVuKTtcbiAgTSh0LCB0LCBkZW4pO1xuICBNKHJbMF0sIHQsIGRlbik7XG5cbiAgUyhjaGssIHJbMF0pO1xuICBNKGNoaywgY2hrLCBkZW4pO1xuICBpZiAobmVxMjU1MTkoY2hrLCBudW0pKSBNKHJbMF0sIHJbMF0sIEkpO1xuXG4gIFMoY2hrLCByWzBdKTtcbiAgTShjaGssIGNoaywgZGVuKTtcbiAgaWYgKG5lcTI1NTE5KGNoaywgbnVtKSkgcmV0dXJuIC0xO1xuXG4gIGlmIChwYXIyNTUxOShyWzBdKSA9PT0gKHBbMzFdPj43KSkgWihyWzBdLCBnZjAsIHJbMF0pO1xuXG4gIE0oclszXSwgclswXSwgclsxXSk7XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fc2lnbl9vcGVuKG0sIHNtLCBuLCBwaykge1xuICB2YXIgaTtcbiAgdmFyIHQgPSBuZXcgVWludDhBcnJheSgzMiksIGggPSBuZXcgVWludDhBcnJheSg2NCk7XG4gIHZhciBwID0gW2dmKCksIGdmKCksIGdmKCksIGdmKCldLFxuICAgICAgcSA9IFtnZigpLCBnZigpLCBnZigpLCBnZigpXTtcblxuICBpZiAobiA8IDY0KSByZXR1cm4gLTE7XG5cbiAgaWYgKHVucGFja25lZyhxLCBwaykpIHJldHVybiAtMTtcblxuICBmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSBtW2ldID0gc21baV07XG4gIGZvciAoaSA9IDA7IGkgPCAzMjsgaSsrKSBtW2krMzJdID0gcGtbaV07XG4gIGNyeXB0b19oYXNoKGgsIG0sIG4pO1xuICByZWR1Y2UoaCk7XG4gIHNjYWxhcm11bHQocCwgcSwgaCk7XG5cbiAgc2NhbGFyYmFzZShxLCBzbS5zdWJhcnJheSgzMikpO1xuICBhZGQocCwgcSk7XG4gIHBhY2sodCwgcCk7XG5cbiAgbiAtPSA2NDtcbiAgaWYgKGNyeXB0b192ZXJpZnlfMzIoc20sIDAsIHQsIDApKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IG47IGkrKykgbVtpXSA9IDA7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IG47IGkrKykgbVtpXSA9IHNtW2kgKyA2NF07XG4gIHJldHVybiBuO1xufVxuXG52YXIgY3J5cHRvX3NlY3JldGJveF9LRVlCWVRFUyA9IDMyLFxuICAgIGNyeXB0b19zZWNyZXRib3hfTk9OQ0VCWVRFUyA9IDI0LFxuICAgIGNyeXB0b19zZWNyZXRib3hfWkVST0JZVEVTID0gMzIsXG4gICAgY3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVMgPSAxNixcbiAgICBjcnlwdG9fc2NhbGFybXVsdF9CWVRFUyA9IDMyLFxuICAgIGNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTID0gMzIsXG4gICAgY3J5cHRvX2JveF9QVUJMSUNLRVlCWVRFUyA9IDMyLFxuICAgIGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVMgPSAzMixcbiAgICBjcnlwdG9fYm94X0JFRk9SRU5NQllURVMgPSAzMixcbiAgICBjcnlwdG9fYm94X05PTkNFQllURVMgPSBjcnlwdG9fc2VjcmV0Ym94X05PTkNFQllURVMsXG4gICAgY3J5cHRvX2JveF9aRVJPQllURVMgPSBjcnlwdG9fc2VjcmV0Ym94X1pFUk9CWVRFUyxcbiAgICBjcnlwdG9fYm94X0JPWFpFUk9CWVRFUyA9IGNyeXB0b19zZWNyZXRib3hfQk9YWkVST0JZVEVTLFxuICAgIGNyeXB0b19zaWduX0JZVEVTID0gNjQsXG4gICAgY3J5cHRvX3NpZ25fUFVCTElDS0VZQllURVMgPSAzMixcbiAgICBjcnlwdG9fc2lnbl9TRUNSRVRLRVlCWVRFUyA9IDY0LFxuICAgIGNyeXB0b19zaWduX1NFRURCWVRFUyA9IDMyLFxuICAgIGNyeXB0b19oYXNoX0JZVEVTID0gNjQ7XG5cbm5hY2wubG93bGV2ZWwgPSB7XG4gIGNyeXB0b19jb3JlX2hzYWxzYTIwOiBjcnlwdG9fY29yZV9oc2Fsc2EyMCxcbiAgY3J5cHRvX3N0cmVhbV94b3I6IGNyeXB0b19zdHJlYW1feG9yLFxuICBjcnlwdG9fc3RyZWFtOiBjcnlwdG9fc3RyZWFtLFxuICBjcnlwdG9fc3RyZWFtX3NhbHNhMjBfeG9yOiBjcnlwdG9fc3RyZWFtX3NhbHNhMjBfeG9yLFxuICBjcnlwdG9fc3RyZWFtX3NhbHNhMjA6IGNyeXB0b19zdHJlYW1fc2Fsc2EyMCxcbiAgY3J5cHRvX29uZXRpbWVhdXRoOiBjcnlwdG9fb25ldGltZWF1dGgsXG4gIGNyeXB0b19vbmV0aW1lYXV0aF92ZXJpZnk6IGNyeXB0b19vbmV0aW1lYXV0aF92ZXJpZnksXG4gIGNyeXB0b192ZXJpZnlfMTY6IGNyeXB0b192ZXJpZnlfMTYsXG4gIGNyeXB0b192ZXJpZnlfMzI6IGNyeXB0b192ZXJpZnlfMzIsXG4gIGNyeXB0b19zZWNyZXRib3g6IGNyeXB0b19zZWNyZXRib3gsXG4gIGNyeXB0b19zZWNyZXRib3hfb3BlbjogY3J5cHRvX3NlY3JldGJveF9vcGVuLFxuICBjcnlwdG9fc2NhbGFybXVsdDogY3J5cHRvX3NjYWxhcm11bHQsXG4gIGNyeXB0b19zY2FsYXJtdWx0X2Jhc2U6IGNyeXB0b19zY2FsYXJtdWx0X2Jhc2UsXG4gIGNyeXB0b19ib3hfYmVmb3Jlbm06IGNyeXB0b19ib3hfYmVmb3Jlbm0sXG4gIGNyeXB0b19ib3hfYWZ0ZXJubTogY3J5cHRvX2JveF9hZnRlcm5tLFxuICBjcnlwdG9fYm94OiBjcnlwdG9fYm94LFxuICBjcnlwdG9fYm94X29wZW46IGNyeXB0b19ib3hfb3BlbixcbiAgY3J5cHRvX2JveF9rZXlwYWlyOiBjcnlwdG9fYm94X2tleXBhaXIsXG4gIGNyeXB0b19oYXNoOiBjcnlwdG9faGFzaCxcbiAgY3J5cHRvX3NpZ246IGNyeXB0b19zaWduLFxuICBjcnlwdG9fc2lnbl9rZXlwYWlyOiBjcnlwdG9fc2lnbl9rZXlwYWlyLFxuICBjcnlwdG9fc2lnbl9vcGVuOiBjcnlwdG9fc2lnbl9vcGVuLFxuXG4gIGNyeXB0b19zZWNyZXRib3hfS0VZQllURVM6IGNyeXB0b19zZWNyZXRib3hfS0VZQllURVMsXG4gIGNyeXB0b19zZWNyZXRib3hfTk9OQ0VCWVRFUzogY3J5cHRvX3NlY3JldGJveF9OT05DRUJZVEVTLFxuICBjcnlwdG9fc2VjcmV0Ym94X1pFUk9CWVRFUzogY3J5cHRvX3NlY3JldGJveF9aRVJPQllURVMsXG4gIGNyeXB0b19zZWNyZXRib3hfQk9YWkVST0JZVEVTOiBjcnlwdG9fc2VjcmV0Ym94X0JPWFpFUk9CWVRFUyxcbiAgY3J5cHRvX3NjYWxhcm11bHRfQllURVM6IGNyeXB0b19zY2FsYXJtdWx0X0JZVEVTLFxuICBjcnlwdG9fc2NhbGFybXVsdF9TQ0FMQVJCWVRFUzogY3J5cHRvX3NjYWxhcm11bHRfU0NBTEFSQllURVMsXG4gIGNyeXB0b19ib3hfUFVCTElDS0VZQllURVM6IGNyeXB0b19ib3hfUFVCTElDS0VZQllURVMsXG4gIGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVM6IGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVMsXG4gIGNyeXB0b19ib3hfQkVGT1JFTk1CWVRFUzogY3J5cHRvX2JveF9CRUZPUkVOTUJZVEVTLFxuICBjcnlwdG9fYm94X05PTkNFQllURVM6IGNyeXB0b19ib3hfTk9OQ0VCWVRFUyxcbiAgY3J5cHRvX2JveF9aRVJPQllURVM6IGNyeXB0b19ib3hfWkVST0JZVEVTLFxuICBjcnlwdG9fYm94X0JPWFpFUk9CWVRFUzogY3J5cHRvX2JveF9CT1haRVJPQllURVMsXG4gIGNyeXB0b19zaWduX0JZVEVTOiBjcnlwdG9fc2lnbl9CWVRFUyxcbiAgY3J5cHRvX3NpZ25fUFVCTElDS0VZQllURVM6IGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTLFxuICBjcnlwdG9fc2lnbl9TRUNSRVRLRVlCWVRFUzogY3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVMsXG4gIGNyeXB0b19zaWduX1NFRURCWVRFUzogY3J5cHRvX3NpZ25fU0VFREJZVEVTLFxuICBjcnlwdG9faGFzaF9CWVRFUzogY3J5cHRvX2hhc2hfQllURVMsXG5cbiAgZ2Y6IGdmLFxuICBEOiBELFxuICBMOiBMLFxuICBwYWNrOiBwYWNrLFxuICBwYWNrMjU1MTk6IHBhY2syNTUxOSxcbiAgdW5wYWNrMjU1MTk6IHVucGFjazI1NTE5LFxuICBNOiBNLFxuICBBOiBBLFxuICBTOiBTLFxuICBaOiBaLFxuICBwb3cyNTIzOiBwb3cyNTIzLFxuICBhZGQ6IGFkZCxcbiAgc2V0MjU1MTk6IHNldDI1NTE5LFxuICBtb2RMOiBtb2RMLFxuICBzY2FsYXJtdWx0OiBzY2FsYXJtdWx0LFxuICBzY2FsYXJiYXNlOiBzY2FsYXJiYXNlXG59O1xuXG4vKiBIaWdoLWxldmVsIEFQSSAqL1xuXG5mdW5jdGlvbiBjaGVja0xlbmd0aHMoaywgbikge1xuICBpZiAoay5sZW5ndGggIT09IGNyeXB0b19zZWNyZXRib3hfS0VZQllURVMpIHRocm93IG5ldyBFcnJvcignYmFkIGtleSBzaXplJyk7XG4gIGlmIChuLmxlbmd0aCAhPT0gY3J5cHRvX3NlY3JldGJveF9OT05DRUJZVEVTKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBub25jZSBzaXplJyk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrQm94TGVuZ3Rocyhwaywgc2spIHtcbiAgaWYgKHBrLmxlbmd0aCAhPT0gY3J5cHRvX2JveF9QVUJMSUNLRVlCWVRFUykgdGhyb3cgbmV3IEVycm9yKCdiYWQgcHVibGljIGtleSBzaXplJyk7XG4gIGlmIChzay5sZW5ndGggIT09IGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVMpIHRocm93IG5ldyBFcnJvcignYmFkIHNlY3JldCBrZXkgc2l6ZScpO1xufVxuXG5mdW5jdGlvbiBjaGVja0FycmF5VHlwZXMoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCEoYXJndW1lbnRzW2ldIGluc3RhbmNlb2YgVWludDhBcnJheSkpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bmV4cGVjdGVkIHR5cGUsIHVzZSBVaW50OEFycmF5Jyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYW51cChhcnIpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycltpXSA9IDA7XG59XG5cbm5hY2wucmFuZG9tQnl0ZXMgPSBmdW5jdGlvbihuKSB7XG4gIHZhciBiID0gbmV3IFVpbnQ4QXJyYXkobik7XG4gIHJhbmRvbWJ5dGVzKGIsIG4pO1xuICByZXR1cm4gYjtcbn07XG5cbm5hY2wuc2VjcmV0Ym94ID0gZnVuY3Rpb24obXNnLCBub25jZSwga2V5KSB7XG4gIGNoZWNrQXJyYXlUeXBlcyhtc2csIG5vbmNlLCBrZXkpO1xuICBjaGVja0xlbmd0aHMoa2V5LCBub25jZSk7XG4gIHZhciBtID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NlY3JldGJveF9aRVJPQllURVMgKyBtc2cubGVuZ3RoKTtcbiAgdmFyIGMgPSBuZXcgVWludDhBcnJheShtLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSsrKSBtW2krY3J5cHRvX3NlY3JldGJveF9aRVJPQllURVNdID0gbXNnW2ldO1xuICBjcnlwdG9fc2VjcmV0Ym94KGMsIG0sIG0ubGVuZ3RoLCBub25jZSwga2V5KTtcbiAgcmV0dXJuIGMuc3ViYXJyYXkoY3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVMpO1xufTtcblxubmFjbC5zZWNyZXRib3gub3BlbiA9IGZ1bmN0aW9uKGJveCwgbm9uY2UsIGtleSkge1xuICBjaGVja0FycmF5VHlwZXMoYm94LCBub25jZSwga2V5KTtcbiAgY2hlY2tMZW5ndGhzKGtleSwgbm9uY2UpO1xuICB2YXIgYyA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zZWNyZXRib3hfQk9YWkVST0JZVEVTICsgYm94Lmxlbmd0aCk7XG4gIHZhciBtID0gbmV3IFVpbnQ4QXJyYXkoYy5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJveC5sZW5ndGg7IGkrKykgY1tpK2NyeXB0b19zZWNyZXRib3hfQk9YWkVST0JZVEVTXSA9IGJveFtpXTtcbiAgaWYgKGMubGVuZ3RoIDwgMzIpIHJldHVybiBudWxsO1xuICBpZiAoY3J5cHRvX3NlY3JldGJveF9vcGVuKG0sIGMsIGMubGVuZ3RoLCBub25jZSwga2V5KSAhPT0gMCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBtLnN1YmFycmF5KGNyeXB0b19zZWNyZXRib3hfWkVST0JZVEVTKTtcbn07XG5cbm5hY2wuc2VjcmV0Ym94LmtleUxlbmd0aCA9IGNyeXB0b19zZWNyZXRib3hfS0VZQllURVM7XG5uYWNsLnNlY3JldGJveC5ub25jZUxlbmd0aCA9IGNyeXB0b19zZWNyZXRib3hfTk9OQ0VCWVRFUztcbm5hY2wuc2VjcmV0Ym94Lm92ZXJoZWFkTGVuZ3RoID0gY3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVM7XG5cbm5hY2wuc2NhbGFyTXVsdCA9IGZ1bmN0aW9uKG4sIHApIHtcbiAgY2hlY2tBcnJheVR5cGVzKG4sIHApO1xuICBpZiAobi5sZW5ndGggIT09IGNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBuIHNpemUnKTtcbiAgaWYgKHAubGVuZ3RoICE9PSBjcnlwdG9fc2NhbGFybXVsdF9CWVRFUykgdGhyb3cgbmV3IEVycm9yKCdiYWQgcCBzaXplJyk7XG4gIHZhciBxID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NjYWxhcm11bHRfQllURVMpO1xuICBjcnlwdG9fc2NhbGFybXVsdChxLCBuLCBwKTtcbiAgcmV0dXJuIHE7XG59O1xuXG5uYWNsLnNjYWxhck11bHQuYmFzZSA9IGZ1bmN0aW9uKG4pIHtcbiAgY2hlY2tBcnJheVR5cGVzKG4pO1xuICBpZiAobi5sZW5ndGggIT09IGNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBuIHNpemUnKTtcbiAgdmFyIHEgPSBuZXcgVWludDhBcnJheShjcnlwdG9fc2NhbGFybXVsdF9CWVRFUyk7XG4gIGNyeXB0b19zY2FsYXJtdWx0X2Jhc2UocSwgbik7XG4gIHJldHVybiBxO1xufTtcblxubmFjbC5zY2FsYXJNdWx0LnNjYWxhckxlbmd0aCA9IGNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTO1xubmFjbC5zY2FsYXJNdWx0Lmdyb3VwRWxlbWVudExlbmd0aCA9IGNyeXB0b19zY2FsYXJtdWx0X0JZVEVTO1xuXG5uYWNsLmJveCA9IGZ1bmN0aW9uKG1zZywgbm9uY2UsIHB1YmxpY0tleSwgc2VjcmV0S2V5KSB7XG4gIHZhciBrID0gbmFjbC5ib3guYmVmb3JlKHB1YmxpY0tleSwgc2VjcmV0S2V5KTtcbiAgcmV0dXJuIG5hY2wuc2VjcmV0Ym94KG1zZywgbm9uY2UsIGspO1xufTtcblxubmFjbC5ib3guYmVmb3JlID0gZnVuY3Rpb24ocHVibGljS2V5LCBzZWNyZXRLZXkpIHtcbiAgY2hlY2tBcnJheVR5cGVzKHB1YmxpY0tleSwgc2VjcmV0S2V5KTtcbiAgY2hlY2tCb3hMZW5ndGhzKHB1YmxpY0tleSwgc2VjcmV0S2V5KTtcbiAgdmFyIGsgPSBuZXcgVWludDhBcnJheShjcnlwdG9fYm94X0JFRk9SRU5NQllURVMpO1xuICBjcnlwdG9fYm94X2JlZm9yZW5tKGssIHB1YmxpY0tleSwgc2VjcmV0S2V5KTtcbiAgcmV0dXJuIGs7XG59O1xuXG5uYWNsLmJveC5hZnRlciA9IG5hY2wuc2VjcmV0Ym94O1xuXG5uYWNsLmJveC5vcGVuID0gZnVuY3Rpb24obXNnLCBub25jZSwgcHVibGljS2V5LCBzZWNyZXRLZXkpIHtcbiAgdmFyIGsgPSBuYWNsLmJveC5iZWZvcmUocHVibGljS2V5LCBzZWNyZXRLZXkpO1xuICByZXR1cm4gbmFjbC5zZWNyZXRib3gub3Blbihtc2csIG5vbmNlLCBrKTtcbn07XG5cbm5hY2wuYm94Lm9wZW4uYWZ0ZXIgPSBuYWNsLnNlY3JldGJveC5vcGVuO1xuXG5uYWNsLmJveC5rZXlQYWlyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwayA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19ib3hfUFVCTElDS0VZQllURVMpO1xuICB2YXIgc2sgPSBuZXcgVWludDhBcnJheShjcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTKTtcbiAgY3J5cHRvX2JveF9rZXlwYWlyKHBrLCBzayk7XG4gIHJldHVybiB7cHVibGljS2V5OiBwaywgc2VjcmV0S2V5OiBza307XG59O1xuXG5uYWNsLmJveC5rZXlQYWlyLmZyb21TZWNyZXRLZXkgPSBmdW5jdGlvbihzZWNyZXRLZXkpIHtcbiAgY2hlY2tBcnJheVR5cGVzKHNlY3JldEtleSk7XG4gIGlmIChzZWNyZXRLZXkubGVuZ3RoICE9PSBjcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTKVxuICAgIHRocm93IG5ldyBFcnJvcignYmFkIHNlY3JldCBrZXkgc2l6ZScpO1xuICB2YXIgcGsgPSBuZXcgVWludDhBcnJheShjcnlwdG9fYm94X1BVQkxJQ0tFWUJZVEVTKTtcbiAgY3J5cHRvX3NjYWxhcm11bHRfYmFzZShwaywgc2VjcmV0S2V5KTtcbiAgcmV0dXJuIHtwdWJsaWNLZXk6IHBrLCBzZWNyZXRLZXk6IG5ldyBVaW50OEFycmF5KHNlY3JldEtleSl9O1xufTtcblxubmFjbC5ib3gucHVibGljS2V5TGVuZ3RoID0gY3J5cHRvX2JveF9QVUJMSUNLRVlCWVRFUztcbm5hY2wuYm94LnNlY3JldEtleUxlbmd0aCA9IGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVM7XG5uYWNsLmJveC5zaGFyZWRLZXlMZW5ndGggPSBjcnlwdG9fYm94X0JFRk9SRU5NQllURVM7XG5uYWNsLmJveC5ub25jZUxlbmd0aCA9IGNyeXB0b19ib3hfTk9OQ0VCWVRFUztcbm5hY2wuYm94Lm92ZXJoZWFkTGVuZ3RoID0gbmFjbC5zZWNyZXRib3gub3ZlcmhlYWRMZW5ndGg7XG5cbm5hY2wuc2lnbiA9IGZ1bmN0aW9uKG1zZywgc2VjcmV0S2V5KSB7XG4gIGNoZWNrQXJyYXlUeXBlcyhtc2csIHNlY3JldEtleSk7XG4gIGlmIChzZWNyZXRLZXkubGVuZ3RoICE9PSBjcnlwdG9fc2lnbl9TRUNSRVRLRVlCWVRFUylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBzZWNyZXQga2V5IHNpemUnKTtcbiAgdmFyIHNpZ25lZE1zZyA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX0JZVEVTK21zZy5sZW5ndGgpO1xuICBjcnlwdG9fc2lnbihzaWduZWRNc2csIG1zZywgbXNnLmxlbmd0aCwgc2VjcmV0S2V5KTtcbiAgcmV0dXJuIHNpZ25lZE1zZztcbn07XG5cbm5hY2wuc2lnbi5vcGVuID0gZnVuY3Rpb24oc2lnbmVkTXNnLCBwdWJsaWNLZXkpIHtcbiAgY2hlY2tBcnJheVR5cGVzKHNpZ25lZE1zZywgcHVibGljS2V5KTtcbiAgaWYgKHB1YmxpY0tleS5sZW5ndGggIT09IGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTKVxuICAgIHRocm93IG5ldyBFcnJvcignYmFkIHB1YmxpYyBrZXkgc2l6ZScpO1xuICB2YXIgdG1wID0gbmV3IFVpbnQ4QXJyYXkoc2lnbmVkTXNnLmxlbmd0aCk7XG4gIHZhciBtbGVuID0gY3J5cHRvX3NpZ25fb3Blbih0bXAsIHNpZ25lZE1zZywgc2lnbmVkTXNnLmxlbmd0aCwgcHVibGljS2V5KTtcbiAgaWYgKG1sZW4gPCAwKSByZXR1cm4gbnVsbDtcbiAgdmFyIG0gPSBuZXcgVWludDhBcnJheShtbGVuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtLmxlbmd0aDsgaSsrKSBtW2ldID0gdG1wW2ldO1xuICByZXR1cm4gbTtcbn07XG5cbm5hY2wuc2lnbi5kZXRhY2hlZCA9IGZ1bmN0aW9uKG1zZywgc2VjcmV0S2V5KSB7XG4gIHZhciBzaWduZWRNc2cgPSBuYWNsLnNpZ24obXNnLCBzZWNyZXRLZXkpO1xuICB2YXIgc2lnID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NpZ25fQllURVMpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZy5sZW5ndGg7IGkrKykgc2lnW2ldID0gc2lnbmVkTXNnW2ldO1xuICByZXR1cm4gc2lnO1xufTtcblxubmFjbC5zaWduLmRldGFjaGVkLnZlcmlmeSA9IGZ1bmN0aW9uKG1zZywgc2lnLCBwdWJsaWNLZXkpIHtcbiAgY2hlY2tBcnJheVR5cGVzKG1zZywgc2lnLCBwdWJsaWNLZXkpO1xuICBpZiAoc2lnLmxlbmd0aCAhPT0gY3J5cHRvX3NpZ25fQllURVMpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgc2lnbmF0dXJlIHNpemUnKTtcbiAgaWYgKHB1YmxpY0tleS5sZW5ndGggIT09IGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTKVxuICAgIHRocm93IG5ldyBFcnJvcignYmFkIHB1YmxpYyBrZXkgc2l6ZScpO1xuICB2YXIgc20gPSBuZXcgVWludDhBcnJheShjcnlwdG9fc2lnbl9CWVRFUyArIG1zZy5sZW5ndGgpO1xuICB2YXIgbSA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX0JZVEVTICsgbXNnLmxlbmd0aCk7XG4gIHZhciBpO1xuICBmb3IgKGkgPSAwOyBpIDwgY3J5cHRvX3NpZ25fQllURVM7IGkrKykgc21baV0gPSBzaWdbaV07XG4gIGZvciAoaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpKyspIHNtW2krY3J5cHRvX3NpZ25fQllURVNdID0gbXNnW2ldO1xuICByZXR1cm4gKGNyeXB0b19zaWduX29wZW4obSwgc20sIHNtLmxlbmd0aCwgcHVibGljS2V5KSA+PSAwKTtcbn07XG5cbm5hY2wuc2lnbi5rZXlQYWlyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwayA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTKTtcbiAgdmFyIHNrID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVMpO1xuICBjcnlwdG9fc2lnbl9rZXlwYWlyKHBrLCBzayk7XG4gIHJldHVybiB7cHVibGljS2V5OiBwaywgc2VjcmV0S2V5OiBza307XG59O1xuXG5uYWNsLnNpZ24ua2V5UGFpci5mcm9tU2VjcmV0S2V5ID0gZnVuY3Rpb24oc2VjcmV0S2V5KSB7XG4gIGNoZWNrQXJyYXlUeXBlcyhzZWNyZXRLZXkpO1xuICBpZiAoc2VjcmV0S2V5Lmxlbmd0aCAhPT0gY3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVMpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgc2VjcmV0IGtleSBzaXplJyk7XG4gIHZhciBwayA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBway5sZW5ndGg7IGkrKykgcGtbaV0gPSBzZWNyZXRLZXlbMzIraV07XG4gIHJldHVybiB7cHVibGljS2V5OiBwaywgc2VjcmV0S2V5OiBuZXcgVWludDhBcnJheShzZWNyZXRLZXkpfTtcbn07XG5cbm5hY2wuc2lnbi5rZXlQYWlyLmZyb21TZWVkID0gZnVuY3Rpb24oc2VlZCkge1xuICBjaGVja0FycmF5VHlwZXMoc2VlZCk7XG4gIGlmIChzZWVkLmxlbmd0aCAhPT0gY3J5cHRvX3NpZ25fU0VFREJZVEVTKVxuICAgIHRocm93IG5ldyBFcnJvcignYmFkIHNlZWQgc2l6ZScpO1xuICB2YXIgcGsgPSBuZXcgVWludDhBcnJheShjcnlwdG9fc2lnbl9QVUJMSUNLRVlCWVRFUyk7XG4gIHZhciBzayA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX1NFQ1JFVEtFWUJZVEVTKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKSBza1tpXSA9IHNlZWRbaV07XG4gIGNyeXB0b19zaWduX2tleXBhaXIocGssIHNrLCB0cnVlKTtcbiAgcmV0dXJuIHtwdWJsaWNLZXk6IHBrLCBzZWNyZXRLZXk6IHNrfTtcbn07XG5cbm5hY2wuc2lnbi5wdWJsaWNLZXlMZW5ndGggPSBjcnlwdG9fc2lnbl9QVUJMSUNLRVlCWVRFUztcbm5hY2wuc2lnbi5zZWNyZXRLZXlMZW5ndGggPSBjcnlwdG9fc2lnbl9TRUNSRVRLRVlCWVRFUztcbm5hY2wuc2lnbi5zZWVkTGVuZ3RoID0gY3J5cHRvX3NpZ25fU0VFREJZVEVTO1xubmFjbC5zaWduLnNpZ25hdHVyZUxlbmd0aCA9IGNyeXB0b19zaWduX0JZVEVTO1xuXG5uYWNsLmhhc2ggPSBmdW5jdGlvbihtc2cpIHtcbiAgY2hlY2tBcnJheVR5cGVzKG1zZyk7XG4gIHZhciBoID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvX2hhc2hfQllURVMpO1xuICBjcnlwdG9faGFzaChoLCBtc2csIG1zZy5sZW5ndGgpO1xuICByZXR1cm4gaDtcbn07XG5cbm5hY2wuaGFzaC5oYXNoTGVuZ3RoID0gY3J5cHRvX2hhc2hfQllURVM7XG5cbm5hY2wudmVyaWZ5ID0gZnVuY3Rpb24oeCwgeSkge1xuICBjaGVja0FycmF5VHlwZXMoeCwgeSk7XG4gIC8vIFplcm8gbGVuZ3RoIGFyZ3VtZW50cyBhcmUgY29uc2lkZXJlZCBub3QgZXF1YWwuXG4gIGlmICh4Lmxlbmd0aCA9PT0gMCB8fCB5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoeC5sZW5ndGggIT09IHkubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAodm4oeCwgMCwgeSwgMCwgeC5sZW5ndGgpID09PSAwKSA/IHRydWUgOiBmYWxzZTtcbn07XG5cbm5hY2wuc2V0UFJORyA9IGZ1bmN0aW9uKGZuKSB7XG4gIHJhbmRvbWJ5dGVzID0gZm47XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gIC8vIEluaXRpYWxpemUgUFJORyBpZiBlbnZpcm9ubWVudCBwcm92aWRlcyBDU1BSTkcuXG4gIC8vIElmIG5vdCwgbWV0aG9kcyBjYWxsaW5nIHJhbmRvbWJ5dGVzIHdpbGwgdGhyb3cuXG4gIHZhciBjcnlwdG8gPSB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyAoc2VsZi5jcnlwdG8gfHwgc2VsZi5tc0NyeXB0bykgOiBudWxsO1xuICBpZiAoY3J5cHRvICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBCcm93c2Vycy5cbiAgICB2YXIgUVVPVEEgPSA2NTUzNjtcbiAgICBuYWNsLnNldFBSTkcoZnVuY3Rpb24oeCwgbikge1xuICAgICAgdmFyIGksIHYgPSBuZXcgVWludDhBcnJheShuKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyBpICs9IFFVT1RBKSB7XG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXModi5zdWJhcnJheShpLCBpICsgTWF0aC5taW4obiAtIGksIFFVT1RBKSkpO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMDsgaSA8IG47IGkrKykgeFtpXSA9IHZbaV07XG4gICAgICBjbGVhbnVwKHYpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiByZXF1aXJlICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE5vZGUuanMuXG4gICAgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG4gICAgaWYgKGNyeXB0byAmJiBjcnlwdG8ucmFuZG9tQnl0ZXMpIHtcbiAgICAgIG5hY2wuc2V0UFJORyhmdW5jdGlvbih4LCBuKSB7XG4gICAgICAgIHZhciBpLCB2ID0gY3J5cHRvLnJhbmRvbUJ5dGVzKG4pO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB4W2ldID0gdltpXTtcbiAgICAgICAgY2xlYW51cCh2KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSkoKTtcblxufSkodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMgPyBtb2R1bGUuZXhwb3J0cyA6IChzZWxmLm5hY2wgPSBzZWxmLm5hY2wgfHwge30pKTtcbiJdLCJuYW1lcyI6WyJuYWNsIiwiZ2YiLCJpbml0IiwiaSIsInIiLCJGbG9hdDY0QXJyYXkiLCJsZW5ndGgiLCJyYW5kb21ieXRlcyIsIkVycm9yIiwiXzAiLCJVaW50OEFycmF5IiwiXzkiLCJnZjAiLCJnZjEiLCJfMTIxNjY1IiwiRCIsIkQyIiwiWCIsIlkiLCJJIiwidHM2NCIsIngiLCJoIiwibCIsInZuIiwieGkiLCJ5IiwieWkiLCJuIiwiZCIsImNyeXB0b192ZXJpZnlfMTYiLCJjcnlwdG9fdmVyaWZ5XzMyIiwiY29yZV9zYWxzYTIwIiwibyIsInAiLCJrIiwiYyIsImowIiwiajEiLCJqMiIsImozIiwiajQiLCJqNSIsImo2IiwiajciLCJqOCIsImo5IiwiajEwIiwiajExIiwiajEyIiwiajEzIiwiajE0IiwiajE1IiwieDAiLCJ4MSIsIngyIiwieDMiLCJ4NCIsIng1IiwieDYiLCJ4NyIsIng4IiwieDkiLCJ4MTAiLCJ4MTEiLCJ4MTIiLCJ4MTMiLCJ4MTQiLCJ4MTUiLCJ1IiwiY29yZV9oc2Fsc2EyMCIsImNyeXB0b19jb3JlX3NhbHNhMjAiLCJvdXQiLCJpbnAiLCJjcnlwdG9fY29yZV9oc2Fsc2EyMCIsInNpZ21hIiwiY3J5cHRvX3N0cmVhbV9zYWxzYTIwX3hvciIsImNwb3MiLCJtIiwibXBvcyIsImIiLCJ6IiwiY3J5cHRvX3N0cmVhbV9zYWxzYTIwIiwiY3J5cHRvX3N0cmVhbSIsInMiLCJzbiIsImNyeXB0b19zdHJlYW1feG9yIiwicG9seTEzMDUiLCJrZXkiLCJidWZmZXIiLCJVaW50MTZBcnJheSIsInBhZCIsImxlZnRvdmVyIiwiZmluIiwidDAiLCJ0MSIsInQyIiwidDMiLCJ0NCIsInQ1IiwidDYiLCJ0NyIsInByb3RvdHlwZSIsImJsb2NrcyIsImJ5dGVzIiwiaGliaXQiLCJkMCIsImQxIiwiZDIiLCJkMyIsImQ0IiwiZDUiLCJkNiIsImQ3IiwiZDgiLCJkOSIsImgwIiwiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2IiwiaDciLCJoOCIsImg5IiwicjAiLCJyMSIsInIyIiwicjMiLCJyNCIsInI1IiwicjYiLCJyNyIsInI4IiwicjkiLCJmaW5pc2giLCJtYWMiLCJtYWNwb3MiLCJnIiwibWFzayIsImYiLCJ1cGRhdGUiLCJ3YW50IiwiY3J5cHRvX29uZXRpbWVhdXRoIiwib3V0cG9zIiwiY3J5cHRvX29uZXRpbWVhdXRoX3ZlcmlmeSIsImhwb3MiLCJjcnlwdG9fc2VjcmV0Ym94IiwiY3J5cHRvX3NlY3JldGJveF9vcGVuIiwic2V0MjU1MTkiLCJhIiwiY2FyMjU1MTkiLCJ2IiwiTWF0aCIsImZsb29yIiwic2VsMjU1MTkiLCJxIiwidCIsInBhY2syNTUxOSIsImoiLCJuZXEyNTUxOSIsInBhcjI1NTE5IiwidW5wYWNrMjU1MTkiLCJBIiwiWiIsIk0iLCJ0OCIsInQ5IiwidDEwIiwidDExIiwidDEyIiwidDEzIiwidDE0IiwidDE1IiwidDE2IiwidDE3IiwidDE4IiwidDE5IiwidDIwIiwidDIxIiwidDIyIiwidDIzIiwidDI0IiwidDI1IiwidDI2IiwidDI3IiwidDI4IiwidDI5IiwidDMwIiwiYjAiLCJiMSIsImIyIiwiYjMiLCJiNCIsImI1IiwiYjYiLCJiNyIsImI4IiwiYjkiLCJiMTAiLCJiMTEiLCJiMTIiLCJiMTMiLCJiMTQiLCJiMTUiLCJTIiwiaW52MjU1MTkiLCJwb3cyNTIzIiwiY3J5cHRvX3NjYWxhcm11bHQiLCJlIiwieDMyIiwic3ViYXJyYXkiLCJ4MTYiLCJjcnlwdG9fc2NhbGFybXVsdF9iYXNlIiwiY3J5cHRvX2JveF9rZXlwYWlyIiwiY3J5cHRvX2JveF9iZWZvcmVubSIsImNyeXB0b19ib3hfYWZ0ZXJubSIsImNyeXB0b19ib3hfb3Blbl9hZnRlcm5tIiwiY3J5cHRvX2JveCIsImNyeXB0b19ib3hfb3BlbiIsIksiLCJjcnlwdG9faGFzaGJsb2Nrc19obCIsImhoIiwiaGwiLCJ3aCIsIkludDMyQXJyYXkiLCJ3bCIsImJoMCIsImJoMSIsImJoMiIsImJoMyIsImJoNCIsImJoNSIsImJoNiIsImJoNyIsImJsMCIsImJsMSIsImJsMiIsImJsMyIsImJsNCIsImJsNSIsImJsNiIsImJsNyIsInRoIiwidGwiLCJhaDAiLCJhaDEiLCJhaDIiLCJhaDMiLCJhaDQiLCJhaDUiLCJhaDYiLCJhaDciLCJhbDAiLCJhbDEiLCJhbDIiLCJhbDMiLCJhbDQiLCJhbDUiLCJhbDYiLCJhbDciLCJwb3MiLCJjcnlwdG9faGFzaCIsImFkZCIsImNzd2FwIiwicGFjayIsInR4IiwidHkiLCJ6aSIsInNjYWxhcm11bHQiLCJzY2FsYXJiYXNlIiwiY3J5cHRvX3NpZ25fa2V5cGFpciIsInBrIiwic2siLCJzZWVkZWQiLCJMIiwibW9kTCIsImNhcnJ5IiwicmVkdWNlIiwiY3J5cHRvX3NpZ24iLCJzbSIsInNtbGVuIiwidW5wYWNrbmVnIiwiY2hrIiwibnVtIiwiZGVuIiwiZGVuMiIsImRlbjQiLCJkZW42IiwiY3J5cHRvX3NpZ25fb3BlbiIsImNyeXB0b19zZWNyZXRib3hfS0VZQllURVMiLCJjcnlwdG9fc2VjcmV0Ym94X05PTkNFQllURVMiLCJjcnlwdG9fc2VjcmV0Ym94X1pFUk9CWVRFUyIsImNyeXB0b19zZWNyZXRib3hfQk9YWkVST0JZVEVTIiwiY3J5cHRvX3NjYWxhcm11bHRfQllURVMiLCJjcnlwdG9fc2NhbGFybXVsdF9TQ0FMQVJCWVRFUyIsImNyeXB0b19ib3hfUFVCTElDS0VZQllURVMiLCJjcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTIiwiY3J5cHRvX2JveF9CRUZPUkVOTUJZVEVTIiwiY3J5cHRvX2JveF9OT05DRUJZVEVTIiwiY3J5cHRvX2JveF9aRVJPQllURVMiLCJjcnlwdG9fYm94X0JPWFpFUk9CWVRFUyIsImNyeXB0b19zaWduX0JZVEVTIiwiY3J5cHRvX3NpZ25fUFVCTElDS0VZQllURVMiLCJjcnlwdG9fc2lnbl9TRUNSRVRLRVlCWVRFUyIsImNyeXB0b19zaWduX1NFRURCWVRFUyIsImNyeXB0b19oYXNoX0JZVEVTIiwibG93bGV2ZWwiLCJjaGVja0xlbmd0aHMiLCJjaGVja0JveExlbmd0aHMiLCJjaGVja0FycmF5VHlwZXMiLCJhcmd1bWVudHMiLCJUeXBlRXJyb3IiLCJjbGVhbnVwIiwiYXJyIiwicmFuZG9tQnl0ZXMiLCJzZWNyZXRib3giLCJtc2ciLCJub25jZSIsIm9wZW4iLCJib3giLCJrZXlMZW5ndGgiLCJub25jZUxlbmd0aCIsIm92ZXJoZWFkTGVuZ3RoIiwic2NhbGFyTXVsdCIsImJhc2UiLCJzY2FsYXJMZW5ndGgiLCJncm91cEVsZW1lbnRMZW5ndGgiLCJwdWJsaWNLZXkiLCJzZWNyZXRLZXkiLCJiZWZvcmUiLCJhZnRlciIsImtleVBhaXIiLCJmcm9tU2VjcmV0S2V5IiwicHVibGljS2V5TGVuZ3RoIiwic2VjcmV0S2V5TGVuZ3RoIiwic2hhcmVkS2V5TGVuZ3RoIiwic2lnbiIsInNpZ25lZE1zZyIsInRtcCIsIm1sZW4iLCJkZXRhY2hlZCIsInNpZyIsInZlcmlmeSIsImZyb21TZWVkIiwic2VlZCIsInNlZWRMZW5ndGgiLCJzaWduYXR1cmVMZW5ndGgiLCJoYXNoIiwiaGFzaExlbmd0aCIsInNldFBSTkciLCJmbiIsImNyeXB0byIsInNlbGYiLCJtc0NyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsIlFVT1RBIiwibWluIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/tweetnacl-js/nacl-fast.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/rlp/dist/esm/index.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/rlp/dist/esm/index.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RLP: () => (/* binding */ RLP),\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   encode: () => (/* binding */ encode),\n/* harmony export */   utils: () => (/* binding */ utils)\n/* harmony export */ });\n/**\n * RLP Encoding based on https://ethereum.org/en/developers/docs/data-structures-and-encoding/rlp/\n * This function takes in data, converts it to Uint8Array if not,\n * and adds a length for recursion.\n * @param input Will be converted to Uint8Array\n * @returns Uint8Array of encoded data\n **/ function encode(input) {\n    if (Array.isArray(input)) {\n        const output = [];\n        let outputLength = 0;\n        for(let i = 0; i < input.length; i++){\n            const encoded = encode(input[i]);\n            output.push(encoded);\n            outputLength += encoded.length;\n        }\n        return concatBytes(encodeLength(outputLength, 192), ...output);\n    }\n    const inputBuf = toBytes(input);\n    if (inputBuf.length === 1 && inputBuf[0] < 128) {\n        return inputBuf;\n    }\n    return concatBytes(encodeLength(inputBuf.length, 128), inputBuf);\n}\n/**\n * Slices a Uint8Array, throws if the slice goes out-of-bounds of the Uint8Array.\n * E.g. `safeSlice(hexToBytes('aa'), 1, 2)` will throw.\n * @param input\n * @param start\n * @param end\n */ function safeSlice(input, start, end) {\n    if (end > input.length) {\n        throw new Error(\"invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds\");\n    }\n    return input.slice(start, end);\n}\n/**\n * Parse integers. Check if there is no leading zeros\n * @param v The value to parse\n */ function decodeLength(v) {\n    if (v[0] === 0) {\n        throw new Error(\"invalid RLP: extra zeros\");\n    }\n    return parseHexByte(bytesToHex(v));\n}\nfunction encodeLength(len, offset) {\n    if (len < 56) {\n        return Uint8Array.from([\n            len + offset\n        ]);\n    }\n    const hexLength = numberToHex(len);\n    const lLength = hexLength.length / 2;\n    const firstByte = numberToHex(offset + 55 + lLength);\n    return Uint8Array.from(hexToBytes(firstByte + hexLength));\n}\nfunction decode(input, stream = false) {\n    if (typeof input === \"undefined\" || input === null || input.length === 0) {\n        return Uint8Array.from([]);\n    }\n    const inputBytes = toBytes(input);\n    const decoded = _decode(inputBytes);\n    if (stream) {\n        return decoded;\n    }\n    if (decoded.remainder.length !== 0) {\n        throw new Error(\"invalid RLP: remainder must be zero\");\n    }\n    return decoded.data;\n}\n/** Decode an input with RLP */ function _decode(input) {\n    let length, llength, data, innerRemainder, d;\n    const decoded = [];\n    const firstByte = input[0];\n    if (firstByte <= 0x7f) {\n        // a single byte whose value is in the [0x00, 0x7f] range, that byte is its own RLP encoding.\n        return {\n            data: input.slice(0, 1),\n            remainder: input.slice(1)\n        };\n    } else if (firstByte <= 0xb7) {\n        // string is 0-55 bytes long. A single byte with value 0x80 plus the length of the string followed by the string\n        // The range of the first byte is [0x80, 0xb7]\n        length = firstByte - 0x7f;\n        // set 0x80 null to 0\n        if (firstByte === 0x80) {\n            data = Uint8Array.from([]);\n        } else {\n            data = safeSlice(input, 1, length);\n        }\n        if (length === 2 && data[0] < 0x80) {\n            throw new Error(\"invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed\");\n        }\n        return {\n            data,\n            remainder: input.slice(length)\n        };\n    } else if (firstByte <= 0xbf) {\n        // string is greater than 55 bytes long. A single byte with the value (0xb7 plus the length of the length),\n        // followed by the length, followed by the string\n        llength = firstByte - 0xb6;\n        if (input.length - 1 < llength) {\n            throw new Error(\"invalid RLP: not enough bytes for string length\");\n        }\n        length = decodeLength(safeSlice(input, 1, llength));\n        if (length <= 55) {\n            throw new Error(\"invalid RLP: expected string length to be greater than 55\");\n        }\n        data = safeSlice(input, llength, length + llength);\n        return {\n            data,\n            remainder: input.slice(length + llength)\n        };\n    } else if (firstByte <= 0xf7) {\n        // a list between 0-55 bytes long\n        length = firstByte - 0xbf;\n        innerRemainder = safeSlice(input, 1, length);\n        while(innerRemainder.length){\n            d = _decode(innerRemainder);\n            decoded.push(d.data);\n            innerRemainder = d.remainder;\n        }\n        return {\n            data: decoded,\n            remainder: input.slice(length)\n        };\n    } else {\n        // a list over 55 bytes long\n        llength = firstByte - 0xf6;\n        length = decodeLength(safeSlice(input, 1, llength));\n        if (length < 56) {\n            throw new Error(\"invalid RLP: encoded list too short\");\n        }\n        const totalLength = llength + length;\n        if (totalLength > input.length) {\n            throw new Error(\"invalid RLP: total length is larger than the data\");\n        }\n        innerRemainder = safeSlice(input, llength, totalLength);\n        while(innerRemainder.length){\n            d = _decode(innerRemainder);\n            decoded.push(d.data);\n            innerRemainder = d.remainder;\n        }\n        return {\n            data: decoded,\n            remainder: input.slice(totalLength)\n        };\n    }\n}\nconst cachedHexes = Array.from({\n    length: 256\n}, (_v, i)=>i.toString(16).padStart(2, \"0\"));\nfunction bytesToHex(uint8a) {\n    // Pre-caching chars with `cachedHexes` speeds this up 6x\n    let hex = \"\";\n    for(let i = 0; i < uint8a.length; i++){\n        hex += cachedHexes[uint8a[i]];\n    }\n    return hex;\n}\nfunction parseHexByte(hexByte) {\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte)) throw new Error(\"Invalid byte sequence\");\n    return byte;\n}\n// Caching slows it down 2-3x\nfunction hexToBytes(hex) {\n    if (typeof hex !== \"string\") {\n        throw new TypeError(\"hexToBytes: expected string, got \" + typeof hex);\n    }\n    if (hex.length % 2) throw new Error(\"hexToBytes: received invalid unpadded hex\");\n    const array = new Uint8Array(hex.length / 2);\n    for(let i = 0; i < array.length; i++){\n        const j = i * 2;\n        array[i] = parseHexByte(hex.slice(j, j + 2));\n    }\n    return array;\n}\n/** Concatenates two Uint8Arrays into one. */ function concatBytes(...arrays) {\n    if (arrays.length === 1) return arrays[0];\n    const length = arrays.reduce((a, arr)=>a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for(let i = 0, pad = 0; i < arrays.length; i++){\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\nfunction utf8ToBytes(utf) {\n    return new TextEncoder().encode(utf);\n}\n/** Transform an integer into its hexadecimal value */ function numberToHex(integer) {\n    if (integer < 0) {\n        throw new Error(\"Invalid integer as argument, must be unsigned!\");\n    }\n    const hex = integer.toString(16);\n    return hex.length % 2 ? `0${hex}` : hex;\n}\n/** Pad a string to be even */ function padToEven(a) {\n    return a.length % 2 ? `0${a}` : a;\n}\n/** Check if a string is prefixed by 0x */ function isHexPrefixed(str) {\n    return str.length >= 2 && str[0] === \"0\" && str[1] === \"x\";\n}\n/** Removes 0x from a given String */ function stripHexPrefix(str) {\n    if (typeof str !== \"string\") {\n        return str;\n    }\n    return isHexPrefixed(str) ? str.slice(2) : str;\n}\n/** Transform anything into a Uint8Array */ function toBytes(v) {\n    if (v instanceof Uint8Array) {\n        return v;\n    }\n    if (typeof v === \"string\") {\n        if (isHexPrefixed(v)) {\n            return hexToBytes(padToEven(stripHexPrefix(v)));\n        }\n        return utf8ToBytes(v);\n    }\n    if (typeof v === \"number\" || typeof v === \"bigint\") {\n        if (!v) {\n            return Uint8Array.from([]);\n        }\n        return hexToBytes(numberToHex(v));\n    }\n    if (v === null || v === undefined) {\n        return Uint8Array.from([]);\n    }\n    throw new Error(\"toBytes: received unsupported type \" + typeof v);\n}\nconst utils = {\n    bytesToHex,\n    concatBytes,\n    hexToBytes,\n    utf8ToBytes\n};\nconst RLP = {\n    encode,\n    decode\n}; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy9ybHAvZGlzdC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7RUFNRSxHQUNLLFNBQVNBLE9BQU9DLEtBQUs7SUFDeEIsSUFBSUMsTUFBTUMsT0FBTyxDQUFDRixRQUFRO1FBQ3RCLE1BQU1HLFNBQVMsRUFBRTtRQUNqQixJQUFJQyxlQUFlO1FBQ25CLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJTCxNQUFNTSxNQUFNLEVBQUVELElBQUs7WUFDbkMsTUFBTUUsVUFBVVIsT0FBT0MsS0FBSyxDQUFDSyxFQUFFO1lBQy9CRixPQUFPSyxJQUFJLENBQUNEO1lBQ1pILGdCQUFnQkcsUUFBUUQsTUFBTTtRQUNsQztRQUNBLE9BQU9HLFlBQVlDLGFBQWFOLGNBQWMsU0FBU0Q7SUFDM0Q7SUFDQSxNQUFNUSxXQUFXQyxRQUFRWjtJQUN6QixJQUFJVyxTQUFTTCxNQUFNLEtBQUssS0FBS0ssUUFBUSxDQUFDLEVBQUUsR0FBRyxLQUFLO1FBQzVDLE9BQU9BO0lBQ1g7SUFDQSxPQUFPRixZQUFZQyxhQUFhQyxTQUFTTCxNQUFNLEVBQUUsTUFBTUs7QUFDM0Q7QUFDQTs7Ozs7O0NBTUMsR0FDRCxTQUFTRSxVQUFVYixLQUFLLEVBQUVjLEtBQUssRUFBRUMsR0FBRztJQUNoQyxJQUFJQSxNQUFNZixNQUFNTSxNQUFNLEVBQUU7UUFDcEIsTUFBTSxJQUFJVSxNQUFNO0lBQ3BCO0lBQ0EsT0FBT2hCLE1BQU1pQixLQUFLLENBQUNILE9BQU9DO0FBQzlCO0FBQ0E7OztDQUdDLEdBQ0QsU0FBU0csYUFBYUMsQ0FBQztJQUNuQixJQUFJQSxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUc7UUFDWixNQUFNLElBQUlILE1BQU07SUFDcEI7SUFDQSxPQUFPSSxhQUFhQyxXQUFXRjtBQUNuQztBQUNBLFNBQVNULGFBQWFZLEdBQUcs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QUFPLEVBQUUsQ0FDdEMsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3JscC9kaXN0L2VzbS9pbmRleC5qcz80YzFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUkxQIEVuY29kaW5nIGJhc2VkIG9uIGh0dHBzOi8vZXRoZXJldW0ub3JnL2VuL2RldmVsb3BlcnMvZG9jcy9kYXRhLXN0cnVjdHVyZXMtYW5kLWVuY29kaW5nL3JscC9cbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgaW4gZGF0YSwgY29udmVydHMgaXQgdG8gVWludDhBcnJheSBpZiBub3QsXG4gKiBhbmQgYWRkcyBhIGxlbmd0aCBmb3IgcmVjdXJzaW9uLlxuICogQHBhcmFtIGlucHV0IFdpbGwgYmUgY29udmVydGVkIHRvIFVpbnQ4QXJyYXlcbiAqIEByZXR1cm5zIFVpbnQ4QXJyYXkgb2YgZW5jb2RlZCBkYXRhXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuICAgICAgICBsZXQgb3V0cHV0TGVuZ3RoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZShpbnB1dFtpXSk7XG4gICAgICAgICAgICBvdXRwdXQucHVzaChlbmNvZGVkKTtcbiAgICAgICAgICAgIG91dHB1dExlbmd0aCArPSBlbmNvZGVkLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29uY2F0Qnl0ZXMoZW5jb2RlTGVuZ3RoKG91dHB1dExlbmd0aCwgMTkyKSwgLi4ub3V0cHV0KTtcbiAgICB9XG4gICAgY29uc3QgaW5wdXRCdWYgPSB0b0J5dGVzKGlucHV0KTtcbiAgICBpZiAoaW5wdXRCdWYubGVuZ3RoID09PSAxICYmIGlucHV0QnVmWzBdIDwgMTI4KSB7XG4gICAgICAgIHJldHVybiBpbnB1dEJ1ZjtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmNhdEJ5dGVzKGVuY29kZUxlbmd0aChpbnB1dEJ1Zi5sZW5ndGgsIDEyOCksIGlucHV0QnVmKTtcbn1cbi8qKlxuICogU2xpY2VzIGEgVWludDhBcnJheSwgdGhyb3dzIGlmIHRoZSBzbGljZSBnb2VzIG91dC1vZi1ib3VuZHMgb2YgdGhlIFVpbnQ4QXJyYXkuXG4gKiBFLmcuIGBzYWZlU2xpY2UoaGV4VG9CeXRlcygnYWEnKSwgMSwgMilgIHdpbGwgdGhyb3cuXG4gKiBAcGFyYW0gaW5wdXRcbiAqIEBwYXJhbSBzdGFydFxuICogQHBhcmFtIGVuZFxuICovXG5mdW5jdGlvbiBzYWZlU2xpY2UoaW5wdXQsIHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoZW5kID4gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBSTFAgKHNhZmVTbGljZSk6IGVuZCBzbGljZSBvZiBVaW50OEFycmF5IG91dC1vZi1ib3VuZHMnKTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0LnNsaWNlKHN0YXJ0LCBlbmQpO1xufVxuLyoqXG4gKiBQYXJzZSBpbnRlZ2Vycy4gQ2hlY2sgaWYgdGhlcmUgaXMgbm8gbGVhZGluZyB6ZXJvc1xuICogQHBhcmFtIHYgVGhlIHZhbHVlIHRvIHBhcnNlXG4gKi9cbmZ1bmN0aW9uIGRlY29kZUxlbmd0aCh2KSB7XG4gICAgaWYgKHZbMF0gPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIFJMUDogZXh0cmEgemVyb3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlSGV4Qnl0ZShieXRlc1RvSGV4KHYpKTtcbn1cbmZ1bmN0aW9uIGVuY29kZUxlbmd0aChsZW4sIG9mZnNldCkge1xuICAgIGlmIChsZW4gPCA1Nikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKFtsZW4gKyBvZmZzZXRdKTtcbiAgICB9XG4gICAgY29uc3QgaGV4TGVuZ3RoID0gbnVtYmVyVG9IZXgobGVuKTtcbiAgICBjb25zdCBsTGVuZ3RoID0gaGV4TGVuZ3RoLmxlbmd0aCAvIDI7XG4gICAgY29uc3QgZmlyc3RCeXRlID0gbnVtYmVyVG9IZXgob2Zmc2V0ICsgNTUgKyBsTGVuZ3RoKTtcbiAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKGhleFRvQnl0ZXMoZmlyc3RCeXRlICsgaGV4TGVuZ3RoKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBzdHJlYW0gPSBmYWxzZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnIHx8IGlucHV0ID09PSBudWxsIHx8IGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKFtdKTtcbiAgICB9XG4gICAgY29uc3QgaW5wdXRCeXRlcyA9IHRvQnl0ZXMoaW5wdXQpO1xuICAgIGNvbnN0IGRlY29kZWQgPSBfZGVjb2RlKGlucHV0Qnl0ZXMpO1xuICAgIGlmIChzdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZWQ7XG4gICAgfVxuICAgIGlmIChkZWNvZGVkLnJlbWFpbmRlci5sZW5ndGggIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIFJMUDogcmVtYWluZGVyIG11c3QgYmUgemVybycpO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb2RlZC5kYXRhO1xufVxuLyoqIERlY29kZSBhbiBpbnB1dCB3aXRoIFJMUCAqL1xuZnVuY3Rpb24gX2RlY29kZShpbnB1dCkge1xuICAgIGxldCBsZW5ndGgsIGxsZW5ndGgsIGRhdGEsIGlubmVyUmVtYWluZGVyLCBkO1xuICAgIGNvbnN0IGRlY29kZWQgPSBbXTtcbiAgICBjb25zdCBmaXJzdEJ5dGUgPSBpbnB1dFswXTtcbiAgICBpZiAoZmlyc3RCeXRlIDw9IDB4N2YpIHtcbiAgICAgICAgLy8gYSBzaW5nbGUgYnl0ZSB3aG9zZSB2YWx1ZSBpcyBpbiB0aGUgWzB4MDAsIDB4N2ZdIHJhbmdlLCB0aGF0IGJ5dGUgaXMgaXRzIG93biBSTFAgZW5jb2RpbmcuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBpbnB1dC5zbGljZSgwLCAxKSxcbiAgICAgICAgICAgIHJlbWFpbmRlcjogaW5wdXQuc2xpY2UoMSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpcnN0Qnl0ZSA8PSAweGI3KSB7XG4gICAgICAgIC8vIHN0cmluZyBpcyAwLTU1IGJ5dGVzIGxvbmcuIEEgc2luZ2xlIGJ5dGUgd2l0aCB2YWx1ZSAweDgwIHBsdXMgdGhlIGxlbmd0aCBvZiB0aGUgc3RyaW5nIGZvbGxvd2VkIGJ5IHRoZSBzdHJpbmdcbiAgICAgICAgLy8gVGhlIHJhbmdlIG9mIHRoZSBmaXJzdCBieXRlIGlzIFsweDgwLCAweGI3XVxuICAgICAgICBsZW5ndGggPSBmaXJzdEJ5dGUgLSAweDdmO1xuICAgICAgICAvLyBzZXQgMHg4MCBudWxsIHRvIDBcbiAgICAgICAgaWYgKGZpcnN0Qnl0ZSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgZGF0YSA9IFVpbnQ4QXJyYXkuZnJvbShbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gc2FmZVNsaWNlKGlucHV0LCAxLCBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZW5ndGggPT09IDIgJiYgZGF0YVswXSA8IDB4ODApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBSTFAgZW5jb2Rpbmc6IGludmFsaWQgcHJlZml4LCBzaW5nbGUgYnl0ZSA8IDB4ODAgYXJlIG5vdCBwcmVmaXhlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcmVtYWluZGVyOiBpbnB1dC5zbGljZShsZW5ndGgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChmaXJzdEJ5dGUgPD0gMHhiZikge1xuICAgICAgICAvLyBzdHJpbmcgaXMgZ3JlYXRlciB0aGFuIDU1IGJ5dGVzIGxvbmcuIEEgc2luZ2xlIGJ5dGUgd2l0aCB0aGUgdmFsdWUgKDB4YjcgcGx1cyB0aGUgbGVuZ3RoIG9mIHRoZSBsZW5ndGgpLFxuICAgICAgICAvLyBmb2xsb3dlZCBieSB0aGUgbGVuZ3RoLCBmb2xsb3dlZCBieSB0aGUgc3RyaW5nXG4gICAgICAgIGxsZW5ndGggPSBmaXJzdEJ5dGUgLSAweGI2O1xuICAgICAgICBpZiAoaW5wdXQubGVuZ3RoIC0gMSA8IGxsZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBSTFA6IG5vdCBlbm91Z2ggYnl0ZXMgZm9yIHN0cmluZyBsZW5ndGgnKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggPSBkZWNvZGVMZW5ndGgoc2FmZVNsaWNlKGlucHV0LCAxLCBsbGVuZ3RoKSk7XG4gICAgICAgIGlmIChsZW5ndGggPD0gNTUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBSTFA6IGV4cGVjdGVkIHN0cmluZyBsZW5ndGggdG8gYmUgZ3JlYXRlciB0aGFuIDU1Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHNhZmVTbGljZShpbnB1dCwgbGxlbmd0aCwgbGVuZ3RoICsgbGxlbmd0aCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcmVtYWluZGVyOiBpbnB1dC5zbGljZShsZW5ndGggKyBsbGVuZ3RoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlyc3RCeXRlIDw9IDB4ZjcpIHtcbiAgICAgICAgLy8gYSBsaXN0IGJldHdlZW4gMC01NSBieXRlcyBsb25nXG4gICAgICAgIGxlbmd0aCA9IGZpcnN0Qnl0ZSAtIDB4YmY7XG4gICAgICAgIGlubmVyUmVtYWluZGVyID0gc2FmZVNsaWNlKGlucHV0LCAxLCBsZW5ndGgpO1xuICAgICAgICB3aGlsZSAoaW5uZXJSZW1haW5kZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBkID0gX2RlY29kZShpbm5lclJlbWFpbmRlcik7XG4gICAgICAgICAgICBkZWNvZGVkLnB1c2goZC5kYXRhKTtcbiAgICAgICAgICAgIGlubmVyUmVtYWluZGVyID0gZC5yZW1haW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IGRlY29kZWQsXG4gICAgICAgICAgICByZW1haW5kZXI6IGlucHV0LnNsaWNlKGxlbmd0aCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBhIGxpc3Qgb3ZlciA1NSBieXRlcyBsb25nXG4gICAgICAgIGxsZW5ndGggPSBmaXJzdEJ5dGUgLSAweGY2O1xuICAgICAgICBsZW5ndGggPSBkZWNvZGVMZW5ndGgoc2FmZVNsaWNlKGlucHV0LCAxLCBsbGVuZ3RoKSk7XG4gICAgICAgIGlmIChsZW5ndGggPCA1Nikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIFJMUDogZW5jb2RlZCBsaXN0IHRvbyBzaG9ydCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvdGFsTGVuZ3RoID0gbGxlbmd0aCArIGxlbmd0aDtcbiAgICAgICAgaWYgKHRvdGFsTGVuZ3RoID4gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgUkxQOiB0b3RhbCBsZW5ndGggaXMgbGFyZ2VyIHRoYW4gdGhlIGRhdGEnKTtcbiAgICAgICAgfVxuICAgICAgICBpbm5lclJlbWFpbmRlciA9IHNhZmVTbGljZShpbnB1dCwgbGxlbmd0aCwgdG90YWxMZW5ndGgpO1xuICAgICAgICB3aGlsZSAoaW5uZXJSZW1haW5kZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBkID0gX2RlY29kZShpbm5lclJlbWFpbmRlcik7XG4gICAgICAgICAgICBkZWNvZGVkLnB1c2goZC5kYXRhKTtcbiAgICAgICAgICAgIGlubmVyUmVtYWluZGVyID0gZC5yZW1haW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IGRlY29kZWQsXG4gICAgICAgICAgICByZW1haW5kZXI6IGlucHV0LnNsaWNlKHRvdGFsTGVuZ3RoKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5jb25zdCBjYWNoZWRIZXhlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDI1NiB9LCAoX3YsIGkpID0+IGkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpO1xuZnVuY3Rpb24gYnl0ZXNUb0hleCh1aW50OGEpIHtcbiAgICAvLyBQcmUtY2FjaGluZyBjaGFycyB3aXRoIGBjYWNoZWRIZXhlc2Agc3BlZWRzIHRoaXMgdXAgNnhcbiAgICBsZXQgaGV4ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1aW50OGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaGV4ICs9IGNhY2hlZEhleGVzW3VpbnQ4YVtpXV07XG4gICAgfVxuICAgIHJldHVybiBoZXg7XG59XG5mdW5jdGlvbiBwYXJzZUhleEJ5dGUoaGV4Qnl0ZSkge1xuICAgIGNvbnN0IGJ5dGUgPSBOdW1iZXIucGFyc2VJbnQoaGV4Qnl0ZSwgMTYpO1xuICAgIGlmIChOdW1iZXIuaXNOYU4oYnl0ZSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBieXRlIHNlcXVlbmNlJyk7XG4gICAgcmV0dXJuIGJ5dGU7XG59XG4vLyBDYWNoaW5nIHNsb3dzIGl0IGRvd24gMi0zeFxuZnVuY3Rpb24gaGV4VG9CeXRlcyhoZXgpIHtcbiAgICBpZiAodHlwZW9mIGhleCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaGV4VG9CeXRlczogZXhwZWN0ZWQgc3RyaW5nLCBnb3QgJyArIHR5cGVvZiBoZXgpO1xuICAgIH1cbiAgICBpZiAoaGV4Lmxlbmd0aCAlIDIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGV4VG9CeXRlczogcmVjZWl2ZWQgaW52YWxpZCB1bnBhZGRlZCBoZXgnKTtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGhleC5sZW5ndGggLyAyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGogPSBpICogMjtcbiAgICAgICAgYXJyYXlbaV0gPSBwYXJzZUhleEJ5dGUoaGV4LnNsaWNlKGosIGogKyAyKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8qKiBDb25jYXRlbmF0ZXMgdHdvIFVpbnQ4QXJyYXlzIGludG8gb25lLiAqL1xuZnVuY3Rpb24gY29uY2F0Qnl0ZXMoLi4uYXJyYXlzKSB7XG4gICAgaWYgKGFycmF5cy5sZW5ndGggPT09IDEpXG4gICAgICAgIHJldHVybiBhcnJheXNbMF07XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXlzLnJlZHVjZSgoYSwgYXJyKSA9PiBhICsgYXJyLmxlbmd0aCwgMCk7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgcGFkID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhcnIgPSBhcnJheXNbaV07XG4gICAgICAgIHJlc3VsdC5zZXQoYXJyLCBwYWQpO1xuICAgICAgICBwYWQgKz0gYXJyLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzKHV0Zikge1xuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodXRmKTtcbn1cbi8qKiBUcmFuc2Zvcm0gYW4gaW50ZWdlciBpbnRvIGl0cyBoZXhhZGVjaW1hbCB2YWx1ZSAqL1xuZnVuY3Rpb24gbnVtYmVyVG9IZXgoaW50ZWdlcikge1xuICAgIGlmIChpbnRlZ2VyIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW50ZWdlciBhcyBhcmd1bWVudCwgbXVzdCBiZSB1bnNpZ25lZCEnKTtcbiAgICB9XG4gICAgY29uc3QgaGV4ID0gaW50ZWdlci50b1N0cmluZygxNik7XG4gICAgcmV0dXJuIGhleC5sZW5ndGggJSAyID8gYDAke2hleH1gIDogaGV4O1xufVxuLyoqIFBhZCBhIHN0cmluZyB0byBiZSBldmVuICovXG5mdW5jdGlvbiBwYWRUb0V2ZW4oYSkge1xuICAgIHJldHVybiBhLmxlbmd0aCAlIDIgPyBgMCR7YX1gIDogYTtcbn1cbi8qKiBDaGVjayBpZiBhIHN0cmluZyBpcyBwcmVmaXhlZCBieSAweCAqL1xuZnVuY3Rpb24gaXNIZXhQcmVmaXhlZChzdHIpIHtcbiAgICByZXR1cm4gc3RyLmxlbmd0aCA+PSAyICYmIHN0clswXSA9PT0gJzAnICYmIHN0clsxXSA9PT0gJ3gnO1xufVxuLyoqIFJlbW92ZXMgMHggZnJvbSBhIGdpdmVuIFN0cmluZyAqL1xuZnVuY3Rpb24gc3RyaXBIZXhQcmVmaXgoc3RyKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBpc0hleFByZWZpeGVkKHN0cikgPyBzdHIuc2xpY2UoMikgOiBzdHI7XG59XG4vKiogVHJhbnNmb3JtIGFueXRoaW5nIGludG8gYSBVaW50OEFycmF5ICovXG5mdW5jdGlvbiB0b0J5dGVzKHYpIHtcbiAgICBpZiAodiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGlzSGV4UHJlZml4ZWQodikpIHtcbiAgICAgICAgICAgIHJldHVybiBoZXhUb0J5dGVzKHBhZFRvRXZlbihzdHJpcEhleFByZWZpeCh2KSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyh2KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdiA9PT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgaWYgKCF2KSB7XG4gICAgICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKFtdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGV4VG9CeXRlcyhudW1iZXJUb0hleCh2KSk7XG4gICAgfVxuICAgIGlmICh2ID09PSBudWxsIHx8IHYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKFtdKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCd0b0J5dGVzOiByZWNlaXZlZCB1bnN1cHBvcnRlZCB0eXBlICcgKyB0eXBlb2Ygdik7XG59XG5leHBvcnQgY29uc3QgdXRpbHMgPSB7XG4gICAgYnl0ZXNUb0hleCxcbiAgICBjb25jYXRCeXRlcyxcbiAgICBoZXhUb0J5dGVzLFxuICAgIHV0ZjhUb0J5dGVzLFxufTtcbmV4cG9ydCBjb25zdCBSTFAgPSB7IGVuY29kZSwgZGVjb2RlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOlsiZW5jb2RlIiwiaW5wdXQiLCJBcnJheSIsImlzQXJyYXkiLCJvdXRwdXQiLCJvdXRwdXRMZW5ndGgiLCJpIiwibGVuZ3RoIiwiZW5jb2RlZCIsInB1c2giLCJjb25jYXRCeXRlcyIsImVuY29kZUxlbmd0aCIsImlucHV0QnVmIiwidG9CeXRlcyIsInNhZmVTbGljZSIsInN0YXJ0IiwiZW5kIiwiRXJyb3IiLCJzbGljZSIsImRlY29kZUxlbmd0aCIsInYiLCJwYXJzZUhleEJ5dGUiLCJieXRlc1RvSGV4IiwibGVuIiwib2Zmc2V0IiwiVWludDhBcnJheSIsImZyb20iLCJoZXhMZW5ndGgiLCJudW1iZXJUb0hleCIsImxMZW5ndGgiLCJmaXJzdEJ5dGUiLCJoZXhUb0J5dGVzIiwiZGVjb2RlIiwic3RyZWFtIiwiaW5wdXRCeXRlcyIsImRlY29kZWQiLCJfZGVjb2RlIiwicmVtYWluZGVyIiwiZGF0YSIsImxsZW5ndGgiLCJpbm5lclJlbWFpbmRlciIsImQiLCJ0b3RhbExlbmd0aCIsImNhY2hlZEhleGVzIiwiX3YiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwidWludDhhIiwiaGV4IiwiaGV4Qnl0ZSIsImJ5dGUiLCJOdW1iZXIiLCJwYXJzZUludCIsImlzTmFOIiwiVHlwZUVycm9yIiwiYXJyYXkiLCJqIiwiYXJyYXlzIiwicmVkdWNlIiwiYSIsImFyciIsInJlc3VsdCIsInBhZCIsInNldCIsInV0ZjhUb0J5dGVzIiwidXRmIiwiVGV4dEVuY29kZXIiLCJpbnRlZ2VyIiwicGFkVG9FdmVuIiwiaXNIZXhQcmVmaXhlZCIsInN0ciIsInN0cmlwSGV4UHJlZml4IiwidW5kZWZpbmVkIiwidXRpbHMiLCJSTFAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/rlp/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/account.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/account.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Account: () => (/* binding */ Account),\n/* harmony export */   accountBodyFromSlim: () => (/* binding */ accountBodyFromSlim),\n/* harmony export */   accountBodyToRLP: () => (/* binding */ accountBodyToRLP),\n/* harmony export */   accountBodyToSlim: () => (/* binding */ accountBodyToSlim),\n/* harmony export */   generateAddress: () => (/* binding */ generateAddress),\n/* harmony export */   generateAddress2: () => (/* binding */ generateAddress2),\n/* harmony export */   importPublic: () => (/* binding */ importPublic),\n/* harmony export */   isValidAddress: () => (/* binding */ isValidAddress),\n/* harmony export */   isValidChecksumAddress: () => (/* binding */ isValidChecksumAddress),\n/* harmony export */   isValidPrivate: () => (/* binding */ isValidPrivate),\n/* harmony export */   isValidPublic: () => (/* binding */ isValidPublic),\n/* harmony export */   isZeroAddress: () => (/* binding */ isZeroAddress),\n/* harmony export */   privateToAddress: () => (/* binding */ privateToAddress),\n/* harmony export */   privateToPublic: () => (/* binding */ privateToPublic),\n/* harmony export */   pubToAddress: () => (/* binding */ pubToAddress),\n/* harmony export */   publicToAddress: () => (/* binding */ publicToAddress),\n/* harmony export */   toChecksumAddress: () => (/* binding */ toChecksumAddress),\n/* harmony export */   zeroAddress: () => (/* binding */ zeroAddress)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/rlp */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/rlp/dist/esm/index.js\");\n/* harmony import */ var ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethereum-cryptography/keccak.js */ \"(ssr)/./node_modules/ethereum-cryptography/esm/keccak.js\");\n/* harmony import */ var ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ethereum-cryptography/secp256k1.js */ \"(ssr)/./node_modules/ethereum-cryptography/esm/secp256k1.js\");\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/constants.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/helpers.js\");\n/* harmony import */ var _internal_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./internal.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js\");\n\n\n\n\n\n\n\nclass Account {\n    /**\n     * This constructor assigns and validates the values.\n     * Use the static factory methods to assist in creating an Account from varying data types.\n     */ constructor(nonce = _constants_js__WEBPACK_IMPORTED_MODULE_4__.BIGINT_0, balance = _constants_js__WEBPACK_IMPORTED_MODULE_4__.BIGINT_0, storageRoot = _constants_js__WEBPACK_IMPORTED_MODULE_4__.KECCAK256_RLP, codeHash = _constants_js__WEBPACK_IMPORTED_MODULE_4__.KECCAK256_NULL){\n        this.nonce = nonce;\n        this.balance = balance;\n        this.storageRoot = storageRoot;\n        this.codeHash = codeHash;\n        this._validate();\n    }\n    static fromAccountData(accountData) {\n        const { nonce, balance, storageRoot, codeHash } = accountData;\n        return new Account(nonce !== undefined ? (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.bytesToBigInt)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.toBytes)(nonce)) : undefined, balance !== undefined ? (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.bytesToBigInt)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.toBytes)(balance)) : undefined, storageRoot !== undefined ? (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.toBytes)(storageRoot) : undefined, codeHash !== undefined ? (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.toBytes)(codeHash) : undefined);\n    }\n    static fromRlpSerializedAccount(serialized) {\n        const values = _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.decode(serialized);\n        if (!Array.isArray(values)) {\n            throw new Error(\"Invalid serialized account input. Must be array\");\n        }\n        return this.fromValuesArray(values);\n    }\n    static fromValuesArray(values) {\n        const [nonce, balance, storageRoot, codeHash] = values;\n        return new Account((0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.bytesToBigInt)(nonce), (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.bytesToBigInt)(balance), storageRoot, codeHash);\n    }\n    _validate() {\n        if (this.nonce < _constants_js__WEBPACK_IMPORTED_MODULE_4__.BIGINT_0) {\n            throw new Error(\"nonce must be greater than zero\");\n        }\n        if (this.balance < _constants_js__WEBPACK_IMPORTED_MODULE_4__.BIGINT_0) {\n            throw new Error(\"balance must be greater than zero\");\n        }\n        if (this.storageRoot.length !== 32) {\n            throw new Error(\"storageRoot must have a length of 32\");\n        }\n        if (this.codeHash.length !== 32) {\n            throw new Error(\"codeHash must have a length of 32\");\n        }\n    }\n    /**\n     * Returns an array of Uint8Arrays of the raw bytes for the account, in order.\n     */ raw() {\n        return [\n            (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.bigIntToUnpaddedBytes)(this.nonce),\n            (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.bigIntToUnpaddedBytes)(this.balance),\n            this.storageRoot,\n            this.codeHash\n        ];\n    }\n    /**\n     * Returns the RLP serialization of the account as a `Uint8Array`.\n     */ serialize() {\n        return _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.encode(this.raw());\n    }\n    /**\n     * Returns a `Boolean` determining if the account is a contract.\n     */ isContract() {\n        return !(0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.equalsBytes)(this.codeHash, _constants_js__WEBPACK_IMPORTED_MODULE_4__.KECCAK256_NULL);\n    }\n    /**\n     * Returns a `Boolean` determining if the account is empty complying to the definition of\n     * account emptiness in [EIP-161](https://eips.ethereum.org/EIPS/eip-161):\n     * \"An account is considered empty when it has no code and zero nonce and zero balance.\"\n     */ isEmpty() {\n        return this.balance === _constants_js__WEBPACK_IMPORTED_MODULE_4__.BIGINT_0 && this.nonce === _constants_js__WEBPACK_IMPORTED_MODULE_4__.BIGINT_0 && (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.equalsBytes)(this.codeHash, _constants_js__WEBPACK_IMPORTED_MODULE_4__.KECCAK256_NULL);\n    }\n}\n/**\n * Checks if the address is a valid. Accepts checksummed addresses too.\n */ const isValidAddress = function(hexAddress) {\n    try {\n        (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsString)(hexAddress);\n    } catch (e) {\n        return false;\n    }\n    return /^0x[0-9a-fA-F]{40}$/.test(hexAddress);\n};\n/**\n * Returns a checksummed address.\n *\n * If an eip1191ChainId is provided, the chainId will be included in the checksum calculation. This\n * has the effect of checksummed addresses for one chain having invalid checksums for others.\n * For more details see [EIP-1191](https://eips.ethereum.org/EIPS/eip-1191).\n *\n * WARNING: Checksums with and without the chainId will differ and the EIP-1191 checksum is not\n * backwards compatible to the original widely adopted checksum format standard introduced in\n * [EIP-55](https://eips.ethereum.org/EIPS/eip-55), so this will break in existing applications.\n * Usage of this EIP is therefore discouraged unless you have a very targeted use case.\n */ const toChecksumAddress = function(hexAddress, eip1191ChainId) {\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsHexString)(hexAddress);\n    const address = (0,_internal_js__WEBPACK_IMPORTED_MODULE_6__.stripHexPrefix)(hexAddress).toLowerCase();\n    let prefix = \"\";\n    if (eip1191ChainId !== undefined) {\n        const chainId = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.bytesToBigInt)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.toBytes)(eip1191ChainId));\n        prefix = chainId.toString() + \"0x\";\n    }\n    const bytes = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.utf8ToBytes)(prefix + address);\n    const hash = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.bytesToHex)((0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)(bytes)).slice(2);\n    let ret = \"0x\";\n    for(let i = 0; i < address.length; i++){\n        if (parseInt(hash[i], 16) >= 8) {\n            ret += address[i].toUpperCase();\n        } else {\n            ret += address[i];\n        }\n    }\n    return ret;\n};\n/**\n * Checks if the address is a valid checksummed address.\n *\n * See toChecksumAddress' documentation for details about the eip1191ChainId parameter.\n */ const isValidChecksumAddress = function(hexAddress, eip1191ChainId) {\n    return isValidAddress(hexAddress) && toChecksumAddress(hexAddress, eip1191ChainId) === hexAddress;\n};\n/**\n * Generates an address of a newly created contract.\n * @param from The address which is creating this new address\n * @param nonce The nonce of the from account\n */ const generateAddress = function(from, nonce) {\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsBytes)(from);\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsBytes)(nonce);\n    if ((0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.bytesToBigInt)(nonce) === _constants_js__WEBPACK_IMPORTED_MODULE_4__.BIGINT_0) {\n        // in RLP we want to encode null in the case of zero nonce\n        // read the RLP documentation for an answer if you dare\n        return (0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)(_ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.encode([\n            from,\n            Uint8Array.from([])\n        ])).subarray(-20);\n    }\n    // Only take the lower 160bits of the hash\n    return (0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)(_ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.encode([\n        from,\n        nonce\n    ])).subarray(-20);\n};\n/**\n * Generates an address for a contract created using CREATE2.\n * @param from The address which is creating this new address\n * @param salt A salt\n * @param initCode The init code of the contract being created\n */ const generateAddress2 = function(from, salt, initCode) {\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsBytes)(from);\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsBytes)(salt);\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsBytes)(initCode);\n    if (from.length !== 20) {\n        throw new Error(\"Expected from to be of length 20\");\n    }\n    if (salt.length !== 32) {\n        throw new Error(\"Expected salt to be of length 32\");\n    }\n    const address = (0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.concatBytes)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.hexToBytes)(\"0xff\"), from, salt, (0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)(initCode)));\n    return address.subarray(-20);\n};\n/**\n * Checks if the private key satisfies the rules of the curve secp256k1.\n */ const isValidPrivate = function(privateKey) {\n    return ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_2__.secp256k1.utils.isValidPrivateKey(privateKey);\n};\n/**\n * Checks if the public key satisfies the rules of the curve secp256k1\n * and the requirements of Ethereum.\n * @param publicKey The two points of an uncompressed key, unless sanitize is enabled\n * @param sanitize Accept public keys in other formats\n */ const isValidPublic = function(publicKey, sanitize = false) {\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsBytes)(publicKey);\n    if (publicKey.length === 64) {\n        // Convert to SEC1 for secp256k1\n        // Automatically checks whether point is on curve\n        try {\n            ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_2__.secp256k1.ProjectivePoint.fromHex((0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.concatBytes)(Uint8Array.from([\n                4\n            ]), publicKey));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n    if (!sanitize) {\n        return false;\n    }\n    try {\n        ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_2__.secp256k1.ProjectivePoint.fromHex(publicKey);\n        return true;\n    } catch (e) {\n        return false;\n    }\n};\n/**\n * Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param pubKey The two points of an uncompressed key, unless sanitize is enabled\n * @param sanitize Accept public keys in other formats\n */ const pubToAddress = function(pubKey, sanitize = false) {\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsBytes)(pubKey);\n    if (sanitize && pubKey.length !== 64) {\n        pubKey = ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_2__.secp256k1.ProjectivePoint.fromHex(pubKey).toRawBytes(false).slice(1);\n    }\n    if (pubKey.length !== 64) {\n        throw new Error(\"Expected pubKey to be of length 64\");\n    }\n    // Only take the lower 160bits of the hash\n    return (0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)(pubKey).subarray(-20);\n};\nconst publicToAddress = pubToAddress;\n/**\n * Returns the ethereum public key of a given private key.\n * @param privateKey A private key must be 256 bits wide\n */ const privateToPublic = function(privateKey) {\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsBytes)(privateKey);\n    // skip the type flag and use the X, Y points\n    return ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_2__.secp256k1.ProjectivePoint.fromPrivateKey(privateKey).toRawBytes(false).slice(1);\n};\n/**\n * Returns the ethereum address of a given private key.\n * @param privateKey A private key must be 256 bits wide\n */ const privateToAddress = function(privateKey) {\n    return publicToAddress(privateToPublic(privateKey));\n};\n/**\n * Converts a public key to the Ethereum format.\n */ const importPublic = function(publicKey) {\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsBytes)(publicKey);\n    if (publicKey.length !== 64) {\n        publicKey = ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_2__.secp256k1.ProjectivePoint.fromHex(publicKey).toRawBytes(false).slice(1);\n    }\n    return publicKey;\n};\n/**\n * Returns the zero address.\n */ const zeroAddress = function() {\n    const addressLength = 20;\n    const addr = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.zeros)(addressLength);\n    return (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.bytesToHex)(addr);\n};\n/**\n * Checks if a given address is the zero address.\n */ const isZeroAddress = function(hexAddress) {\n    try {\n        (0,_helpers_js__WEBPACK_IMPORTED_MODULE_5__.assertIsString)(hexAddress);\n    } catch (e) {\n        return false;\n    }\n    const zeroAddr = zeroAddress();\n    return zeroAddr === hexAddress;\n};\nfunction accountBodyFromSlim(body) {\n    const [nonce, balance, storageRoot, codeHash] = body;\n    return [\n        nonce,\n        balance,\n        storageRoot.length === 0 ? _constants_js__WEBPACK_IMPORTED_MODULE_4__.KECCAK256_RLP : storageRoot,\n        codeHash.length === 0 ? _constants_js__WEBPACK_IMPORTED_MODULE_4__.KECCAK256_NULL : codeHash\n    ];\n}\nconst emptyUint8Arr = new Uint8Array(0);\nfunction accountBodyToSlim(body) {\n    const [nonce, balance, storageRoot, codeHash] = body;\n    return [\n        nonce,\n        balance,\n        (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.equalsBytes)(storageRoot, _constants_js__WEBPACK_IMPORTED_MODULE_4__.KECCAK256_RLP) ? emptyUint8Arr : storageRoot,\n        (0,_bytes_js__WEBPACK_IMPORTED_MODULE_3__.equalsBytes)(codeHash, _constants_js__WEBPACK_IMPORTED_MODULE_4__.KECCAK256_NULL) ? emptyUint8Arr : codeHash\n    ];\n}\n/**\n * Converts a slim account (per snap protocol spec) to the RLP encoded version of the account\n * @param body Array of 4 Uint8Array-like items to represent the account\n * @returns RLP encoded version of the account\n */ function accountBodyToRLP(body, couldBeSlim = true) {\n    const accountBody = couldBeSlim ? accountBodyFromSlim(body) : body;\n    return _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.encode(accountBody);\n} //# sourceMappingURL=account.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2FjY291bnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzQztBQUNzQjtBQUNHO0FBQ21GO0FBQ3pFO0FBQ087QUFDakM7QUFDeEMsTUFBTW1CO0lBQ1Q7OztLQUdDLEdBQ0RDLFlBQVlDLFFBQVFULG1EQUFRLEVBQUVVLFVBQVVWLG1EQUFRLEVBQUVXLGNBQWNULHdEQUFhLEVBQUVVLFdBQVdYLHlEQUFjLENBQUU7UUFDdEcsSUFBSSxDQUFDUSxLQUFLLEdBQUdBO1FBQ2IsSUFBSSxDQUFDQyxPQUFPLEdBQUdBO1FBQ2YsSUFBSSxDQUFDQyxXQUFXLEdBQUdBO1FBQ25CLElBQUksQ0FBQ0MsUUFBUSxHQUFHQTtRQUNoQixJQUFJLENBQUNDLFNBQVM7SUFDbEI7SUFDQSxPQUFPQyxnQkFBZ0JDLFdBQVcsRUFBRTtRQUNoQyxNQUFNLEVBQUVOLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxXQUFXLEVBQUVDLFFBQVEsRUFBRSxHQUFHRztRQUNsRCxPQUFPLElBQUlSLFFBQVFFLFVBQVVPLFlBQVl4Qix3REFBYUEsQ0FBQ0ssa0RBQU9BLENBQUNZLFVBQVVPLFdBQVdOLFlBQVlNLFlBQVl4Qix3REFBYUEsQ0FBQ0ssa0RBQU9BLENBQUNhLFlBQVlNLFdBQVdMLGdCQUFnQkssWUFBWW5CLGtEQUFPQSxDQUFDYyxlQUFlSyxXQUFXSixhQUFhSSxZQUFZbkIsa0RBQU9BLENBQUNlLFlBQVlJO0lBQ3hRO0lBQ0EsT0FBT0MseUJBQXlCQyxVQUFVLEVBQUU7UUFDeEMsTUFBTUMsU0FBUy9CLGdEQUFHQSxDQUFDZ0MsTUFBTSxDQUFDRjtRQUMxQixJQUFJLENBQUNHLE1BQU1DLE9BQU8sQ0FBQ0gsU0FBUztZQUN4QixNQUFNLElBQUlJLE1BQU07UUFDcEI7UUFDQSxPQUFPLElBQUks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LE1BQU0sQ0FBQ3ZFLE9BQU9DLFNBQVNDLGFBQWFDLFNBQVMsR0FBR29FO0lBQ2hELE9BQU87UUFDSHZFO1FBQ0FDO1FBQ0FmLHNEQUFXQSxDQUFDZ0IsYUFBYVQsd0RBQWFBLElBQUkrRSxnQkFBZ0J0RTtRQUMxRGhCLHNEQUFXQSxDQUFDaUIsVUFBVVgseURBQWNBLElBQUlnRixnQkFBZ0JyRTtLQUMzRDtBQUNMO0FBQ0E7Ozs7Q0FJQyxHQUNNLFNBQVN1RSxpQkFBaUJILElBQUksRUFBRUksY0FBYyxJQUFJO0lBQ3JELE1BQU1DLGNBQWNELGNBQWNMLG9CQUFvQkMsUUFBUUE7SUFDOUQsT0FBTzVGLGdEQUFHQSxDQUFDd0MsTUFBTSxDQUFDeUQ7QUFDdEIsRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvYmFzZS1jb250cm9sbGVycy9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdXRpbC9kaXN0L2VzbS9hY2NvdW50LmpzPzg3Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUkxQIH0gZnJvbSAnQGV0aGVyZXVtanMvcmxwJztcbmltcG9ydCB7IGtlY2NhazI1NiB9IGZyb20gJ2V0aGVyZXVtLWNyeXB0b2dyYXBoeS9rZWNjYWsuanMnO1xuaW1wb3J0IHsgc2VjcDI1NmsxIH0gZnJvbSAnZXRoZXJldW0tY3J5cHRvZ3JhcGh5L3NlY3AyNTZrMS5qcyc7XG5pbXBvcnQgeyBiaWdJbnRUb1VucGFkZGVkQnl0ZXMsIGJ5dGVzVG9CaWdJbnQsIGJ5dGVzVG9IZXgsIGNvbmNhdEJ5dGVzLCBlcXVhbHNCeXRlcywgaGV4VG9CeXRlcywgdG9CeXRlcywgdXRmOFRvQnl0ZXMsIHplcm9zLCB9IGZyb20gJy4vYnl0ZXMuanMnO1xuaW1wb3J0IHsgQklHSU5UXzAsIEtFQ0NBSzI1Nl9OVUxMLCBLRUNDQUsyNTZfUkxQIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgYXNzZXJ0SXNCeXRlcywgYXNzZXJ0SXNIZXhTdHJpbmcsIGFzc2VydElzU3RyaW5nIH0gZnJvbSAnLi9oZWxwZXJzLmpzJztcbmltcG9ydCB7IHN0cmlwSGV4UHJlZml4IH0gZnJvbSAnLi9pbnRlcm5hbC5qcyc7XG5leHBvcnQgY2xhc3MgQWNjb3VudCB7XG4gICAgLyoqXG4gICAgICogVGhpcyBjb25zdHJ1Y3RvciBhc3NpZ25zIGFuZCB2YWxpZGF0ZXMgdGhlIHZhbHVlcy5cbiAgICAgKiBVc2UgdGhlIHN0YXRpYyBmYWN0b3J5IG1ldGhvZHMgdG8gYXNzaXN0IGluIGNyZWF0aW5nIGFuIEFjY291bnQgZnJvbSB2YXJ5aW5nIGRhdGEgdHlwZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iobm9uY2UgPSBCSUdJTlRfMCwgYmFsYW5jZSA9IEJJR0lOVF8wLCBzdG9yYWdlUm9vdCA9IEtFQ0NBSzI1Nl9STFAsIGNvZGVIYXNoID0gS0VDQ0FLMjU2X05VTEwpIHtcbiAgICAgICAgdGhpcy5ub25jZSA9IG5vbmNlO1xuICAgICAgICB0aGlzLmJhbGFuY2UgPSBiYWxhbmNlO1xuICAgICAgICB0aGlzLnN0b3JhZ2VSb290ID0gc3RvcmFnZVJvb3Q7XG4gICAgICAgIHRoaXMuY29kZUhhc2ggPSBjb2RlSGFzaDtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGUoKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21BY2NvdW50RGF0YShhY2NvdW50RGF0YSkge1xuICAgICAgICBjb25zdCB7IG5vbmNlLCBiYWxhbmNlLCBzdG9yYWdlUm9vdCwgY29kZUhhc2ggfSA9IGFjY291bnREYXRhO1xuICAgICAgICByZXR1cm4gbmV3IEFjY291bnQobm9uY2UgIT09IHVuZGVmaW5lZCA/IGJ5dGVzVG9CaWdJbnQodG9CeXRlcyhub25jZSkpIDogdW5kZWZpbmVkLCBiYWxhbmNlICE9PSB1bmRlZmluZWQgPyBieXRlc1RvQmlnSW50KHRvQnl0ZXMoYmFsYW5jZSkpIDogdW5kZWZpbmVkLCBzdG9yYWdlUm9vdCAhPT0gdW5kZWZpbmVkID8gdG9CeXRlcyhzdG9yYWdlUm9vdCkgOiB1bmRlZmluZWQsIGNvZGVIYXNoICE9PSB1bmRlZmluZWQgPyB0b0J5dGVzKGNvZGVIYXNoKSA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUmxwU2VyaWFsaXplZEFjY291bnQoc2VyaWFsaXplZCkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBSTFAuZGVjb2RlKHNlcmlhbGl6ZWQpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcmlhbGl6ZWQgYWNjb3VudCBpbnB1dC4gTXVzdCBiZSBhcnJheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZyb21WYWx1ZXNBcnJheSh2YWx1ZXMpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVZhbHVlc0FycmF5KHZhbHVlcykge1xuICAgICAgICBjb25zdCBbbm9uY2UsIGJhbGFuY2UsIHN0b3JhZ2VSb290LCBjb2RlSGFzaF0gPSB2YWx1ZXM7XG4gICAgICAgIHJldHVybiBuZXcgQWNjb3VudChieXRlc1RvQmlnSW50KG5vbmNlKSwgYnl0ZXNUb0JpZ0ludChiYWxhbmNlKSwgc3RvcmFnZVJvb3QsIGNvZGVIYXNoKTtcbiAgICB9XG4gICAgX3ZhbGlkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5ub25jZSA8IEJJR0lOVF8wKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vbmNlIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYWxhbmNlIDwgQklHSU5UXzApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFsYW5jZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RvcmFnZVJvb3QubGVuZ3RoICE9PSAzMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdG9yYWdlUm9vdCBtdXN0IGhhdmUgYSBsZW5ndGggb2YgMzInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb2RlSGFzaC5sZW5ndGggIT09IDMyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvZGVIYXNoIG11c3QgaGF2ZSBhIGxlbmd0aCBvZiAzMicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgVWludDhBcnJheXMgb2YgdGhlIHJhdyBieXRlcyBmb3IgdGhlIGFjY291bnQsIGluIG9yZGVyLlxuICAgICAqL1xuICAgIHJhdygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLmJhbGFuY2UpLFxuICAgICAgICAgICAgdGhpcy5zdG9yYWdlUm9vdCxcbiAgICAgICAgICAgIHRoaXMuY29kZUhhc2gsXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFJMUCBzZXJpYWxpemF0aW9uIG9mIHRoZSBhY2NvdW50IGFzIGEgYFVpbnQ4QXJyYXlgLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIFJMUC5lbmNvZGUodGhpcy5yYXcoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBgQm9vbGVhbmAgZGV0ZXJtaW5pbmcgaWYgdGhlIGFjY291bnQgaXMgYSBjb250cmFjdC5cbiAgICAgKi9cbiAgICBpc0NvbnRyYWN0KCkge1xuICAgICAgICByZXR1cm4gIWVxdWFsc0J5dGVzKHRoaXMuY29kZUhhc2gsIEtFQ0NBSzI1Nl9OVUxMKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGBCb29sZWFuYCBkZXRlcm1pbmluZyBpZiB0aGUgYWNjb3VudCBpcyBlbXB0eSBjb21wbHlpbmcgdG8gdGhlIGRlZmluaXRpb24gb2ZcbiAgICAgKiBhY2NvdW50IGVtcHRpbmVzcyBpbiBbRUlQLTE2MV0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xNjEpOlxuICAgICAqIFwiQW4gYWNjb3VudCBpcyBjb25zaWRlcmVkIGVtcHR5IHdoZW4gaXQgaGFzIG5vIGNvZGUgYW5kIHplcm8gbm9uY2UgYW5kIHplcm8gYmFsYW5jZS5cIlxuICAgICAqL1xuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5iYWxhbmNlID09PSBCSUdJTlRfMCAmJlxuICAgICAgICAgICAgdGhpcy5ub25jZSA9PT0gQklHSU5UXzAgJiZcbiAgICAgICAgICAgIGVxdWFsc0J5dGVzKHRoaXMuY29kZUhhc2gsIEtFQ0NBSzI1Nl9OVUxMKSk7XG4gICAgfVxufVxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGFkZHJlc3MgaXMgYSB2YWxpZC4gQWNjZXB0cyBjaGVja3N1bW1lZCBhZGRyZXNzZXMgdG9vLlxuICovXG5leHBvcnQgY29uc3QgaXNWYWxpZEFkZHJlc3MgPSBmdW5jdGlvbiAoaGV4QWRkcmVzcykge1xuICAgIHRyeSB7XG4gICAgICAgIGFzc2VydElzU3RyaW5nKGhleEFkZHJlc3MpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAvXjB4WzAtOWEtZkEtRl17NDB9JC8udGVzdChoZXhBZGRyZXNzKTtcbn07XG4vKipcbiAqIFJldHVybnMgYSBjaGVja3N1bW1lZCBhZGRyZXNzLlxuICpcbiAqIElmIGFuIGVpcDExOTFDaGFpbklkIGlzIHByb3ZpZGVkLCB0aGUgY2hhaW5JZCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSBjaGVja3N1bSBjYWxjdWxhdGlvbi4gVGhpc1xuICogaGFzIHRoZSBlZmZlY3Qgb2YgY2hlY2tzdW1tZWQgYWRkcmVzc2VzIGZvciBvbmUgY2hhaW4gaGF2aW5nIGludmFsaWQgY2hlY2tzdW1zIGZvciBvdGhlcnMuXG4gKiBGb3IgbW9yZSBkZXRhaWxzIHNlZSBbRUlQLTExOTFdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTE5MSkuXG4gKlxuICogV0FSTklORzogQ2hlY2tzdW1zIHdpdGggYW5kIHdpdGhvdXQgdGhlIGNoYWluSWQgd2lsbCBkaWZmZXIgYW5kIHRoZSBFSVAtMTE5MSBjaGVja3N1bSBpcyBub3RcbiAqIGJhY2t3YXJkcyBjb21wYXRpYmxlIHRvIHRoZSBvcmlnaW5hbCB3aWRlbHkgYWRvcHRlZCBjaGVja3N1bSBmb3JtYXQgc3RhbmRhcmQgaW50cm9kdWNlZCBpblxuICogW0VJUC01NV0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC01NSksIHNvIHRoaXMgd2lsbCBicmVhayBpbiBleGlzdGluZyBhcHBsaWNhdGlvbnMuXG4gKiBVc2FnZSBvZiB0aGlzIEVJUCBpcyB0aGVyZWZvcmUgZGlzY291cmFnZWQgdW5sZXNzIHlvdSBoYXZlIGEgdmVyeSB0YXJnZXRlZCB1c2UgY2FzZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvQ2hlY2tzdW1BZGRyZXNzID0gZnVuY3Rpb24gKGhleEFkZHJlc3MsIGVpcDExOTFDaGFpbklkKSB7XG4gICAgYXNzZXJ0SXNIZXhTdHJpbmcoaGV4QWRkcmVzcyk7XG4gICAgY29uc3QgYWRkcmVzcyA9IHN0cmlwSGV4UHJlZml4KGhleEFkZHJlc3MpLnRvTG93ZXJDYXNlKCk7XG4gICAgbGV0IHByZWZpeCA9ICcnO1xuICAgIGlmIChlaXAxMTkxQ2hhaW5JZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBieXRlc1RvQmlnSW50KHRvQnl0ZXMoZWlwMTE5MUNoYWluSWQpKTtcbiAgICAgICAgcHJlZml4ID0gY2hhaW5JZC50b1N0cmluZygpICsgJzB4JztcbiAgICB9XG4gICAgY29uc3QgYnl0ZXMgPSB1dGY4VG9CeXRlcyhwcmVmaXggKyBhZGRyZXNzKTtcbiAgICBjb25zdCBoYXNoID0gYnl0ZXNUb0hleChrZWNjYWsyNTYoYnl0ZXMpKS5zbGljZSgyKTtcbiAgICBsZXQgcmV0ID0gJzB4JztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZHJlc3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBhcnNlSW50KGhhc2hbaV0sIDE2KSA+PSA4KSB7XG4gICAgICAgICAgICByZXQgKz0gYWRkcmVzc1tpXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0ICs9IGFkZHJlc3NbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG4vKipcbiAqIENoZWNrcyBpZiB0aGUgYWRkcmVzcyBpcyBhIHZhbGlkIGNoZWNrc3VtbWVkIGFkZHJlc3MuXG4gKlxuICogU2VlIHRvQ2hlY2tzdW1BZGRyZXNzJyBkb2N1bWVudGF0aW9uIGZvciBkZXRhaWxzIGFib3V0IHRoZSBlaXAxMTkxQ2hhaW5JZCBwYXJhbWV0ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1ZhbGlkQ2hlY2tzdW1BZGRyZXNzID0gZnVuY3Rpb24gKGhleEFkZHJlc3MsIGVpcDExOTFDaGFpbklkKSB7XG4gICAgcmV0dXJuIGlzVmFsaWRBZGRyZXNzKGhleEFkZHJlc3MpICYmIHRvQ2hlY2tzdW1BZGRyZXNzKGhleEFkZHJlc3MsIGVpcDExOTFDaGFpbklkKSA9PT0gaGV4QWRkcmVzcztcbn07XG4vKipcbiAqIEdlbmVyYXRlcyBhbiBhZGRyZXNzIG9mIGEgbmV3bHkgY3JlYXRlZCBjb250cmFjdC5cbiAqIEBwYXJhbSBmcm9tIFRoZSBhZGRyZXNzIHdoaWNoIGlzIGNyZWF0aW5nIHRoaXMgbmV3IGFkZHJlc3NcbiAqIEBwYXJhbSBub25jZSBUaGUgbm9uY2Ugb2YgdGhlIGZyb20gYWNjb3VudFxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVBZGRyZXNzID0gZnVuY3Rpb24gKGZyb20sIG5vbmNlKSB7XG4gICAgYXNzZXJ0SXNCeXRlcyhmcm9tKTtcbiAgICBhc3NlcnRJc0J5dGVzKG5vbmNlKTtcbiAgICBpZiAoYnl0ZXNUb0JpZ0ludChub25jZSkgPT09IEJJR0lOVF8wKSB7XG4gICAgICAgIC8vIGluIFJMUCB3ZSB3YW50IHRvIGVuY29kZSBudWxsIGluIHRoZSBjYXNlIG9mIHplcm8gbm9uY2VcbiAgICAgICAgLy8gcmVhZCB0aGUgUkxQIGRvY3VtZW50YXRpb24gZm9yIGFuIGFuc3dlciBpZiB5b3UgZGFyZVxuICAgICAgICByZXR1cm4ga2VjY2FrMjU2KFJMUC5lbmNvZGUoW2Zyb20sIFVpbnQ4QXJyYXkuZnJvbShbXSldKSkuc3ViYXJyYXkoLTIwKTtcbiAgICB9XG4gICAgLy8gT25seSB0YWtlIHRoZSBsb3dlciAxNjBiaXRzIG9mIHRoZSBoYXNoXG4gICAgcmV0dXJuIGtlY2NhazI1NihSTFAuZW5jb2RlKFtmcm9tLCBub25jZV0pKS5zdWJhcnJheSgtMjApO1xufTtcbi8qKlxuICogR2VuZXJhdGVzIGFuIGFkZHJlc3MgZm9yIGEgY29udHJhY3QgY3JlYXRlZCB1c2luZyBDUkVBVEUyLlxuICogQHBhcmFtIGZyb20gVGhlIGFkZHJlc3Mgd2hpY2ggaXMgY3JlYXRpbmcgdGhpcyBuZXcgYWRkcmVzc1xuICogQHBhcmFtIHNhbHQgQSBzYWx0XG4gKiBAcGFyYW0gaW5pdENvZGUgVGhlIGluaXQgY29kZSBvZiB0aGUgY29udHJhY3QgYmVpbmcgY3JlYXRlZFxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVBZGRyZXNzMiA9IGZ1bmN0aW9uIChmcm9tLCBzYWx0LCBpbml0Q29kZSkge1xuICAgIGFzc2VydElzQnl0ZXMoZnJvbSk7XG4gICAgYXNzZXJ0SXNCeXRlcyhzYWx0KTtcbiAgICBhc3NlcnRJc0J5dGVzKGluaXRDb2RlKTtcbiAgICBpZiAoZnJvbS5sZW5ndGggIT09IDIwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgZnJvbSB0byBiZSBvZiBsZW5ndGggMjAnKTtcbiAgICB9XG4gICAgaWYgKHNhbHQubGVuZ3RoICE9PSAzMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHNhbHQgdG8gYmUgb2YgbGVuZ3RoIDMyJyk7XG4gICAgfVxuICAgIGNvbnN0IGFkZHJlc3MgPSBrZWNjYWsyNTYoY29uY2F0Qnl0ZXMoaGV4VG9CeXRlcygnMHhmZicpLCBmcm9tLCBzYWx0LCBrZWNjYWsyNTYoaW5pdENvZGUpKSk7XG4gICAgcmV0dXJuIGFkZHJlc3Muc3ViYXJyYXkoLTIwKTtcbn07XG4vKipcbiAqIENoZWNrcyBpZiB0aGUgcHJpdmF0ZSBrZXkgc2F0aXNmaWVzIHRoZSBydWxlcyBvZiB0aGUgY3VydmUgc2VjcDI1NmsxLlxuICovXG5leHBvcnQgY29uc3QgaXNWYWxpZFByaXZhdGUgPSBmdW5jdGlvbiAocHJpdmF0ZUtleSkge1xuICAgIHJldHVybiBzZWNwMjU2azEudXRpbHMuaXNWYWxpZFByaXZhdGVLZXkocHJpdmF0ZUtleSk7XG59O1xuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHB1YmxpYyBrZXkgc2F0aXNmaWVzIHRoZSBydWxlcyBvZiB0aGUgY3VydmUgc2VjcDI1NmsxXG4gKiBhbmQgdGhlIHJlcXVpcmVtZW50cyBvZiBFdGhlcmV1bS5cbiAqIEBwYXJhbSBwdWJsaWNLZXkgVGhlIHR3byBwb2ludHMgb2YgYW4gdW5jb21wcmVzc2VkIGtleSwgdW5sZXNzIHNhbml0aXplIGlzIGVuYWJsZWRcbiAqIEBwYXJhbSBzYW5pdGl6ZSBBY2NlcHQgcHVibGljIGtleXMgaW4gb3RoZXIgZm9ybWF0c1xuICovXG5leHBvcnQgY29uc3QgaXNWYWxpZFB1YmxpYyA9IGZ1bmN0aW9uIChwdWJsaWNLZXksIHNhbml0aXplID0gZmFsc2UpIHtcbiAgICBhc3NlcnRJc0J5dGVzKHB1YmxpY0tleSk7XG4gICAgaWYgKHB1YmxpY0tleS5sZW5ndGggPT09IDY0KSB7XG4gICAgICAgIC8vIENvbnZlcnQgdG8gU0VDMSBmb3Igc2VjcDI1NmsxXG4gICAgICAgIC8vIEF1dG9tYXRpY2FsbHkgY2hlY2tzIHdoZXRoZXIgcG9pbnQgaXMgb24gY3VydmVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNlY3AyNTZrMS5Qcm9qZWN0aXZlUG9pbnQuZnJvbUhleChjb25jYXRCeXRlcyhVaW50OEFycmF5LmZyb20oWzRdKSwgcHVibGljS2V5KSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghc2FuaXRpemUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBzZWNwMjU2azEuUHJvamVjdGl2ZVBvaW50LmZyb21IZXgocHVibGljS2V5KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBldGhlcmV1bSBhZGRyZXNzIG9mIGEgZ2l2ZW4gcHVibGljIGtleS5cbiAqIEFjY2VwdHMgXCJFdGhlcmV1bSBwdWJsaWMga2V5c1wiIGFuZCBTRUMxIGVuY29kZWQga2V5cy5cbiAqIEBwYXJhbSBwdWJLZXkgVGhlIHR3byBwb2ludHMgb2YgYW4gdW5jb21wcmVzc2VkIGtleSwgdW5sZXNzIHNhbml0aXplIGlzIGVuYWJsZWRcbiAqIEBwYXJhbSBzYW5pdGl6ZSBBY2NlcHQgcHVibGljIGtleXMgaW4gb3RoZXIgZm9ybWF0c1xuICovXG5leHBvcnQgY29uc3QgcHViVG9BZGRyZXNzID0gZnVuY3Rpb24gKHB1YktleSwgc2FuaXRpemUgPSBmYWxzZSkge1xuICAgIGFzc2VydElzQnl0ZXMocHViS2V5KTtcbiAgICBpZiAoc2FuaXRpemUgJiYgcHViS2V5Lmxlbmd0aCAhPT0gNjQpIHtcbiAgICAgICAgcHViS2V5ID0gc2VjcDI1NmsxLlByb2plY3RpdmVQb2ludC5mcm9tSGV4KHB1YktleSkudG9SYXdCeXRlcyhmYWxzZSkuc2xpY2UoMSk7XG4gICAgfVxuICAgIGlmIChwdWJLZXkubGVuZ3RoICE9PSA2NCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHB1YktleSB0byBiZSBvZiBsZW5ndGggNjQnKTtcbiAgICB9XG4gICAgLy8gT25seSB0YWtlIHRoZSBsb3dlciAxNjBiaXRzIG9mIHRoZSBoYXNoXG4gICAgcmV0dXJuIGtlY2NhazI1NihwdWJLZXkpLnN1YmFycmF5KC0yMCk7XG59O1xuZXhwb3J0IGNvbnN0IHB1YmxpY1RvQWRkcmVzcyA9IHB1YlRvQWRkcmVzcztcbi8qKlxuICogUmV0dXJucyB0aGUgZXRoZXJldW0gcHVibGljIGtleSBvZiBhIGdpdmVuIHByaXZhdGUga2V5LlxuICogQHBhcmFtIHByaXZhdGVLZXkgQSBwcml2YXRlIGtleSBtdXN0IGJlIDI1NiBiaXRzIHdpZGVcbiAqL1xuZXhwb3J0IGNvbnN0IHByaXZhdGVUb1B1YmxpYyA9IGZ1bmN0aW9uIChwcml2YXRlS2V5KSB7XG4gICAgYXNzZXJ0SXNCeXRlcyhwcml2YXRlS2V5KTtcbiAgICAvLyBza2lwIHRoZSB0eXBlIGZsYWcgYW5kIHVzZSB0aGUgWCwgWSBwb2ludHNcbiAgICByZXR1cm4gc2VjcDI1NmsxLlByb2plY3RpdmVQb2ludC5mcm9tUHJpdmF0ZUtleShwcml2YXRlS2V5KS50b1Jhd0J5dGVzKGZhbHNlKS5zbGljZSgxKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGV0aGVyZXVtIGFkZHJlc3Mgb2YgYSBnaXZlbiBwcml2YXRlIGtleS5cbiAqIEBwYXJhbSBwcml2YXRlS2V5IEEgcHJpdmF0ZSBrZXkgbXVzdCBiZSAyNTYgYml0cyB3aWRlXG4gKi9cbmV4cG9ydCBjb25zdCBwcml2YXRlVG9BZGRyZXNzID0gZnVuY3Rpb24gKHByaXZhdGVLZXkpIHtcbiAgICByZXR1cm4gcHVibGljVG9BZGRyZXNzKHByaXZhdGVUb1B1YmxpYyhwcml2YXRlS2V5KSk7XG59O1xuLyoqXG4gKiBDb252ZXJ0cyBhIHB1YmxpYyBrZXkgdG8gdGhlIEV0aGVyZXVtIGZvcm1hdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGltcG9ydFB1YmxpYyA9IGZ1bmN0aW9uIChwdWJsaWNLZXkpIHtcbiAgICBhc3NlcnRJc0J5dGVzKHB1YmxpY0tleSk7XG4gICAgaWYgKHB1YmxpY0tleS5sZW5ndGggIT09IDY0KSB7XG4gICAgICAgIHB1YmxpY0tleSA9IHNlY3AyNTZrMS5Qcm9qZWN0aXZlUG9pbnQuZnJvbUhleChwdWJsaWNLZXkpLnRvUmF3Qnl0ZXMoZmFsc2UpLnNsaWNlKDEpO1xuICAgIH1cbiAgICByZXR1cm4gcHVibGljS2V5O1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgemVybyBhZGRyZXNzLlxuICovXG5leHBvcnQgY29uc3QgemVyb0FkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgYWRkcmVzc0xlbmd0aCA9IDIwO1xuICAgIGNvbnN0IGFkZHIgPSB6ZXJvcyhhZGRyZXNzTGVuZ3RoKTtcbiAgICByZXR1cm4gYnl0ZXNUb0hleChhZGRyKTtcbn07XG4vKipcbiAqIENoZWNrcyBpZiBhIGdpdmVuIGFkZHJlc3MgaXMgdGhlIHplcm8gYWRkcmVzcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzWmVyb0FkZHJlc3MgPSBmdW5jdGlvbiAoaGV4QWRkcmVzcykge1xuICAgIHRyeSB7XG4gICAgICAgIGFzc2VydElzU3RyaW5nKGhleEFkZHJlc3MpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHplcm9BZGRyID0gemVyb0FkZHJlc3MoKTtcbiAgICByZXR1cm4gemVyb0FkZHIgPT09IGhleEFkZHJlc3M7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGFjY291bnRCb2R5RnJvbVNsaW0oYm9keSkge1xuICAgIGNvbnN0IFtub25jZSwgYmFsYW5jZSwgc3RvcmFnZVJvb3QsIGNvZGVIYXNoXSA9IGJvZHk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgbm9uY2UsXG4gICAgICAgIGJhbGFuY2UsXG4gICAgICAgIHN0b3JhZ2VSb290Lmxlbmd0aCA9PT0gMCA/IEtFQ0NBSzI1Nl9STFAgOiBzdG9yYWdlUm9vdCxcbiAgICAgICAgY29kZUhhc2gubGVuZ3RoID09PSAwID8gS0VDQ0FLMjU2X05VTEwgOiBjb2RlSGFzaCxcbiAgICBdO1xufVxuY29uc3QgZW1wdHlVaW50OEFyciA9IG5ldyBVaW50OEFycmF5KDApO1xuZXhwb3J0IGZ1bmN0aW9uIGFjY291bnRCb2R5VG9TbGltKGJvZHkpIHtcbiAgICBjb25zdCBbbm9uY2UsIGJhbGFuY2UsIHN0b3JhZ2VSb290LCBjb2RlSGFzaF0gPSBib2R5O1xuICAgIHJldHVybiBbXG4gICAgICAgIG5vbmNlLFxuICAgICAgICBiYWxhbmNlLFxuICAgICAgICBlcXVhbHNCeXRlcyhzdG9yYWdlUm9vdCwgS0VDQ0FLMjU2X1JMUCkgPyBlbXB0eVVpbnQ4QXJyIDogc3RvcmFnZVJvb3QsXG4gICAgICAgIGVxdWFsc0J5dGVzKGNvZGVIYXNoLCBLRUNDQUsyNTZfTlVMTCkgPyBlbXB0eVVpbnQ4QXJyIDogY29kZUhhc2gsXG4gICAgXTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBzbGltIGFjY291bnQgKHBlciBzbmFwIHByb3RvY29sIHNwZWMpIHRvIHRoZSBSTFAgZW5jb2RlZCB2ZXJzaW9uIG9mIHRoZSBhY2NvdW50XG4gKiBAcGFyYW0gYm9keSBBcnJheSBvZiA0IFVpbnQ4QXJyYXktbGlrZSBpdGVtcyB0byByZXByZXNlbnQgdGhlIGFjY291bnRcbiAqIEByZXR1cm5zIFJMUCBlbmNvZGVkIHZlcnNpb24gb2YgdGhlIGFjY291bnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFjY291bnRCb2R5VG9STFAoYm9keSwgY291bGRCZVNsaW0gPSB0cnVlKSB7XG4gICAgY29uc3QgYWNjb3VudEJvZHkgPSBjb3VsZEJlU2xpbSA/IGFjY291bnRCb2R5RnJvbVNsaW0oYm9keSkgOiBib2R5O1xuICAgIHJldHVybiBSTFAuZW5jb2RlKGFjY291bnRCb2R5KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjY291bnQuanMubWFwIl0sIm5hbWVzIjpbIlJMUCIsImtlY2NhazI1NiIsInNlY3AyNTZrMSIsImJpZ0ludFRvVW5wYWRkZWRCeXRlcyIsImJ5dGVzVG9CaWdJbnQiLCJieXRlc1RvSGV4IiwiY29uY2F0Qnl0ZXMiLCJlcXVhbHNCeXRlcyIsImhleFRvQnl0ZXMiLCJ0b0J5dGVzIiwidXRmOFRvQnl0ZXMiLCJ6ZXJvcyIsIkJJR0lOVF8wIiwiS0VDQ0FLMjU2X05VTEwiLCJLRUNDQUsyNTZfUkxQIiwiYXNzZXJ0SXNCeXRlcyIsImFzc2VydElzSGV4U3RyaW5nIiwiYXNzZXJ0SXNTdHJpbmciLCJzdHJpcEhleFByZWZpeCIsIkFjY291bnQiLCJjb25zdHJ1Y3RvciIsIm5vbmNlIiwiYmFsYW5jZSIsInN0b3JhZ2VSb290IiwiY29kZUhhc2giLCJfdmFsaWRhdGUiLCJmcm9tQWNjb3VudERhdGEiLCJhY2NvdW50RGF0YSIsInVuZGVmaW5lZCIsImZyb21SbHBTZXJpYWxpemVkQWNjb3VudCIsInNlcmlhbGl6ZWQiLCJ2YWx1ZXMiLCJkZWNvZGUiLCJBcnJheSIsImlzQXJyYXkiLCJFcnJvciIsImZyb21WYWx1ZXNBcnJheSIsImxlbmd0aCIsInJhdyIsInNlcmlhbGl6ZSIsImVuY29kZSIsImlzQ29udHJhY3QiLCJpc0VtcHR5IiwiaXNWYWxpZEFkZHJlc3MiLCJoZXhBZGRyZXNzIiwiZSIsInRlc3QiLCJ0b0NoZWNrc3VtQWRkcmVzcyIsImVpcDExOTFDaGFpbklkIiwiYWRkcmVzcyIsInRvTG93ZXJDYXNlIiwicHJlZml4IiwiY2hhaW5JZCIsInRvU3RyaW5nIiwiYnl0ZXMiLCJoYXNoIiwic2xpY2UiLCJyZXQiLCJpIiwicGFyc2VJbnQiLCJ0b1VwcGVyQ2FzZSIsImlzVmFsaWRDaGVja3N1bUFkZHJlc3MiLCJnZW5lcmF0ZUFkZHJlc3MiLCJmcm9tIiwiVWludDhBcnJheSIsInN1YmFycmF5IiwiZ2VuZXJhdGVBZGRyZXNzMiIsInNhbHQiLCJpbml0Q29kZSIsImlzVmFsaWRQcml2YXRlIiwicHJpdmF0ZUtleSIsInV0aWxzIiwiaXNWYWxpZFByaXZhdGVLZXkiLCJpc1ZhbGlkUHVibGljIiwicHVibGljS2V5Iiwic2FuaXRpemUiLCJQcm9qZWN0aXZlUG9pbnQiLCJmcm9tSGV4IiwicHViVG9BZGRyZXNzIiwicHViS2V5IiwidG9SYXdCeXRlcyIsInB1YmxpY1RvQWRkcmVzcyIsInByaXZhdGVUb1B1YmxpYyIsImZyb21Qcml2YXRlS2V5IiwicHJpdmF0ZVRvQWRkcmVzcyIsImltcG9ydFB1YmxpYyIsInplcm9BZGRyZXNzIiwiYWRkcmVzc0xlbmd0aCIsImFkZHIiLCJpc1plcm9BZGRyZXNzIiwiemVyb0FkZHIiLCJhY2NvdW50Qm9keUZyb21TbGltIiwiYm9keSIsImVtcHR5VWludDhBcnIiLCJhY2NvdW50Qm9keVRvU2xpbSIsImFjY291bnRCb2R5VG9STFAiLCJjb3VsZEJlU2xpbSIsImFjY291bnRCb2R5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/account.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/address.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/address.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Address: () => (/* binding */ Address)\n/* harmony export */ });\n/* harmony import */ var _account_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./account.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/account.js\");\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/constants.js\");\n\n\n\n/**\n * Handling and generating Ethereum addresses\n */ class Address {\n    constructor(bytes){\n        if (bytes.length !== 20) {\n            throw new Error(\"Invalid address length\");\n        }\n        this.bytes = bytes;\n    }\n    /**\n     * Returns the zero address.\n     */ static zero() {\n        return new Address((0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.zeros)(20));\n    }\n    /**\n     * Returns an Address object from a hex-encoded string.\n     * @param str - Hex-encoded address\n     */ static fromString(str) {\n        if (!(0,_account_js__WEBPACK_IMPORTED_MODULE_0__.isValidAddress)(str)) {\n            throw new Error(\"Invalid address\");\n        }\n        return new Address((0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.toBytes)(str));\n    }\n    /**\n     * Returns an address for a given public key.\n     * @param pubKey The two points of an uncompressed key\n     */ static fromPublicKey(pubKey) {\n        if (!(pubKey instanceof Uint8Array)) {\n            throw new Error(\"Public key should be Uint8Array\");\n        }\n        const bytes = (0,_account_js__WEBPACK_IMPORTED_MODULE_0__.pubToAddress)(pubKey);\n        return new Address(bytes);\n    }\n    /**\n     * Returns an address for a given private key.\n     * @param privateKey A private key must be 256 bits wide\n     */ static fromPrivateKey(privateKey) {\n        if (!(privateKey instanceof Uint8Array)) {\n            throw new Error(\"Private key should be Uint8Array\");\n        }\n        const bytes = (0,_account_js__WEBPACK_IMPORTED_MODULE_0__.privateToAddress)(privateKey);\n        return new Address(bytes);\n    }\n    /**\n     * Generates an address for a newly created contract.\n     * @param from The address which is creating this new address\n     * @param nonce The nonce of the from account\n     */ static generate(from, nonce) {\n        if (typeof nonce !== \"bigint\") {\n            throw new Error(\"Expected nonce to be a bigint\");\n        }\n        return new Address((0,_account_js__WEBPACK_IMPORTED_MODULE_0__.generateAddress)(from.bytes, (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.bigIntToBytes)(nonce)));\n    }\n    /**\n     * Generates an address for a contract created using CREATE2.\n     * @param from The address which is creating this new address\n     * @param salt A salt\n     * @param initCode The init code of the contract being created\n     */ static generate2(from, salt, initCode) {\n        if (!(salt instanceof Uint8Array)) {\n            throw new Error(\"Expected salt to be a Uint8Array\");\n        }\n        if (!(initCode instanceof Uint8Array)) {\n            throw new Error(\"Expected initCode to be a Uint8Array\");\n        }\n        return new Address((0,_account_js__WEBPACK_IMPORTED_MODULE_0__.generateAddress2)(from.bytes, salt, initCode));\n    }\n    /**\n     * Is address equal to another.\n     */ equals(address) {\n        return (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.equalsBytes)(this.bytes, address.bytes);\n    }\n    /**\n     * Is address zero.\n     */ isZero() {\n        return this.equals(Address.zero());\n    }\n    /**\n     * True if address is in the address range defined\n     * by EIP-1352\n     */ isPrecompileOrSystemAddress() {\n        const address = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(this.bytes);\n        const rangeMin = _constants_js__WEBPACK_IMPORTED_MODULE_2__.BIGINT_0;\n        const rangeMax = BigInt(\"0xffff\");\n        return address >= rangeMin && address <= rangeMax;\n    }\n    /**\n     * Returns hex encoding of address.\n     */ toString() {\n        return (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(this.bytes);\n    }\n    /**\n     * Returns a new Uint8Array representation of address.\n     */ toBytes() {\n        return new Uint8Array(this.bytes);\n    }\n} //# sourceMappingURL=address.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2FkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrSDtBQUNmO0FBQ3pEO0FBQzFDOztDQUVDLEdBQ00sTUFBTVk7SUFDVEMsWUFBWUMsS0FBSyxDQUFFO1FBQ2YsSUFBSUEsTUFBTUMsTUFBTSxLQUFLLElBQUk7WUFDckIsTUFBTSxJQUFJQyxNQUFNO1FBQ3BCO1FBQ0EsSUFBSSxDQUFDRixLQUFLLEdBQUdBO0lBQ2pCO0lBQ0E7O0tBRUMsR0FDRCxPQUFPRyxPQUFPO1FBQ1YsT0FBTyxJQUFJTCxRQUFRRixnREFBS0EsQ0FBQztJQUM3QjtJQUNBOzs7S0FHQyxHQUNELE9BQU9RLFdBQVdDLEdBQUcsRUFBRTtRQUNuQixJQUFJLENBQUNqQiwyREFBY0EsQ0FBQ2lCLE1BQU07WUFDdEIsTUFBTSxJQUFJSCxNQUFNO1FBQ3BCO1FBQ0EsT0FBTyxJQUFJSixRQUFRSCxrREFBT0EsQ0FBQ1U7SUFDL0I7SUFDQTs7O0tBR0MsR0FDRCxPQUFPQyxjQUFjQyxNQUFNLEVBQUU7UUFDekIsSUFBSSxDQUFFQSxDQUFBQSxrQkFBa0JDLFVBQVMsR0FBSTtZQUNqQyxNQUFNLElBQUlOLE1BQU07UUFDcEI7UUFDQSxNQUFNRixRQUFRVix5REFBWUEsQ0FBQ2lCO1FBQzNCLE9BQU8sSUFBSVQsUUFBUUU7SUFDdkI7SUFDQTs7O0tBR0MsR0FDRCxPQUFPUyxlQUFlQyxVQUFVLEVBQUU7UUFDOUIsSUFBSSxDQUFFQSxDQUFBQSxzQkFBc0JGLFVBQVMsR0FBSTtZQUNyQyxNQUFNLElBQUlOLE1BQU07UUFDcEI7UUFDQSxNQUFNRixRQUFRWCw2REFBZ0JBLENBQUNxQjtRQUMvQixPQUFPLElBQUlaLFFBQVFFO0lBQ3ZCO0lBQ0E7Ozs7S0FJQyxHQUNELE9BQU9XLFNBQVNDLElBQUksRUFBRUMsS0FBSyxFQUFFO1FBQ3pCLElBQUksT0FBT0EsVUFBVSxVQUFVO1lBQzNCLE1BQU0sSUFBSVgsTUFBTTtRQUNwQjtRQUNBLE9BQU8sSUFBSUosUUFBUVosNERBQWVBLENBQUMwQixLQUFLWixLQUFLLEVBQUVULHdEQUFhQSxDQUFDc0I7SUFDakU7SUFDQTs7Ozs7S0FLQyxHQUNELE9BQU9DLFVBQVVGLElBQUksRUFBRUcsSUFBSSxFQUFFQyxRQUFRLEVBQUU7UUFDbkMsSUFBSSxDQUFFRCxDQUFBQSxnQkFBZ0JQLFVBQVMsR0FBSTtZQUMvQixNQUFNLElBQUlOLE1BQU07UUFDcEI7UUFDQSxJQUFJLENBQUVjLENBQUFBLG9CQUFvQlIsVUFBUyxHQUFJO1lBQ25DLE1BQU0sSUFBSU4sTUFBTTtRQUNwQjtRQUNBLE9BQU8sSUFBSUosUUFBUVgsNkRBQWdCQSxDQUFDeUIsS0FBS1osS0FBSyxFQUFFZSxNQUFNQztJQUMxRDtJQUNBOztLQUVDLEdBQ0RDLE9BQU9DLE9BQU8sRUFBRTtRQUNaLE9BQU94QixzREFBV0EsQ0FBQyxJQUFJLENBQUNNLEtBQUssRUFBRWtCLFFBQVFsQixLQUFLO0lBQ2hEO0lBQ0E7O0tBRUMsR0FDRG1CLFNBQVM7UUFDTCxPQUFPLElBQUksQ0FBQ0YsTUFBTSxDQUFDbkIsUUFBUUssSUFBSTtJQUNuQztJQUNBOzs7S0FHQyxHQUNEaUIsOEJBQThCO1FBQzFCLE1BQU1GLFVBQVUxQix3REFBYUEsQ0FBQyxJQUFJLENBQUNRLEtBQUs7UUFDeEMsTUFBTXFCLFdBQVd4QixtREFBUUE7UUFDekIsTUFBTXlCLFdBQVdDLE9BQU87UUFDeEIsT0FBT0wsV0FBV0csWUFBWUgsV0FBV0k7SUFDN0M7SUFDQTs7S0FFQyxHQUNERSxXQUFXO1FBQ1AsT0FBTy9CLHFEQUFVQSxDQUFDLElBQUksQ0FBQ08sS0FBSztJQUNoQztJQUNBOztLQUVDLEdBQ0RMLFVBQVU7UUFDTixPQUFPLElBQUlhLFdBQVcsSUFBSSxDQUFDUixLQUFLO0lBQ3BDO0FBQ0osRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvYmFzZS1jb250cm9sbGVycy9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdXRpbC9kaXN0L2VzbS9hZGRyZXNzLmpzPzNlNWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJhdGVBZGRyZXNzLCBnZW5lcmF0ZUFkZHJlc3MyLCBpc1ZhbGlkQWRkcmVzcywgcHJpdmF0ZVRvQWRkcmVzcywgcHViVG9BZGRyZXNzLCB9IGZyb20gJy4vYWNjb3VudC5qcyc7XG5pbXBvcnQgeyBiaWdJbnRUb0J5dGVzLCBieXRlc1RvQmlnSW50LCBieXRlc1RvSGV4LCBlcXVhbHNCeXRlcywgdG9CeXRlcywgemVyb3MgfSBmcm9tICcuL2J5dGVzLmpzJztcbmltcG9ydCB7IEJJR0lOVF8wIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuLyoqXG4gKiBIYW5kbGluZyBhbmQgZ2VuZXJhdGluZyBFdGhlcmV1bSBhZGRyZXNzZXNcbiAqL1xuZXhwb3J0IGNsYXNzIEFkZHJlc3Mge1xuICAgIGNvbnN0cnVjdG9yKGJ5dGVzKSB7XG4gICAgICAgIGlmIChieXRlcy5sZW5ndGggIT09IDIwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWRkcmVzcyBsZW5ndGgnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ5dGVzID0gYnl0ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHplcm8gYWRkcmVzcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgemVybygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGRyZXNzKHplcm9zKDIwKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gQWRkcmVzcyBvYmplY3QgZnJvbSBhIGhleC1lbmNvZGVkIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gc3RyIC0gSGV4LWVuY29kZWQgYWRkcmVzc1xuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tU3RyaW5nKHN0cikge1xuICAgICAgICBpZiAoIWlzVmFsaWRBZGRyZXNzKHN0cikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZGRyZXNzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBZGRyZXNzKHRvQnl0ZXMoc3RyKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYWRkcmVzcyBmb3IgYSBnaXZlbiBwdWJsaWMga2V5LlxuICAgICAqIEBwYXJhbSBwdWJLZXkgVGhlIHR3byBwb2ludHMgb2YgYW4gdW5jb21wcmVzc2VkIGtleVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tUHVibGljS2V5KHB1YktleSkge1xuICAgICAgICBpZiAoIShwdWJLZXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQdWJsaWMga2V5IHNob3VsZCBiZSBVaW50OEFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnl0ZXMgPSBwdWJUb0FkZHJlc3MocHViS2V5KTtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGRyZXNzKGJ5dGVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhZGRyZXNzIGZvciBhIGdpdmVuIHByaXZhdGUga2V5LlxuICAgICAqIEBwYXJhbSBwcml2YXRlS2V5IEEgcHJpdmF0ZSBrZXkgbXVzdCBiZSAyNTYgYml0cyB3aWRlXG4gICAgICovXG4gICAgc3RhdGljIGZyb21Qcml2YXRlS2V5KHByaXZhdGVLZXkpIHtcbiAgICAgICAgaWYgKCEocHJpdmF0ZUtleSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByaXZhdGUga2V5IHNob3VsZCBiZSBVaW50OEFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnl0ZXMgPSBwcml2YXRlVG9BZGRyZXNzKHByaXZhdGVLZXkpO1xuICAgICAgICByZXR1cm4gbmV3IEFkZHJlc3MoYnl0ZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYW4gYWRkcmVzcyBmb3IgYSBuZXdseSBjcmVhdGVkIGNvbnRyYWN0LlxuICAgICAqIEBwYXJhbSBmcm9tIFRoZSBhZGRyZXNzIHdoaWNoIGlzIGNyZWF0aW5nIHRoaXMgbmV3IGFkZHJlc3NcbiAgICAgKiBAcGFyYW0gbm9uY2UgVGhlIG5vbmNlIG9mIHRoZSBmcm9tIGFjY291bnRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGUoZnJvbSwgbm9uY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBub25jZSAhPT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgbm9uY2UgdG8gYmUgYSBiaWdpbnQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFkZHJlc3MoZ2VuZXJhdGVBZGRyZXNzKGZyb20uYnl0ZXMsIGJpZ0ludFRvQnl0ZXMobm9uY2UpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhbiBhZGRyZXNzIGZvciBhIGNvbnRyYWN0IGNyZWF0ZWQgdXNpbmcgQ1JFQVRFMi5cbiAgICAgKiBAcGFyYW0gZnJvbSBUaGUgYWRkcmVzcyB3aGljaCBpcyBjcmVhdGluZyB0aGlzIG5ldyBhZGRyZXNzXG4gICAgICogQHBhcmFtIHNhbHQgQSBzYWx0XG4gICAgICogQHBhcmFtIGluaXRDb2RlIFRoZSBpbml0IGNvZGUgb2YgdGhlIGNvbnRyYWN0IGJlaW5nIGNyZWF0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGUyKGZyb20sIHNhbHQsIGluaXRDb2RlKSB7XG4gICAgICAgIGlmICghKHNhbHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBzYWx0IHRvIGJlIGEgVWludDhBcnJheScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGluaXRDb2RlIGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgaW5pdENvZGUgdG8gYmUgYSBVaW50OEFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBZGRyZXNzKGdlbmVyYXRlQWRkcmVzczIoZnJvbS5ieXRlcywgc2FsdCwgaW5pdENvZGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgYWRkcmVzcyBlcXVhbCB0byBhbm90aGVyLlxuICAgICAqL1xuICAgIGVxdWFscyhhZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBlcXVhbHNCeXRlcyh0aGlzLmJ5dGVzLCBhZGRyZXNzLmJ5dGVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgYWRkcmVzcyB6ZXJvLlxuICAgICAqL1xuICAgIGlzWmVybygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXF1YWxzKEFkZHJlc3MuemVybygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBhZGRyZXNzIGlzIGluIHRoZSBhZGRyZXNzIHJhbmdlIGRlZmluZWRcbiAgICAgKiBieSBFSVAtMTM1MlxuICAgICAqL1xuICAgIGlzUHJlY29tcGlsZU9yU3lzdGVtQWRkcmVzcygpIHtcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IGJ5dGVzVG9CaWdJbnQodGhpcy5ieXRlcyk7XG4gICAgICAgIGNvbnN0IHJhbmdlTWluID0gQklHSU5UXzA7XG4gICAgICAgIGNvbnN0IHJhbmdlTWF4ID0gQmlnSW50KCcweGZmZmYnKTtcbiAgICAgICAgcmV0dXJuIGFkZHJlc3MgPj0gcmFuZ2VNaW4gJiYgYWRkcmVzcyA8PSByYW5nZU1heDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBoZXggZW5jb2Rpbmcgb2YgYWRkcmVzcy5cbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGJ5dGVzVG9IZXgodGhpcy5ieXRlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVWludDhBcnJheSByZXByZXNlbnRhdGlvbiBvZiBhZGRyZXNzLlxuICAgICAqL1xuICAgIHRvQnl0ZXMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLmJ5dGVzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGRyZXNzLmpzLm1hcCJdLCJuYW1lcyI6WyJnZW5lcmF0ZUFkZHJlc3MiLCJnZW5lcmF0ZUFkZHJlc3MyIiwiaXNWYWxpZEFkZHJlc3MiLCJwcml2YXRlVG9BZGRyZXNzIiwicHViVG9BZGRyZXNzIiwiYmlnSW50VG9CeXRlcyIsImJ5dGVzVG9CaWdJbnQiLCJieXRlc1RvSGV4IiwiZXF1YWxzQnl0ZXMiLCJ0b0J5dGVzIiwiemVyb3MiLCJCSUdJTlRfMCIsIkFkZHJlc3MiLCJjb25zdHJ1Y3RvciIsImJ5dGVzIiwibGVuZ3RoIiwiRXJyb3IiLCJ6ZXJvIiwiZnJvbVN0cmluZyIsInN0ciIsImZyb21QdWJsaWNLZXkiLCJwdWJLZXkiLCJVaW50OEFycmF5IiwiZnJvbVByaXZhdGVLZXkiLCJwcml2YXRlS2V5IiwiZ2VuZXJhdGUiLCJmcm9tIiwibm9uY2UiLCJnZW5lcmF0ZTIiLCJzYWx0IiwiaW5pdENvZGUiLCJlcXVhbHMiLCJhZGRyZXNzIiwiaXNaZXJvIiwiaXNQcmVjb21waWxlT3JTeXN0ZW1BZGRyZXNzIiwicmFuZ2VNaW4iLCJyYW5nZU1heCIsIkJpZ0ludCIsInRvU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/address.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/asyncEventEmitter.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/asyncEventEmitter.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncEventEmitter: () => (/* binding */ AsyncEventEmitter)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/**\n * Ported to Typescript from original implementation below:\n * https://github.com/ahultgren/async-eventemitter -- MIT licensed\n *\n * Type Definitions based on work by: patarapolw <https://github.com/patarapolw> -- MIT licensed\n * that was contributed to Definitely Typed below:\n * https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/async-eventemitter\n */ \nasync function runInSeries(context, tasks, data) {\n    let error;\n    for await (const task of tasks){\n        try {\n            if (task.length < 2) {\n                //sync\n                task.call(context, data);\n            } else {\n                await new Promise((resolve, reject)=>{\n                    task.call(context, data, (error)=>{\n                        if (error) {\n                            reject(error);\n                        } else {\n                            resolve();\n                        }\n                    });\n                });\n            }\n        } catch (e) {\n            error = e;\n        }\n    }\n    if (error) {\n        throw error;\n    }\n}\nclass AsyncEventEmitter extends events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter {\n    emit(event, ...args) {\n        let [data, callback] = args;\n        const self = this;\n        let listeners = self._events[event] ?? [];\n        // Optional data argument\n        if (callback === undefined && typeof data === \"function\") {\n            callback = data;\n            data = undefined;\n        }\n        // Special treatment of internal newListener and removeListener events\n        if (event === \"newListener\" || event === \"removeListener\") {\n            data = {\n                event: data,\n                fn: callback\n            };\n            callback = undefined;\n        }\n        // A single listener is just a function not an array...\n        listeners = Array.isArray(listeners) ? listeners : [\n            listeners\n        ];\n        runInSeries(self, listeners.slice(), data).then(callback).catch(callback);\n        return self.listenerCount(event) > 0;\n    }\n    once(event, listener) {\n        const self = this;\n        let g;\n        if (typeof listener !== \"function\") {\n            throw new TypeError(\"listener must be a function\");\n        }\n        // Hack to support set arity\n        if (listener.length >= 2) {\n            g = function(e, next) {\n                self.removeListener(event, g);\n                void listener(e, next);\n            };\n        } else {\n            g = function(e) {\n                self.removeListener(event, g);\n                void listener(e, g);\n            };\n        }\n        self.on(event, g);\n        return self;\n    }\n    first(event, listener) {\n        let listeners = this._events[event] ?? [];\n        // Contract\n        if (typeof listener !== \"function\") {\n            throw new TypeError(\"listener must be a function\");\n        }\n        // Listeners are not always an array\n        if (!Array.isArray(listeners)) {\n            ;\n            this._events[event] = listeners = [\n                listeners\n            ];\n        }\n        listeners.unshift(listener);\n        return this;\n    }\n    before(event, target, listener) {\n        return this.beforeOrAfter(event, target, listener);\n    }\n    after(event, target, listener) {\n        return this.beforeOrAfter(event, target, listener, \"after\");\n    }\n    beforeOrAfter(event, target, listener, beforeOrAfter) {\n        let listeners = this._events[event] ?? [];\n        let i;\n        let index;\n        const add = beforeOrAfter === \"after\" ? 1 : 0;\n        // Contract\n        if (typeof listener !== \"function\") {\n            throw new TypeError(\"listener must be a function\");\n        }\n        if (typeof target !== \"function\") {\n            throw new TypeError(\"target must be a function\");\n        }\n        // Listeners are not always an array\n        if (!Array.isArray(listeners)) {\n            ;\n            this._events[event] = listeners = [\n                listeners\n            ];\n        }\n        index = listeners.length;\n        for(i = listeners.length; i--;){\n            if (listeners[i] === target) {\n                index = i + add;\n                break;\n            }\n        }\n        listeners.splice(index, 0, listener);\n        return this;\n    }\n    on(event, listener) {\n        return super.on(event, listener);\n    }\n    addListener(event, listener) {\n        return super.addListener(event, listener);\n    }\n    prependListener(event, listener) {\n        return super.prependListener(event, listener);\n    }\n    prependOnceListener(event, listener) {\n        return super.prependOnceListener(event, listener);\n    }\n    removeAllListeners(event) {\n        return super.removeAllListeners(event);\n    }\n    removeListener(event, listener) {\n        return super.removeListener(event, listener);\n    }\n    eventNames() {\n        return super.eventNames();\n    }\n    listeners(event) {\n        return super.listeners(event);\n    }\n    listenerCount(event) {\n        return super.listenerCount(event);\n    }\n    getMaxListeners() {\n        return super.getMaxListeners();\n    }\n    setMaxListeners(maxListeners) {\n        return super.setMaxListeners(maxListeners);\n    }\n} //# sourceMappingURL=asyncEventEmitter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2FzeW5jRXZlbnRFbWl0dGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7Ozs7Q0FPQyxHQUNxQztBQUN0QyxlQUFlQyxZQUFZQyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsSUFBSTtJQUMzQyxJQUFJQztJQUNKLFdBQVcsTUFBTUMsUUFBUUgsTUFBTztRQUM1QixJQUFJO1lBQ0EsSUFBSUcsS0FBS0MsTUFBTSxHQUFHLEdBQUc7Z0JBQ2pCLE1BQU07Z0JBQ05ELEtBQUtFLElBQUksQ0FBQ04sU0FBU0U7WUFDdkIsT0FDSztnQkFDRCxNQUFNLElBQUlLLFFBQVEsQ0FBQ0MsU0FBU0M7b0JBQ3hCTCxLQUFLRSxJQUFJLENBQUNOLFNBQVNFLE1BQU0sQ0FBQ0M7d0JBQ3RCLElBQUlBLE9BQU87NEJBQ1BNLE9BQU9OO3dCQUNYLE9BQ0s7NEJBQ0RLO3dCQUNKO29CQUNKO2dCQUNKO1lBQ0o7UUFDSixFQUNBLE9BQU9FLEdBQUc7WUFDTlAsUUFBUU87UUFDWjtJQUNKO0lBQ0EsSUFBSVAsT0FBTztRQUNQLE1BQU1BO0lBQ1Y7QUFDSjtBQUNPLE1BQU1RLDBCQUEwQmIsZ0RBQVlBO0lBQy9DYyxLQUFLQyxLQUFLLEVBQUUsR0FBR0MsSUFBSSxFQUFFO1FBQ2pCLElBQUksQ0FBQ1osTUFBTWEsU0FBUyxHQUFHRDtRQUN2QixNQUFNRSxPQUFPLElBQUk7UUFDakIsSUFBSUMsWUFBWUQsS0FBS0UsT0FBTyxDQUFDTCxNQUFNLElBQUksRUFBRTtRQUN6Qyx5QkFBeUI7UUFDekIsSUFBSUUsYUFBYUksYUFBYSxPQUFPakIsU0FBUyxZQUFZO1lBQ3REYSxXQUFXYjtZQUNYQSxPQUFPaUI7UUFDWDtRQUNBLHNFQUFzRTtRQUN0RSxJQUFJTixVQUFVLGlCQUFpQkEsVUFBVSxrQkFBa0I7WUFDdkRYLE9BQU87Z0JBQ0hX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QUNoQixPQUFPLEtBQUssQ0FBQ0ssR0FBR3BCLE9BQU9lO0lBQzNCO0lBQ0FnQixZQUFZL0IsS0FBSyxFQUFFZSxRQUFRLEVBQUU7UUFDekIsT0FBTyxLQUFLLENBQUNnQixZQUFZL0IsT0FBT2U7SUFDcEM7SUFDQWlCLGdCQUFnQmhDLEtBQUssRUFBRWUsUUFBUSxFQUFFO1FBQzdCLE9BQU8sS0FBSyxDQUFDaUIsZ0JBQWdCaEMsT0FBT2U7SUFDeEM7SUFDQWtCLG9CQUFvQmpDLEtBQUssRUFBRWUsUUFBUSxFQUFFO1FBQ2pDLE9BQU8sS0FBSyxDQUFDa0Isb0JBQW9CakMsT0FBT2U7SUFDNUM7SUFDQW1CLG1CQUFtQmxDLEtBQUssRUFBRTtRQUN0QixPQUFPLEtBQUssQ0FBQ2tDLG1CQUFtQmxDO0lBQ3BDO0lBQ0FtQixlQUFlbkIsS0FBSyxFQUFFZSxRQUFRLEVBQUU7UUFDNUIsT0FBTyxLQUFLLENBQUNJLGVBQWVuQixPQUFPZTtJQUN2QztJQUNBb0IsYUFBYTtRQUNULE9BQU8sS0FBSyxDQUFDQTtJQUNqQjtJQUNBL0IsVUFBVUosS0FBSyxFQUFFO1FBQ2IsT0FBTyxLQUFLLENBQUNJLFVBQVVKO0lBQzNCO0lBQ0FhLGNBQWNiLEtBQUssRUFBRTtRQUNqQixPQUFPLEtBQUssQ0FBQ2EsY0FBY2I7SUFDL0I7SUFDQW9DLGtCQUFrQjtRQUNkLE9BQU8sS0FBSyxDQUFDQTtJQUNqQjtJQUNBQyxnQkFBZ0JDLFlBQVksRUFBRTtRQUMxQixPQUFPLEtBQUssQ0FBQ0QsZ0JBQWdCQztJQUNqQztBQUNKLEVBQ0EsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3V0aWwvZGlzdC9lc20vYXN5bmNFdmVudEVtaXR0ZXIuanM/MTgxZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBvcnRlZCB0byBUeXBlc2NyaXB0IGZyb20gb3JpZ2luYWwgaW1wbGVtZW50YXRpb24gYmVsb3c6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYWh1bHRncmVuL2FzeW5jLWV2ZW50ZW1pdHRlciAtLSBNSVQgbGljZW5zZWRcbiAqXG4gKiBUeXBlIERlZmluaXRpb25zIGJhc2VkIG9uIHdvcmsgYnk6IHBhdGFyYXBvbHcgPGh0dHBzOi8vZ2l0aHViLmNvbS9wYXRhcmFwb2x3PiAtLSBNSVQgbGljZW5zZWRcbiAqIHRoYXQgd2FzIGNvbnRyaWJ1dGVkIHRvIERlZmluaXRlbHkgVHlwZWQgYmVsb3c6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vRGVmaW5pdGVseVR5cGVkL0RlZmluaXRlbHlUeXBlZC90cmVlL21hc3Rlci90eXBlcy9hc3luYy1ldmVudGVtaXR0ZXJcbiAqL1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmFzeW5jIGZ1bmN0aW9uIHJ1bkluU2VyaWVzKGNvbnRleHQsIHRhc2tzLCBkYXRhKSB7XG4gICAgbGV0IGVycm9yO1xuICAgIGZvciBhd2FpdCAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHRhc2subGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgIC8vc3luY1xuICAgICAgICAgICAgICAgIHRhc2suY2FsbChjb250ZXh0LCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5jYWxsKGNvbnRleHQsIGRhdGEsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9yID0gZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFzeW5jRXZlbnRFbWl0dGVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgICBlbWl0KGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgICAgIGxldCBbZGF0YSwgY2FsbGJhY2tdID0gYXJncztcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBsaXN0ZW5lcnMgPSBzZWxmLl9ldmVudHNbZXZlbnRdID8/IFtdO1xuICAgICAgICAvLyBPcHRpb25hbCBkYXRhIGFyZ3VtZW50XG4gICAgICAgIGlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IGRhdGE7XG4gICAgICAgICAgICBkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNwZWNpYWwgdHJlYXRtZW50IG9mIGludGVybmFsIG5ld0xpc3RlbmVyIGFuZCByZW1vdmVMaXN0ZW5lciBldmVudHNcbiAgICAgICAgaWYgKGV2ZW50ID09PSAnbmV3TGlzdGVuZXInIHx8IGV2ZW50ID09PSAncmVtb3ZlTGlzdGVuZXInKSB7XG4gICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50OiBkYXRhLFxuICAgICAgICAgICAgICAgIGZuOiBjYWxsYmFjayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBIHNpbmdsZSBsaXN0ZW5lciBpcyBqdXN0IGEgZnVuY3Rpb24gbm90IGFuIGFycmF5Li4uXG4gICAgICAgIGxpc3RlbmVycyA9IEFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSA/IGxpc3RlbmVycyA6IFtsaXN0ZW5lcnNdO1xuICAgICAgICBydW5JblNlcmllcyhzZWxmLCBsaXN0ZW5lcnMuc2xpY2UoKSwgZGF0YSkudGhlbihjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gc2VsZi5saXN0ZW5lckNvdW50KGV2ZW50KSA+IDA7XG4gICAgfVxuICAgIG9uY2UoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgZztcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFjayB0byBzdXBwb3J0IHNldCBhcml0eVxuICAgICAgICBpZiAobGlzdGVuZXIubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIGcgPSBmdW5jdGlvbiAoZSwgbmV4dCkge1xuICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGcpO1xuICAgICAgICAgICAgICAgIHZvaWQgbGlzdGVuZXIoZSwgbmV4dCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVMaXN0ZW5lcihldmVudCwgZyk7XG4gICAgICAgICAgICAgICAgdm9pZCBsaXN0ZW5lcihlLCBnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5vbihldmVudCwgZyk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBmaXJzdChldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldmVudF0gPz8gW107XG4gICAgICAgIC8vIENvbnRyYWN0XG4gICAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExpc3RlbmVycyBhcmUgbm90IGFsd2F5cyBhbiBhcnJheVxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSkge1xuICAgICAgICAgICAgO1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW2V2ZW50XSA9IGxpc3RlbmVycyA9IFtsaXN0ZW5lcnNdO1xuICAgICAgICB9XG4gICAgICAgIGxpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGJlZm9yZShldmVudCwgdGFyZ2V0LCBsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gdGhpcy5iZWZvcmVPckFmdGVyKGV2ZW50LCB0YXJnZXQsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgYWZ0ZXIoZXZlbnQsIHRhcmdldCwgbGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlT3JBZnRlcihldmVudCwgdGFyZ2V0LCBsaXN0ZW5lciwgJ2FmdGVyJyk7XG4gICAgfVxuICAgIGJlZm9yZU9yQWZ0ZXIoZXZlbnQsIHRhcmdldCwgbGlzdGVuZXIsIGJlZm9yZU9yQWZ0ZXIpIHtcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldmVudF0gPz8gW107XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgaW5kZXg7XG4gICAgICAgIGNvbnN0IGFkZCA9IGJlZm9yZU9yQWZ0ZXIgPT09ICdhZnRlcicgPyAxIDogMDtcbiAgICAgICAgLy8gQ29udHJhY3RcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMaXN0ZW5lcnMgYXJlIG5vdCBhbHdheXMgYW4gYXJyYXlcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxpc3RlbmVycykpIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50c1tldmVudF0gPSBsaXN0ZW5lcnMgPSBbbGlzdGVuZXJzXTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0gPT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaSArIGFkZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAwLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIGFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gc3VwZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgcHJlcGVuZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gc3VwZXIucHJlcGVuZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIHByZXBlbmRPbmNlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5wcmVwZW5kT25jZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICAgICAgICByZXR1cm4gc3VwZXIucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KTtcbiAgICB9XG4gICAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICBldmVudE5hbWVzKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZXZlbnROYW1lcygpO1xuICAgIH1cbiAgICBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmxpc3RlbmVycyhldmVudCk7XG4gICAgfVxuICAgIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmxpc3RlbmVyQ291bnQoZXZlbnQpO1xuICAgIH1cbiAgICBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5nZXRNYXhMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgc2V0TWF4TGlzdGVuZXJzKG1heExpc3RlbmVycykge1xuICAgICAgICByZXR1cm4gc3VwZXIuc2V0TWF4TGlzdGVuZXJzKG1heExpc3RlbmVycyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmNFdmVudEVtaXR0ZXIuanMubWFwIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsInJ1bkluU2VyaWVzIiwiY29udGV4dCIsInRhc2tzIiwiZGF0YSIsImVycm9yIiwidGFzayIsImxlbmd0aCIsImNhbGwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImUiLCJBc3luY0V2ZW50RW1pdHRlciIsImVtaXQiLCJldmVudCIsImFyZ3MiLCJjYWxsYmFjayIsInNlbGYiLCJsaXN0ZW5lcnMiLCJfZXZlbnRzIiwidW5kZWZpbmVkIiwiZm4iLCJBcnJheSIsImlzQXJyYXkiLCJzbGljZSIsInRoZW4iLCJjYXRjaCIsImxpc3RlbmVyQ291bnQiLCJvbmNlIiwibGlzdGVuZXIiLCJnIiwiVHlwZUVycm9yIiwibmV4dCIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJmaXJzdCIsInVuc2hpZnQiLCJiZWZvcmUiLCJ0YXJnZXQiLCJiZWZvcmVPckFmdGVyIiwiYWZ0ZXIiLCJpIiwiaW5kZXgiLCJhZGQiLCJzcGxpY2UiLCJhZGRMaXN0ZW5lciIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwiZ2V0TWF4TGlzdGVuZXJzIiwic2V0TWF4TGlzdGVuZXJzIiwibWF4TGlzdGVuZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/asyncEventEmitter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/blobs.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/blobs.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   blobsToCommitments: () => (/* binding */ blobsToCommitments),\n/* harmony export */   blobsToProofs: () => (/* binding */ blobsToProofs),\n/* harmony export */   commitmentsToVersionedHashes: () => (/* binding */ commitmentsToVersionedHashes),\n/* harmony export */   computeVersionedHash: () => (/* binding */ computeVersionedHash),\n/* harmony export */   getBlobs: () => (/* binding */ getBlobs)\n/* harmony export */ });\n/* harmony import */ var ethereum_cryptography_sha256_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethereum-cryptography/sha256.js */ \"(ssr)/./node_modules/ethereum-cryptography/esm/sha256.js\");\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n/* harmony import */ var _kzg_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kzg.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/kzg.js\");\n\n\n\n/**\n * These utilities for constructing blobs are borrowed from https://github.com/Inphi/eip4844-interop.git\n */ const BYTES_PER_FIELD_ELEMENT = 32;\nconst FIELD_ELEMENTS_PER_BLOB = 4096;\nconst USEFUL_BYTES_PER_BLOB = 32 * FIELD_ELEMENTS_PER_BLOB;\nconst MAX_BLOBS_PER_TX = 2;\nconst MAX_USEFUL_BYTES_PER_TX = USEFUL_BYTES_PER_BLOB * MAX_BLOBS_PER_TX - 1;\nconst BLOB_SIZE = BYTES_PER_FIELD_ELEMENT * FIELD_ELEMENTS_PER_BLOB;\nfunction get_padded(data, blobs_len) {\n    const pdata = new Uint8Array(blobs_len * USEFUL_BYTES_PER_BLOB).fill(0);\n    pdata.set(data);\n    pdata[data.byteLength] = 0x80;\n    return pdata;\n}\nfunction get_blob(data) {\n    const blob = new Uint8Array(BLOB_SIZE);\n    for(let i = 0; i < FIELD_ELEMENTS_PER_BLOB; i++){\n        const chunk = new Uint8Array(32);\n        chunk.set(data.subarray(i * 31, (i + 1) * 31), 0);\n        blob.set(chunk, i * 32);\n    }\n    return blob;\n}\nconst getBlobs = (input)=>{\n    const data = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.utf8ToBytes)(input);\n    const len = data.byteLength;\n    if (len === 0) {\n        throw Error(\"invalid blob data\");\n    }\n    if (len > MAX_USEFUL_BYTES_PER_TX) {\n        throw Error(\"blob data is too large\");\n    }\n    const blobs_len = Math.ceil(len / USEFUL_BYTES_PER_BLOB);\n    const pdata = get_padded(data, blobs_len);\n    const blobs = [];\n    for(let i = 0; i < blobs_len; i++){\n        const chunk = pdata.subarray(i * USEFUL_BYTES_PER_BLOB, (i + 1) * USEFUL_BYTES_PER_BLOB);\n        const blob = get_blob(chunk);\n        blobs.push(blob);\n    }\n    return blobs;\n};\nconst blobsToCommitments = (blobs)=>{\n    const commitments = [];\n    for (const blob of blobs){\n        commitments.push(_kzg_js__WEBPACK_IMPORTED_MODULE_2__.kzg.blobToKzgCommitment(blob));\n    }\n    return commitments;\n};\nconst blobsToProofs = (blobs, commitments)=>{\n    const proofs = blobs.map((blob, ctx)=>_kzg_js__WEBPACK_IMPORTED_MODULE_2__.kzg.computeBlobKzgProof(blob, commitments[ctx]));\n    return proofs;\n};\n/**\n * Converts a vector commitment for a given data blob to its versioned hash.  For 4844, this version\n * number will be 0x01 for KZG vector commitments but could be different if future vector commitment\n * types are introduced\n * @param commitment a vector commitment to a blob\n * @param blobCommitmentVersion the version number corresponding to the type of vector commitment\n * @returns a versioned hash corresponding to a given blob vector commitment\n */ const computeVersionedHash = (commitment, blobCommitmentVersion)=>{\n    const computedVersionedHash = new Uint8Array(32);\n    computedVersionedHash.set([\n        blobCommitmentVersion\n    ], 0);\n    computedVersionedHash.set((0,ethereum_cryptography_sha256_js__WEBPACK_IMPORTED_MODULE_0__.sha256)(commitment).subarray(1), 1);\n    return computedVersionedHash;\n};\n/**\n * Generate an array of versioned hashes from corresponding kzg commitments\n * @param commitments array of kzg commitments\n * @returns array of versioned hashes\n * Note: assumes KZG commitments (version 1 version hashes)\n */ const commitmentsToVersionedHashes = (commitments)=>{\n    const hashes = [];\n    for (const commitment of commitments){\n        hashes.push(computeVersionedHash(commitment, 0x01));\n    }\n    return hashes;\n}; //# sourceMappingURL=blobs.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2Jsb2JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ2hCO0FBQ1Y7QUFDL0I7O0NBRUMsR0FDRCxNQUFNRywwQkFBMEI7QUFDaEMsTUFBTUMsMEJBQTBCO0FBQ2hDLE1BQU1DLHdCQUF3QixLQUFLRDtBQUNuQyxNQUFNRSxtQkFBbUI7QUFDekIsTUFBTUMsMEJBQTBCRix3QkFBd0JDLG1CQUFtQjtBQUMzRSxNQUFNRSxZQUFZTCwwQkFBMEJDO0FBQzVDLFNBQVNLLFdBQVdDLElBQUksRUFBRUMsU0FBUztJQUMvQixNQUFNQyxRQUFRLElBQUlDLFdBQVdGLFlBQVlOLHVCQUF1QlMsSUFBSSxDQUFDO0lBQ3JFRixNQUFNRyxHQUFHLENBQUNMO0lBQ1ZFLEtBQUssQ0FBQ0YsS0FBS00sVUFBVSxDQUFDLEdBQUc7SUFDekIsT0FBT0o7QUFDWDtBQUNBLFNBQVNLLFNBQVNQLElBQUk7SUFDbEIsTUFBTVEsT0FBTyxJQUFJTCxXQUFXTDtJQUM1QixJQUFLLElBQUlXLElBQUksR0FBR0EsSUFBSWYseUJBQXlCZSxJQUFLO1FBQzlDLE1BQU1DLFFBQVEsSUFBSVAsV0FBVztRQUM3Qk8sTUFBTUwsR0FBRyxDQUFDTCxLQUFLVyxRQUFRLENBQUNGLElBQUksSUFBSSxDQUFDQSxJQUFJLEtBQUssS0FBSztRQUMvQ0QsS0FBS0gsR0FBRyxDQUFDSyxPQUFPRCxJQUFJO0lBQ3hCO0lBQ0EsT0FBT0Q7QUFDWDtBQUNPLE1BQU1JLFdBQVcsQ0FBQ0M7SUFDckIsTUFBTWIsT0FBT1Qsc0RBQVdBLENBQUNzQjtJQUN6QixNQUFNQyxNQUFNZCxLQUFLTSxVQUFVO0lBQzNCLElBQUlRLFFBQVEsR0FBRztRQUNYLE1BQU1DLE1BQU07SUFDaEI7SUFDQSxJQUFJRCxNQUFNakIseUJBQXlCO1FBQy9CLE1BQU1rQixNQUFNO0lBQ2hCO0lBQ0EsTUFBTWQsWUFBWWUsS0FBS0MsSUFBSSxDQUFDSCxNQUFNbkI7SUFDbEMsTUFBTU8sUUFBUUgsV0FBV0MsTUFBTUM7SUFDL0IsTUFBTWlCLFFBQVEsRUFBRTtJQUNoQixJQUFLLElBQUlULElBQUksR0FBR0EsSUFBSVIsV0FBV1EsSUFBSztRQUNoQyxNQUFNQyxRQUFRUixNQUFNUyxRQUFRLENBQUNGLElBQUlkLHVCQUF1QixDQUFDYyxJQUFJLEtBQUtkO1FBQ2xFLE1BQU1hLE9BQU9ELFNBQVNHO1FBQ3RCUSxNQUFNQyxJQUFJLENBQUNYO0lBQ2Y7SUFDQSxPQUFPVTtBQUNYLEVBQUU7QUFDSyxNQUFNRSxxQkFBcUIsQ0FBQ0Y7SUFDL0IsTUFBTUcsY0FBYyxFQUFFO0lBQ3RCLEtBQUssTUFBTWIsUUFBUVUsTUFBTztRQUN0QkcsWUFBWUYsSUFBSSxDQUFDM0Isd0NBQUdBLENBQUM4QixtQkFBbUIsQ0FBQ2Q7SUFDN0M7SUFDQSxPQUFPYTtBQUNYLEVBQUU7QUFDSyxNQUFNRSxnQkFBZ0IsQ0FBQ0wsT0FBT0c7SUFDakMsTUFBTUcsU0FBU04sTUFBTU8sR0FBRyxDQUFDLENBQUNqQixNQUFNa0IsTUFBUWxDLHdDQUFHQSxDQUFDbUMsbUJBQW1CLENBQUNuQixNQUFNYSxXQUFXLENBQUNLLElBQUk7SUFDdEYsT0FBT0Y7QUFDWCxFQUFFO0FBQ0Y7Ozs7Ozs7Q0FPQyxHQUNNLE1BQU1JLHVCQUF1QixDQUFDQyxZQUFZQztJQUM3QyxNQUFNQyx3QkFBd0IsSUFBSTVCLFdBQVc7SUFDN0M0QixzQkFBc0IxQixHQUFHLENBQUM7UUFBQ3lCO0tBQXNCLEVBQUU7SUFDbkRDLHNCQUFzQjFCLEdBQUcsQ0FBQ2YsdUVBQU1BLENBQUN1QyxZQUFZbEIsUUFBUSxDQUFDLElBQUk7SUFDMUQsT0FBT29CO0FBQ1gsRUFBRTtBQUNGOzs7OztDQUtDLEdBQ00sTUFBTUMsK0JBQStCLENBQUNYO0lBQ3pDLE1BQU1ZLFNBQVMsRUFBRTtJQUNqQixLQUFLLE1BQU1KLGNBQWNSLFlBQWE7UUFDbENZLE9BQU9kLElBQUksQ0FBQ1MscUJBQXFCQyxZQUFZO0lBQ2pEO0lBQ0EsT0FBT0k7QUFDWCxFQUFFLENBQ0YsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3V0aWwvZGlzdC9lc20vYmxvYnMuanM/NjkyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzaGEyNTYgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkvc2hhMjU2LmpzJztcbmltcG9ydCB7IHV0ZjhUb0J5dGVzIH0gZnJvbSAnLi9ieXRlcy5qcyc7XG5pbXBvcnQgeyBremcgfSBmcm9tICcuL2t6Zy5qcyc7XG4vKipcbiAqIFRoZXNlIHV0aWxpdGllcyBmb3IgY29uc3RydWN0aW5nIGJsb2JzIGFyZSBib3Jyb3dlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9JbnBoaS9laXA0ODQ0LWludGVyb3AuZ2l0XG4gKi9cbmNvbnN0IEJZVEVTX1BFUl9GSUVMRF9FTEVNRU5UID0gMzI7XG5jb25zdCBGSUVMRF9FTEVNRU5UU19QRVJfQkxPQiA9IDQwOTY7XG5jb25zdCBVU0VGVUxfQllURVNfUEVSX0JMT0IgPSAzMiAqIEZJRUxEX0VMRU1FTlRTX1BFUl9CTE9CO1xuY29uc3QgTUFYX0JMT0JTX1BFUl9UWCA9IDI7XG5jb25zdCBNQVhfVVNFRlVMX0JZVEVTX1BFUl9UWCA9IFVTRUZVTF9CWVRFU19QRVJfQkxPQiAqIE1BWF9CTE9CU19QRVJfVFggLSAxO1xuY29uc3QgQkxPQl9TSVpFID0gQllURVNfUEVSX0ZJRUxEX0VMRU1FTlQgKiBGSUVMRF9FTEVNRU5UU19QRVJfQkxPQjtcbmZ1bmN0aW9uIGdldF9wYWRkZWQoZGF0YSwgYmxvYnNfbGVuKSB7XG4gICAgY29uc3QgcGRhdGEgPSBuZXcgVWludDhBcnJheShibG9ic19sZW4gKiBVU0VGVUxfQllURVNfUEVSX0JMT0IpLmZpbGwoMCk7XG4gICAgcGRhdGEuc2V0KGRhdGEpO1xuICAgIHBkYXRhW2RhdGEuYnl0ZUxlbmd0aF0gPSAweDgwO1xuICAgIHJldHVybiBwZGF0YTtcbn1cbmZ1bmN0aW9uIGdldF9ibG9iKGRhdGEpIHtcbiAgICBjb25zdCBibG9iID0gbmV3IFVpbnQ4QXJyYXkoQkxPQl9TSVpFKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IEZJRUxEX0VMRU1FTlRTX1BFUl9CTE9COyBpKyspIHtcbiAgICAgICAgY29uc3QgY2h1bmsgPSBuZXcgVWludDhBcnJheSgzMik7XG4gICAgICAgIGNodW5rLnNldChkYXRhLnN1YmFycmF5KGkgKiAzMSwgKGkgKyAxKSAqIDMxKSwgMCk7XG4gICAgICAgIGJsb2Iuc2V0KGNodW5rLCBpICogMzIpO1xuICAgIH1cbiAgICByZXR1cm4gYmxvYjtcbn1cbmV4cG9ydCBjb25zdCBnZXRCbG9icyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSB1dGY4VG9CeXRlcyhpbnB1dCk7XG4gICAgY29uc3QgbGVuID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2ludmFsaWQgYmxvYiBkYXRhJyk7XG4gICAgfVxuICAgIGlmIChsZW4gPiBNQVhfVVNFRlVMX0JZVEVTX1BFUl9UWCkge1xuICAgICAgICB0aHJvdyBFcnJvcignYmxvYiBkYXRhIGlzIHRvbyBsYXJnZScpO1xuICAgIH1cbiAgICBjb25zdCBibG9ic19sZW4gPSBNYXRoLmNlaWwobGVuIC8gVVNFRlVMX0JZVEVTX1BFUl9CTE9CKTtcbiAgICBjb25zdCBwZGF0YSA9IGdldF9wYWRkZWQoZGF0YSwgYmxvYnNfbGVuKTtcbiAgICBjb25zdCBibG9icyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmxvYnNfbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2h1bmsgPSBwZGF0YS5zdWJhcnJheShpICogVVNFRlVMX0JZVEVTX1BFUl9CTE9CLCAoaSArIDEpICogVVNFRlVMX0JZVEVTX1BFUl9CTE9CKTtcbiAgICAgICAgY29uc3QgYmxvYiA9IGdldF9ibG9iKGNodW5rKTtcbiAgICAgICAgYmxvYnMucHVzaChibG9iKTtcbiAgICB9XG4gICAgcmV0dXJuIGJsb2JzO1xufTtcbmV4cG9ydCBjb25zdCBibG9ic1RvQ29tbWl0bWVudHMgPSAoYmxvYnMpID0+IHtcbiAgICBjb25zdCBjb21taXRtZW50cyA9IFtdO1xuICAgIGZvciAoY29uc3QgYmxvYiBvZiBibG9icykge1xuICAgICAgICBjb21taXRtZW50cy5wdXNoKGt6Zy5ibG9iVG9LemdDb21taXRtZW50KGJsb2IpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbW1pdG1lbnRzO1xufTtcbmV4cG9ydCBjb25zdCBibG9ic1RvUHJvb2ZzID0gKGJsb2JzLCBjb21taXRtZW50cykgPT4ge1xuICAgIGNvbnN0IHByb29mcyA9IGJsb2JzLm1hcCgoYmxvYiwgY3R4KSA9PiBremcuY29tcHV0ZUJsb2JLemdQcm9vZihibG9iLCBjb21taXRtZW50c1tjdHhdKSk7XG4gICAgcmV0dXJuIHByb29mcztcbn07XG4vKipcbiAqIENvbnZlcnRzIGEgdmVjdG9yIGNvbW1pdG1lbnQgZm9yIGEgZ2l2ZW4gZGF0YSBibG9iIHRvIGl0cyB2ZXJzaW9uZWQgaGFzaC4gIEZvciA0ODQ0LCB0aGlzIHZlcnNpb25cbiAqIG51bWJlciB3aWxsIGJlIDB4MDEgZm9yIEtaRyB2ZWN0b3IgY29tbWl0bWVudHMgYnV0IGNvdWxkIGJlIGRpZmZlcmVudCBpZiBmdXR1cmUgdmVjdG9yIGNvbW1pdG1lbnRcbiAqIHR5cGVzIGFyZSBpbnRyb2R1Y2VkXG4gKiBAcGFyYW0gY29tbWl0bWVudCBhIHZlY3RvciBjb21taXRtZW50IHRvIGEgYmxvYlxuICogQHBhcmFtIGJsb2JDb21taXRtZW50VmVyc2lvbiB0aGUgdmVyc2lvbiBudW1iZXIgY29ycmVzcG9uZGluZyB0byB0aGUgdHlwZSBvZiB2ZWN0b3IgY29tbWl0bWVudFxuICogQHJldHVybnMgYSB2ZXJzaW9uZWQgaGFzaCBjb3JyZXNwb25kaW5nIHRvIGEgZ2l2ZW4gYmxvYiB2ZWN0b3IgY29tbWl0bWVudFxuICovXG5leHBvcnQgY29uc3QgY29tcHV0ZVZlcnNpb25lZEhhc2ggPSAoY29tbWl0bWVudCwgYmxvYkNvbW1pdG1lbnRWZXJzaW9uKSA9PiB7XG4gICAgY29uc3QgY29tcHV0ZWRWZXJzaW9uZWRIYXNoID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICAgIGNvbXB1dGVkVmVyc2lvbmVkSGFzaC5zZXQoW2Jsb2JDb21taXRtZW50VmVyc2lvbl0sIDApO1xuICAgIGNvbXB1dGVkVmVyc2lvbmVkSGFzaC5zZXQoc2hhMjU2KGNvbW1pdG1lbnQpLnN1YmFycmF5KDEpLCAxKTtcbiAgICByZXR1cm4gY29tcHV0ZWRWZXJzaW9uZWRIYXNoO1xufTtcbi8qKlxuICogR2VuZXJhdGUgYW4gYXJyYXkgb2YgdmVyc2lvbmVkIGhhc2hlcyBmcm9tIGNvcnJlc3BvbmRpbmcga3pnIGNvbW1pdG1lbnRzXG4gKiBAcGFyYW0gY29tbWl0bWVudHMgYXJyYXkgb2Yga3pnIGNvbW1pdG1lbnRzXG4gKiBAcmV0dXJucyBhcnJheSBvZiB2ZXJzaW9uZWQgaGFzaGVzXG4gKiBOb3RlOiBhc3N1bWVzIEtaRyBjb21taXRtZW50cyAodmVyc2lvbiAxIHZlcnNpb24gaGFzaGVzKVxuICovXG5leHBvcnQgY29uc3QgY29tbWl0bWVudHNUb1ZlcnNpb25lZEhhc2hlcyA9IChjb21taXRtZW50cykgPT4ge1xuICAgIGNvbnN0IGhhc2hlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgY29tbWl0bWVudCBvZiBjb21taXRtZW50cykge1xuICAgICAgICBoYXNoZXMucHVzaChjb21wdXRlVmVyc2lvbmVkSGFzaChjb21taXRtZW50LCAweDAxKSk7XG4gICAgfVxuICAgIHJldHVybiBoYXNoZXM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmxvYnMuanMubWFwIl0sIm5hbWVzIjpbInNoYTI1NiIsInV0ZjhUb0J5dGVzIiwia3pnIiwiQllURVNfUEVSX0ZJRUxEX0VMRU1FTlQiLCJGSUVMRF9FTEVNRU5UU19QRVJfQkxPQiIsIlVTRUZVTF9CWVRFU19QRVJfQkxPQiIsIk1BWF9CTE9CU19QRVJfVFgiLCJNQVhfVVNFRlVMX0JZVEVTX1BFUl9UWCIsIkJMT0JfU0laRSIsImdldF9wYWRkZWQiLCJkYXRhIiwiYmxvYnNfbGVuIiwicGRhdGEiLCJVaW50OEFycmF5IiwiZmlsbCIsInNldCIsImJ5dGVMZW5ndGgiLCJnZXRfYmxvYiIsImJsb2IiLCJpIiwiY2h1bmsiLCJzdWJhcnJheSIsImdldEJsb2JzIiwiaW5wdXQiLCJsZW4iLCJFcnJvciIsIk1hdGgiLCJjZWlsIiwiYmxvYnMiLCJwdXNoIiwiYmxvYnNUb0NvbW1pdG1lbnRzIiwiY29tbWl0bWVudHMiLCJibG9iVG9LemdDb21taXRtZW50IiwiYmxvYnNUb1Byb29mcyIsInByb29mcyIsIm1hcCIsImN0eCIsImNvbXB1dGVCbG9iS3pnUHJvb2YiLCJjb21wdXRlVmVyc2lvbmVkSGFzaCIsImNvbW1pdG1lbnQiLCJibG9iQ29tbWl0bWVudFZlcnNpb24iLCJjb21wdXRlZFZlcnNpb25lZEhhc2giLCJjb21taXRtZW50c1RvVmVyc2lvbmVkSGFzaGVzIiwiaGFzaGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/blobs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addHexPrefix: () => (/* binding */ addHexPrefix),\n/* harmony export */   bigInt64ToBytes: () => (/* binding */ bigInt64ToBytes),\n/* harmony export */   bigIntToBytes: () => (/* binding */ bigIntToBytes),\n/* harmony export */   bigIntToHex: () => (/* binding */ bigIntToHex),\n/* harmony export */   bigIntToUnpaddedBytes: () => (/* binding */ bigIntToUnpaddedBytes),\n/* harmony export */   bytesToBigInt: () => (/* binding */ bytesToBigInt),\n/* harmony export */   bytesToBigInt64: () => (/* binding */ bytesToBigInt64),\n/* harmony export */   bytesToHex: () => (/* binding */ bytesToHex),\n/* harmony export */   bytesToInt: () => (/* binding */ bytesToInt),\n/* harmony export */   bytesToInt32: () => (/* binding */ bytesToInt32),\n/* harmony export */   bytesToUnprefixedHex: () => (/* binding */ bytesToUnprefixedHex),\n/* harmony export */   bytesToUtf8: () => (/* reexport safe */ ethereum_cryptography_utils_js__WEBPACK_IMPORTED_MODULE_1__.bytesToUtf8),\n/* harmony export */   compareBytes: () => (/* binding */ compareBytes),\n/* harmony export */   concatBytes: () => (/* binding */ concatBytes),\n/* harmony export */   equalsBytes: () => (/* reexport safe */ ethereum_cryptography_utils_js__WEBPACK_IMPORTED_MODULE_1__.equalsBytes),\n/* harmony export */   fromSigned: () => (/* binding */ fromSigned),\n/* harmony export */   hexToBytes: () => (/* binding */ hexToBytes),\n/* harmony export */   int32ToBytes: () => (/* binding */ int32ToBytes),\n/* harmony export */   intToBytes: () => (/* binding */ intToBytes),\n/* harmony export */   intToHex: () => (/* binding */ intToHex),\n/* harmony export */   intToUnpaddedBytes: () => (/* binding */ intToUnpaddedBytes),\n/* harmony export */   randomBytes: () => (/* binding */ randomBytes),\n/* harmony export */   setLengthLeft: () => (/* binding */ setLengthLeft),\n/* harmony export */   setLengthRight: () => (/* binding */ setLengthRight),\n/* harmony export */   short: () => (/* binding */ short),\n/* harmony export */   toBytes: () => (/* binding */ toBytes),\n/* harmony export */   toUnsigned: () => (/* binding */ toUnsigned),\n/* harmony export */   unpadArray: () => (/* binding */ unpadArray),\n/* harmony export */   unpadBytes: () => (/* binding */ unpadBytes),\n/* harmony export */   unpadHex: () => (/* binding */ unpadHex),\n/* harmony export */   unprefixedHexToBytes: () => (/* binding */ unprefixedHexToBytes),\n/* harmony export */   utf8ToBytes: () => (/* reexport safe */ ethereum_cryptography_utils_js__WEBPACK_IMPORTED_MODULE_1__.utf8ToBytes),\n/* harmony export */   validateNoLeadingZeroes: () => (/* binding */ validateNoLeadingZeroes),\n/* harmony export */   zeros: () => (/* binding */ zeros)\n/* harmony export */ });\n/* harmony import */ var ethereum_cryptography_random_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethereum-cryptography/random.js */ \"(ssr)/./node_modules/ethereum-cryptography/esm/random.js\");\n/* harmony import */ var ethereum_cryptography_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethereum-cryptography/utils.js */ \"(ssr)/./node_modules/ethereum-cryptography/esm/utils.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/helpers.js\");\n/* harmony import */ var _internal_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js\");\n\n// eslint-disable-next-line no-restricted-imports\n\n\n\nconst BIGINT_0 = BigInt(0);\n/**\n * @deprecated\n */ const bytesToUnprefixedHex = ethereum_cryptography_utils_js__WEBPACK_IMPORTED_MODULE_1__.bytesToHex;\n/**\n * @deprecated\n */ const unprefixedHexToBytes = (inp)=>{\n    if (inp.slice(0, 2) === \"0x\") {\n        throw new Error(\"hex string is prefixed with 0x, should be unprefixed\");\n    } else {\n        return (0,ethereum_cryptography_utils_js__WEBPACK_IMPORTED_MODULE_1__.hexToBytes)((0,_internal_js__WEBPACK_IMPORTED_MODULE_3__.padToEven)(inp));\n    }\n};\n/****************  Borrowed from @chainsafe/ssz */ // Caching this info costs about ~1000 bytes and speeds up toHexString() by x6\nconst hexByByte = Array.from({\n    length: 256\n}, (v, i)=>i.toString(16).padStart(2, \"0\"));\nconst bytesToHex = (bytes)=>{\n    let hex = \"0x\";\n    if (bytes === undefined || bytes.length === 0) return hex;\n    for (const byte of bytes){\n        hex += hexByByte[byte];\n    }\n    return hex;\n};\n// BigInt cache for the numbers 0 - 256*256-1 (two-byte bytes)\nconst BIGINT_CACHE = [];\nfor(let i = 0; i <= 256 * 256 - 1; i++){\n    BIGINT_CACHE[i] = BigInt(i);\n}\n/**\n * Converts a {@link Uint8Array} to a {@link bigint}\n * @param {Uint8Array} bytes the bytes to convert\n * @returns {bigint}\n */ const bytesToBigInt = (bytes)=>{\n    const hex = bytesToHex(bytes);\n    if (hex === \"0x\") {\n        return BIGINT_0;\n    }\n    if (hex.length === 4) {\n        // If the byte length is 1 (this is faster than checking `bytes.length === 1`)\n        return BIGINT_CACHE[bytes[0]];\n    }\n    if (hex.length === 6) {\n        return BIGINT_CACHE[bytes[0] * 256 + bytes[1]];\n    }\n    return BigInt(hex);\n};\n/**\n * Converts a {@link Uint8Array} to a {@link number}.\n * @param {Uint8Array} bytes the bytes to convert\n * @return  {number}\n * @throws If the input number exceeds 53 bits.\n */ const bytesToInt = (bytes)=>{\n    const res = Number(bytesToBigInt(bytes));\n    if (!Number.isSafeInteger(res)) throw new Error(\"Number exceeds 53 bits\");\n    return res;\n};\nconst hexToBytes = (hex)=>{\n    if (typeof hex !== \"string\") {\n        throw new Error(`hex argument type ${typeof hex} must be of type string`);\n    }\n    if (!hex.startsWith(\"0x\")) {\n        throw new Error(`prefixed hex input should start with 0x, got ${hex.substring(0, 2)}`);\n    }\n    hex = hex.slice(2);\n    if (hex.length % 2 !== 0) {\n        hex = (0,_internal_js__WEBPACK_IMPORTED_MODULE_3__.padToEven)(hex);\n    }\n    const byteLen = hex.length / 2;\n    const bytes = new Uint8Array(byteLen);\n    for(let i = 0; i < byteLen; i++){\n        const byte = parseInt(hex.slice(i * 2, (i + 1) * 2), 16);\n        bytes[i] = byte;\n    }\n    return bytes;\n};\n/******************************************/ /**\n * Converts a {@link number} into a {@link PrefixedHexString}\n * @param {number} i\n * @return {PrefixedHexString}\n */ const intToHex = (i)=>{\n    if (!Number.isSafeInteger(i) || i < 0) {\n        throw new Error(`Received an invalid integer type: ${i}`);\n    }\n    return `0x${i.toString(16)}`;\n};\n/**\n * Converts an {@link number} to a {@link Uint8Array}\n * @param {Number} i\n * @return {Uint8Array}\n */ const intToBytes = (i)=>{\n    const hex = intToHex(i);\n    return hexToBytes(hex);\n};\n/**\n * Converts a {@link bigint} to a {@link Uint8Array}\n *  * @param {bigint} num the bigint to convert\n * @returns {Uint8Array}\n */ const bigIntToBytes = (num)=>{\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return toBytes(\"0x\" + (0,_internal_js__WEBPACK_IMPORTED_MODULE_3__.padToEven)(num.toString(16)));\n};\n/**\n * Returns a Uint8Array filled with 0s.\n * @param {number} bytes the number of bytes of the Uint8Array\n * @return {Uint8Array}\n */ const zeros = (bytes)=>{\n    return new Uint8Array(bytes);\n};\n/**\n * Pads a `Uint8Array` with zeros till it has `length` bytes.\n * Truncates the beginning or end of input if its length exceeds `length`.\n * @param {Uint8Array} msg the value to pad\n * @param {number} length the number of bytes the output should be\n * @param {boolean} right whether to start padding form the left or right\n * @return {Uint8Array}\n */ const setLength = (msg, length, right)=>{\n    if (right) {\n        if (msg.length < length) {\n            return new Uint8Array([\n                ...msg,\n                ...zeros(length - msg.length)\n            ]);\n        }\n        return msg.subarray(0, length);\n    } else {\n        if (msg.length < length) {\n            return new Uint8Array([\n                ...zeros(length - msg.length),\n                ...msg\n            ]);\n        }\n        return msg.subarray(-length);\n    }\n};\n/**\n * Left Pads a `Uint8Array` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Uint8Array} msg the value to pad\n * @param {number} length the number of bytes the output should be\n * @return {Uint8Array}\n */ const setLengthLeft = (msg, length)=>{\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_2__.assertIsBytes)(msg);\n    return setLength(msg, length, false);\n};\n/**\n * Right Pads a `Uint8Array` with trailing zeros till it has `length` bytes.\n * it truncates the end if it exceeds.\n * @param {Uint8Array} msg the value to pad\n * @param {number} length the number of bytes the output should be\n * @return {Uint8Array}\n */ const setLengthRight = (msg, length)=>{\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_2__.assertIsBytes)(msg);\n    return setLength(msg, length, true);\n};\n/**\n * Trims leading zeros from a `Uint8Array`, `number[]` or PrefixedHexString`.\n * @param {Uint8Array|number[]|PrefixedHexString} a\n * @return {Uint8Array|number[]|PrefixedHexString}\n */ const stripZeros = (a)=>{\n    let first = a[0];\n    while(a.length > 0 && first.toString() === \"0\"){\n        a = a.slice(1);\n        first = a[0];\n    }\n    return a;\n};\n/**\n * Trims leading zeros from a `Uint8Array`.\n * @param {Uint8Array} a\n * @return {Uint8Array}\n */ const unpadBytes = (a)=>{\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_2__.assertIsBytes)(a);\n    return stripZeros(a);\n};\n/**\n * Trims leading zeros from an `Array` (of numbers).\n * @param  {number[]} a\n * @return {number[]}\n */ const unpadArray = (a)=>{\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_2__.assertIsArray)(a);\n    return stripZeros(a);\n};\n/**\n * Trims leading zeros from a `PrefixedHexString`.\n * @param {PrefixedHexString} a\n * @return {PrefixedHexString}\n */ const unpadHex = (a)=>{\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_2__.assertIsHexString)(a);\n    a = (0,_internal_js__WEBPACK_IMPORTED_MODULE_3__.stripHexPrefix)(a);\n    return \"0x\" + stripZeros(a);\n};\n/**\n * Attempts to turn a value into a `Uint8Array`.\n * Inputs supported: `Buffer`, `Uint8Array`, `String` (hex-prefixed), `Number`, null/undefined, `BigInt` and other objects\n * with a `toArray()` or `toBytes()` method.\n * @param {ToBytesInputTypes} v the value\n * @return {Uint8Array}\n */ const toBytes = (v)=>{\n    if (v === null || v === undefined) {\n        return new Uint8Array();\n    }\n    if (Array.isArray(v) || v instanceof Uint8Array) {\n        return Uint8Array.from(v);\n    }\n    if (typeof v === \"string\") {\n        if (!(0,_internal_js__WEBPACK_IMPORTED_MODULE_3__.isHexString)(v)) {\n            throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${v}`);\n        }\n        return hexToBytes(v);\n    }\n    if (typeof v === \"number\") {\n        return intToBytes(v);\n    }\n    if (typeof v === \"bigint\") {\n        if (v < BIGINT_0) {\n            throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${v}`);\n        }\n        let n = v.toString(16);\n        if (n.length % 2) n = \"0\" + n;\n        return unprefixedHexToBytes(n);\n    }\n    if (v.toBytes !== undefined) {\n        // converts a `TransformableToBytes` object to a Uint8Array\n        return v.toBytes();\n    }\n    throw new Error(\"invalid type\");\n};\n/**\n * Interprets a `Uint8Array` as a signed integer and returns a `BigInt`. Assumes 256-bit numbers.\n * @param {Uint8Array} num Signed integer value\n * @returns {bigint}\n */ const fromSigned = (num)=>{\n    return BigInt.asIntN(256, bytesToBigInt(num));\n};\n/**\n * Converts a `BigInt` to an unsigned integer and returns it as a `Uint8Array`. Assumes 256-bit numbers.\n * @param {bigint} num\n * @returns {Uint8Array}\n */ const toUnsigned = (num)=>{\n    return bigIntToBytes(BigInt.asUintN(256, num));\n};\n/**\n * Adds \"0x\" to a given `string` if it does not already start with \"0x\".\n * @param {string} str\n * @return {PrefixedHexString}\n */ const addHexPrefix = (str)=>{\n    if (typeof str !== \"string\") {\n        return str;\n    }\n    return (0,_internal_js__WEBPACK_IMPORTED_MODULE_3__.isHexPrefixed)(str) ? str : \"0x\" + str;\n};\n/**\n * Shortens a string  or Uint8Array's hex string representation to maxLength (default 50).\n *\n * Examples:\n *\n * Input:  '657468657265756d000000000000000000000000000000000000000000000000'\n * Output: '657468657265756d0000000000000000000000000000000000…'\n * @param {Uint8Array | string} bytes\n * @param {number} maxLength\n * @return {string}\n */ const short = (bytes, maxLength = 50)=>{\n    const byteStr = bytes instanceof Uint8Array ? bytesToHex(bytes) : bytes;\n    const len = byteStr.slice(0, 2) === \"0x\" ? maxLength + 2 : maxLength;\n    if (byteStr.length <= len) {\n        return byteStr;\n    }\n    return byteStr.slice(0, len) + \"…\";\n};\n/**\n * Checks provided Uint8Array for leading zeroes and throws if found.\n *\n * Examples:\n *\n * Valid values: 0x1, 0x, 0x01, 0x1234\n * Invalid values: 0x0, 0x00, 0x001, 0x0001\n *\n * Note: This method is useful for validating that RLP encoded integers comply with the rule that all\n * integer values encoded to RLP must be in the most compact form and contain no leading zero bytes\n * @param values An object containing string keys and Uint8Array values\n * @throws if any provided value is found to have leading zero bytes\n */ const validateNoLeadingZeroes = (values)=>{\n    for (const [k, v] of Object.entries(values)){\n        if (v !== undefined && v.length > 0 && v[0] === 0) {\n            throw new Error(`${k} cannot have leading zeroes, received: ${bytesToHex(v)}`);\n        }\n    }\n};\n/**\n * Converts a {@link bigint} to a `0x` prefixed hex string\n * @param {bigint} num the bigint to convert\n * @returns {PrefixedHexString}\n */ const bigIntToHex = (num)=>{\n    return \"0x\" + num.toString(16);\n};\n/**\n * Convert value from bigint to an unpadded Uint8Array\n * (useful for RLP transport)\n * @param {bigint} value the bigint to convert\n * @returns {Uint8Array}\n */ const bigIntToUnpaddedBytes = (value)=>{\n    return unpadBytes(bigIntToBytes(value));\n};\n/**\n * Convert value from number to an unpadded Uint8Array\n * (useful for RLP transport)\n * @param {number} value the bigint to convert\n * @returns {Uint8Array}\n */ const intToUnpaddedBytes = (value)=>{\n    return unpadBytes(intToBytes(value));\n};\n/**\n * Compares two Uint8Arrays and returns a number indicating their order in a sorted array.\n *\n * @param {Uint8Array} value1 - The first Uint8Array to compare.\n * @param {Uint8Array} value2 - The second Uint8Array to compare.\n * @returns {number} A positive number if value1 is larger than value2,\n *                   A negative number if value1 is smaller than value2,\n *                   or 0 if value1 and value2 are equal.\n */ const compareBytes = (value1, value2)=>{\n    const bigIntValue1 = bytesToBigInt(value1);\n    const bigIntValue2 = bytesToBigInt(value2);\n    return bigIntValue1 > bigIntValue2 ? 1 : bigIntValue1 < bigIntValue2 ? -1 : 0;\n};\n/**\n * Generates a Uint8Array of random bytes of specified length.\n *\n * @param {number} length - The length of the Uint8Array.\n * @returns {Uint8Array} A Uint8Array of random bytes of specified length.\n */ const randomBytes = (length)=>{\n    return (0,ethereum_cryptography_random_js__WEBPACK_IMPORTED_MODULE_0__.getRandomBytesSync)(length);\n};\n/**\n * This mirrors the functionality of the `ethereum-cryptography` export except\n * it skips the check to validate that every element of `arrays` is indead a `uint8Array`\n * Can give small performance gains on large arrays\n * @param {Uint8Array[]} arrays an array of Uint8Arrays\n * @returns {Uint8Array} one Uint8Array with all the elements of the original set\n * works like `Buffer.concat`\n */ const concatBytes = (...arrays)=>{\n    if (arrays.length === 1) return arrays[0];\n    const length = arrays.reduce((a, arr)=>a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for(let i = 0, pad = 0; i < arrays.length; i++){\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n};\n/**\n * @notice Convert a Uint8Array to a 32-bit integer\n * @param {Uint8Array} bytes The input Uint8Array from which to read the 32-bit integer.\n * @param {boolean} littleEndian True for little-endian, undefined or false for big-endian.\n * @throws {Error} If the input Uint8Array has a length less than 4.\n * @return {number} The 32-bit integer read from the input Uint8Array.\n */ function bytesToInt32(bytes, littleEndian = false) {\n    if (bytes.length < 4) {\n        throw new Error(\"The input Uint8Array must have at least 4 bytes.\");\n    }\n    const dataView = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n    return dataView.getInt32(0, littleEndian);\n}\n/**\n * @notice Convert a Uint8Array to a 64-bit bigint\n * @param {Uint8Array} bytes The input Uint8Array from which to read the 64-bit bigint.\n * @param {boolean} littleEndian True for little-endian, undefined or false for big-endian.\n * @throws {Error} If the input Uint8Array has a length less than 8.\n * @return {bigint} The 64-bit bigint read from the input Uint8Array.\n */ function bytesToBigInt64(bytes, littleEndian = false) {\n    if (bytes.length < 8) {\n        throw new Error(\"The input Uint8Array must have at least 8 bytes.\");\n    }\n    const dataView = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n    return dataView.getBigInt64(0, littleEndian);\n}\n/**\n * @notice Convert a 32-bit integer to a Uint8Array.\n * @param {number} value The 32-bit integer to convert.\n * @param {boolean} littleEndian True for little-endian, undefined or false for big-endian.\n * @return {Uint8Array} A Uint8Array of length 4 containing the integer.\n */ function int32ToBytes(value, littleEndian = false) {\n    const buffer = new ArrayBuffer(4);\n    const dataView = new DataView(buffer);\n    dataView.setInt32(0, value, littleEndian);\n    return new Uint8Array(buffer);\n}\n/**\n * @notice Convert a 64-bit bigint to a Uint8Array.\n * @param {bigint} value The 64-bit bigint to convert.\n * @param {boolean} littleEndian True for little-endian, undefined or false for big-endian.\n * @return {Uint8Array} A Uint8Array of length 8 containing the bigint.\n */ function bigInt64ToBytes(value, littleEndian = false) {\n    const buffer = new ArrayBuffer(8);\n    const dataView = new DataView(buffer);\n    dataView.setBigInt64(0, value, littleEndian);\n    return new Uint8Array(buffer);\n}\n// eslint-disable-next-line no-restricted-imports\n //# sourceMappingURL=bytes.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2J5dGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFFO0FBQ3JFLGlEQUFpRDtBQUMwRTtBQUM1QztBQUNPO0FBQ3RGLE1BQU1ZLFdBQVdDLE9BQU87QUFDeEI7O0NBRUMsR0FDTSxNQUFNQyx1QkFBdUJaLHNFQUFxQkEsQ0FBQztBQUMxRDs7Q0FFQyxHQUNNLE1BQU1hLHVCQUF1QixDQUFDQztJQUNqQyxJQUFJQSxJQUFJQyxLQUFLLENBQUMsR0FBRyxPQUFPLE1BQU07UUFDMUIsTUFBTSxJQUFJQyxNQUFNO0lBQ3BCLE9BQ0s7UUFDRCxPQUFPZCwwRUFBcUJBLENBQUNNLHVEQUFTQSxDQUFDTTtJQUMzQztBQUNKLEVBQUU7QUFDRixnREFBZ0QsR0FDaEQsOEVBQThFO0FBQzlFLE1BQU1HLFlBQVlDLE1BQU1DLElBQUksQ0FBQztJQUFFQyxRQUFRO0FBQUksR0FBRyxDQUFDQyxHQUFHQyxJQUFNQSxFQUFFQyxRQUFRLENBQUMsSUFBSUMsUUFBUSxDQUFDLEdBQUc7QUFDNUUsTUFBTXpCLGFBQWEsQ0FBQzBCO0lBQ3ZCLElBQUlDLE1BQU07SUFDVixJQUFJRCxVQUFVRSxhQUFhRixNQUFNTCxNQUFNLEtBQUssR0FDeEMsT0FBT007SUFDWCxLQUFLLE1BQU1FLFFBQVFILE1BQU87UUFDdEJDLE9BQU9ULFNBQVMsQ0FBQ1csS0FBSztJQUMxQjtJQUNBLE9BQU9GO0FBQ1gsRUFBRTtBQUNGLDhEQUE4RDtBQUM5RCxNQUFNRyxlQUFlLEVBQUU7QUFDdkIsSUFBSyxJQUFJUCxJQUFJLEdBQUdBLEtBQUssTUFBTSxNQUFNLEdBQUdBLElBQUs7SUFDckNPLFlBQVksQ0FBQ1AsRUFBRSxHQUFHWCxPQUFPVztBQUM3QjtBQUNBOzs7O0NBSUMsR0FDTSxN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QU07SUFDcEI7SUFDQSxNQUFNOEUsV0FBVyxJQUFJQyxTQUFTdEUsTUFBTXVFLE1BQU0sRUFBRXZFLE1BQU13RSxVQUFVLEVBQUV4RSxNQUFNeUUsVUFBVTtJQUM5RSxPQUFPSixTQUFTTyxXQUFXLENBQUMsR0FBR1I7QUFDbkM7QUFDQTs7Ozs7Q0FLQyxHQUNNLFNBQVNTLGFBQWF6QixLQUFLLEVBQUVnQixlQUFlLEtBQUs7SUFDcEQsTUFBTUcsU0FBUyxJQUFJTyxZQUFZO0lBQy9CLE1BQU1ULFdBQVcsSUFBSUMsU0FBU0M7SUFDOUJGLFNBQVNVLFFBQVEsQ0FBQyxHQUFHM0IsT0FBT2dCO0lBQzVCLE9BQU8sSUFBSXZELFdBQVcwRDtBQUMxQjtBQUNBOzs7OztDQUtDLEdBQ00sU0FBU1MsZ0JBQWdCNUIsS0FBSyxFQUFFZ0IsZUFBZSxLQUFLO0lBQ3ZELE1BQU1HLFNBQVMsSUFBSU8sWUFBWTtJQUMvQixNQUFNVCxXQUFXLElBQUlDLFNBQVNDO0lBQzlCRixTQUFTWSxXQUFXLENBQUMsR0FBRzdCLE9BQU9nQjtJQUMvQixPQUFPLElBQUl2RCxXQUFXMEQ7QUFDMUI7QUFDQSxpREFBaUQ7QUFDc0MsQ0FDdkYsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3V0aWwvZGlzdC9lc20vYnl0ZXMuanM/YTg0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRSYW5kb21CeXRlc1N5bmMgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkvcmFuZG9tLmpzJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWltcG9ydHNcbmltcG9ydCB7IGJ5dGVzVG9IZXggYXMgX2J5dGVzVG9VbnByZWZpeGVkSGV4LCBoZXhUb0J5dGVzIGFzIF91bnByZWZpeGVkSGV4VG9CeXRlcywgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkvdXRpbHMuanMnO1xuaW1wb3J0IHsgYXNzZXJ0SXNBcnJheSwgYXNzZXJ0SXNCeXRlcywgYXNzZXJ0SXNIZXhTdHJpbmcgfSBmcm9tICcuL2hlbHBlcnMuanMnO1xuaW1wb3J0IHsgaXNIZXhQcmVmaXhlZCwgaXNIZXhTdHJpbmcsIHBhZFRvRXZlbiwgc3RyaXBIZXhQcmVmaXggfSBmcm9tICcuL2ludGVybmFsLmpzJztcbmNvbnN0IEJJR0lOVF8wID0gQmlnSW50KDApO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgY29uc3QgYnl0ZXNUb1VucHJlZml4ZWRIZXggPSBfYnl0ZXNUb1VucHJlZml4ZWRIZXg7XG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCB1bnByZWZpeGVkSGV4VG9CeXRlcyA9IChpbnApID0+IHtcbiAgICBpZiAoaW5wLnNsaWNlKDAsIDIpID09PSAnMHgnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBpcyBwcmVmaXhlZCB3aXRoIDB4LCBzaG91bGQgYmUgdW5wcmVmaXhlZCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF91bnByZWZpeGVkSGV4VG9CeXRlcyhwYWRUb0V2ZW4oaW5wKSk7XG4gICAgfVxufTtcbi8qKioqKioqKioqKioqKioqICBCb3Jyb3dlZCBmcm9tIEBjaGFpbnNhZmUvc3N6ICovXG4vLyBDYWNoaW5nIHRoaXMgaW5mbyBjb3N0cyBhYm91dCB+MTAwMCBieXRlcyBhbmQgc3BlZWRzIHVwIHRvSGV4U3RyaW5nKCkgYnkgeDZcbmNvbnN0IGhleEJ5Qnl0ZSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDI1NiB9LCAodiwgaSkgPT4gaS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSk7XG5leHBvcnQgY29uc3QgYnl0ZXNUb0hleCA9IChieXRlcykgPT4ge1xuICAgIGxldCBoZXggPSAnMHgnO1xuICAgIGlmIChieXRlcyA9PT0gdW5kZWZpbmVkIHx8IGJ5dGVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIGhleDtcbiAgICBmb3IgKGNvbnN0IGJ5dGUgb2YgYnl0ZXMpIHtcbiAgICAgICAgaGV4ICs9IGhleEJ5Qnl0ZVtieXRlXTtcbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbn07XG4vLyBCaWdJbnQgY2FjaGUgZm9yIHRoZSBudW1iZXJzIDAgLSAyNTYqMjU2LTEgKHR3by1ieXRlIGJ5dGVzKVxuY29uc3QgQklHSU5UX0NBQ0hFID0gW107XG5mb3IgKGxldCBpID0gMDsgaSA8PSAyNTYgKiAyNTYgLSAxOyBpKyspIHtcbiAgICBCSUdJTlRfQ0FDSEVbaV0gPSBCaWdJbnQoaSk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEge0BsaW5rIFVpbnQ4QXJyYXl9IHRvIGEge0BsaW5rIGJpZ2ludH1cbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnl0ZXMgdGhlIGJ5dGVzIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtiaWdpbnR9XG4gKi9cbmV4cG9ydCBjb25zdCBieXRlc1RvQmlnSW50ID0gKGJ5dGVzKSA9PiB7XG4gICAgY29uc3QgaGV4ID0gYnl0ZXNUb0hleChieXRlcyk7XG4gICAgaWYgKGhleCA9PT0gJzB4Jykge1xuICAgICAgICByZXR1cm4gQklHSU5UXzA7XG4gICAgfVxuICAgIGlmIChoZXgubGVuZ3RoID09PSA0KSB7XG4gICAgICAgIC8vIElmIHRoZSBieXRlIGxlbmd0aCBpcyAxICh0aGlzIGlzIGZhc3RlciB0aGFuIGNoZWNraW5nIGBieXRlcy5sZW5ndGggPT09IDFgKVxuICAgICAgICByZXR1cm4gQklHSU5UX0NBQ0hFW2J5dGVzWzBdXTtcbiAgICB9XG4gICAgaWYgKGhleC5sZW5ndGggPT09IDYpIHtcbiAgICAgICAgcmV0dXJuIEJJR0lOVF9DQUNIRVtieXRlc1swXSAqIDI1NiArIGJ5dGVzWzFdXTtcbiAgICB9XG4gICAgcmV0dXJuIEJpZ0ludChoZXgpO1xufTtcbi8qKlxuICogQ29udmVydHMgYSB7QGxpbmsgVWludDhBcnJheX0gdG8gYSB7QGxpbmsgbnVtYmVyfS5cbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnl0ZXMgdGhlIGJ5dGVzIHRvIGNvbnZlcnRcbiAqIEByZXR1cm4gIHtudW1iZXJ9XG4gKiBAdGhyb3dzIElmIHRoZSBpbnB1dCBudW1iZXIgZXhjZWVkcyA1MyBiaXRzLlxuICovXG5leHBvcnQgY29uc3QgYnl0ZXNUb0ludCA9IChieXRlcykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IE51bWJlcihieXRlc1RvQmlnSW50KGJ5dGVzKSk7XG4gICAgaWYgKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihyZXMpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ051bWJlciBleGNlZWRzIDUzIGJpdHMnKTtcbiAgICByZXR1cm4gcmVzO1xufTtcbmV4cG9ydCBjb25zdCBoZXhUb0J5dGVzID0gKGhleCkgPT4ge1xuICAgIGlmICh0eXBlb2YgaGV4ICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGhleCBhcmd1bWVudCB0eXBlICR7dHlwZW9mIGhleH0gbXVzdCBiZSBvZiB0eXBlIHN0cmluZ2ApO1xuICAgIH1cbiAgICBpZiAoIWhleC5zdGFydHNXaXRoKCcweCcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgcHJlZml4ZWQgaGV4IGlucHV0IHNob3VsZCBzdGFydCB3aXRoIDB4LCBnb3QgJHtoZXguc3Vic3RyaW5nKDAsIDIpfWApO1xuICAgIH1cbiAgICBoZXggPSBoZXguc2xpY2UoMik7XG4gICAgaWYgKGhleC5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgIGhleCA9IHBhZFRvRXZlbihoZXgpO1xuICAgIH1cbiAgICBjb25zdCBieXRlTGVuID0gaGV4Lmxlbmd0aCAvIDI7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShieXRlTGVuKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVMZW47IGkrKykge1xuICAgICAgICBjb25zdCBieXRlID0gcGFyc2VJbnQoaGV4LnNsaWNlKGkgKiAyLCAoaSArIDEpICogMiksIDE2KTtcbiAgICAgICAgYnl0ZXNbaV0gPSBieXRlO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59O1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKlxuICogQ29udmVydHMgYSB7QGxpbmsgbnVtYmVyfSBpbnRvIGEge0BsaW5rIFByZWZpeGVkSGV4U3RyaW5nfVxuICogQHBhcmFtIHtudW1iZXJ9IGlcbiAqIEByZXR1cm4ge1ByZWZpeGVkSGV4U3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgaW50VG9IZXggPSAoaSkgPT4ge1xuICAgIGlmICghTnVtYmVyLmlzU2FmZUludGVnZXIoaSkgfHwgaSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWNlaXZlZCBhbiBpbnZhbGlkIGludGVnZXIgdHlwZTogJHtpfWApO1xuICAgIH1cbiAgICByZXR1cm4gYDB4JHtpLnRvU3RyaW5nKDE2KX1gO1xufTtcbi8qKlxuICogQ29udmVydHMgYW4ge0BsaW5rIG51bWJlcn0gdG8gYSB7QGxpbmsgVWludDhBcnJheX1cbiAqIEBwYXJhbSB7TnVtYmVyfSBpXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3QgaW50VG9CeXRlcyA9IChpKSA9PiB7XG4gICAgY29uc3QgaGV4ID0gaW50VG9IZXgoaSk7XG4gICAgcmV0dXJuIGhleFRvQnl0ZXMoaGV4KTtcbn07XG4vKipcbiAqIENvbnZlcnRzIGEge0BsaW5rIGJpZ2ludH0gdG8gYSB7QGxpbmsgVWludDhBcnJheX1cbiAqICAqIEBwYXJhbSB7YmlnaW50fSBudW0gdGhlIGJpZ2ludCB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyB7VWludDhBcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IGJpZ0ludFRvQnl0ZXMgPSAobnVtKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHJldHVybiB0b0J5dGVzKCcweCcgKyBwYWRUb0V2ZW4obnVtLnRvU3RyaW5nKDE2KSkpO1xufTtcbi8qKlxuICogUmV0dXJucyBhIFVpbnQ4QXJyYXkgZmlsbGVkIHdpdGggMHMuXG4gKiBAcGFyYW0ge251bWJlcn0gYnl0ZXMgdGhlIG51bWJlciBvZiBieXRlcyBvZiB0aGUgVWludDhBcnJheVxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IHplcm9zID0gKGJ5dGVzKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ5dGVzKTtcbn07XG4vKipcbiAqIFBhZHMgYSBgVWludDhBcnJheWAgd2l0aCB6ZXJvcyB0aWxsIGl0IGhhcyBgbGVuZ3RoYCBieXRlcy5cbiAqIFRydW5jYXRlcyB0aGUgYmVnaW5uaW5nIG9yIGVuZCBvZiBpbnB1dCBpZiBpdHMgbGVuZ3RoIGV4Y2VlZHMgYGxlbmd0aGAuXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IG1zZyB0aGUgdmFsdWUgdG8gcGFkXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIHRoZSBudW1iZXIgb2YgYnl0ZXMgdGhlIG91dHB1dCBzaG91bGQgYmVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmlnaHQgd2hldGhlciB0byBzdGFydCBwYWRkaW5nIGZvcm0gdGhlIGxlZnQgb3IgcmlnaHRcbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9XG4gKi9cbmNvbnN0IHNldExlbmd0aCA9IChtc2csIGxlbmd0aCwgcmlnaHQpID0+IHtcbiAgICBpZiAocmlnaHQpIHtcbiAgICAgICAgaWYgKG1zZy5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbLi4ubXNnLCAuLi56ZXJvcyhsZW5ndGggLSBtc2cubGVuZ3RoKV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtc2cuc3ViYXJyYXkoMCwgbGVuZ3RoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChtc2cubGVuZ3RoIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWy4uLnplcm9zKGxlbmd0aCAtIG1zZy5sZW5ndGgpLCAuLi5tc2ddKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbXNnLnN1YmFycmF5KC1sZW5ndGgpO1xuICAgIH1cbn07XG4vKipcbiAqIExlZnQgUGFkcyBhIGBVaW50OEFycmF5YCB3aXRoIGxlYWRpbmcgemVyb3MgdGlsbCBpdCBoYXMgYGxlbmd0aGAgYnl0ZXMuXG4gKiBPciBpdCB0cnVuY2F0ZXMgdGhlIGJlZ2lubmluZyBpZiBpdCBleGNlZWRzLlxuICogQHBhcmFtIHtVaW50OEFycmF5fSBtc2cgdGhlIHZhbHVlIHRvIHBhZFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRoZSBvdXRwdXQgc2hvdWxkIGJlXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3Qgc2V0TGVuZ3RoTGVmdCA9IChtc2csIGxlbmd0aCkgPT4ge1xuICAgIGFzc2VydElzQnl0ZXMobXNnKTtcbiAgICByZXR1cm4gc2V0TGVuZ3RoKG1zZywgbGVuZ3RoLCBmYWxzZSk7XG59O1xuLyoqXG4gKiBSaWdodCBQYWRzIGEgYFVpbnQ4QXJyYXlgIHdpdGggdHJhaWxpbmcgemVyb3MgdGlsbCBpdCBoYXMgYGxlbmd0aGAgYnl0ZXMuXG4gKiBpdCB0cnVuY2F0ZXMgdGhlIGVuZCBpZiBpdCBleGNlZWRzLlxuICogQHBhcmFtIHtVaW50OEFycmF5fSBtc2cgdGhlIHZhbHVlIHRvIHBhZFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRoZSBvdXRwdXQgc2hvdWxkIGJlXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3Qgc2V0TGVuZ3RoUmlnaHQgPSAobXNnLCBsZW5ndGgpID0+IHtcbiAgICBhc3NlcnRJc0J5dGVzKG1zZyk7XG4gICAgcmV0dXJuIHNldExlbmd0aChtc2csIGxlbmd0aCwgdHJ1ZSk7XG59O1xuLyoqXG4gKiBUcmltcyBsZWFkaW5nIHplcm9zIGZyb20gYSBgVWludDhBcnJheWAsIGBudW1iZXJbXWAgb3IgUHJlZml4ZWRIZXhTdHJpbmdgLlxuICogQHBhcmFtIHtVaW50OEFycmF5fG51bWJlcltdfFByZWZpeGVkSGV4U3RyaW5nfSBhXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fG51bWJlcltdfFByZWZpeGVkSGV4U3RyaW5nfVxuICovXG5jb25zdCBzdHJpcFplcm9zID0gKGEpID0+IHtcbiAgICBsZXQgZmlyc3QgPSBhWzBdO1xuICAgIHdoaWxlIChhLmxlbmd0aCA+IDAgJiYgZmlyc3QudG9TdHJpbmcoKSA9PT0gJzAnKSB7XG4gICAgICAgIGEgPSBhLnNsaWNlKDEpO1xuICAgICAgICBmaXJzdCA9IGFbMF07XG4gICAgfVxuICAgIHJldHVybiBhO1xufTtcbi8qKlxuICogVHJpbXMgbGVhZGluZyB6ZXJvcyBmcm9tIGEgYFVpbnQ4QXJyYXlgLlxuICogQHBhcmFtIHtVaW50OEFycmF5fSBhXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3QgdW5wYWRCeXRlcyA9IChhKSA9PiB7XG4gICAgYXNzZXJ0SXNCeXRlcyhhKTtcbiAgICByZXR1cm4gc3RyaXBaZXJvcyhhKTtcbn07XG4vKipcbiAqIFRyaW1zIGxlYWRpbmcgemVyb3MgZnJvbSBhbiBgQXJyYXlgIChvZiBudW1iZXJzKS5cbiAqIEBwYXJhbSAge251bWJlcltdfSBhXG4gKiBAcmV0dXJuIHtudW1iZXJbXX1cbiAqL1xuZXhwb3J0IGNvbnN0IHVucGFkQXJyYXkgPSAoYSkgPT4ge1xuICAgIGFzc2VydElzQXJyYXkoYSk7XG4gICAgcmV0dXJuIHN0cmlwWmVyb3MoYSk7XG59O1xuLyoqXG4gKiBUcmltcyBsZWFkaW5nIHplcm9zIGZyb20gYSBgUHJlZml4ZWRIZXhTdHJpbmdgLlxuICogQHBhcmFtIHtQcmVmaXhlZEhleFN0cmluZ30gYVxuICogQHJldHVybiB7UHJlZml4ZWRIZXhTdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCB1bnBhZEhleCA9IChhKSA9PiB7XG4gICAgYXNzZXJ0SXNIZXhTdHJpbmcoYSk7XG4gICAgYSA9IHN0cmlwSGV4UHJlZml4KGEpO1xuICAgIHJldHVybiAnMHgnICsgc3RyaXBaZXJvcyhhKTtcbn07XG4vKipcbiAqIEF0dGVtcHRzIHRvIHR1cm4gYSB2YWx1ZSBpbnRvIGEgYFVpbnQ4QXJyYXlgLlxuICogSW5wdXRzIHN1cHBvcnRlZDogYEJ1ZmZlcmAsIGBVaW50OEFycmF5YCwgYFN0cmluZ2AgKGhleC1wcmVmaXhlZCksIGBOdW1iZXJgLCBudWxsL3VuZGVmaW5lZCwgYEJpZ0ludGAgYW5kIG90aGVyIG9iamVjdHNcbiAqIHdpdGggYSBgdG9BcnJheSgpYCBvciBgdG9CeXRlcygpYCBtZXRob2QuXG4gKiBAcGFyYW0ge1RvQnl0ZXNJbnB1dFR5cGVzfSB2IHRoZSB2YWx1ZVxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IHRvQnl0ZXMgPSAodikgPT4ge1xuICAgIGlmICh2ID09PSBudWxsIHx8IHYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodikgfHwgdiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbSh2KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoIWlzSGV4U3RyaW5nKHYpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb252ZXJ0IHN0cmluZyB0byBVaW50OEFycmF5LiB0b0J5dGVzIG9ubHkgc3VwcG9ydHMgMHgtcHJlZml4ZWQgaGV4IHN0cmluZ3MgYW5kIHRoaXMgc3RyaW5nIHdhcyBnaXZlbjogJHt2fWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZXhUb0J5dGVzKHYpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBpbnRUb0J5dGVzKHYpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHYgPT09ICdiaWdpbnQnKSB7XG4gICAgICAgIGlmICh2IDwgQklHSU5UXzApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvbnZlcnQgbmVnYXRpdmUgYmlnaW50IHRvIFVpbnQ4QXJyYXkuIEdpdmVuOiAke3Z9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG4gPSB2LnRvU3RyaW5nKDE2KTtcbiAgICAgICAgaWYgKG4ubGVuZ3RoICUgMilcbiAgICAgICAgICAgIG4gPSAnMCcgKyBuO1xuICAgICAgICByZXR1cm4gdW5wcmVmaXhlZEhleFRvQnl0ZXMobik7XG4gICAgfVxuICAgIGlmICh2LnRvQnl0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBjb252ZXJ0cyBhIGBUcmFuc2Zvcm1hYmxlVG9CeXRlc2Agb2JqZWN0IHRvIGEgVWludDhBcnJheVxuICAgICAgICByZXR1cm4gdi50b0J5dGVzKCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0eXBlJyk7XG59O1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgYFVpbnQ4QXJyYXlgIGFzIGEgc2lnbmVkIGludGVnZXIgYW5kIHJldHVybnMgYSBgQmlnSW50YC4gQXNzdW1lcyAyNTYtYml0IG51bWJlcnMuXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IG51bSBTaWduZWQgaW50ZWdlciB2YWx1ZVxuICogQHJldHVybnMge2JpZ2ludH1cbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21TaWduZWQgPSAobnVtKSA9PiB7XG4gICAgcmV0dXJuIEJpZ0ludC5hc0ludE4oMjU2LCBieXRlc1RvQmlnSW50KG51bSkpO1xufTtcbi8qKlxuICogQ29udmVydHMgYSBgQmlnSW50YCB0byBhbiB1bnNpZ25lZCBpbnRlZ2VyIGFuZCByZXR1cm5zIGl0IGFzIGEgYFVpbnQ4QXJyYXlgLiBBc3N1bWVzIDI1Ni1iaXQgbnVtYmVycy5cbiAqIEBwYXJhbSB7YmlnaW50fSBudW1cbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3QgdG9VbnNpZ25lZCA9IChudW0pID0+IHtcbiAgICByZXR1cm4gYmlnSW50VG9CeXRlcyhCaWdJbnQuYXNVaW50TigyNTYsIG51bSkpO1xufTtcbi8qKlxuICogQWRkcyBcIjB4XCIgdG8gYSBnaXZlbiBgc3RyaW5nYCBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IHN0YXJ0IHdpdGggXCIweFwiLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7UHJlZml4ZWRIZXhTdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBhZGRIZXhQcmVmaXggPSAoc3RyKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBpc0hleFByZWZpeGVkKHN0cikgPyBzdHIgOiAnMHgnICsgc3RyO1xufTtcbi8qKlxuICogU2hvcnRlbnMgYSBzdHJpbmcgIG9yIFVpbnQ4QXJyYXkncyBoZXggc3RyaW5nIHJlcHJlc2VudGF0aW9uIHRvIG1heExlbmd0aCAoZGVmYXVsdCA1MCkuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogSW5wdXQ6ICAnNjU3NDY4NjU3MjY1NzU2ZDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCdcbiAqIE91dHB1dDogJzY1NzQ2ODY1NzI2NTc1NmQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAw4oCmJ1xuICogQHBhcmFtIHtVaW50OEFycmF5IHwgc3RyaW5nfSBieXRlc1xuICogQHBhcmFtIHtudW1iZXJ9IG1heExlbmd0aFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3Qgc2hvcnQgPSAoYnl0ZXMsIG1heExlbmd0aCA9IDUwKSA9PiB7XG4gICAgY29uc3QgYnl0ZVN0ciA9IGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSA/IGJ5dGVzVG9IZXgoYnl0ZXMpIDogYnl0ZXM7XG4gICAgY29uc3QgbGVuID0gYnl0ZVN0ci5zbGljZSgwLCAyKSA9PT0gJzB4JyA/IG1heExlbmd0aCArIDIgOiBtYXhMZW5ndGg7XG4gICAgaWYgKGJ5dGVTdHIubGVuZ3RoIDw9IGxlbikge1xuICAgICAgICByZXR1cm4gYnl0ZVN0cjtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVTdHIuc2xpY2UoMCwgbGVuKSArICfigKYnO1xufTtcbi8qKlxuICogQ2hlY2tzIHByb3ZpZGVkIFVpbnQ4QXJyYXkgZm9yIGxlYWRpbmcgemVyb2VzIGFuZCB0aHJvd3MgaWYgZm91bmQuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogVmFsaWQgdmFsdWVzOiAweDEsIDB4LCAweDAxLCAweDEyMzRcbiAqIEludmFsaWQgdmFsdWVzOiAweDAsIDB4MDAsIDB4MDAxLCAweDAwMDFcbiAqXG4gKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyB1c2VmdWwgZm9yIHZhbGlkYXRpbmcgdGhhdCBSTFAgZW5jb2RlZCBpbnRlZ2VycyBjb21wbHkgd2l0aCB0aGUgcnVsZSB0aGF0IGFsbFxuICogaW50ZWdlciB2YWx1ZXMgZW5jb2RlZCB0byBSTFAgbXVzdCBiZSBpbiB0aGUgbW9zdCBjb21wYWN0IGZvcm0gYW5kIGNvbnRhaW4gbm8gbGVhZGluZyB6ZXJvIGJ5dGVzXG4gKiBAcGFyYW0gdmFsdWVzIEFuIG9iamVjdCBjb250YWluaW5nIHN0cmluZyBrZXlzIGFuZCBVaW50OEFycmF5IHZhbHVlc1xuICogQHRocm93cyBpZiBhbnkgcHJvdmlkZWQgdmFsdWUgaXMgZm91bmQgdG8gaGF2ZSBsZWFkaW5nIHplcm8gYnl0ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlTm9MZWFkaW5nWmVyb2VzID0gKHZhbHVlcykgPT4ge1xuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlcykpIHtcbiAgICAgICAgaWYgKHYgIT09IHVuZGVmaW5lZCAmJiB2Lmxlbmd0aCA+IDAgJiYgdlswXSA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2t9IGNhbm5vdCBoYXZlIGxlYWRpbmcgemVyb2VzLCByZWNlaXZlZDogJHtieXRlc1RvSGV4KHYpfWApO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8qKlxuICogQ29udmVydHMgYSB7QGxpbmsgYmlnaW50fSB0byBhIGAweGAgcHJlZml4ZWQgaGV4IHN0cmluZ1xuICogQHBhcmFtIHtiaWdpbnR9IG51bSB0aGUgYmlnaW50IHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtQcmVmaXhlZEhleFN0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IGJpZ0ludFRvSGV4ID0gKG51bSkgPT4ge1xuICAgIHJldHVybiAnMHgnICsgbnVtLnRvU3RyaW5nKDE2KTtcbn07XG4vKipcbiAqIENvbnZlcnQgdmFsdWUgZnJvbSBiaWdpbnQgdG8gYW4gdW5wYWRkZWQgVWludDhBcnJheVxuICogKHVzZWZ1bCBmb3IgUkxQIHRyYW5zcG9ydClcbiAqIEBwYXJhbSB7YmlnaW50fSB2YWx1ZSB0aGUgYmlnaW50IHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3QgYmlnSW50VG9VbnBhZGRlZEJ5dGVzID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIHVucGFkQnl0ZXMoYmlnSW50VG9CeXRlcyh2YWx1ZSkpO1xufTtcbi8qKlxuICogQ29udmVydCB2YWx1ZSBmcm9tIG51bWJlciB0byBhbiB1bnBhZGRlZCBVaW50OEFycmF5XG4gKiAodXNlZnVsIGZvciBSTFAgdHJhbnNwb3J0KVxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIHRoZSBiaWdpbnQgdG8gY29udmVydFxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9XG4gKi9cbmV4cG9ydCBjb25zdCBpbnRUb1VucGFkZGVkQnl0ZXMgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gdW5wYWRCeXRlcyhpbnRUb0J5dGVzKHZhbHVlKSk7XG59O1xuLyoqXG4gKiBDb21wYXJlcyB0d28gVWludDhBcnJheXMgYW5kIHJldHVybnMgYSBudW1iZXIgaW5kaWNhdGluZyB0aGVpciBvcmRlciBpbiBhIHNvcnRlZCBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHZhbHVlMSAtIFRoZSBmaXJzdCBVaW50OEFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHZhbHVlMiAtIFRoZSBzZWNvbmQgVWludDhBcnJheSB0byBjb21wYXJlLlxuICogQHJldHVybnMge251bWJlcn0gQSBwb3NpdGl2ZSBudW1iZXIgaWYgdmFsdWUxIGlzIGxhcmdlciB0aGFuIHZhbHVlMixcbiAqICAgICAgICAgICAgICAgICAgIEEgbmVnYXRpdmUgbnVtYmVyIGlmIHZhbHVlMSBpcyBzbWFsbGVyIHRoYW4gdmFsdWUyLFxuICogICAgICAgICAgICAgICAgICAgb3IgMCBpZiB2YWx1ZTEgYW5kIHZhbHVlMiBhcmUgZXF1YWwuXG4gKi9cbmV4cG9ydCBjb25zdCBjb21wYXJlQnl0ZXMgPSAodmFsdWUxLCB2YWx1ZTIpID0+IHtcbiAgICBjb25zdCBiaWdJbnRWYWx1ZTEgPSBieXRlc1RvQmlnSW50KHZhbHVlMSk7XG4gICAgY29uc3QgYmlnSW50VmFsdWUyID0gYnl0ZXNUb0JpZ0ludCh2YWx1ZTIpO1xuICAgIHJldHVybiBiaWdJbnRWYWx1ZTEgPiBiaWdJbnRWYWx1ZTIgPyAxIDogYmlnSW50VmFsdWUxIDwgYmlnSW50VmFsdWUyID8gLTEgOiAwO1xufTtcbi8qKlxuICogR2VuZXJhdGVzIGEgVWludDhBcnJheSBvZiByYW5kb20gYnl0ZXMgb2Ygc3BlY2lmaWVkIGxlbmd0aC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gVGhlIGxlbmd0aCBvZiB0aGUgVWludDhBcnJheS5cbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBBIFVpbnQ4QXJyYXkgb2YgcmFuZG9tIGJ5dGVzIG9mIHNwZWNpZmllZCBsZW5ndGguXG4gKi9cbmV4cG9ydCBjb25zdCByYW5kb21CeXRlcyA9IChsZW5ndGgpID0+IHtcbiAgICByZXR1cm4gZ2V0UmFuZG9tQnl0ZXNTeW5jKGxlbmd0aCk7XG59O1xuLyoqXG4gKiBUaGlzIG1pcnJvcnMgdGhlIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIGBldGhlcmV1bS1jcnlwdG9ncmFwaHlgIGV4cG9ydCBleGNlcHRcbiAqIGl0IHNraXBzIHRoZSBjaGVjayB0byB2YWxpZGF0ZSB0aGF0IGV2ZXJ5IGVsZW1lbnQgb2YgYGFycmF5c2AgaXMgaW5kZWFkIGEgYHVpbnQ4QXJyYXlgXG4gKiBDYW4gZ2l2ZSBzbWFsbCBwZXJmb3JtYW5jZSBnYWlucyBvbiBsYXJnZSBhcnJheXNcbiAqIEBwYXJhbSB7VWludDhBcnJheVtdfSBhcnJheXMgYW4gYXJyYXkgb2YgVWludDhBcnJheXNcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBvbmUgVWludDhBcnJheSB3aXRoIGFsbCB0aGUgZWxlbWVudHMgb2YgdGhlIG9yaWdpbmFsIHNldFxuICogd29ya3MgbGlrZSBgQnVmZmVyLmNvbmNhdGBcbiAqL1xuZXhwb3J0IGNvbnN0IGNvbmNhdEJ5dGVzID0gKC4uLmFycmF5cykgPT4ge1xuICAgIGlmIChhcnJheXMubGVuZ3RoID09PSAxKVxuICAgICAgICByZXR1cm4gYXJyYXlzWzBdO1xuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5cy5yZWR1Y2UoKGEsIGFycikgPT4gYSArIGFyci5sZW5ndGgsIDApO1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIHBhZCA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYXJyID0gYXJyYXlzW2ldO1xuICAgICAgICByZXN1bHQuc2V0KGFyciwgcGFkKTtcbiAgICAgICAgcGFkICs9IGFyci5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuLyoqXG4gKiBAbm90aWNlIENvbnZlcnQgYSBVaW50OEFycmF5IHRvIGEgMzItYml0IGludGVnZXJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnl0ZXMgVGhlIGlucHV0IFVpbnQ4QXJyYXkgZnJvbSB3aGljaCB0byByZWFkIHRoZSAzMi1iaXQgaW50ZWdlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbGl0dGxlRW5kaWFuIFRydWUgZm9yIGxpdHRsZS1lbmRpYW4sIHVuZGVmaW5lZCBvciBmYWxzZSBmb3IgYmlnLWVuZGlhbi5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgaW5wdXQgVWludDhBcnJheSBoYXMgYSBsZW5ndGggbGVzcyB0aGFuIDQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSAzMi1iaXQgaW50ZWdlciByZWFkIGZyb20gdGhlIGlucHV0IFVpbnQ4QXJyYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvSW50MzIoYnl0ZXMsIGxpdHRsZUVuZGlhbiA9IGZhbHNlKSB7XG4gICAgaWYgKGJ5dGVzLmxlbmd0aCA8IDQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgaW5wdXQgVWludDhBcnJheSBtdXN0IGhhdmUgYXQgbGVhc3QgNCBieXRlcy4nKTtcbiAgICB9XG4gICAgY29uc3QgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYnl0ZXMuYnVmZmVyLCBieXRlcy5ieXRlT2Zmc2V0LCBieXRlcy5ieXRlTGVuZ3RoKTtcbiAgICByZXR1cm4gZGF0YVZpZXcuZ2V0SW50MzIoMCwgbGl0dGxlRW5kaWFuKTtcbn1cbi8qKlxuICogQG5vdGljZSBDb252ZXJ0IGEgVWludDhBcnJheSB0byBhIDY0LWJpdCBiaWdpbnRcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnl0ZXMgVGhlIGlucHV0IFVpbnQ4QXJyYXkgZnJvbSB3aGljaCB0byByZWFkIHRoZSA2NC1iaXQgYmlnaW50LlxuICogQHBhcmFtIHtib29sZWFufSBsaXR0bGVFbmRpYW4gVHJ1ZSBmb3IgbGl0dGxlLWVuZGlhbiwgdW5kZWZpbmVkIG9yIGZhbHNlIGZvciBiaWctZW5kaWFuLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBpbnB1dCBVaW50OEFycmF5IGhhcyBhIGxlbmd0aCBsZXNzIHRoYW4gOC5cbiAqIEByZXR1cm4ge2JpZ2ludH0gVGhlIDY0LWJpdCBiaWdpbnQgcmVhZCBmcm9tIHRoZSBpbnB1dCBVaW50OEFycmF5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNUb0JpZ0ludDY0KGJ5dGVzLCBsaXR0bGVFbmRpYW4gPSBmYWxzZSkge1xuICAgIGlmIChieXRlcy5sZW5ndGggPCA4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGlucHV0IFVpbnQ4QXJyYXkgbXVzdCBoYXZlIGF0IGxlYXN0IDggYnl0ZXMuJyk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGJ5dGVzLmJ1ZmZlciwgYnl0ZXMuYnl0ZU9mZnNldCwgYnl0ZXMuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIGRhdGFWaWV3LmdldEJpZ0ludDY0KDAsIGxpdHRsZUVuZGlhbik7XG59XG4vKipcbiAqIEBub3RpY2UgQ29udmVydCBhIDMyLWJpdCBpbnRlZ2VyIHRvIGEgVWludDhBcnJheS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgMzItYml0IGludGVnZXIgdG8gY29udmVydC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbGl0dGxlRW5kaWFuIFRydWUgZm9yIGxpdHRsZS1lbmRpYW4sIHVuZGVmaW5lZCBvciBmYWxzZSBmb3IgYmlnLWVuZGlhbi5cbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IEEgVWludDhBcnJheSBvZiBsZW5ndGggNCBjb250YWluaW5nIHRoZSBpbnRlZ2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50MzJUb0J5dGVzKHZhbHVlLCBsaXR0bGVFbmRpYW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig0KTtcbiAgICBjb25zdCBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuICAgIGRhdGFWaWV3LnNldEludDMyKDAsIHZhbHVlLCBsaXR0bGVFbmRpYW4pO1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShidWZmZXIpO1xufVxuLyoqXG4gKiBAbm90aWNlIENvbnZlcnQgYSA2NC1iaXQgYmlnaW50IHRvIGEgVWludDhBcnJheS5cbiAqIEBwYXJhbSB7YmlnaW50fSB2YWx1ZSBUaGUgNjQtYml0IGJpZ2ludCB0byBjb252ZXJ0LlxuICogQHBhcmFtIHtib29sZWFufSBsaXR0bGVFbmRpYW4gVHJ1ZSBmb3IgbGl0dGxlLWVuZGlhbiwgdW5kZWZpbmVkIG9yIGZhbHNlIGZvciBiaWctZW5kaWFuLlxuICogQHJldHVybiB7VWludDhBcnJheX0gQSBVaW50OEFycmF5IG9mIGxlbmd0aCA4IGNvbnRhaW5pbmcgdGhlIGJpZ2ludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpZ0ludDY0VG9CeXRlcyh2YWx1ZSwgbGl0dGxlRW5kaWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoOCk7XG4gICAgY29uc3QgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcbiAgICBkYXRhVmlldy5zZXRCaWdJbnQ2NCgwLCB2YWx1ZSwgbGl0dGxlRW5kaWFuKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWltcG9ydHNcbmV4cG9ydCB7IGJ5dGVzVG9VdGY4LCBlcXVhbHNCeXRlcywgdXRmOFRvQnl0ZXMgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkvdXRpbHMuanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ynl0ZXMuanMubWFwIl0sIm5hbWVzIjpbImdldFJhbmRvbUJ5dGVzU3luYyIsImJ5dGVzVG9IZXgiLCJfYnl0ZXNUb1VucHJlZml4ZWRIZXgiLCJoZXhUb0J5dGVzIiwiX3VucHJlZml4ZWRIZXhUb0J5dGVzIiwiYXNzZXJ0SXNBcnJheSIsImFzc2VydElzQnl0ZXMiLCJhc3NlcnRJc0hleFN0cmluZyIsImlzSGV4UHJlZml4ZWQiLCJpc0hleFN0cmluZyIsInBhZFRvRXZlbiIsInN0cmlwSGV4UHJlZml4IiwiQklHSU5UXzAiLCJCaWdJbnQiLCJieXRlc1RvVW5wcmVmaXhlZEhleCIsInVucHJlZml4ZWRIZXhUb0J5dGVzIiwiaW5wIiwic2xpY2UiLCJFcnJvciIsImhleEJ5Qnl0ZSIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsInYiLCJpIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImJ5dGVzIiwiaGV4IiwidW5kZWZpbmVkIiwiYnl0ZSIsIkJJR0lOVF9DQUNIRSIsImJ5dGVzVG9CaWdJbnQiLCJieXRlc1RvSW50IiwicmVzIiwiTnVtYmVyIiwiaXNTYWZlSW50ZWdlciIsInN0YXJ0c1dpdGgiLCJzdWJzdHJpbmciLCJieXRlTGVuIiwiVWludDhBcnJheSIsInBhcnNlSW50IiwiaW50VG9IZXgiLCJpbnRUb0J5dGVzIiwiYmlnSW50VG9CeXRlcyIsIm51bSIsInRvQnl0ZXMiLCJ6ZXJvcyIsInNldExlbmd0aCIsIm1zZyIsInJpZ2h0Iiwic3ViYXJyYXkiLCJzZXRMZW5ndGhMZWZ0Iiwic2V0TGVuZ3RoUmlnaHQiLCJzdHJpcFplcm9zIiwiYSIsImZpcnN0IiwidW5wYWRCeXRlcyIsInVucGFkQXJyYXkiLCJ1bnBhZEhleCIsImlzQXJyYXkiLCJuIiwiZnJvbVNpZ25lZCIsImFzSW50TiIsInRvVW5zaWduZWQiLCJhc1VpbnROIiwiYWRkSGV4UHJlZml4Iiwic3RyIiwic2hvcnQiLCJtYXhMZW5ndGgiLCJieXRlU3RyIiwibGVuIiwidmFsaWRhdGVOb0xlYWRpbmdaZXJvZXMiLCJ2YWx1ZXMiLCJrIiwiT2JqZWN0IiwiZW50cmllcyIsImJpZ0ludFRvSGV4IiwiYmlnSW50VG9VbnBhZGRlZEJ5dGVzIiwidmFsdWUiLCJpbnRUb1VucGFkZGVkQnl0ZXMiLCJjb21wYXJlQnl0ZXMiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJiaWdJbnRWYWx1ZTEiLCJiaWdJbnRWYWx1ZTIiLCJyYW5kb21CeXRlcyIsImNvbmNhdEJ5dGVzIiwiYXJyYXlzIiwicmVkdWNlIiwiYXJyIiwicmVzdWx0IiwicGFkIiwic2V0IiwiYnl0ZXNUb0ludDMyIiwibGl0dGxlRW5kaWFuIiwiZGF0YVZpZXciLCJEYXRhVmlldyIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwiZ2V0SW50MzIiLCJieXRlc1RvQmlnSW50NjQiLCJnZXRCaWdJbnQ2NCIsImludDMyVG9CeXRlcyIsIkFycmF5QnVmZmVyIiwic2V0SW50MzIiLCJiaWdJbnQ2NFRvQnl0ZXMiLCJzZXRCaWdJbnQ2NCIsImJ5dGVzVG9VdGY4IiwiZXF1YWxzQnl0ZXMiLCJ1dGY4VG9CeXRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/constants.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/constants.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BIGINT_0: () => (/* binding */ BIGINT_0),\n/* harmony export */   BIGINT_1: () => (/* binding */ BIGINT_1),\n/* harmony export */   BIGINT_100: () => (/* binding */ BIGINT_100),\n/* harmony export */   BIGINT_128: () => (/* binding */ BIGINT_128),\n/* harmony export */   BIGINT_160: () => (/* binding */ BIGINT_160),\n/* harmony export */   BIGINT_2: () => (/* binding */ BIGINT_2),\n/* harmony export */   BIGINT_224: () => (/* binding */ BIGINT_224),\n/* harmony export */   BIGINT_255: () => (/* binding */ BIGINT_255),\n/* harmony export */   BIGINT_256: () => (/* binding */ BIGINT_256),\n/* harmony export */   BIGINT_27: () => (/* binding */ BIGINT_27),\n/* harmony export */   BIGINT_28: () => (/* binding */ BIGINT_28),\n/* harmony export */   BIGINT_2EXP160: () => (/* binding */ BIGINT_2EXP160),\n/* harmony export */   BIGINT_2EXP224: () => (/* binding */ BIGINT_2EXP224),\n/* harmony export */   BIGINT_2EXP256: () => (/* binding */ BIGINT_2EXP256),\n/* harmony export */   BIGINT_2EXP96: () => (/* binding */ BIGINT_2EXP96),\n/* harmony export */   BIGINT_3: () => (/* binding */ BIGINT_3),\n/* harmony export */   BIGINT_31: () => (/* binding */ BIGINT_31),\n/* harmony export */   BIGINT_32: () => (/* binding */ BIGINT_32),\n/* harmony export */   BIGINT_64: () => (/* binding */ BIGINT_64),\n/* harmony export */   BIGINT_7: () => (/* binding */ BIGINT_7),\n/* harmony export */   BIGINT_8: () => (/* binding */ BIGINT_8),\n/* harmony export */   BIGINT_96: () => (/* binding */ BIGINT_96),\n/* harmony export */   BIGINT_NEG1: () => (/* binding */ BIGINT_NEG1),\n/* harmony export */   KECCAK256_NULL: () => (/* binding */ KECCAK256_NULL),\n/* harmony export */   KECCAK256_NULL_S: () => (/* binding */ KECCAK256_NULL_S),\n/* harmony export */   KECCAK256_RLP: () => (/* binding */ KECCAK256_RLP),\n/* harmony export */   KECCAK256_RLP_ARRAY: () => (/* binding */ KECCAK256_RLP_ARRAY),\n/* harmony export */   KECCAK256_RLP_ARRAY_S: () => (/* binding */ KECCAK256_RLP_ARRAY_S),\n/* harmony export */   KECCAK256_RLP_S: () => (/* binding */ KECCAK256_RLP_S),\n/* harmony export */   MAX_INTEGER: () => (/* binding */ MAX_INTEGER),\n/* harmony export */   MAX_INTEGER_BIGINT: () => (/* binding */ MAX_INTEGER_BIGINT),\n/* harmony export */   MAX_UINT64: () => (/* binding */ MAX_UINT64),\n/* harmony export */   MAX_WITHDRAWALS_PER_PAYLOAD: () => (/* binding */ MAX_WITHDRAWALS_PER_PAYLOAD),\n/* harmony export */   RIPEMD160_ADDRESS_STRING: () => (/* binding */ RIPEMD160_ADDRESS_STRING),\n/* harmony export */   RLP_EMPTY_STRING: () => (/* binding */ RLP_EMPTY_STRING),\n/* harmony export */   SECP256K1_ORDER: () => (/* binding */ SECP256K1_ORDER),\n/* harmony export */   SECP256K1_ORDER_DIV_2: () => (/* binding */ SECP256K1_ORDER_DIV_2),\n/* harmony export */   TWO_POW256: () => (/* binding */ TWO_POW256)\n/* harmony export */ });\n/* harmony import */ var ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethereum-cryptography/secp256k1.js */ \"(ssr)/./node_modules/ethereum-cryptography/esm/secp256k1.js\");\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n\n\n/**\n * 2^64-1\n */ const MAX_UINT64 = BigInt(\"0xffffffffffffffff\");\n/**\n * The max integer that the evm can handle (2^256-1)\n */ const MAX_INTEGER = BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");\n/**\n * The max integer that the evm can handle (2^256-1) as a bigint\n * 2^256-1 equals to 340282366920938463463374607431768211455\n * We use literal value instead of calculated value for compatibility issue.\n */ const MAX_INTEGER_BIGINT = BigInt(\"115792089237316195423570985008687907853269984665640564039457584007913129639935\");\nconst SECP256K1_ORDER = ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_0__.secp256k1.CURVE.n;\nconst SECP256K1_ORDER_DIV_2 = ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_0__.secp256k1.CURVE.n / BigInt(2);\n/**\n * 2^256\n */ const TWO_POW256 = BigInt(\"0x10000000000000000000000000000000000000000000000000000000000000000\");\n/**\n * Keccak-256 hash of null\n */ const KECCAK256_NULL_S = \"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470\";\n/**\n * Keccak-256 hash of null\n */ const KECCAK256_NULL = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.hexToBytes)(KECCAK256_NULL_S);\n/**\n * Keccak-256 of an RLP of an empty array\n */ const KECCAK256_RLP_ARRAY_S = \"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\";\n/**\n * Keccak-256 of an RLP of an empty array\n */ const KECCAK256_RLP_ARRAY = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.hexToBytes)(KECCAK256_RLP_ARRAY_S);\n/**\n * Keccak-256 hash of the RLP of null\n */ const KECCAK256_RLP_S = \"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\";\n/**\n * Keccak-256 hash of the RLP of null\n */ const KECCAK256_RLP = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.hexToBytes)(KECCAK256_RLP_S);\n/**\n *  RLP encoded empty string\n */ const RLP_EMPTY_STRING = Uint8Array.from([\n    0x80\n]);\nconst MAX_WITHDRAWALS_PER_PAYLOAD = 16;\nconst RIPEMD160_ADDRESS_STRING = \"0000000000000000000000000000000000000003\";\n/**\n * BigInt constants\n */ const BIGINT_NEG1 = BigInt(-1);\nconst BIGINT_0 = BigInt(0);\nconst BIGINT_1 = BigInt(1);\nconst BIGINT_2 = BigInt(2);\nconst BIGINT_3 = BigInt(3);\nconst BIGINT_7 = BigInt(7);\nconst BIGINT_8 = BigInt(8);\nconst BIGINT_27 = BigInt(27);\nconst BIGINT_28 = BigInt(28);\nconst BIGINT_31 = BigInt(31);\nconst BIGINT_32 = BigInt(32);\nconst BIGINT_64 = BigInt(64);\nconst BIGINT_128 = BigInt(128);\nconst BIGINT_255 = BigInt(255);\nconst BIGINT_256 = BigInt(256);\nconst BIGINT_96 = BigInt(96);\nconst BIGINT_100 = BigInt(100);\nconst BIGINT_160 = BigInt(160);\nconst BIGINT_224 = BigInt(224);\nconst BIGINT_2EXP96 = BigInt(79228162514264337593543950336);\nconst BIGINT_2EXP160 = BigInt(1461501637330902918203684832716283019655932542976);\nconst BIGINT_2EXP224 = BigInt(26959946667150639794667015087019630673637144422540572481103610249216);\nconst BIGINT_2EXP256 = BIGINT_2 ** BIGINT_256; //# sourceMappingURL=constants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStEO0FBQ3ZCO0FBQ3hDOztDQUVDLEdBQ00sTUFBTUUsYUFBYUMsT0FBTyxzQkFBc0I7QUFDdkQ7O0NBRUMsR0FDTSxNQUFNQyxjQUFjRCxPQUFPLHNFQUFzRTtBQUN4Rzs7OztDQUlDLEdBQ00sTUFBTUUscUJBQXFCRixPQUFPLGtGQUFrRjtBQUNwSCxNQUFNRyxrQkFBa0JOLHlFQUFTQSxDQUFDTyxLQUFLLENBQUNDLENBQUMsQ0FBQztBQUMxQyxNQUFNQyx3QkFBd0JULHlFQUFTQSxDQUFDTyxLQUFLLENBQUNDLENBQUMsR0FBR0wsT0FBTyxHQUFHO0FBQ25FOztDQUVDLEdBQ00sTUFBTU8sYUFBYVAsT0FBTyx1RUFBdUU7QUFDeEc7O0NBRUMsR0FDTSxNQUFNUSxtQkFBbUIscUVBQXFFO0FBQ3JHOztDQUVDLEdBQ00sTUFBTUMsaUJBQWlCWCxxREFBVUEsQ0FBQ1Usa0JBQWtCO0FBQzNEOztDQUVDLEdBQ00sTUFBTUUsd0JBQXdCLHFFQUFxRTtBQUMxRzs7Q0FFQyxHQUNNLE1BQU1DLHNCQUFzQmIscURBQVVBLENBQUNZLHVCQUF1QjtBQUNyRTs7Q0FFQyxHQUNNLE1BQU1FLGtCQUFrQixxRUFBcUU7QUFDcEc7O0NBRUMsR0FDTSxNQUFNQyxnQkFBZ0JmLHFEQUFVQSxDQUFDYyxpQkFBaUI7QUFDekQ7O0NBRUMsR0FDTSxNQUFNRSxtQkFBbUJDLFdBQVdDLElBQUksQ0FBQztJQUFDO0NBQUssRUFBRTtBQUNqRCxNQUFNQyw4QkFBOEIsR0FBRztBQUN2QyxNQUFNQywyQkFBMkIsMkNBQTJDO0FBQ25GOztDQUVDLEdBQ00sTUFBTUMsY0FBY25CLE9BQU8sQ0FBQyxHQUFHO0FBQy9CLE1BQU1vQixXQUFXcEIsT0FBTyxHQUFHO0FBQzNCLE1BQU1xQixXQUFXckIsT0FBTyxHQUFHO0FBQzNCLE1BQU1zQixXQUFXdEIsT0FBTyxHQUFHO0FBQzNCLE1BQU11QixXQUFXdkIsT0FBTyxHQUFHO0FBQzNCLE1BQU13QixXQUFXeEIsT0FBTyxHQUFHO0FBQzNCLE1BQU15QixXQUFXekIsT0FBTyxHQUFHO0FBQzNCLE1BQU0wQixZQUFZMUIsT0FBTyxJQUFJO0FBQzdCLE1BQU0yQixZQUFZM0IsT0FBTyxJQUFJO0FBQzdCLE1BQU00QixZQUFZNUIsT0FBTyxJQUFJO0FBQzdCLE1BQU02QixZQUFZN0IsT0FBTyxJQUFJO0FBQzdCLE1BQU04QixZQUFZOUIsT0FBTyxJQUFJO0FBQzdCLE1BQU0rQixhQUFhL0IsT0FBTyxLQUFLO0FBQy9CLE1BQU1nQyxhQUFhaEMsT0FBTyxLQUFLO0FBQy9CLE1BQU1pQyxhQUFhakMsT0FBTyxLQUFLO0FBQy9CLE1BQU1rQyxZQUFZbEMsT0FBTyxJQUFJO0FBQzdCLE1BQU1tQyxhQUFhbkMsT0FBTyxLQUFLO0FBQy9CLE1BQU1vQyxhQUFhcEMsT0FBTyxLQUFLO0FBQy9CLE1BQU1xQyxhQUFhckMsT0FBTyxLQUFLO0FBQy9CLE1BQU1zQyxnQkFBZ0J0QyxPQUFPLCtCQUErQjtBQUM1RCxNQUFNdUMsaUJBQWlCdkMsT0FBTyxtREFBbUQ7QUFDakYsTUFBTXdDLGlCQUFpQnhDLE9BQU8sc0VBQXNFO0FBQ3BHLE1BQU15QyxpQkFBaUJuQixZQUFZVyxXQUFXLENBQ3JELHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvY2tldGgvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2NvbnN0YW50cy5qcz84MDJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNlY3AyNTZrMSB9IGZyb20gJ2V0aGVyZXVtLWNyeXB0b2dyYXBoeS9zZWNwMjU2azEuanMnO1xuaW1wb3J0IHsgaGV4VG9CeXRlcyB9IGZyb20gJy4vYnl0ZXMuanMnO1xuLyoqXG4gKiAyXjY0LTFcbiAqL1xuZXhwb3J0IGNvbnN0IE1BWF9VSU5UNjQgPSBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZicpO1xuLyoqXG4gKiBUaGUgbWF4IGludGVnZXIgdGhhdCB0aGUgZXZtIGNhbiBoYW5kbGUgKDJeMjU2LTEpXG4gKi9cbmV4cG9ydCBjb25zdCBNQVhfSU5URUdFUiA9IEJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmJyk7XG4vKipcbiAqIFRoZSBtYXggaW50ZWdlciB0aGF0IHRoZSBldm0gY2FuIGhhbmRsZSAoMl4yNTYtMSkgYXMgYSBiaWdpbnRcbiAqIDJeMjU2LTEgZXF1YWxzIHRvIDM0MDI4MjM2NjkyMDkzODQ2MzQ2MzM3NDYwNzQzMTc2ODIxMTQ1NVxuICogV2UgdXNlIGxpdGVyYWwgdmFsdWUgaW5zdGVhZCBvZiBjYWxjdWxhdGVkIHZhbHVlIGZvciBjb21wYXRpYmlsaXR5IGlzc3VlLlxuICovXG5leHBvcnQgY29uc3QgTUFYX0lOVEVHRVJfQklHSU5UID0gQmlnSW50KCcxMTU3OTIwODkyMzczMTYxOTU0MjM1NzA5ODUwMDg2ODc5MDc4NTMyNjk5ODQ2NjU2NDA1NjQwMzk0NTc1ODQwMDc5MTMxMjk2Mzk5MzUnKTtcbmV4cG9ydCBjb25zdCBTRUNQMjU2SzFfT1JERVIgPSBzZWNwMjU2azEuQ1VSVkUubjtcbmV4cG9ydCBjb25zdCBTRUNQMjU2SzFfT1JERVJfRElWXzIgPSBzZWNwMjU2azEuQ1VSVkUubiAvIEJpZ0ludCgyKTtcbi8qKlxuICogMl4yNTZcbiAqL1xuZXhwb3J0IGNvbnN0IFRXT19QT1cyNTYgPSBCaWdJbnQoJzB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKTtcbi8qKlxuICogS2VjY2FrLTI1NiBoYXNoIG9mIG51bGxcbiAqL1xuZXhwb3J0IGNvbnN0IEtFQ0NBSzI1Nl9OVUxMX1MgPSAnMHhjNWQyNDYwMTg2ZjcyMzNjOTI3ZTdkYjJkY2M3MDNjMGU1MDBiNjUzY2E4MjI3M2I3YmZhZDgwNDVkODVhNDcwJztcbi8qKlxuICogS2VjY2FrLTI1NiBoYXNoIG9mIG51bGxcbiAqL1xuZXhwb3J0IGNvbnN0IEtFQ0NBSzI1Nl9OVUxMID0gaGV4VG9CeXRlcyhLRUNDQUsyNTZfTlVMTF9TKTtcbi8qKlxuICogS2VjY2FrLTI1NiBvZiBhbiBSTFAgb2YgYW4gZW1wdHkgYXJyYXlcbiAqL1xuZXhwb3J0IGNvbnN0IEtFQ0NBSzI1Nl9STFBfQVJSQVlfUyA9ICcweDFkY2M0ZGU4ZGVjNzVkN2FhYjg1YjU2N2I2Y2NkNDFhZDMxMjQ1MWI5NDhhNzQxM2YwYTE0MmZkNDBkNDkzNDcnO1xuLyoqXG4gKiBLZWNjYWstMjU2IG9mIGFuIFJMUCBvZiBhbiBlbXB0eSBhcnJheVxuICovXG5leHBvcnQgY29uc3QgS0VDQ0FLMjU2X1JMUF9BUlJBWSA9IGhleFRvQnl0ZXMoS0VDQ0FLMjU2X1JMUF9BUlJBWV9TKTtcbi8qKlxuICogS2VjY2FrLTI1NiBoYXNoIG9mIHRoZSBSTFAgb2YgbnVsbFxuICovXG5leHBvcnQgY29uc3QgS0VDQ0FLMjU2X1JMUF9TID0gJzB4NTZlODFmMTcxYmNjNTVhNmZmODM0NWU2OTJjMGY4NmU1YjQ4ZTAxYjk5NmNhZGMwMDE2MjJmYjVlMzYzYjQyMSc7XG4vKipcbiAqIEtlY2Nhay0yNTYgaGFzaCBvZiB0aGUgUkxQIG9mIG51bGxcbiAqL1xuZXhwb3J0IGNvbnN0IEtFQ0NBSzI1Nl9STFAgPSBoZXhUb0J5dGVzKEtFQ0NBSzI1Nl9STFBfUyk7XG4vKipcbiAqICBSTFAgZW5jb2RlZCBlbXB0eSBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IFJMUF9FTVBUWV9TVFJJTkcgPSBVaW50OEFycmF5LmZyb20oWzB4ODBdKTtcbmV4cG9ydCBjb25zdCBNQVhfV0lUSERSQVdBTFNfUEVSX1BBWUxPQUQgPSAxNjtcbmV4cG9ydCBjb25zdCBSSVBFTUQxNjBfQUREUkVTU19TVFJJTkcgPSAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMyc7XG4vKipcbiAqIEJpZ0ludCBjb25zdGFudHNcbiAqL1xuZXhwb3J0IGNvbnN0IEJJR0lOVF9ORUcxID0gQmlnSW50KC0xKTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMCA9IEJpZ0ludCgwKTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMSA9IEJpZ0ludCgxKTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMiA9IEJpZ0ludCgyKTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMyA9IEJpZ0ludCgzKTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfNyA9IEJpZ0ludCg3KTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfOCA9IEJpZ0ludCg4KTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMjcgPSBCaWdJbnQoMjcpO1xuZXhwb3J0IGNvbnN0IEJJR0lOVF8yOCA9IEJpZ0ludCgyOCk7XG5leHBvcnQgY29uc3QgQklHSU5UXzMxID0gQmlnSW50KDMxKTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMzIgPSBCaWdJbnQoMzIpO1xuZXhwb3J0IGNvbnN0IEJJR0lOVF82NCA9IEJpZ0ludCg2NCk7XG5leHBvcnQgY29uc3QgQklHSU5UXzEyOCA9IEJpZ0ludCgxMjgpO1xuZXhwb3J0IGNvbnN0IEJJR0lOVF8yNTUgPSBCaWdJbnQoMjU1KTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMjU2ID0gQmlnSW50KDI1Nik7XG5leHBvcnQgY29uc3QgQklHSU5UXzk2ID0gQmlnSW50KDk2KTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMTAwID0gQmlnSW50KDEwMCk7XG5leHBvcnQgY29uc3QgQklHSU5UXzE2MCA9IEJpZ0ludCgxNjApO1xuZXhwb3J0IGNvbnN0IEJJR0lOVF8yMjQgPSBCaWdJbnQoMjI0KTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMkVYUDk2ID0gQmlnSW50KDc5MjI4MTYyNTE0MjY0MzM3NTkzNTQzOTUwMzM2KTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMkVYUDE2MCA9IEJpZ0ludCgxNDYxNTAxNjM3MzMwOTAyOTE4MjAzNjg0ODMyNzE2MjgzMDE5NjU1OTMyNTQyOTc2KTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfMkVYUDIyNCA9IEJpZ0ludCgyNjk1OTk0NjY2NzE1MDYzOTc5NDY2NzAxNTA4NzAxOTYzMDY3MzYzNzE0NDQyMjU0MDU3MjQ4MTEwMzYxMDI0OTIxNik7XG5leHBvcnQgY29uc3QgQklHSU5UXzJFWFAyNTYgPSBCSUdJTlRfMiAqKiBCSUdJTlRfMjU2O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6WyJzZWNwMjU2azEiLCJoZXhUb0J5dGVzIiwiTUFYX1VJTlQ2NCIsIkJpZ0ludCIsIk1BWF9JTlRFR0VSIiwiTUFYX0lOVEVHRVJfQklHSU5UIiwiU0VDUDI1NksxX09SREVSIiwiQ1VSVkUiLCJuIiwiU0VDUDI1NksxX09SREVSX0RJVl8yIiwiVFdPX1BPVzI1NiIsIktFQ0NBSzI1Nl9OVUxMX1MiLCJLRUNDQUsyNTZfTlVMTCIsIktFQ0NBSzI1Nl9STFBfQVJSQVlfUyIsIktFQ0NBSzI1Nl9STFBfQVJSQVkiLCJLRUNDQUsyNTZfUkxQX1MiLCJLRUNDQUsyNTZfUkxQIiwiUkxQX0VNUFRZX1NUUklORyIsIlVpbnQ4QXJyYXkiLCJmcm9tIiwiTUFYX1dJVEhEUkFXQUxTX1BFUl9QQVlMT0FEIiwiUklQRU1EMTYwX0FERFJFU1NfU1RSSU5HIiwiQklHSU5UX05FRzEiLCJCSUdJTlRfMCIsIkJJR0lOVF8xIiwiQklHSU5UXzIiLCJCSUdJTlRfMyIsIkJJR0lOVF83IiwiQklHSU5UXzgiLCJCSUdJTlRfMjciLCJCSUdJTlRfMjgiLCJCSUdJTlRfMzEiLCJCSUdJTlRfMzIiLCJCSUdJTlRfNjQiLCJCSUdJTlRfMTI4IiwiQklHSU5UXzI1NSIsIkJJR0lOVF8yNTYiLCJCSUdJTlRfOTYiLCJCSUdJTlRfMTAwIiwiQklHSU5UXzE2MCIsIkJJR0lOVF8yMjQiLCJCSUdJTlRfMkVYUDk2IiwiQklHSU5UXzJFWFAxNjAiLCJCSUdJTlRfMkVYUDIyNCIsIkJJR0lOVF8yRVhQMjU2Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/db.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/db.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyEncoding: () => (/* binding */ KeyEncoding),\n/* harmony export */   ValueEncoding: () => (/* binding */ ValueEncoding)\n/* harmony export */ });\nvar KeyEncoding;\n(function(KeyEncoding) {\n    KeyEncoding[\"String\"] = \"string\";\n    KeyEncoding[\"Bytes\"] = \"view\";\n    KeyEncoding[\"Number\"] = \"number\";\n})(KeyEncoding || (KeyEncoding = {}));\nvar ValueEncoding;\n(function(ValueEncoding) {\n    ValueEncoding[\"String\"] = \"string\";\n    ValueEncoding[\"Bytes\"] = \"view\";\n    ValueEncoding[\"JSON\"] = \"json\";\n})(ValueEncoding || (ValueEncoding = {})); //# sourceMappingURL=db.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2RiLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sSUFBSUEsWUFBWTtBQUN0QixVQUFVQSxXQUFXO0lBQ2xCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0lBQ3hCQSxXQUFXLENBQUMsUUFBUSxHQUFHO0lBQ3ZCQSxXQUFXLENBQUMsU0FBUyxHQUFHO0FBQzVCLEdBQUdBLGVBQWdCQSxDQUFBQSxjQUFjLENBQUM7QUFDM0IsSUFBSUMsY0FBYztBQUN4QixVQUFVQSxhQUFhO0lBQ3BCQSxhQUFhLENBQUMsU0FBUyxHQUFHO0lBQzFCQSxhQUFhLENBQUMsUUFBUSxHQUFHO0lBQ3pCQSxhQUFhLENBQUMsT0FBTyxHQUFHO0FBQzVCLEdBQUdBLGlCQUFrQkEsQ0FBQUEsZ0JBQWdCLENBQUMsS0FDdEMsOEJBQThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3V0aWwvZGlzdC9lc20vZGIuanM/YzczZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIEtleUVuY29kaW5nO1xuKGZ1bmN0aW9uIChLZXlFbmNvZGluZykge1xuICAgIEtleUVuY29kaW5nW1wiU3RyaW5nXCJdID0gXCJzdHJpbmdcIjtcbiAgICBLZXlFbmNvZGluZ1tcIkJ5dGVzXCJdID0gXCJ2aWV3XCI7XG4gICAgS2V5RW5jb2RpbmdbXCJOdW1iZXJcIl0gPSBcIm51bWJlclwiO1xufSkoS2V5RW5jb2RpbmcgfHwgKEtleUVuY29kaW5nID0ge30pKTtcbmV4cG9ydCB2YXIgVmFsdWVFbmNvZGluZztcbihmdW5jdGlvbiAoVmFsdWVFbmNvZGluZykge1xuICAgIFZhbHVlRW5jb2RpbmdbXCJTdHJpbmdcIl0gPSBcInN0cmluZ1wiO1xuICAgIFZhbHVlRW5jb2RpbmdbXCJCeXRlc1wiXSA9IFwidmlld1wiO1xuICAgIFZhbHVlRW5jb2RpbmdbXCJKU09OXCJdID0gXCJqc29uXCI7XG59KShWYWx1ZUVuY29kaW5nIHx8IChWYWx1ZUVuY29kaW5nID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRiLmpzLm1hcCJdLCJuYW1lcyI6WyJLZXlFbmNvZGluZyIsIlZhbHVlRW5jb2RpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/db.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/genesis.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/genesis.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseGethGenesisState: () => (/* binding */ parseGethGenesisState)\n/* harmony export */ });\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n/* harmony import */ var _internal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js\");\n\n\n/**\n * Parses the geth genesis state into Blockchain {@link GenesisState}\n * @param json representing the `alloc` key in a Geth genesis file\n */ function parseGethGenesisState(json) {\n    const state = {};\n    for (let address of Object.keys(json.alloc)){\n        let { balance, code, storage, nonce } = json.alloc[address];\n        // create a map with lowercase for easy lookups\n        address = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.addHexPrefix)(address.toLowerCase());\n        balance = (0,_internal_js__WEBPACK_IMPORTED_MODULE_1__.isHexPrefixed)(balance) ? balance : (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.bigIntToHex)(BigInt(balance));\n        code = code !== undefined ? (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.addHexPrefix)(code) : undefined;\n        storage = storage !== undefined ? Object.entries(storage) : undefined;\n        nonce = nonce !== undefined ? (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.addHexPrefix)(nonce) : undefined;\n        state[address] = [\n            balance,\n            code,\n            storage,\n            nonce\n        ];\n    }\n    return state;\n} //# sourceMappingURL=genesis.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2dlbmVzaXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVEO0FBQ1Q7QUFDOUM7OztDQUdDLEdBQ00sU0FBU0csc0JBQXNCQyxJQUFJO0lBQ3RDLE1BQU1DLFFBQVEsQ0FBQztJQUNmLEtBQUssSUFBSUMsV0FBV0MsT0FBT0MsSUFBSSxDQUFDSixLQUFLSyxLQUFLLEVBQUc7UUFDekMsSUFBSSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFQyxLQUFLLEVBQUUsR0FBR1QsS0FBS0ssS0FBSyxDQUFDSCxRQUFRO1FBQzNELCtDQUErQztRQUMvQ0EsVUFBVU4sdURBQVlBLENBQUNNLFFBQVFRLFdBQVc7UUFDMUNKLFVBQVVSLDJEQUFhQSxDQUFDUSxXQUFXQSxVQUFVVCxzREFBV0EsQ0FBQ2MsT0FBT0w7UUFDaEVDLE9BQU9BLFNBQVNLLFlBQVloQix1REFBWUEsQ0FBQ1csUUFBUUs7UUFDakRKLFVBQVVBLFlBQVlJLFlBQVlULE9BQU9VLE9BQU8sQ0FBQ0wsV0FBV0k7UUFDNURILFFBQVFBLFVBQVVHLFlBQVloQix1REFBWUEsQ0FBQ2EsU0FBU0c7UUFDcERYLEtBQUssQ0FBQ0MsUUFBUSxHQUFHO1lBQUNJO1lBQVNDO1lBQU1DO1lBQVNDO1NBQU07SUFDcEQ7SUFDQSxPQUFPUjtBQUNYLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3V0aWwvZGlzdC9lc20vZ2VuZXNpcy5qcz84NTZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZEhleFByZWZpeCwgYmlnSW50VG9IZXggfSBmcm9tICcuL2J5dGVzLmpzJztcbmltcG9ydCB7IGlzSGV4UHJlZml4ZWQgfSBmcm9tICcuL2ludGVybmFsLmpzJztcbi8qKlxuICogUGFyc2VzIHRoZSBnZXRoIGdlbmVzaXMgc3RhdGUgaW50byBCbG9ja2NoYWluIHtAbGluayBHZW5lc2lzU3RhdGV9XG4gKiBAcGFyYW0ganNvbiByZXByZXNlbnRpbmcgdGhlIGBhbGxvY2Aga2V5IGluIGEgR2V0aCBnZW5lc2lzIGZpbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlR2V0aEdlbmVzaXNTdGF0ZShqc29uKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB7fTtcbiAgICBmb3IgKGxldCBhZGRyZXNzIG9mIE9iamVjdC5rZXlzKGpzb24uYWxsb2MpKSB7XG4gICAgICAgIGxldCB7IGJhbGFuY2UsIGNvZGUsIHN0b3JhZ2UsIG5vbmNlIH0gPSBqc29uLmFsbG9jW2FkZHJlc3NdO1xuICAgICAgICAvLyBjcmVhdGUgYSBtYXAgd2l0aCBsb3dlcmNhc2UgZm9yIGVhc3kgbG9va3Vwc1xuICAgICAgICBhZGRyZXNzID0gYWRkSGV4UHJlZml4KGFkZHJlc3MudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGJhbGFuY2UgPSBpc0hleFByZWZpeGVkKGJhbGFuY2UpID8gYmFsYW5jZSA6IGJpZ0ludFRvSGV4KEJpZ0ludChiYWxhbmNlKSk7XG4gICAgICAgIGNvZGUgPSBjb2RlICE9PSB1bmRlZmluZWQgPyBhZGRIZXhQcmVmaXgoY29kZSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHN0b3JhZ2UgPSBzdG9yYWdlICE9PSB1bmRlZmluZWQgPyBPYmplY3QuZW50cmllcyhzdG9yYWdlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgbm9uY2UgPSBub25jZSAhPT0gdW5kZWZpbmVkID8gYWRkSGV4UHJlZml4KG5vbmNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGVbYWRkcmVzc10gPSBbYmFsYW5jZSwgY29kZSwgc3RvcmFnZSwgbm9uY2VdO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lc2lzLmpzLm1hcCJdLCJuYW1lcyI6WyJhZGRIZXhQcmVmaXgiLCJiaWdJbnRUb0hleCIsImlzSGV4UHJlZml4ZWQiLCJwYXJzZUdldGhHZW5lc2lzU3RhdGUiLCJqc29uIiwic3RhdGUiLCJhZGRyZXNzIiwiT2JqZWN0Iiwia2V5cyIsImFsbG9jIiwiYmFsYW5jZSIsImNvZGUiLCJzdG9yYWdlIiwibm9uY2UiLCJ0b0xvd2VyQ2FzZSIsIkJpZ0ludCIsInVuZGVmaW5lZCIsImVudHJpZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/genesis.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/helpers.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/helpers.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertIsArray: () => (/* binding */ assertIsArray),\n/* harmony export */   assertIsBytes: () => (/* binding */ assertIsBytes),\n/* harmony export */   assertIsHexString: () => (/* binding */ assertIsHexString),\n/* harmony export */   assertIsString: () => (/* binding */ assertIsString)\n/* harmony export */ });\n/* harmony import */ var _internal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js\");\n\n/**\n * Throws if a string is not hex prefixed\n * @param {string} input string to check hex prefix of\n */ const assertIsHexString = function(input) {\n    if (!(0,_internal_js__WEBPACK_IMPORTED_MODULE_0__.isHexString)(input)) {\n        const msg = `This method only supports 0x-prefixed hex strings but input was: ${input}`;\n        throw new Error(msg);\n    }\n};\n/**\n * Throws if input is not a buffer\n * @param {Buffer} input value to check\n */ const assertIsBytes = function(input) {\n    if (!(input instanceof Uint8Array)) {\n        const msg = `This method only supports Uint8Array but input was: ${input}`;\n        throw new Error(msg);\n    }\n};\n/**\n * Throws if input is not an array\n * @param {number[]} input value to check\n */ const assertIsArray = function(input) {\n    if (!Array.isArray(input)) {\n        const msg = `This method only supports number arrays but input was: ${input}`;\n        throw new Error(msg);\n    }\n};\n/**\n * Throws if input is not a string\n * @param {string} input value to check\n */ const assertIsString = function(input) {\n    if (typeof input !== \"string\") {\n        const msg = `This method only supports strings but input was: ${input}`;\n        throw new Error(msg);\n    }\n}; //# sourceMappingURL=helpers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2hlbHBlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNEM7QUFDNUM7OztDQUdDLEdBQ00sTUFBTUMsb0JBQW9CLFNBQVVDLEtBQUs7SUFDNUMsSUFBSSxDQUFDRix5REFBV0EsQ0FBQ0UsUUFBUTtRQUNyQixNQUFNQyxNQUFNLENBQUMsaUVBQWlFLEVBQUVELE1BQU0sQ0FBQztRQUN2RixNQUFNLElBQUlFLE1BQU1EO0lBQ3BCO0FBQ0osRUFBRTtBQUNGOzs7Q0FHQyxHQUNNLE1BQU1FLGdCQUFnQixTQUFVSCxLQUFLO0lBQ3hDLElBQUksQ0FBRUEsQ0FBQUEsaUJBQWlCSSxVQUFTLEdBQUk7UUFDaEMsTUFBTUgsTUFBTSxDQUFDLG9EQUFvRCxFQUFFRCxNQUFNLENBQUM7UUFDMUUsTUFBTSxJQUFJRSxNQUFNRDtJQUNwQjtBQUNKLEVBQUU7QUFDRjs7O0NBR0MsR0FDTSxNQUFNSSxnQkFBZ0IsU0FBVUwsS0FBSztJQUN4QyxJQUFJLENBQUNNLE1BQU1DLE9BQU8sQ0FBQ1AsUUFBUTtRQUN2QixNQUFNQyxNQUFNLENBQUMsdURBQXVELEVBQUVELE1BQU0sQ0FBQztRQUM3RSxNQUFNLElBQUlFLE1BQU1EO0lBQ3BCO0FBQ0osRUFBRTtBQUNGOzs7Q0FHQyxHQUNNLE1BQU1PLGlCQUFpQixTQUFVUixLQUFLO0lBQ3pDLElBQUksT0FBT0EsVUFBVSxVQUFVO1FBQzNCLE1BQU1DLE1BQU0sQ0FBQyxpREFBaUQsRUFBRUQsTUFBTSxDQUFDO1FBQ3ZFLE1BQU0sSUFBSUUsTUFBTUQ7SUFDcEI7QUFDSixFQUFFLENBQ0YsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3V0aWwvZGlzdC9lc20vaGVscGVycy5qcz80NGY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzSGV4U3RyaW5nIH0gZnJvbSAnLi9pbnRlcm5hbC5qcyc7XG4vKipcbiAqIFRocm93cyBpZiBhIHN0cmluZyBpcyBub3QgaGV4IHByZWZpeGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgc3RyaW5nIHRvIGNoZWNrIGhleCBwcmVmaXggb2ZcbiAqL1xuZXhwb3J0IGNvbnN0IGFzc2VydElzSGV4U3RyaW5nID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgaWYgKCFpc0hleFN0cmluZyhpbnB1dCkpIHtcbiAgICAgICAgY29uc3QgbXNnID0gYFRoaXMgbWV0aG9kIG9ubHkgc3VwcG9ydHMgMHgtcHJlZml4ZWQgaGV4IHN0cmluZ3MgYnV0IGlucHV0IHdhczogJHtpbnB1dH1gO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59O1xuLyoqXG4gKiBUaHJvd3MgaWYgaW5wdXQgaXMgbm90IGEgYnVmZmVyXG4gKiBAcGFyYW0ge0J1ZmZlcn0gaW5wdXQgdmFsdWUgdG8gY2hlY2tcbiAqL1xuZXhwb3J0IGNvbnN0IGFzc2VydElzQnl0ZXMgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICBpZiAoIShpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGBUaGlzIG1ldGhvZCBvbmx5IHN1cHBvcnRzIFVpbnQ4QXJyYXkgYnV0IGlucHV0IHdhczogJHtpbnB1dH1gO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59O1xuLyoqXG4gKiBUaHJvd3MgaWYgaW5wdXQgaXMgbm90IGFuIGFycmF5XG4gKiBAcGFyYW0ge251bWJlcltdfSBpbnB1dCB2YWx1ZSB0byBjaGVja1xuICovXG5leHBvcnQgY29uc3QgYXNzZXJ0SXNBcnJheSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgY29uc3QgbXNnID0gYFRoaXMgbWV0aG9kIG9ubHkgc3VwcG9ydHMgbnVtYmVyIGFycmF5cyBidXQgaW5wdXQgd2FzOiAke2lucHV0fWA7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgIH1cbn07XG4vKipcbiAqIFRocm93cyBpZiBpbnB1dCBpcyBub3QgYSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCB2YWx1ZSB0byBjaGVja1xuICovXG5leHBvcnQgY29uc3QgYXNzZXJ0SXNTdHJpbmcgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBtc2cgPSBgVGhpcyBtZXRob2Qgb25seSBzdXBwb3J0cyBzdHJpbmdzIGJ1dCBpbnB1dCB3YXM6ICR7aW5wdXR9YDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlbHBlcnMuanMubWFwIl0sIm5hbWVzIjpbImlzSGV4U3RyaW5nIiwiYXNzZXJ0SXNIZXhTdHJpbmciLCJpbnB1dCIsIm1zZyIsIkVycm9yIiwiYXNzZXJ0SXNCeXRlcyIsIlVpbnQ4QXJyYXkiLCJhc3NlcnRJc0FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiYXNzZXJ0SXNTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/index.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/index.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Account: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.Account),\n/* harmony export */   Address: () => (/* reexport safe */ _address_js__WEBPACK_IMPORTED_MODULE_3__.Address),\n/* harmony export */   AsyncEventEmitter: () => (/* reexport safe */ _asyncEventEmitter_js__WEBPACK_IMPORTED_MODULE_9__.AsyncEventEmitter),\n/* harmony export */   BIGINT_0: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_0),\n/* harmony export */   BIGINT_1: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_1),\n/* harmony export */   BIGINT_100: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_100),\n/* harmony export */   BIGINT_128: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_128),\n/* harmony export */   BIGINT_160: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_160),\n/* harmony export */   BIGINT_2: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_2),\n/* harmony export */   BIGINT_224: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_224),\n/* harmony export */   BIGINT_255: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_255),\n/* harmony export */   BIGINT_256: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_256),\n/* harmony export */   BIGINT_27: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_27),\n/* harmony export */   BIGINT_28: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_28),\n/* harmony export */   BIGINT_2EXP160: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_2EXP160),\n/* harmony export */   BIGINT_2EXP224: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_2EXP224),\n/* harmony export */   BIGINT_2EXP256: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_2EXP256),\n/* harmony export */   BIGINT_2EXP96: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_2EXP96),\n/* harmony export */   BIGINT_3: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_3),\n/* harmony export */   BIGINT_31: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_31),\n/* harmony export */   BIGINT_32: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_32),\n/* harmony export */   BIGINT_64: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_64),\n/* harmony export */   BIGINT_7: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_7),\n/* harmony export */   BIGINT_8: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_8),\n/* harmony export */   BIGINT_96: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_96),\n/* harmony export */   BIGINT_NEG1: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_NEG1),\n/* harmony export */   GWEI_TO_WEI: () => (/* reexport safe */ _units_js__WEBPACK_IMPORTED_MODULE_1__.GWEI_TO_WEI),\n/* harmony export */   KECCAK256_NULL: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.KECCAK256_NULL),\n/* harmony export */   KECCAK256_NULL_S: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.KECCAK256_NULL_S),\n/* harmony export */   KECCAK256_RLP: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.KECCAK256_RLP),\n/* harmony export */   KECCAK256_RLP_ARRAY: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.KECCAK256_RLP_ARRAY),\n/* harmony export */   KECCAK256_RLP_ARRAY_S: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.KECCAK256_RLP_ARRAY_S),\n/* harmony export */   KECCAK256_RLP_S: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.KECCAK256_RLP_S),\n/* harmony export */   KeyEncoding: () => (/* reexport safe */ _db_js__WEBPACK_IMPORTED_MODULE_4__.KeyEncoding),\n/* harmony export */   Lock: () => (/* reexport safe */ _lock_js__WEBPACK_IMPORTED_MODULE_14__.Lock),\n/* harmony export */   MAX_INTEGER: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.MAX_INTEGER),\n/* harmony export */   MAX_INTEGER_BIGINT: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.MAX_INTEGER_BIGINT),\n/* harmony export */   MAX_UINT64: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.MAX_UINT64),\n/* harmony export */   MAX_WITHDRAWALS_PER_PAYLOAD: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.MAX_WITHDRAWALS_PER_PAYLOAD),\n/* harmony export */   MapDB: () => (/* reexport safe */ _mapDB_js__WEBPACK_IMPORTED_MODULE_15__.MapDB),\n/* harmony export */   RIPEMD160_ADDRESS_STRING: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.RIPEMD160_ADDRESS_STRING),\n/* harmony export */   RLP_EMPTY_STRING: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.RLP_EMPTY_STRING),\n/* harmony export */   SECP256K1_ORDER: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.SECP256K1_ORDER),\n/* harmony export */   SECP256K1_ORDER_DIV_2: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.SECP256K1_ORDER_DIV_2),\n/* harmony export */   TWO_POW256: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.TWO_POW256),\n/* harmony export */   TypeOutput: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_8__.TypeOutput),\n/* harmony export */   ValueEncoding: () => (/* reexport safe */ _db_js__WEBPACK_IMPORTED_MODULE_4__.ValueEncoding),\n/* harmony export */   Withdrawal: () => (/* reexport safe */ _withdrawal_js__WEBPACK_IMPORTED_MODULE_5__.Withdrawal),\n/* harmony export */   accountBodyFromSlim: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.accountBodyFromSlim),\n/* harmony export */   accountBodyToRLP: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.accountBodyToRLP),\n/* harmony export */   accountBodyToSlim: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.accountBodyToSlim),\n/* harmony export */   addHexPrefix: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.addHexPrefix),\n/* harmony export */   arrayContainsArray: () => (/* reexport safe */ _internal_js__WEBPACK_IMPORTED_MODULE_12__.arrayContainsArray),\n/* harmony export */   bigInt64ToBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bigInt64ToBytes),\n/* harmony export */   bigIntToBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bigIntToBytes),\n/* harmony export */   bigIntToHex: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bigIntToHex),\n/* harmony export */   bigIntToUnpaddedBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bigIntToUnpaddedBytes),\n/* harmony export */   blobsToCommitments: () => (/* reexport safe */ _blobs_js__WEBPACK_IMPORTED_MODULE_10__.blobsToCommitments),\n/* harmony export */   blobsToProofs: () => (/* reexport safe */ _blobs_js__WEBPACK_IMPORTED_MODULE_10__.blobsToProofs),\n/* harmony export */   bytesToBigInt: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bytesToBigInt),\n/* harmony export */   bytesToBigInt64: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bytesToBigInt64),\n/* harmony export */   bytesToHex: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bytesToHex),\n/* harmony export */   bytesToInt: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bytesToInt),\n/* harmony export */   bytesToInt32: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bytesToInt32),\n/* harmony export */   bytesToUnprefixedHex: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bytesToUnprefixedHex),\n/* harmony export */   bytesToUtf8: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.bytesToUtf8),\n/* harmony export */   commitmentsToVersionedHashes: () => (/* reexport safe */ _blobs_js__WEBPACK_IMPORTED_MODULE_10__.commitmentsToVersionedHashes),\n/* harmony export */   compareBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.compareBytes),\n/* harmony export */   computeVersionedHash: () => (/* reexport safe */ _blobs_js__WEBPACK_IMPORTED_MODULE_10__.computeVersionedHash),\n/* harmony export */   concatBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.concatBytes),\n/* harmony export */   ecrecover: () => (/* reexport safe */ _signature_js__WEBPACK_IMPORTED_MODULE_6__.ecrecover),\n/* harmony export */   ecsign: () => (/* reexport safe */ _signature_js__WEBPACK_IMPORTED_MODULE_6__.ecsign),\n/* harmony export */   equalsBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.equalsBytes),\n/* harmony export */   fetchFromProvider: () => (/* reexport safe */ _provider_js__WEBPACK_IMPORTED_MODULE_16__.fetchFromProvider),\n/* harmony export */   formatBigDecimal: () => (/* reexport safe */ _units_js__WEBPACK_IMPORTED_MODULE_1__.formatBigDecimal),\n/* harmony export */   fromAscii: () => (/* reexport safe */ _internal_js__WEBPACK_IMPORTED_MODULE_12__.fromAscii),\n/* harmony export */   fromRpcSig: () => (/* reexport safe */ _signature_js__WEBPACK_IMPORTED_MODULE_6__.fromRpcSig),\n/* harmony export */   fromSigned: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.fromSigned),\n/* harmony export */   fromUtf8: () => (/* reexport safe */ _internal_js__WEBPACK_IMPORTED_MODULE_12__.fromUtf8),\n/* harmony export */   generateAddress: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.generateAddress),\n/* harmony export */   generateAddress2: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.generateAddress2),\n/* harmony export */   getBinarySize: () => (/* reexport safe */ _internal_js__WEBPACK_IMPORTED_MODULE_12__.getBinarySize),\n/* harmony export */   getBlobs: () => (/* reexport safe */ _blobs_js__WEBPACK_IMPORTED_MODULE_10__.getBlobs),\n/* harmony export */   getKeys: () => (/* reexport safe */ _internal_js__WEBPACK_IMPORTED_MODULE_12__.getKeys),\n/* harmony export */   getProvider: () => (/* reexport safe */ _provider_js__WEBPACK_IMPORTED_MODULE_16__.getProvider),\n/* harmony export */   hashPersonalMessage: () => (/* reexport safe */ _signature_js__WEBPACK_IMPORTED_MODULE_6__.hashPersonalMessage),\n/* harmony export */   hexToBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.hexToBytes),\n/* harmony export */   importPublic: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.importPublic),\n/* harmony export */   initKZG: () => (/* reexport safe */ _kzg_js__WEBPACK_IMPORTED_MODULE_13__.initKZG),\n/* harmony export */   int32ToBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.int32ToBytes),\n/* harmony export */   intToBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.intToBytes),\n/* harmony export */   intToHex: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.intToHex),\n/* harmony export */   intToUnpaddedBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.intToUnpaddedBytes),\n/* harmony export */   isHexPrefixed: () => (/* reexport safe */ _internal_js__WEBPACK_IMPORTED_MODULE_12__.isHexPrefixed),\n/* harmony export */   isHexString: () => (/* reexport safe */ _internal_js__WEBPACK_IMPORTED_MODULE_12__.isHexString),\n/* harmony export */   isValidAddress: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.isValidAddress),\n/* harmony export */   isValidChecksumAddress: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.isValidChecksumAddress),\n/* harmony export */   isValidPrivate: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.isValidPrivate),\n/* harmony export */   isValidPublic: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.isValidPublic),\n/* harmony export */   isValidSignature: () => (/* reexport safe */ _signature_js__WEBPACK_IMPORTED_MODULE_6__.isValidSignature),\n/* harmony export */   isZeroAddress: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.isZeroAddress),\n/* harmony export */   kzg: () => (/* reexport safe */ _kzg_js__WEBPACK_IMPORTED_MODULE_13__.kzg),\n/* harmony export */   padToEven: () => (/* reexport safe */ _internal_js__WEBPACK_IMPORTED_MODULE_12__.padToEven),\n/* harmony export */   parseGethGenesisState: () => (/* reexport safe */ _genesis_js__WEBPACK_IMPORTED_MODULE_11__.parseGethGenesisState),\n/* harmony export */   privateToAddress: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.privateToAddress),\n/* harmony export */   privateToPublic: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.privateToPublic),\n/* harmony export */   pubToAddress: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.pubToAddress),\n/* harmony export */   publicToAddress: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.publicToAddress),\n/* harmony export */   randomBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.randomBytes),\n/* harmony export */   setLengthLeft: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.setLengthLeft),\n/* harmony export */   setLengthRight: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.setLengthRight),\n/* harmony export */   short: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.short),\n/* harmony export */   stripHexPrefix: () => (/* reexport safe */ _internal_js__WEBPACK_IMPORTED_MODULE_12__.stripHexPrefix),\n/* harmony export */   toAscii: () => (/* reexport safe */ _internal_js__WEBPACK_IMPORTED_MODULE_12__.toAscii),\n/* harmony export */   toBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.toBytes),\n/* harmony export */   toChecksumAddress: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.toChecksumAddress),\n/* harmony export */   toCompactSig: () => (/* reexport safe */ _signature_js__WEBPACK_IMPORTED_MODULE_6__.toCompactSig),\n/* harmony export */   toRpcSig: () => (/* reexport safe */ _signature_js__WEBPACK_IMPORTED_MODULE_6__.toRpcSig),\n/* harmony export */   toType: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_8__.toType),\n/* harmony export */   toUnsigned: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.toUnsigned),\n/* harmony export */   unpadArray: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.unpadArray),\n/* harmony export */   unpadBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.unpadBytes),\n/* harmony export */   unpadHex: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.unpadHex),\n/* harmony export */   unprefixedHexToBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.unprefixedHexToBytes),\n/* harmony export */   utf8ToBytes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.utf8ToBytes),\n/* harmony export */   validateNoLeadingZeroes: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.validateNoLeadingZeroes),\n/* harmony export */   zeroAddress: () => (/* reexport safe */ _account_js__WEBPACK_IMPORTED_MODULE_2__.zeroAddress),\n/* harmony export */   zeros: () => (/* reexport safe */ _bytes_js__WEBPACK_IMPORTED_MODULE_7__.zeros)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/constants.js\");\n/* harmony import */ var _units_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./units.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/units.js\");\n/* harmony import */ var _account_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./account.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/account.js\");\n/* harmony import */ var _address_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./address.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/address.js\");\n/* harmony import */ var _db_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./db.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/db.js\");\n/* harmony import */ var _withdrawal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./withdrawal.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/withdrawal.js\");\n/* harmony import */ var _signature_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./signature.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/signature.js\");\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/types.js\");\n/* harmony import */ var _asyncEventEmitter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./asyncEventEmitter.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/asyncEventEmitter.js\");\n/* harmony import */ var _blobs_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./blobs.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/blobs.js\");\n/* harmony import */ var _genesis_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./genesis.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/genesis.js\");\n/* harmony import */ var _internal_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./internal.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js\");\n/* harmony import */ var _kzg_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./kzg.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/kzg.js\");\n/* harmony import */ var _lock_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./lock.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/lock.js\");\n/* harmony import */ var _mapDB_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./mapDB.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/mapDB.js\");\n/* harmony import */ var _provider_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./provider.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/provider.js\");\n/**\n * Constants\n */ \n/**\n * Units helpers\n */ \n/**\n * Account class and helper functions\n */ \n/**\n * Address type\n */ \n/**\n * DB type\n */ \n/**\n * Withdrawal type\n */ \n/**\n * ECDSA signature\n */ \n/**\n * Utilities for manipulating bytes, Uint8Arrays, etc.\n */ \n/**\n * Helpful TypeScript types\n */ \n/**\n * Export ethjs-util methods\n */ \n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Q0FFQyxHQUM4QjtBQUMvQjs7Q0FFQyxHQUMwQjtBQUMzQjs7Q0FFQyxHQUM0QjtBQUM3Qjs7Q0FFQyxHQUM0QjtBQUM3Qjs7Q0FFQyxHQUN1QjtBQUN4Qjs7Q0FFQyxHQUMrQjtBQUNoQzs7Q0FFQyxHQUM4QjtBQUMvQjs7Q0FFQyxHQUMwQjtBQUMzQjs7Q0FFQyxHQUMwQjtBQUMzQjs7Q0FFQyxHQUNzQztBQUNaO0FBQ0U7QUFDb0k7QUFDeEk7QUFDQztBQUNDO0FBQ0csQ0FDOUIsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3V0aWwvZGlzdC9lc20vaW5kZXguanM/YzQzOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnN0YW50c1xuICovXG5leHBvcnQgKiBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG4vKipcbiAqIFVuaXRzIGhlbHBlcnNcbiAqL1xuZXhwb3J0ICogZnJvbSAnLi91bml0cy5qcyc7XG4vKipcbiAqIEFjY291bnQgY2xhc3MgYW5kIGhlbHBlciBmdW5jdGlvbnNcbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9hY2NvdW50LmpzJztcbi8qKlxuICogQWRkcmVzcyB0eXBlXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vYWRkcmVzcy5qcyc7XG4vKipcbiAqIERCIHR5cGVcbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9kYi5qcyc7XG4vKipcbiAqIFdpdGhkcmF3YWwgdHlwZVxuICovXG5leHBvcnQgKiBmcm9tICcuL3dpdGhkcmF3YWwuanMnO1xuLyoqXG4gKiBFQ0RTQSBzaWduYXR1cmVcbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9zaWduYXR1cmUuanMnO1xuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIG1hbmlwdWxhdGluZyBieXRlcywgVWludDhBcnJheXMsIGV0Yy5cbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9ieXRlcy5qcyc7XG4vKipcbiAqIEhlbHBmdWwgVHlwZVNjcmlwdCB0eXBlc1xuICovXG5leHBvcnQgKiBmcm9tICcuL3R5cGVzLmpzJztcbi8qKlxuICogRXhwb3J0IGV0aGpzLXV0aWwgbWV0aG9kc1xuICovXG5leHBvcnQgKiBmcm9tICcuL2FzeW5jRXZlbnRFbWl0dGVyLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYmxvYnMuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9nZW5lc2lzLmpzJztcbmV4cG9ydCB7IGFycmF5Q29udGFpbnNBcnJheSwgZnJvbUFzY2lpLCBmcm9tVXRmOCwgZ2V0QmluYXJ5U2l6ZSwgZ2V0S2V5cywgaXNIZXhQcmVmaXhlZCwgaXNIZXhTdHJpbmcsIHBhZFRvRXZlbiwgc3RyaXBIZXhQcmVmaXgsIHRvQXNjaWksIH0gZnJvbSAnLi9pbnRlcm5hbC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2t6Zy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xvY2suanMnO1xuZXhwb3J0ICogZnJvbSAnLi9tYXBEQi5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3Byb3ZpZGVyLmpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJhcnJheUNvbnRhaW5zQXJyYXkiLCJmcm9tQXNjaWkiLCJmcm9tVXRmOCIsImdldEJpbmFyeVNpemUiLCJnZXRLZXlzIiwiaXNIZXhQcmVmaXhlZCIsImlzSGV4U3RyaW5nIiwicGFkVG9FdmVuIiwic3RyaXBIZXhQcmVmaXgiLCJ0b0FzY2lpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   arrayContainsArray: () => (/* binding */ arrayContainsArray),\n/* harmony export */   fromAscii: () => (/* binding */ fromAscii),\n/* harmony export */   fromUtf8: () => (/* binding */ fromUtf8),\n/* harmony export */   getBinarySize: () => (/* binding */ getBinarySize),\n/* harmony export */   getKeys: () => (/* binding */ getKeys),\n/* harmony export */   isHexPrefixed: () => (/* binding */ isHexPrefixed),\n/* harmony export */   isHexString: () => (/* binding */ isHexString),\n/* harmony export */   padToEven: () => (/* binding */ padToEven),\n/* harmony export */   stripHexPrefix: () => (/* binding */ stripHexPrefix),\n/* harmony export */   toAscii: () => (/* binding */ toAscii)\n/* harmony export */ });\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n/*\nThe MIT License\n\nCopyright (c) 2016 Nick Dodson. nickdodson.com\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE\n */ \n/**\n * Returns a `Boolean` on whether or not the a `String` starts with '0x'\n * @param str the string input value\n * @return a boolean if it is or is not hex prefixed\n * @throws if the str input is not a string\n */ function isHexPrefixed(str) {\n    if (typeof str !== \"string\") {\n        throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof str}`);\n    }\n    return str[0] === \"0\" && str[1] === \"x\";\n}\n/**\n * Removes '0x' from a given `String` if present\n * @param str the string value\n * @returns the string without 0x prefix\n */ const stripHexPrefix = (str)=>{\n    if (typeof str !== \"string\") throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof str}`);\n    return isHexPrefixed(str) ? str.slice(2) : str;\n};\n/**\n * Pads a `String` to have an even length\n * @param value\n * @return output\n */ function padToEven(value) {\n    let a = value;\n    if (typeof a !== \"string\") {\n        throw new Error(`[padToEven] value must be type 'string', received ${typeof a}`);\n    }\n    if (a.length % 2) a = `0${a}`;\n    return a;\n}\n/**\n * Get the binary size of a string\n * @param str\n * @returns the number of bytes contained within the string\n */ function getBinarySize(str) {\n    if (typeof str !== \"string\") {\n        throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof str}`);\n    }\n    return (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(str).byteLength;\n}\n/**\n * Returns TRUE if the first specified array contains all elements\n * from the second one. FALSE otherwise.\n *\n * @param superset\n * @param subset\n *\n */ function arrayContainsArray(superset, subset, some) {\n    if (Array.isArray(superset) !== true) {\n        throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof superset}'`);\n    }\n    if (Array.isArray(subset) !== true) {\n        throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof subset}'`);\n    }\n    return subset[some === true ? \"some\" : \"every\"]((value)=>superset.indexOf(value) >= 0);\n}\n/**\n * Should be called to get ascii from its hex representation\n *\n * @param string in hex\n * @returns ascii string representation of hex value\n */ function toAscii(hex) {\n    let str = \"\";\n    let i = 0;\n    const l = hex.length;\n    if (hex.substring(0, 2) === \"0x\") i = 2;\n    for(; i < l; i += 2){\n        const code = parseInt(hex.substr(i, 2), 16);\n        str += String.fromCharCode(code);\n    }\n    return str;\n}\n/**\n * Should be called to get hex representation (prefixed by 0x) of utf8 string.\n * Strips leading and trailing 0's.\n *\n * @param string\n * @param optional padding\n * @returns hex representation of input string\n */ function fromUtf8(stringValue) {\n    const str = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(stringValue);\n    return `0x${padToEven((0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(str)).replace(/^0+|0+$/g, \"\")}`;\n}\n/**\n * Should be called to get hex representation (prefixed by 0x) of ascii string\n *\n * @param  string\n * @param  optional padding\n * @returns  hex representation of input string\n */ function fromAscii(stringValue) {\n    let hex = \"\";\n    for(let i = 0; i < stringValue.length; i++){\n        const code = stringValue.charCodeAt(i);\n        const n = code.toString(16);\n        hex += n.length < 2 ? `0${n}` : n;\n    }\n    return `0x${hex}`;\n}\n/**\n * Returns the keys from an array of objects.\n * @example\n * ```js\n * getKeys([{a: '1', b: '2'}, {a: '3', b: '4'}], 'a') => ['1', '3']\n *````\n * @param  params\n * @param  key\n * @param  allowEmpty\n * @returns output just a simple array of output keys\n */ function getKeys(params, key, allowEmpty) {\n    if (!Array.isArray(params)) {\n        throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof params}`);\n    }\n    if (typeof key !== \"string\") {\n        throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof params}`);\n    }\n    const result = [];\n    for(let i = 0; i < params.length; i++){\n        let value = params[i][key];\n        if (allowEmpty === true && !value) {\n            value = \"\";\n        } else if (typeof value !== \"string\") {\n            throw new Error(`invalid abi - expected type 'string', received ${typeof value}`);\n        }\n        result.push(value);\n    }\n    return result;\n}\n/**\n * Is the string a hex string.\n *\n * @param  value\n * @param  length\n * @returns  output the string is a hex string\n */ function isHexString(value, length) {\n    if (typeof value !== \"string\" || !value.match(/^0x[0-9A-Fa-f]*$/)) return false;\n    if (typeof length !== \"undefined\" && length > 0 && value.length !== 2 + 2 * length) return false;\n    return true;\n} //# sourceMappingURL=internal.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2ludGVybmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FzQkMsR0FDOEQ7QUFDL0Q7Ozs7O0NBS0MsR0FDTSxTQUFTRSxjQUFjQyxHQUFHO0lBQzdCLElBQUksT0FBT0EsUUFBUSxVQUFVO1FBQ3pCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLDJEQUEyRCxFQUFFLE9BQU9ELElBQUksQ0FBQztJQUM5RjtJQUNBLE9BQU9BLEdBQUcsQ0FBQyxFQUFFLEtBQUssT0FBT0EsR0FBRyxDQUFDLEVBQUUsS0FBSztBQUN4QztBQUNBOzs7O0NBSUMsR0FDTSxNQUFNRSxpQkFBaUIsQ0FBQ0Y7SUFDM0IsSUFBSSxPQUFPQSxRQUFRLFVBQ2YsTUFBTSxJQUFJQyxNQUFNLENBQUMsdURBQXVELEVBQUUsT0FBT0QsSUFBSSxDQUFDO0lBQzFGLE9BQU9ELGNBQWNDLE9BQU9BLElBQUlHLEtBQUssQ0FBQyxLQUFLSDtBQUMvQyxFQUFFO0FBQ0Y7Ozs7Q0FJQyxHQUNNLFNBQVNJLFVBQVVDLEtBQUs7SUFDM0IsSUFBSUMsSUFBSUQ7SUFDUixJQUFJLE9BQU9DLE1BQU0sVUFBVTtRQUN2QixNQUFNLElBQUlMLE1BQU0sQ0FBQyxrREFBa0QsRUFBRSxPQUFPSyxFQUFFLENBQUM7SUFDbkY7SUFDQSxJQUFJQSxFQUFFQyxNQUFNLEdBQUcsR0FDWEQsSUFBSSxDQUFDLENBQUMsRUFBRUEsRUFBRSxDQUFDO0lBQ2YsT0FBT0E7QUFDWDtBQUNBOzs7O0NBSUMsR0FDTSxTQUFTRSxjQUFjUixHQUFHO0lBQzdCLElBQUksT0FBT0EsUUFBUSxVQUFVO1FBQ3pCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLDhEQUE4RCxFQUFFLE9BQU9ELElBQUksQ0FBQztJQUNqRztJQUNBLE9BQU9GLHNE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QzFDLE9BQU87SUFDWCxJQUFJLE9BQU9sQyxXQUFXLGVBQWVBLFNBQVMsS0FBS0YsTUFBTUUsTUFBTSxLQUFLLElBQUksSUFBSUEsUUFDeEUsT0FBTztJQUNYLE9BQU87QUFDWCxFQUNBLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvY2tldGgvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2ludGVybmFsLmpzPzZmNTIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblRoZSBNSVQgTGljZW5zZVxuXG5Db3B5cmlnaHQgKGMpIDIwMTYgTmljayBEb2Rzb24uIG5pY2tkb2Rzb24uY29tXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRVxuICovXG5pbXBvcnQgeyBieXRlc1RvVW5wcmVmaXhlZEhleCwgdXRmOFRvQnl0ZXMgfSBmcm9tICcuL2J5dGVzLmpzJztcbi8qKlxuICogUmV0dXJucyBhIGBCb29sZWFuYCBvbiB3aGV0aGVyIG9yIG5vdCB0aGUgYSBgU3RyaW5nYCBzdGFydHMgd2l0aCAnMHgnXG4gKiBAcGFyYW0gc3RyIHRoZSBzdHJpbmcgaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4gYSBib29sZWFuIGlmIGl0IGlzIG9yIGlzIG5vdCBoZXggcHJlZml4ZWRcbiAqIEB0aHJvd3MgaWYgdGhlIHN0ciBpbnB1dCBpcyBub3QgYSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSGV4UHJlZml4ZWQoc3RyKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgW2lzSGV4UHJlZml4ZWRdIGlucHV0IG11c3QgYmUgdHlwZSAnc3RyaW5nJywgcmVjZWl2ZWQgdHlwZSAke3R5cGVvZiBzdHJ9YCk7XG4gICAgfVxuICAgIHJldHVybiBzdHJbMF0gPT09ICcwJyAmJiBzdHJbMV0gPT09ICd4Jztcbn1cbi8qKlxuICogUmVtb3ZlcyAnMHgnIGZyb20gYSBnaXZlbiBgU3RyaW5nYCBpZiBwcmVzZW50XG4gKiBAcGFyYW0gc3RyIHRoZSBzdHJpbmcgdmFsdWVcbiAqIEByZXR1cm5zIHRoZSBzdHJpbmcgd2l0aG91dCAweCBwcmVmaXhcbiAqL1xuZXhwb3J0IGNvbnN0IHN0cmlwSGV4UHJlZml4ID0gKHN0cikgPT4ge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbc3RyaXBIZXhQcmVmaXhdIGlucHV0IG11c3QgYmUgdHlwZSAnc3RyaW5nJywgcmVjZWl2ZWQgJHt0eXBlb2Ygc3RyfWApO1xuICAgIHJldHVybiBpc0hleFByZWZpeGVkKHN0cikgPyBzdHIuc2xpY2UoMikgOiBzdHI7XG59O1xuLyoqXG4gKiBQYWRzIGEgYFN0cmluZ2AgdG8gaGF2ZSBhbiBldmVuIGxlbmd0aFxuICogQHBhcmFtIHZhbHVlXG4gKiBAcmV0dXJuIG91dHB1dFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFkVG9FdmVuKHZhbHVlKSB7XG4gICAgbGV0IGEgPSB2YWx1ZTtcbiAgICBpZiAodHlwZW9mIGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgW3BhZFRvRXZlbl0gdmFsdWUgbXVzdCBiZSB0eXBlICdzdHJpbmcnLCByZWNlaXZlZCAke3R5cGVvZiBhfWApO1xuICAgIH1cbiAgICBpZiAoYS5sZW5ndGggJSAyKVxuICAgICAgICBhID0gYDAke2F9YDtcbiAgICByZXR1cm4gYTtcbn1cbi8qKlxuICogR2V0IHRoZSBiaW5hcnkgc2l6ZSBvZiBhIHN0cmluZ1xuICogQHBhcmFtIHN0clxuICogQHJldHVybnMgdGhlIG51bWJlciBvZiBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJpbmFyeVNpemUoc3RyKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgW2dldEJpbmFyeVNpemVdIG1ldGhvZCByZXF1aXJlcyBpbnB1dCB0eXBlICdzdHJpbmcnLCByZWNlaXZlZCAke3R5cGVvZiBzdHJ9YCk7XG4gICAgfVxuICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHIpLmJ5dGVMZW5ndGg7XG59XG4vKipcbiAqIFJldHVybnMgVFJVRSBpZiB0aGUgZmlyc3Qgc3BlY2lmaWVkIGFycmF5IGNvbnRhaW5zIGFsbCBlbGVtZW50c1xuICogZnJvbSB0aGUgc2Vjb25kIG9uZS4gRkFMU0Ugb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSBzdXBlcnNldFxuICogQHBhcmFtIHN1YnNldFxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5Q29udGFpbnNBcnJheShzdXBlcnNldCwgc3Vic2V0LCBzb21lKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3VwZXJzZXQpICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgW2FycmF5Q29udGFpbnNBcnJheV0gbWV0aG9kIHJlcXVpcmVzIGlucHV0ICdzdXBlcnNldCcgdG8gYmUgYW4gYXJyYXksIGdvdCB0eXBlICcke3R5cGVvZiBzdXBlcnNldH0nYCk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHN1YnNldCkgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbYXJyYXlDb250YWluc0FycmF5XSBtZXRob2QgcmVxdWlyZXMgaW5wdXQgJ3N1YnNldCcgdG8gYmUgYW4gYXJyYXksIGdvdCB0eXBlICcke3R5cGVvZiBzdWJzZXR9J2ApO1xuICAgIH1cbiAgICByZXR1cm4gc3Vic2V0W3NvbWUgPT09IHRydWUgPyAnc29tZScgOiAnZXZlcnknXSgodmFsdWUpID0+IHN1cGVyc2V0LmluZGV4T2YodmFsdWUpID49IDApO1xufVxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGdldCBhc2NpaSBmcm9tIGl0cyBoZXggcmVwcmVzZW50YXRpb25cbiAqXG4gKiBAcGFyYW0gc3RyaW5nIGluIGhleFxuICogQHJldHVybnMgYXNjaWkgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGhleCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Bc2NpaShoZXgpIHtcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGwgPSBoZXgubGVuZ3RoO1xuICAgIGlmIChoZXguc3Vic3RyaW5nKDAsIDIpID09PSAnMHgnKVxuICAgICAgICBpID0gMjtcbiAgICBmb3IgKDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBjb2RlID0gcGFyc2VJbnQoaGV4LnN1YnN0cihpLCAyKSwgMTYpO1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgaGV4IHJlcHJlc2VudGF0aW9uIChwcmVmaXhlZCBieSAweCkgb2YgdXRmOCBzdHJpbmcuXG4gKiBTdHJpcHMgbGVhZGluZyBhbmQgdHJhaWxpbmcgMCdzLlxuICpcbiAqIEBwYXJhbSBzdHJpbmdcbiAqIEBwYXJhbSBvcHRpb25hbCBwYWRkaW5nXG4gKiBAcmV0dXJucyBoZXggcmVwcmVzZW50YXRpb24gb2YgaW5wdXQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXRmOChzdHJpbmdWYWx1ZSkge1xuICAgIGNvbnN0IHN0ciA9IHV0ZjhUb0J5dGVzKHN0cmluZ1ZhbHVlKTtcbiAgICByZXR1cm4gYDB4JHtwYWRUb0V2ZW4oYnl0ZXNUb1VucHJlZml4ZWRIZXgoc3RyKSkucmVwbGFjZSgvXjArfDArJC9nLCAnJyl9YDtcbn1cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBnZXQgaGV4IHJlcHJlc2VudGF0aW9uIChwcmVmaXhlZCBieSAweCkgb2YgYXNjaWkgc3RyaW5nXG4gKlxuICogQHBhcmFtICBzdHJpbmdcbiAqIEBwYXJhbSAgb3B0aW9uYWwgcGFkZGluZ1xuICogQHJldHVybnMgIGhleCByZXByZXNlbnRhdGlvbiBvZiBpbnB1dCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Bc2NpaShzdHJpbmdWYWx1ZSkge1xuICAgIGxldCBoZXggPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ1ZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBzdHJpbmdWYWx1ZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBjb25zdCBuID0gY29kZS50b1N0cmluZygxNik7XG4gICAgICAgIGhleCArPSBuLmxlbmd0aCA8IDIgPyBgMCR7bn1gIDogbjtcbiAgICB9XG4gICAgcmV0dXJuIGAweCR7aGV4fWA7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGtleXMgZnJvbSBhbiBhcnJheSBvZiBvYmplY3RzLlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBnZXRLZXlzKFt7YTogJzEnLCBiOiAnMid9LCB7YTogJzMnLCBiOiAnNCd9XSwgJ2EnKSA9PiBbJzEnLCAnMyddXG4gKmBgYGBcbiAqIEBwYXJhbSAgcGFyYW1zXG4gKiBAcGFyYW0gIGtleVxuICogQHBhcmFtICBhbGxvd0VtcHR5XG4gKiBAcmV0dXJucyBvdXRwdXQganVzdCBhIHNpbXBsZSBhcnJheSBvZiBvdXRwdXQga2V5c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5cyhwYXJhbXMsIGtleSwgYWxsb3dFbXB0eSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJhbXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgW2dldEtleXNdIG1ldGhvZCBleHBlY3RzIGlucHV0ICdwYXJhbXMnIHRvIGJlIGFuIGFycmF5LCBnb3QgJHt0eXBlb2YgcGFyYW1zfWApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbZ2V0S2V5c10gbWV0aG9kIGV4cGVjdHMgaW5wdXQgJ2tleScgdG8gYmUgdHlwZSAnc3RyaW5nJywgZ290ICR7dHlwZW9mIHBhcmFtc31gKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyYW1zW2ldW2tleV07XG4gICAgICAgIGlmIChhbGxvd0VtcHR5ID09PSB0cnVlICYmICF2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgYWJpIC0gZXhwZWN0ZWQgdHlwZSAnc3RyaW5nJywgcmVjZWl2ZWQgJHt0eXBlb2YgdmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBJcyB0aGUgc3RyaW5nIGEgaGV4IHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gIHZhbHVlXG4gKiBAcGFyYW0gIGxlbmd0aFxuICogQHJldHVybnMgIG91dHB1dCB0aGUgc3RyaW5nIGlzIGEgaGV4IHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNIZXhTdHJpbmcodmFsdWUsIGxlbmd0aCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8ICF2YWx1ZS5tYXRjaCgvXjB4WzAtOUEtRmEtZl0qJC8pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBsZW5ndGggIT09ICd1bmRlZmluZWQnICYmIGxlbmd0aCA+IDAgJiYgdmFsdWUubGVuZ3RoICE9PSAyICsgMiAqIGxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJuYWwuanMubWFwIl0sIm5hbWVzIjpbImJ5dGVzVG9VbnByZWZpeGVkSGV4IiwidXRmOFRvQnl0ZXMiLCJpc0hleFByZWZpeGVkIiwic3RyIiwiRXJyb3IiLCJzdHJpcEhleFByZWZpeCIsInNsaWNlIiwicGFkVG9FdmVuIiwidmFsdWUiLCJhIiwibGVuZ3RoIiwiZ2V0QmluYXJ5U2l6ZSIsImJ5dGVMZW5ndGgiLCJhcnJheUNvbnRhaW5zQXJyYXkiLCJzdXBlcnNldCIsInN1YnNldCIsInNvbWUiLCJBcnJheSIsImlzQXJyYXkiLCJpbmRleE9mIiwidG9Bc2NpaSIsImhleCIsImkiLCJsIiwic3Vic3RyaW5nIiwiY29kZSIsInBhcnNlSW50Iiwic3Vic3RyIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiZnJvbVV0ZjgiLCJzdHJpbmdWYWx1ZSIsInJlcGxhY2UiLCJmcm9tQXNjaWkiLCJjaGFyQ29kZUF0IiwibiIsInRvU3RyaW5nIiwiZ2V0S2V5cyIsInBhcmFtcyIsImtleSIsImFsbG93RW1wdHkiLCJyZXN1bHQiLCJwdXNoIiwiaXNIZXhTdHJpbmciLCJtYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/kzg.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/kzg.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initKZG: () => (/* binding */ initKZG),\n/* harmony export */   kzg: () => (/* binding */ kzg)\n/* harmony export */ });\nfunction kzgNotLoaded() {\n    throw Error(\"kzg library not loaded\");\n}\n// eslint-disable-next-line import/no-mutable-exports\nlet kzg = {\n    loadTrustedSetup: kzgNotLoaded,\n    blobToKzgCommitment: kzgNotLoaded,\n    computeBlobKzgProof: kzgNotLoaded,\n    verifyKzgProof: kzgNotLoaded,\n    verifyBlobKzgProofBatch: kzgNotLoaded\n};\n/**\n * @param kzgLib a KZG implementation (defaults to c-kzg)\n * @param trustedSetupPath the full path (e.g. \"/home/linux/devnet4.txt\") to a kzg trusted setup text file\n */ function initKZG(kzgLib, trustedSetupPath) {\n    kzg = kzgLib;\n    kzg.loadTrustedSetup(trustedSetupPath);\n} //# sourceMappingURL=kzg.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2t6Zy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQVNBO0lBQ0wsTUFBTUMsTUFBTTtBQUNoQjtBQUNBLHFEQUFxRDtBQUM5QyxJQUFJQyxNQUFNO0lBQ2JDLGtCQUFrQkg7SUFDbEJJLHFCQUFxQko7SUFDckJLLHFCQUFxQkw7SUFDckJNLGdCQUFnQk47SUFDaEJPLHlCQUF5QlA7QUFDN0IsRUFBRTtBQUNGOzs7Q0FHQyxHQUNNLFNBQVNRLFFBQVFDLE1BQU0sRUFBRUMsZ0JBQWdCO0lBQzVDUixNQUFNTztJQUNOUCxJQUFJQyxnQkFBZ0IsQ0FBQ087QUFDekIsRUFDQSwrQkFBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvYmFzZS1jb250cm9sbGVycy9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdXRpbC9kaXN0L2VzbS9remcuanM/MzM0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBremdOb3RMb2FkZWQoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ2t6ZyBsaWJyYXJ5IG5vdCBsb2FkZWQnKTtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbXV0YWJsZS1leHBvcnRzXG5leHBvcnQgbGV0IGt6ZyA9IHtcbiAgICBsb2FkVHJ1c3RlZFNldHVwOiBremdOb3RMb2FkZWQsXG4gICAgYmxvYlRvS3pnQ29tbWl0bWVudDoga3pnTm90TG9hZGVkLFxuICAgIGNvbXB1dGVCbG9iS3pnUHJvb2Y6IGt6Z05vdExvYWRlZCxcbiAgICB2ZXJpZnlLemdQcm9vZjoga3pnTm90TG9hZGVkLFxuICAgIHZlcmlmeUJsb2JLemdQcm9vZkJhdGNoOiBremdOb3RMb2FkZWQsXG59O1xuLyoqXG4gKiBAcGFyYW0ga3pnTGliIGEgS1pHIGltcGxlbWVudGF0aW9uIChkZWZhdWx0cyB0byBjLWt6ZylcbiAqIEBwYXJhbSB0cnVzdGVkU2V0dXBQYXRoIHRoZSBmdWxsIHBhdGggKGUuZy4gXCIvaG9tZS9saW51eC9kZXZuZXQ0LnR4dFwiKSB0byBhIGt6ZyB0cnVzdGVkIHNldHVwIHRleHQgZmlsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEtaRyhremdMaWIsIHRydXN0ZWRTZXR1cFBhdGgpIHtcbiAgICBremcgPSBremdMaWI7XG4gICAga3pnLmxvYWRUcnVzdGVkU2V0dXAodHJ1c3RlZFNldHVwUGF0aCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1remcuanMubWFwIl0sIm5hbWVzIjpbImt6Z05vdExvYWRlZCIsIkVycm9yIiwia3pnIiwibG9hZFRydXN0ZWRTZXR1cCIsImJsb2JUb0t6Z0NvbW1pdG1lbnQiLCJjb21wdXRlQmxvYkt6Z1Byb29mIiwidmVyaWZ5S3pnUHJvb2YiLCJ2ZXJpZnlCbG9iS3pnUHJvb2ZCYXRjaCIsImluaXRLWkciLCJremdMaWIiLCJ0cnVzdGVkU2V0dXBQYXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/kzg.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/lock.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/lock.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Lock: () => (/* binding */ Lock)\n/* harmony export */ });\n// Based on https://github.com/jsoendermann/semaphore-async-await/blob/master/src/Semaphore.ts\nclass Lock {\n    constructor(){\n        this.permits = 1;\n        this.promiseResolverQueue = [];\n    }\n    /**\n     * Returns a promise used to wait for a permit to become available. This method should be awaited on.\n     * @returns  A promise that gets resolved when execution is allowed to proceed.\n     */ async acquire() {\n        if (this.permits > 0) {\n            this.permits -= 1;\n            return Promise.resolve(true);\n        }\n        // If there is no permit available, we return a promise that resolves once the semaphore gets\n        // signaled enough times that permits is equal to one.\n        return new Promise((resolver)=>this.promiseResolverQueue.push(resolver));\n    }\n    /**\n     * Increases the number of permits by one. If there are other functions waiting, one of them will\n     * continue to execute in a future iteration of the event loop.\n     */ release() {\n        this.permits += 1;\n        if (this.permits > 1 && this.promiseResolverQueue.length > 0) {\n            // eslint-disable-next-line no-console\n            console.warn(\"Lock.permits should never be > 0 when there is someone waiting.\");\n        } else if (this.permits === 1 && this.promiseResolverQueue.length > 0) {\n            // If there is someone else waiting, immediately consume the permit that was released\n            // at the beginning of this function and let the waiting function resume.\n            this.permits -= 1;\n            const nextResolver = this.promiseResolverQueue.shift();\n            if (nextResolver) {\n                nextResolver(true);\n            }\n        }\n    }\n} //# sourceMappingURL=lock.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL2xvY2suanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDhGQUE4RjtBQUN2RixNQUFNQTtJQUNUQyxhQUFjO1FBQ1YsSUFBSSxDQUFDQyxPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNDLG9CQUFvQixHQUFHLEVBQUU7SUFDbEM7SUFDQTs7O0tBR0MsR0FDRCxNQUFNQyxVQUFVO1FBQ1osSUFBSSxJQUFJLENBQUNGLE9BQU8sR0FBRyxHQUFHO1lBQ2xCLElBQUksQ0FBQ0EsT0FBTyxJQUFJO1lBQ2hCLE9BQU9HLFFBQVFDLE9BQU8sQ0FBQztRQUMzQjtRQUNBLDZGQUE2RjtRQUM3RixzREFBc0Q7UUFDdEQsT0FBTyxJQUFJRCxRQUFRLENBQUNFLFdBQWEsSUFBSSxDQUFDSixvQkFBb0IsQ0FBQ0ssSUFBSSxDQUFDRDtJQUNwRTtJQUNBOzs7S0FHQyxHQUNERSxVQUFVO1FBQ04sSUFBSSxDQUFDUCxPQUFPLElBQUk7UUFDaEIsSUFBSSxJQUFJLENBQUNBLE9BQU8sR0FBRyxLQUFLLElBQUksQ0FBQ0Msb0JBQW9CLENBQUNPLE1BQU0sR0FBRyxHQUFHO1lBQzFELHNDQUFzQztZQUN0Q0MsUUFBUUMsSUFBSSxDQUFDO1FBQ2pCLE9BQ0ssSUFBSSxJQUFJLENBQUNWLE9BQU8sS0FBSyxLQUFLLElBQUksQ0FBQ0Msb0JBQW9CLENBQUNPLE1BQU0sR0FBRyxHQUFHO1lBQ2pFLHFGQUFxRjtZQUNyRix5RUFBeUU7WUFDekUsSUFBSSxDQUFDUixPQUFPLElBQUk7WUFDaEIsTUFBTVcsZUFBZSxJQUFJLENBQUNWLG9CQUFvQixDQUFDVyxLQUFLO1lBQ3BELElBQUlELGNBQWM7Z0JBQ2RBLGFBQWE7WUFDakI7UUFDSjtJQUNKO0FBQ0osRUFDQSxnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvYmFzZS1jb250cm9sbGVycy9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdXRpbC9kaXN0L2VzbS9sb2NrLmpzPzI0ZDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2pzb2VuZGVybWFubi9zZW1hcGhvcmUtYXN5bmMtYXdhaXQvYmxvYi9tYXN0ZXIvc3JjL1NlbWFwaG9yZS50c1xuZXhwb3J0IGNsYXNzIExvY2sge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnBlcm1pdHMgPSAxO1xuICAgICAgICB0aGlzLnByb21pc2VSZXNvbHZlclF1ZXVlID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHVzZWQgdG8gd2FpdCBmb3IgYSBwZXJtaXQgdG8gYmVjb21lIGF2YWlsYWJsZS4gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGF3YWl0ZWQgb24uXG4gICAgICogQHJldHVybnMgIEEgcHJvbWlzZSB0aGF0IGdldHMgcmVzb2x2ZWQgd2hlbiBleGVjdXRpb24gaXMgYWxsb3dlZCB0byBwcm9jZWVkLlxuICAgICAqL1xuICAgIGFzeW5jIGFjcXVpcmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnBlcm1pdHMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnBlcm1pdHMgLT0gMTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gcGVybWl0IGF2YWlsYWJsZSwgd2UgcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgdGhlIHNlbWFwaG9yZSBnZXRzXG4gICAgICAgIC8vIHNpZ25hbGVkIGVub3VnaCB0aW1lcyB0aGF0IHBlcm1pdHMgaXMgZXF1YWwgdG8gb25lLlxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmVyKSA9PiB0aGlzLnByb21pc2VSZXNvbHZlclF1ZXVlLnB1c2gocmVzb2x2ZXIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5jcmVhc2VzIHRoZSBudW1iZXIgb2YgcGVybWl0cyBieSBvbmUuIElmIHRoZXJlIGFyZSBvdGhlciBmdW5jdGlvbnMgd2FpdGluZywgb25lIG9mIHRoZW0gd2lsbFxuICAgICAqIGNvbnRpbnVlIHRvIGV4ZWN1dGUgaW4gYSBmdXR1cmUgaXRlcmF0aW9uIG9mIHRoZSBldmVudCBsb29wLlxuICAgICAqL1xuICAgIHJlbGVhc2UoKSB7XG4gICAgICAgIHRoaXMucGVybWl0cyArPSAxO1xuICAgICAgICBpZiAodGhpcy5wZXJtaXRzID4gMSAmJiB0aGlzLnByb21pc2VSZXNvbHZlclF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0xvY2sucGVybWl0cyBzaG91bGQgbmV2ZXIgYmUgPiAwIHdoZW4gdGhlcmUgaXMgc29tZW9uZSB3YWl0aW5nLicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVybWl0cyA9PT0gMSAmJiB0aGlzLnByb21pc2VSZXNvbHZlclF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIHNvbWVvbmUgZWxzZSB3YWl0aW5nLCBpbW1lZGlhdGVseSBjb25zdW1lIHRoZSBwZXJtaXQgdGhhdCB3YXMgcmVsZWFzZWRcbiAgICAgICAgICAgIC8vIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBmdW5jdGlvbiBhbmQgbGV0IHRoZSB3YWl0aW5nIGZ1bmN0aW9uIHJlc3VtZS5cbiAgICAgICAgICAgIHRoaXMucGVybWl0cyAtPSAxO1xuICAgICAgICAgICAgY29uc3QgbmV4dFJlc29sdmVyID0gdGhpcy5wcm9taXNlUmVzb2x2ZXJRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKG5leHRSZXNvbHZlcikge1xuICAgICAgICAgICAgICAgIG5leHRSZXNvbHZlcih0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2suanMubWFwIl0sIm5hbWVzIjpbIkxvY2siLCJjb25zdHJ1Y3RvciIsInBlcm1pdHMiLCJwcm9taXNlUmVzb2x2ZXJRdWV1ZSIsImFjcXVpcmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlc29sdmVyIiwicHVzaCIsInJlbGVhc2UiLCJsZW5ndGgiLCJjb25zb2xlIiwid2FybiIsIm5leHRSZXNvbHZlciIsInNoaWZ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/lock.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/mapDB.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/mapDB.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MapDB: () => (/* binding */ MapDB)\n/* harmony export */ });\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n\nclass MapDB {\n    constructor(database){\n        this._database = database ?? new Map();\n    }\n    async get(key) {\n        const dbKey = key instanceof Uint8Array ? (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(key) : key.toString();\n        return this._database.get(dbKey);\n    }\n    async put(key, val) {\n        const dbKey = key instanceof Uint8Array ? (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(key) : key.toString();\n        this._database.set(dbKey, val);\n    }\n    async del(key) {\n        const dbKey = key instanceof Uint8Array ? (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(key) : key.toString();\n        this._database.delete(dbKey);\n    }\n    async batch(opStack) {\n        for (const op of opStack){\n            if (op.type === \"del\") {\n                await this.del(op.key);\n            }\n            if (op.type === \"put\") {\n                await this.put(op.key, op.value);\n            }\n        }\n    }\n    /**\n     * Note that the returned shallow copy will share the underlying database with the original\n     *\n     * @returns DB\n     */ shallowCopy() {\n        return new MapDB(this._database);\n    }\n    open() {\n        return Promise.resolve();\n    }\n} //# sourceMappingURL=mapDB.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL21hcERCLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtEO0FBQzNDLE1BQU1DO0lBQ1RDLFlBQVlDLFFBQVEsQ0FBRTtRQUNsQixJQUFJLENBQUNDLFNBQVMsR0FBR0QsWUFBWSxJQUFJRTtJQUNyQztJQUNBLE1BQU1DLElBQUlDLEdBQUcsRUFBRTtRQUNYLE1BQU1DLFFBQVFELGVBQWVFLGFBQWFULCtEQUFvQkEsQ0FBQ08sT0FBT0EsSUFBSUcsUUFBUTtRQUNsRixPQUFPLElBQUksQ0FBQ04sU0FBUyxDQUFDRSxHQUFHLENBQUNFO0lBQzlCO0lBQ0EsTUFBTUcsSUFBSUosR0FBRyxFQUFFSyxHQUFHLEVBQUU7UUFDaEIsTUFBTUosUUFBUUQsZUFBZUUsYUFBYVQsK0RBQW9CQSxDQUFDTyxPQUFPQSxJQUFJRyxRQUFRO1FBQ2xGLElBQUksQ0FBQ04sU0FBUyxDQUFDUyxHQUFHLENBQUNMLE9BQU9JO0lBQzlCO0lBQ0EsTUFBTUUsSUFBSVAsR0FBRyxFQUFFO1FBQ1gsTUFBTUMsUUFBUUQsZUFBZUUsYUFBYVQsK0RBQW9CQSxDQUFDTyxPQUFPQSxJQUFJRyxRQUFRO1FBQ2xGLElBQUksQ0FBQ04sU0FBUyxDQUFDVyxNQUFNLENBQUNQO0lBQzFCO0lBQ0EsTUFBTVEsTUFBTUMsT0FBTyxFQUFFO1FBQ2pCLEtBQUssTUFBTUMsTUFBTUQsUUFBUztZQUN0QixJQUFJQyxHQUFHQyxJQUFJLEtBQUssT0FBTztnQkFDbkIsTUFBTSxJQUFJLENBQUNMLEdBQUcsQ0FBQ0ksR0FBR1gsR0FBRztZQUN6QjtZQUNBLElBQUlXLEdBQUdDLElBQUksS0FBSyxPQUFPO2dCQUNuQixNQUFNLElBQUksQ0FBQ1IsR0FBRyxDQUFDTyxHQUFHWCxHQUFHLEVBQUVXLEdBQUdFLEtBQUs7WUFDbkM7UUFDSjtJQUNKO0lBQ0E7Ozs7S0FJQyxHQUNEQyxjQUFjO1FBQ1YsT0FBTyxJQUFJcEIsTUFBTSxJQUFJLENBQUNHLFNBQVM7SUFDbkM7SUFDQWtCLE9BQU87UUFDSCxPQUFPQyxRQUFRQyxPQUFPO0lBQzFCO0FBQ0osRUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvYmFzZS1jb250cm9sbGVycy9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdXRpbC9kaXN0L2VzbS9tYXBEQi5qcz83ZTJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ5dGVzVG9VbnByZWZpeGVkSGV4IH0gZnJvbSAnLi9ieXRlcy5qcyc7XG5leHBvcnQgY2xhc3MgTWFwREIge1xuICAgIGNvbnN0cnVjdG9yKGRhdGFiYXNlKSB7XG4gICAgICAgIHRoaXMuX2RhdGFiYXNlID0gZGF0YWJhc2UgPz8gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBhc3luYyBnZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IGRiS2V5ID0ga2V5IGluc3RhbmNlb2YgVWludDhBcnJheSA/IGJ5dGVzVG9VbnByZWZpeGVkSGV4KGtleSkgOiBrZXkudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFiYXNlLmdldChkYktleSk7XG4gICAgfVxuICAgIGFzeW5jIHB1dChrZXksIHZhbCkge1xuICAgICAgICBjb25zdCBkYktleSA9IGtleSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBieXRlc1RvVW5wcmVmaXhlZEhleChrZXkpIDoga2V5LnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuX2RhdGFiYXNlLnNldChkYktleSwgdmFsKTtcbiAgICB9XG4gICAgYXN5bmMgZGVsKGtleSkge1xuICAgICAgICBjb25zdCBkYktleSA9IGtleSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBieXRlc1RvVW5wcmVmaXhlZEhleChrZXkpIDoga2V5LnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuX2RhdGFiYXNlLmRlbGV0ZShkYktleSk7XG4gICAgfVxuICAgIGFzeW5jIGJhdGNoKG9wU3RhY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBvcCBvZiBvcFN0YWNrKSB7XG4gICAgICAgICAgICBpZiAob3AudHlwZSA9PT0gJ2RlbCcpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRlbChvcC5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wLnR5cGUgPT09ICdwdXQnKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wdXQob3Aua2V5LCBvcC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90ZSB0aGF0IHRoZSByZXR1cm5lZCBzaGFsbG93IGNvcHkgd2lsbCBzaGFyZSB0aGUgdW5kZXJseWluZyBkYXRhYmFzZSB3aXRoIHRoZSBvcmlnaW5hbFxuICAgICAqXG4gICAgICogQHJldHVybnMgREJcbiAgICAgKi9cbiAgICBzaGFsbG93Q29weSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXBEQih0aGlzLl9kYXRhYmFzZSk7XG4gICAgfVxuICAgIG9wZW4oKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBEQi5qcy5tYXAiXSwibmFtZXMiOlsiYnl0ZXNUb1VucHJlZml4ZWRIZXgiLCJNYXBEQiIsImNvbnN0cnVjdG9yIiwiZGF0YWJhc2UiLCJfZGF0YWJhc2UiLCJNYXAiLCJnZXQiLCJrZXkiLCJkYktleSIsIlVpbnQ4QXJyYXkiLCJ0b1N0cmluZyIsInB1dCIsInZhbCIsInNldCIsImRlbCIsImRlbGV0ZSIsImJhdGNoIiwib3BTdGFjayIsIm9wIiwidHlwZSIsInZhbHVlIiwic2hhbGxvd0NvcHkiLCJvcGVuIiwiUHJvbWlzZSIsInJlc29sdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/mapDB.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/provider.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/provider.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchFromProvider: () => (/* binding */ fetchFromProvider),\n/* harmony export */   getProvider: () => (/* binding */ getProvider)\n/* harmony export */ });\n/**\n * Makes a simple RPC call to a remote Ethereum JSON-RPC provider and passes through the response.\n * No parameter or response validation is done.\n *\n * @param url the URL for the JSON RPC provider\n * @param params the parameters for the JSON-RPC method - refer to\n * https://ethereum.org/en/developers/docs/apis/json-rpc/ for details on RPC methods\n * @returns the `result` field from the JSON-RPC response\n */ const fetchFromProvider = async (url, params)=>{\n    const data = JSON.stringify({\n        method: params.method,\n        params: params.params,\n        jsonrpc: \"2.0\",\n        id: 1\n    });\n    const res = await fetch(url, {\n        headers: {\n            \"content-type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: data\n    });\n    const json = await res.json();\n    return json.result;\n};\n/**\n *\n * @param provider a URL string or {@link EthersProvider}\n * @returns the extracted URL string for the JSON-RPC Provider\n */ const getProvider = (provider)=>{\n    if (typeof provider === \"string\") {\n        return provider;\n    } else if (typeof provider === \"object\" && provider._getConnection !== undefined) {\n        return provider._getConnection().url;\n    } else {\n        throw new Error(\"Must provide valid provider URL or Web3Provider\");\n    }\n}; //# sourceMappingURL=provider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL3Byb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7Ozs7O0NBUUMsR0FDTSxNQUFNQSxvQkFBb0IsT0FBT0MsS0FBS0M7SUFDekMsTUFBTUMsT0FBT0MsS0FBS0MsU0FBUyxDQUFDO1FBQ3hCQyxRQUFRSixPQUFPSSxNQUFNO1FBQ3JCSixRQUFRQSxPQUFPQSxNQUFNO1FBQ3JCSyxTQUFTO1FBQ1RDLElBQUk7SUFDUjtJQUNBLE1BQU1DLE1BQU0sTUFBTUMsTUFBTVQsS0FBSztRQUN6QlUsU0FBUztZQUNMLGdCQUFnQjtRQUNwQjtRQUNBTCxRQUFRO1FBQ1JNLE1BQU1UO0lBQ1Y7SUFDQSxNQUFNVSxPQUFPLE1BQU1KLElBQUlJLElBQUk7SUFDM0IsT0FBT0EsS0FBS0MsTUFBTTtBQUN0QixFQUFFO0FBQ0Y7Ozs7Q0FJQyxHQUNNLE1BQU1DLGNBQWMsQ0FBQ0M7SUFDeEIsSUFBSSxPQUFPQSxhQUFhLFVBQVU7UUFDOUIsT0FBT0E7SUFDWCxPQUNLLElBQUksT0FBT0EsYUFBYSxZQUFZQSxTQUFTQyxjQUFjLEtBQUtDLFdBQVc7UUFDNUUsT0FBT0YsU0FBU0MsY0FBYyxHQUFHaEIsR0FBRztJQUN4QyxPQUNLO1FBQ0QsTUFBTSxJQUFJa0IsTUFBTTtJQUNwQjtBQUNKLEVBQUUsQ0FDRixvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvYmFzZS1jb250cm9sbGVycy9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdXRpbC9kaXN0L2VzbS9wcm92aWRlci5qcz82ZjhhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTWFrZXMgYSBzaW1wbGUgUlBDIGNhbGwgdG8gYSByZW1vdGUgRXRoZXJldW0gSlNPTi1SUEMgcHJvdmlkZXIgYW5kIHBhc3NlcyB0aHJvdWdoIHRoZSByZXNwb25zZS5cbiAqIE5vIHBhcmFtZXRlciBvciByZXNwb25zZSB2YWxpZGF0aW9uIGlzIGRvbmUuXG4gKlxuICogQHBhcmFtIHVybCB0aGUgVVJMIGZvciB0aGUgSlNPTiBSUEMgcHJvdmlkZXJcbiAqIEBwYXJhbSBwYXJhbXMgdGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBKU09OLVJQQyBtZXRob2QgLSByZWZlciB0b1xuICogaHR0cHM6Ly9ldGhlcmV1bS5vcmcvZW4vZGV2ZWxvcGVycy9kb2NzL2FwaXMvanNvbi1ycGMvIGZvciBkZXRhaWxzIG9uIFJQQyBtZXRob2RzXG4gKiBAcmV0dXJucyB0aGUgYHJlc3VsdGAgZmllbGQgZnJvbSB0aGUgSlNPTi1SUEMgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IGZldGNoRnJvbVByb3ZpZGVyID0gYXN5bmMgKHVybCwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbWV0aG9kOiBwYXJhbXMubWV0aG9kLFxuICAgICAgICBwYXJhbXM6IHBhcmFtcy5wYXJhbXMsXG4gICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICBpZDogMSxcbiAgICB9KTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IGRhdGEsXG4gICAgfSk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIGpzb24ucmVzdWx0O1xufTtcbi8qKlxuICpcbiAqIEBwYXJhbSBwcm92aWRlciBhIFVSTCBzdHJpbmcgb3Ige0BsaW5rIEV0aGVyc1Byb3ZpZGVyfVxuICogQHJldHVybnMgdGhlIGV4dHJhY3RlZCBVUkwgc3RyaW5nIGZvciB0aGUgSlNPTi1SUEMgUHJvdmlkZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFByb3ZpZGVyID0gKHByb3ZpZGVyKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBwcm92aWRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcHJvdmlkZXIgPT09ICdvYmplY3QnICYmIHByb3ZpZGVyLl9nZXRDb25uZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyLl9nZXRDb25uZWN0aW9uKCkudXJsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXN0IHByb3ZpZGUgdmFsaWQgcHJvdmlkZXIgVVJMIG9yIFdlYjNQcm92aWRlcicpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm92aWRlci5qcy5tYXAiXSwibmFtZXMiOlsiZmV0Y2hGcm9tUHJvdmlkZXIiLCJ1cmwiLCJwYXJhbXMiLCJkYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1ldGhvZCIsImpzb25ycGMiLCJpZCIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsImJvZHkiLCJqc29uIiwicmVzdWx0IiwiZ2V0UHJvdmlkZXIiLCJwcm92aWRlciIsIl9nZXRDb25uZWN0aW9uIiwidW5kZWZpbmVkIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/signature.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/signature.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ecrecover: () => (/* binding */ ecrecover),\n/* harmony export */   ecsign: () => (/* binding */ ecsign),\n/* harmony export */   fromRpcSig: () => (/* binding */ fromRpcSig),\n/* harmony export */   hashPersonalMessage: () => (/* binding */ hashPersonalMessage),\n/* harmony export */   isValidSignature: () => (/* binding */ isValidSignature),\n/* harmony export */   toCompactSig: () => (/* binding */ toCompactSig),\n/* harmony export */   toRpcSig: () => (/* binding */ toRpcSig)\n/* harmony export */ });\n/* harmony import */ var ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethereum-cryptography/keccak.js */ \"(ssr)/./node_modules/ethereum-cryptography/esm/keccak.js\");\n/* harmony import */ var ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethereum-cryptography/secp256k1.js */ \"(ssr)/./node_modules/ethereum-cryptography/esm/secp256k1.js\");\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/constants.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/helpers.js\");\n\n\n\n\n\n/**\n * Returns the ECDSA signature of a message hash.\n *\n * If `chainId` is provided assume an EIP-155-style signature and calculate the `v` value\n * accordingly, otherwise return a \"static\" `v` just derived from the `recovery` bit\n */ function ecsign(msgHash, privateKey, chainId) {\n    const sig = ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_1__.secp256k1.sign(msgHash, privateKey);\n    const buf = sig.toCompactRawBytes();\n    const r = buf.slice(0, 32);\n    const s = buf.slice(32, 64);\n    const v = chainId === undefined ? BigInt(sig.recovery + 27) : BigInt(sig.recovery + 35) + BigInt(chainId) * _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_2;\n    return {\n        r,\n        s,\n        v\n    };\n}\nfunction calculateSigRecovery(v, chainId) {\n    if (v === _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_0 || v === _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_1) return v;\n    if (chainId === undefined) {\n        return v - _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_27;\n    }\n    return v - (chainId * _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_2 + BigInt(35));\n}\nfunction isValidSigRecovery(recovery) {\n    return recovery === _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_0 || recovery === _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_1;\n}\n/**\n * ECDSA public key recovery from signature.\n * NOTE: Accepts `v === 0 | v === 1` for EIP1559 transactions\n * @returns Recovered public key\n */ const ecrecover = function(msgHash, v, r, s, chainId) {\n    const signature = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.setLengthLeft)(r, 32), (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.setLengthLeft)(s, 32));\n    const recovery = calculateSigRecovery(v, chainId);\n    if (!isValidSigRecovery(recovery)) {\n        throw new Error(\"Invalid signature v value\");\n    }\n    const sig = ethereum_cryptography_secp256k1_js__WEBPACK_IMPORTED_MODULE_1__.secp256k1.Signature.fromCompact(signature).addRecoveryBit(Number(recovery));\n    const senderPubKey = sig.recoverPublicKey(msgHash);\n    return senderPubKey.toRawBytes(false).slice(1);\n};\n/**\n * Convert signature parameters into the format of `eth_sign` RPC method.\n * NOTE: Accepts `v === 0 | v === 1` for EIP1559 transactions\n * @returns Signature\n */ const toRpcSig = function(v, r, s, chainId) {\n    const recovery = calculateSigRecovery(v, chainId);\n    if (!isValidSigRecovery(recovery)) {\n        throw new Error(\"Invalid signature v value\");\n    }\n    // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n    return (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.bytesToHex)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.setLengthLeft)(r, 32), (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.setLengthLeft)(s, 32), (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.toBytes)(v)));\n};\n/**\n * Convert signature parameters into the format of Compact Signature Representation (EIP-2098).\n * NOTE: Accepts `v === 0 | v === 1` for EIP1559 transactions\n * @returns Signature\n */ const toCompactSig = function(v, r, s, chainId) {\n    const recovery = calculateSigRecovery(v, chainId);\n    if (!isValidSigRecovery(recovery)) {\n        throw new Error(\"Invalid signature v value\");\n    }\n    const ss = Uint8Array.from([\n        ...s\n    ]);\n    if (v > BigInt(28) && v % _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_2 === _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_1 || v === _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_1 || v === BigInt(28)) {\n        ss[0] |= 0x80;\n    }\n    return (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.bytesToHex)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.setLengthLeft)(r, 32), (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.setLengthLeft)(ss, 32)));\n};\n/**\n * Convert signature format of the `eth_sign` RPC method to signature parameters\n *\n * NOTE: For an extracted `v` value < 27 (see Geth bug https://github.com/ethereum/go-ethereum/issues/2053)\n * `v + 27` is returned for the `v` value\n * NOTE: After EIP1559, `v` could be `0` or `1` but this function assumes\n * it's a signed message (EIP-191 or EIP-712) adding `27` at the end. Remove if needed.\n */ const fromRpcSig = function(sig) {\n    const bytes = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.toBytes)(sig);\n    let r;\n    let s;\n    let v;\n    if (bytes.length >= 65) {\n        r = bytes.subarray(0, 32);\n        s = bytes.subarray(32, 64);\n        v = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.bytesToBigInt)(bytes.subarray(64));\n    } else if (bytes.length === 64) {\n        // Compact Signature Representation (https://eips.ethereum.org/EIPS/eip-2098)\n        r = bytes.subarray(0, 32);\n        s = bytes.subarray(32, 64);\n        v = BigInt((0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.bytesToInt)(bytes.subarray(32, 33)) >> 7);\n        s[0] &= 0x7f;\n    } else {\n        throw new Error(\"Invalid signature length\");\n    }\n    // support both versions of `eth_sign` responses\n    if (v < 27) {\n        v = v + _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_27;\n    }\n    return {\n        v,\n        r,\n        s\n    };\n};\n/**\n * Validate a ECDSA signature.\n * NOTE: Accepts `v === 0 | v === 1` for EIP1559 transactions\n * @param homesteadOrLater Indicates whether this is being used on either the homestead hardfork or a later one\n */ const isValidSignature = function(v, r, s, homesteadOrLater = true, chainId) {\n    if (r.length !== 32 || s.length !== 32) {\n        return false;\n    }\n    if (!isValidSigRecovery(calculateSigRecovery(v, chainId))) {\n        return false;\n    }\n    const rBigInt = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.bytesToBigInt)(r);\n    const sBigInt = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.bytesToBigInt)(s);\n    if (rBigInt === _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_0 || rBigInt >= _constants_js__WEBPACK_IMPORTED_MODULE_3__.SECP256K1_ORDER || sBigInt === _constants_js__WEBPACK_IMPORTED_MODULE_3__.BIGINT_0 || sBigInt >= _constants_js__WEBPACK_IMPORTED_MODULE_3__.SECP256K1_ORDER) {\n        return false;\n    }\n    if (homesteadOrLater && sBigInt >= _constants_js__WEBPACK_IMPORTED_MODULE_3__.SECP256K1_ORDER_DIV_2) {\n        return false;\n    }\n    return true;\n};\n/**\n * Returns the keccak-256 hash of `message`, prefixed with the header used by the `eth_sign` RPC call.\n * The output of this function can be fed into `ecsign` to produce the same signature as the `eth_sign`\n * call for a given `message`, or fed to `ecrecover` along with a signature to recover the public key\n * used to produce the signature.\n */ const hashPersonalMessage = function(message) {\n    (0,_helpers_js__WEBPACK_IMPORTED_MODULE_4__.assertIsBytes)(message);\n    const prefix = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.utf8ToBytes)(`\\u0019Ethereum Signed Message:\\n${message.length}`);\n    return (0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_0__.keccak256)((0,_bytes_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)(prefix, message));\n}; //# sourceMappingURL=signature.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL3NpZ25hdHVyZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBNEQ7QUFDRztBQUN1RDtBQUNKO0FBQ3JFO0FBQzdDOzs7OztDQUtDLEdBQ00sU0FBU2dCLE9BQU9DLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxPQUFPO0lBQy9DLE1BQU1DLE1BQU1uQix5RUFBU0EsQ0FBQ29CLElBQUksQ0FBQ0osU0FBU0M7SUFDcEMsTUFBTUksTUFBTUYsSUFBSUcsaUJBQWlCO0lBQ2pDLE1BQU1DLElBQUlGLElBQUlHLEtBQUssQ0FBQyxHQUFHO0lBQ3ZCLE1BQU1DLElBQUlKLElBQUlHLEtBQUssQ0FBQyxJQUFJO0lBQ3hCLE1BQU1FLElBQUlSLFlBQVlTLFlBQ2hCQyxPQUFPVCxJQUFJVSxRQUFRLEdBQUcsTUFDdEJELE9BQU9ULElBQUlVLFFBQVEsR0FBRyxNQUFNRCxPQUFPVixXQUFXUixtREFBUUE7SUFDNUQsT0FBTztRQUFFYTtRQUFHRTtRQUFHQztJQUFFO0FBQ3JCO0FBQ0EsU0FBU0kscUJBQXFCSixDQUFDLEVBQUVSLE9BQU87SUFDcEMsSUFBSVEsTUFBTWxCLG1EQUFRQSxJQUFJa0IsTUFBTWpCLG1EQUFRQSxFQUNoQyxPQUFPaUI7SUFDWCxJQUFJUixZQUFZUyxXQUFXO1FBQ3ZCLE9BQU9ELElBQUlmLG9EQUFTQTtJQUN4QjtJQUNBLE9BQU9lLElBQUtSLENBQUFBLFVBQVVSLG1EQUFRQSxHQUFHa0IsT0FBTyxHQUFFO0FBQzlDO0FBQ0EsU0FBU0csbUJBQW1CRixRQUFRO0lBQ2hDLE9BQU9BLGFBQWFyQixtREFBUUEsSUFBSXFCLGFBQWFwQixtREFBUUE7QUFDekQ7QUFDQTs7OztDQUlDLEdBQ00sTUFBTXVCLFlBQVksU0FBVWhCLE9BQU8sRUFBRVUsQ0FBQyxFQUFFSCxDQUFDLEVBQUVFLENB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QUMvRSxJQUFJSyxFQUFFMEIsTUFBTSxLQUFLLE1BQU14QixFQUFFd0IsTUFBTSxLQUFLLElBQUk7UUFDcEMsT0FBTztJQUNYO0lBQ0EsSUFBSSxDQUFDbEIsbUJBQW1CRCxxQkFBcUJKLEdBQUdSLFdBQVc7UUFDdkQsT0FBTztJQUNYO0lBQ0EsTUFBTW1DLFVBQVVwRCx3REFBYUEsQ0FBQ3NCO0lBQzlCLE1BQU0rQixVQUFVckQsd0RBQWFBLENBQUN3QjtJQUM5QixJQUFJNEIsWUFBWTdDLG1EQUFRQSxJQUNwQjZDLFdBQVd6QywwREFBZUEsSUFDMUIwQyxZQUFZOUMsbURBQVFBLElBQ3BCOEMsV0FBVzFDLDBEQUFlQSxFQUFFO1FBQzVCLE9BQU87SUFDWDtJQUNBLElBQUl3QyxvQkFBb0JFLFdBQVd6QyxnRUFBcUJBLEVBQUU7UUFDdEQsT0FBTztJQUNYO0lBQ0EsT0FBTztBQUNYLEVBQUU7QUFDRjs7Ozs7Q0FLQyxHQUNNLE1BQU0wQyxzQkFBc0IsU0FBVUMsT0FBTztJQUNoRDFDLDBEQUFhQSxDQUFDMEM7SUFDZCxNQUFNQyxTQUFTbEQsc0RBQVdBLENBQUMsQ0FBQyxnQ0FBZ0MsRUFBRWlELFFBQVFQLE1BQU0sQ0FBQyxDQUFDO0lBQzlFLE9BQU9sRCwwRUFBU0EsQ0FBQ0ssc0RBQVdBLENBQUNxRCxRQUFRRDtBQUN6QyxFQUFFLENBQ0YscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3V0aWwvZGlzdC9lc20vc2lnbmF0dXJlLmpzPzk0ZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsga2VjY2FrMjU2IH0gZnJvbSAnZXRoZXJldW0tY3J5cHRvZ3JhcGh5L2tlY2Nhay5qcyc7XG5pbXBvcnQgeyBzZWNwMjU2azEgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkvc2VjcDI1NmsxLmpzJztcbmltcG9ydCB7IGJ5dGVzVG9CaWdJbnQsIGJ5dGVzVG9IZXgsIGJ5dGVzVG9JbnQsIGNvbmNhdEJ5dGVzLCBzZXRMZW5ndGhMZWZ0LCB0b0J5dGVzLCB1dGY4VG9CeXRlcywgfSBmcm9tICcuL2J5dGVzLmpzJztcbmltcG9ydCB7IEJJR0lOVF8wLCBCSUdJTlRfMSwgQklHSU5UXzIsIEJJR0lOVF8yNywgU0VDUDI1NksxX09SREVSLCBTRUNQMjU2SzFfT1JERVJfRElWXzIsIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgYXNzZXJ0SXNCeXRlcyB9IGZyb20gJy4vaGVscGVycy5qcyc7XG4vKipcbiAqIFJldHVybnMgdGhlIEVDRFNBIHNpZ25hdHVyZSBvZiBhIG1lc3NhZ2UgaGFzaC5cbiAqXG4gKiBJZiBgY2hhaW5JZGAgaXMgcHJvdmlkZWQgYXNzdW1lIGFuIEVJUC0xNTUtc3R5bGUgc2lnbmF0dXJlIGFuZCBjYWxjdWxhdGUgdGhlIGB2YCB2YWx1ZVxuICogYWNjb3JkaW5nbHksIG90aGVyd2lzZSByZXR1cm4gYSBcInN0YXRpY1wiIGB2YCBqdXN0IGRlcml2ZWQgZnJvbSB0aGUgYHJlY292ZXJ5YCBiaXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVjc2lnbihtc2dIYXNoLCBwcml2YXRlS2V5LCBjaGFpbklkKSB7XG4gICAgY29uc3Qgc2lnID0gc2VjcDI1NmsxLnNpZ24obXNnSGFzaCwgcHJpdmF0ZUtleSk7XG4gICAgY29uc3QgYnVmID0gc2lnLnRvQ29tcGFjdFJhd0J5dGVzKCk7XG4gICAgY29uc3QgciA9IGJ1Zi5zbGljZSgwLCAzMik7XG4gICAgY29uc3QgcyA9IGJ1Zi5zbGljZSgzMiwgNjQpO1xuICAgIGNvbnN0IHYgPSBjaGFpbklkID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBCaWdJbnQoc2lnLnJlY292ZXJ5ICsgMjcpXG4gICAgICAgIDogQmlnSW50KHNpZy5yZWNvdmVyeSArIDM1KSArIEJpZ0ludChjaGFpbklkKSAqIEJJR0lOVF8yO1xuICAgIHJldHVybiB7IHIsIHMsIHYgfTtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZVNpZ1JlY292ZXJ5KHYsIGNoYWluSWQpIHtcbiAgICBpZiAodiA9PT0gQklHSU5UXzAgfHwgdiA9PT0gQklHSU5UXzEpXG4gICAgICAgIHJldHVybiB2O1xuICAgIGlmIChjaGFpbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHYgLSBCSUdJTlRfMjc7XG4gICAgfVxuICAgIHJldHVybiB2IC0gKGNoYWluSWQgKiBCSUdJTlRfMiArIEJpZ0ludCgzNSkpO1xufVxuZnVuY3Rpb24gaXNWYWxpZFNpZ1JlY292ZXJ5KHJlY292ZXJ5KSB7XG4gICAgcmV0dXJuIHJlY292ZXJ5ID09PSBCSUdJTlRfMCB8fCByZWNvdmVyeSA9PT0gQklHSU5UXzE7XG59XG4vKipcbiAqIEVDRFNBIHB1YmxpYyBrZXkgcmVjb3ZlcnkgZnJvbSBzaWduYXR1cmUuXG4gKiBOT1RFOiBBY2NlcHRzIGB2ID09PSAwIHwgdiA9PT0gMWAgZm9yIEVJUDE1NTkgdHJhbnNhY3Rpb25zXG4gKiBAcmV0dXJucyBSZWNvdmVyZWQgcHVibGljIGtleVxuICovXG5leHBvcnQgY29uc3QgZWNyZWNvdmVyID0gZnVuY3Rpb24gKG1zZ0hhc2gsIHYsIHIsIHMsIGNoYWluSWQpIHtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBjb25jYXRCeXRlcyhzZXRMZW5ndGhMZWZ0KHIsIDMyKSwgc2V0TGVuZ3RoTGVmdChzLCAzMikpO1xuICAgIGNvbnN0IHJlY292ZXJ5ID0gY2FsY3VsYXRlU2lnUmVjb3ZlcnkodiwgY2hhaW5JZCk7XG4gICAgaWYgKCFpc1ZhbGlkU2lnUmVjb3ZlcnkocmVjb3ZlcnkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzaWduYXR1cmUgdiB2YWx1ZScpO1xuICAgIH1cbiAgICBjb25zdCBzaWcgPSBzZWNwMjU2azEuU2lnbmF0dXJlLmZyb21Db21wYWN0KHNpZ25hdHVyZSkuYWRkUmVjb3ZlcnlCaXQoTnVtYmVyKHJlY292ZXJ5KSk7XG4gICAgY29uc3Qgc2VuZGVyUHViS2V5ID0gc2lnLnJlY292ZXJQdWJsaWNLZXkobXNnSGFzaCk7XG4gICAgcmV0dXJuIHNlbmRlclB1YktleS50b1Jhd0J5dGVzKGZhbHNlKS5zbGljZSgxKTtcbn07XG4vKipcbiAqIENvbnZlcnQgc2lnbmF0dXJlIHBhcmFtZXRlcnMgaW50byB0aGUgZm9ybWF0IG9mIGBldGhfc2lnbmAgUlBDIG1ldGhvZC5cbiAqIE5PVEU6IEFjY2VwdHMgYHYgPT09IDAgfCB2ID09PSAxYCBmb3IgRUlQMTU1OSB0cmFuc2FjdGlvbnNcbiAqIEByZXR1cm5zIFNpZ25hdHVyZVxuICovXG5leHBvcnQgY29uc3QgdG9ScGNTaWcgPSBmdW5jdGlvbiAodiwgciwgcywgY2hhaW5JZCkge1xuICAgIGNvbnN0IHJlY292ZXJ5ID0gY2FsY3VsYXRlU2lnUmVjb3ZlcnkodiwgY2hhaW5JZCk7XG4gICAgaWYgKCFpc1ZhbGlkU2lnUmVjb3ZlcnkocmVjb3ZlcnkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzaWduYXR1cmUgdiB2YWx1ZScpO1xuICAgIH1cbiAgICAvLyBnZXRoIChhbmQgdGhlIFJQQyBldGhfc2lnbiBtZXRob2QpIHVzZXMgdGhlIDY1IGJ5dGUgZm9ybWF0IHVzZWQgYnkgQml0Y29pblxuICAgIHJldHVybiBieXRlc1RvSGV4KGNvbmNhdEJ5dGVzKHNldExlbmd0aExlZnQociwgMzIpLCBzZXRMZW5ndGhMZWZ0KHMsIDMyKSwgdG9CeXRlcyh2KSkpO1xufTtcbi8qKlxuICogQ29udmVydCBzaWduYXR1cmUgcGFyYW1ldGVycyBpbnRvIHRoZSBmb3JtYXQgb2YgQ29tcGFjdCBTaWduYXR1cmUgUmVwcmVzZW50YXRpb24gKEVJUC0yMDk4KS5cbiAqIE5PVEU6IEFjY2VwdHMgYHYgPT09IDAgfCB2ID09PSAxYCBmb3IgRUlQMTU1OSB0cmFuc2FjdGlvbnNcbiAqIEByZXR1cm5zIFNpZ25hdHVyZVxuICovXG5leHBvcnQgY29uc3QgdG9Db21wYWN0U2lnID0gZnVuY3Rpb24gKHYsIHIsIHMsIGNoYWluSWQpIHtcbiAgICBjb25zdCByZWNvdmVyeSA9IGNhbGN1bGF0ZVNpZ1JlY292ZXJ5KHYsIGNoYWluSWQpO1xuICAgIGlmICghaXNWYWxpZFNpZ1JlY292ZXJ5KHJlY292ZXJ5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2lnbmF0dXJlIHYgdmFsdWUnKTtcbiAgICB9XG4gICAgY29uc3Qgc3MgPSBVaW50OEFycmF5LmZyb20oWy4uLnNdKTtcbiAgICBpZiAoKHYgPiBCaWdJbnQoMjgpICYmIHYgJSBCSUdJTlRfMiA9PT0gQklHSU5UXzEpIHx8IHYgPT09IEJJR0lOVF8xIHx8IHYgPT09IEJpZ0ludCgyOCkpIHtcbiAgICAgICAgc3NbMF0gfD0gMHg4MDtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzVG9IZXgoY29uY2F0Qnl0ZXMoc2V0TGVuZ3RoTGVmdChyLCAzMiksIHNldExlbmd0aExlZnQoc3MsIDMyKSkpO1xufTtcbi8qKlxuICogQ29udmVydCBzaWduYXR1cmUgZm9ybWF0IG9mIHRoZSBgZXRoX3NpZ25gIFJQQyBtZXRob2QgdG8gc2lnbmF0dXJlIHBhcmFtZXRlcnNcbiAqXG4gKiBOT1RFOiBGb3IgYW4gZXh0cmFjdGVkIGB2YCB2YWx1ZSA8IDI3IChzZWUgR2V0aCBidWcgaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL2dvLWV0aGVyZXVtL2lzc3Vlcy8yMDUzKVxuICogYHYgKyAyN2AgaXMgcmV0dXJuZWQgZm9yIHRoZSBgdmAgdmFsdWVcbiAqIE5PVEU6IEFmdGVyIEVJUDE1NTksIGB2YCBjb3VsZCBiZSBgMGAgb3IgYDFgIGJ1dCB0aGlzIGZ1bmN0aW9uIGFzc3VtZXNcbiAqIGl0J3MgYSBzaWduZWQgbWVzc2FnZSAoRUlQLTE5MSBvciBFSVAtNzEyKSBhZGRpbmcgYDI3YCBhdCB0aGUgZW5kLiBSZW1vdmUgaWYgbmVlZGVkLlxuICovXG5leHBvcnQgY29uc3QgZnJvbVJwY1NpZyA9IGZ1bmN0aW9uIChzaWcpIHtcbiAgICBjb25zdCBieXRlcyA9IHRvQnl0ZXMoc2lnKTtcbiAgICBsZXQgcjtcbiAgICBsZXQgcztcbiAgICBsZXQgdjtcbiAgICBpZiAoYnl0ZXMubGVuZ3RoID49IDY1KSB7XG4gICAgICAgIHIgPSBieXRlcy5zdWJhcnJheSgwLCAzMik7XG4gICAgICAgIHMgPSBieXRlcy5zdWJhcnJheSgzMiwgNjQpO1xuICAgICAgICB2ID0gYnl0ZXNUb0JpZ0ludChieXRlcy5zdWJhcnJheSg2NCkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChieXRlcy5sZW5ndGggPT09IDY0KSB7XG4gICAgICAgIC8vIENvbXBhY3QgU2lnbmF0dXJlIFJlcHJlc2VudGF0aW9uIChodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTIwOTgpXG4gICAgICAgIHIgPSBieXRlcy5zdWJhcnJheSgwLCAzMik7XG4gICAgICAgIHMgPSBieXRlcy5zdWJhcnJheSgzMiwgNjQpO1xuICAgICAgICB2ID0gQmlnSW50KGJ5dGVzVG9JbnQoYnl0ZXMuc3ViYXJyYXkoMzIsIDMzKSkgPj4gNyk7XG4gICAgICAgIHNbMF0gJj0gMHg3ZjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzaWduYXR1cmUgbGVuZ3RoJyk7XG4gICAgfVxuICAgIC8vIHN1cHBvcnQgYm90aCB2ZXJzaW9ucyBvZiBgZXRoX3NpZ25gIHJlc3BvbnNlc1xuICAgIGlmICh2IDwgMjcpIHtcbiAgICAgICAgdiA9IHYgKyBCSUdJTlRfMjc7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHYsXG4gICAgICAgIHIsXG4gICAgICAgIHMsXG4gICAgfTtcbn07XG4vKipcbiAqIFZhbGlkYXRlIGEgRUNEU0Egc2lnbmF0dXJlLlxuICogTk9URTogQWNjZXB0cyBgdiA9PT0gMCB8IHYgPT09IDFgIGZvciBFSVAxNTU5IHRyYW5zYWN0aW9uc1xuICogQHBhcmFtIGhvbWVzdGVhZE9yTGF0ZXIgSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBiZWluZyB1c2VkIG9uIGVpdGhlciB0aGUgaG9tZXN0ZWFkIGhhcmRmb3JrIG9yIGEgbGF0ZXIgb25lXG4gKi9cbmV4cG9ydCBjb25zdCBpc1ZhbGlkU2lnbmF0dXJlID0gZnVuY3Rpb24gKHYsIHIsIHMsIGhvbWVzdGVhZE9yTGF0ZXIgPSB0cnVlLCBjaGFpbklkKSB7XG4gICAgaWYgKHIubGVuZ3RoICE9PSAzMiB8fCBzLmxlbmd0aCAhPT0gMzIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWRTaWdSZWNvdmVyeShjYWxjdWxhdGVTaWdSZWNvdmVyeSh2LCBjaGFpbklkKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCByQmlnSW50ID0gYnl0ZXNUb0JpZ0ludChyKTtcbiAgICBjb25zdCBzQmlnSW50ID0gYnl0ZXNUb0JpZ0ludChzKTtcbiAgICBpZiAockJpZ0ludCA9PT0gQklHSU5UXzAgfHxcbiAgICAgICAgckJpZ0ludCA+PSBTRUNQMjU2SzFfT1JERVIgfHxcbiAgICAgICAgc0JpZ0ludCA9PT0gQklHSU5UXzAgfHxcbiAgICAgICAgc0JpZ0ludCA+PSBTRUNQMjU2SzFfT1JERVIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaG9tZXN0ZWFkT3JMYXRlciAmJiBzQmlnSW50ID49IFNFQ1AyNTZLMV9PUkRFUl9ESVZfMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUga2VjY2FrLTI1NiBoYXNoIG9mIGBtZXNzYWdlYCwgcHJlZml4ZWQgd2l0aCB0aGUgaGVhZGVyIHVzZWQgYnkgdGhlIGBldGhfc2lnbmAgUlBDIGNhbGwuXG4gKiBUaGUgb3V0cHV0IG9mIHRoaXMgZnVuY3Rpb24gY2FuIGJlIGZlZCBpbnRvIGBlY3NpZ25gIHRvIHByb2R1Y2UgdGhlIHNhbWUgc2lnbmF0dXJlIGFzIHRoZSBgZXRoX3NpZ25gXG4gKiBjYWxsIGZvciBhIGdpdmVuIGBtZXNzYWdlYCwgb3IgZmVkIHRvIGBlY3JlY292ZXJgIGFsb25nIHdpdGggYSBzaWduYXR1cmUgdG8gcmVjb3ZlciB0aGUgcHVibGljIGtleVxuICogdXNlZCB0byBwcm9kdWNlIHRoZSBzaWduYXR1cmUuXG4gKi9cbmV4cG9ydCBjb25zdCBoYXNoUGVyc29uYWxNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBhc3NlcnRJc0J5dGVzKG1lc3NhZ2UpO1xuICAgIGNvbnN0IHByZWZpeCA9IHV0ZjhUb0J5dGVzKGBcXHUwMDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XFxuJHttZXNzYWdlLmxlbmd0aH1gKTtcbiAgICByZXR1cm4ga2VjY2FrMjU2KGNvbmNhdEJ5dGVzKHByZWZpeCwgbWVzc2FnZSkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpZ25hdHVyZS5qcy5tYXAiXSwibmFtZXMiOlsia2VjY2FrMjU2Iiwic2VjcDI1NmsxIiwiYnl0ZXNUb0JpZ0ludCIsImJ5dGVzVG9IZXgiLCJieXRlc1RvSW50IiwiY29uY2F0Qnl0ZXMiLCJzZXRMZW5ndGhMZWZ0IiwidG9CeXRlcyIsInV0ZjhUb0J5dGVzIiwiQklHSU5UXzAiLCJCSUdJTlRfMSIsIkJJR0lOVF8yIiwiQklHSU5UXzI3IiwiU0VDUDI1NksxX09SREVSIiwiU0VDUDI1NksxX09SREVSX0RJVl8yIiwiYXNzZXJ0SXNCeXRlcyIsImVjc2lnbiIsIm1zZ0hhc2giLCJwcml2YXRlS2V5IiwiY2hhaW5JZCIsInNpZyIsInNpZ24iLCJidWYiLCJ0b0NvbXBhY3RSYXdCeXRlcyIsInIiLCJzbGljZSIsInMiLCJ2IiwidW5kZWZpbmVkIiwiQmlnSW50IiwicmVjb3ZlcnkiLCJjYWxjdWxhdGVTaWdSZWNvdmVyeSIsImlzVmFsaWRTaWdSZWNvdmVyeSIsImVjcmVjb3ZlciIsInNpZ25hdHVyZSIsIkVycm9yIiwiU2lnbmF0dXJlIiwiZnJvbUNvbXBhY3QiLCJhZGRSZWNvdmVyeUJpdCIsIk51bWJlciIsInNlbmRlclB1YktleSIsInJlY292ZXJQdWJsaWNLZXkiLCJ0b1Jhd0J5dGVzIiwidG9ScGNTaWciLCJ0b0NvbXBhY3RTaWciLCJzcyIsIlVpbnQ4QXJyYXkiLCJmcm9tIiwiZnJvbVJwY1NpZyIsImJ5dGVzIiwibGVuZ3RoIiwic3ViYXJyYXkiLCJpc1ZhbGlkU2lnbmF0dXJlIiwiaG9tZXN0ZWFkT3JMYXRlciIsInJCaWdJbnQiLCJzQmlnSW50IiwiaGFzaFBlcnNvbmFsTWVzc2FnZSIsIm1lc3NhZ2UiLCJwcmVmaXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/signature.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/types.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/types.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeOutput: () => (/* binding */ TypeOutput),\n/* harmony export */   toType: () => (/* binding */ toType)\n/* harmony export */ });\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n/* harmony import */ var _internal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/internal.js\");\n\n\n/**\n * Type output options\n */ var TypeOutput;\n(function(TypeOutput) {\n    TypeOutput[TypeOutput[\"Number\"] = 0] = \"Number\";\n    TypeOutput[TypeOutput[\"BigInt\"] = 1] = \"BigInt\";\n    TypeOutput[TypeOutput[\"Uint8Array\"] = 2] = \"Uint8Array\";\n    TypeOutput[TypeOutput[\"PrefixedHexString\"] = 3] = \"PrefixedHexString\";\n})(TypeOutput || (TypeOutput = {}));\nfunction toType(input, outputType) {\n    if (input === null) {\n        return null;\n    }\n    if (input === undefined) {\n        return undefined;\n    }\n    if (typeof input === \"string\" && !(0,_internal_js__WEBPACK_IMPORTED_MODULE_1__.isHexString)(input)) {\n        throw new Error(`A string must be provided with a 0x-prefix, given: ${input}`);\n    } else if (typeof input === \"number\" && !Number.isSafeInteger(input)) {\n        throw new Error(\"The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)\");\n    }\n    const output = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.toBytes)(input);\n    switch(outputType){\n        case TypeOutput.Uint8Array:\n            return output;\n        case TypeOutput.BigInt:\n            return (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.bytesToBigInt)(output);\n        case TypeOutput.Number:\n            {\n                const bigInt = (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.bytesToBigInt)(output);\n                if (bigInt > BigInt(Number.MAX_SAFE_INTEGER)) {\n                    throw new Error(\"The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)\");\n                }\n                return Number(bigInt);\n            }\n        case TypeOutput.PrefixedHexString:\n            return (0,_bytes_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(output);\n        default:\n            throw new Error(\"unknown outputType\");\n    }\n} //# sourceMappingURL=types.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL3R5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0U7QUFDcEI7QUFDNUM7O0NBRUMsR0FDTSxJQUFJSSxXQUFXO0FBQ3JCLFVBQVVBLFVBQVU7SUFDakJBLFVBQVUsQ0FBQ0EsVUFBVSxDQUFDLFNBQVMsR0FBRyxFQUFFLEdBQUc7SUFDdkNBLFVBQVUsQ0FBQ0EsVUFBVSxDQUFDLFNBQVMsR0FBRyxFQUFFLEdBQUc7SUFDdkNBLFVBQVUsQ0FBQ0EsVUFBVSxDQUFDLGFBQWEsR0FBRyxFQUFFLEdBQUc7SUFDM0NBLFVBQVUsQ0FBQ0EsVUFBVSxDQUFDLG9CQUFvQixHQUFHLEVBQUUsR0FBRztBQUN0RCxHQUFHQSxjQUFlQSxDQUFBQSxhQUFhLENBQUM7QUFDekIsU0FBU0MsT0FBT0MsS0FBSyxFQUFFQyxVQUFVO0lBQ3BDLElBQUlELFVBQVUsTUFBTTtRQUNoQixPQUFPO0lBQ1g7SUFDQSxJQUFJQSxVQUFVRSxXQUFXO1FBQ3JCLE9BQU9BO0lBQ1g7SUFDQSxJQUFJLE9BQU9GLFVBQVUsWUFBWSxDQUFDSCx5REFBV0EsQ0FBQ0csUUFBUTtRQUNsRCxNQUFNLElBQUlHLE1BQU0sQ0FBQyxtREFBbUQsRUFBRUgsTUFBTSxDQUFDO0lBQ2pGLE9BQ0ssSUFBSSxPQUFPQSxVQUFVLFlBQVksQ0FBQ0ksT0FBT0MsYUFBYSxDQUFDTCxRQUFRO1FBQ2hFLE1BQU0sSUFBSUcsTUFBTTtJQUNwQjtJQUNBLE1BQU1HLFNBQVNWLGtEQUFPQSxDQUFDSTtJQUN2QixPQUFRQztRQUNKLEtBQUtILFdBQVdTLFVBQVU7WUFDdEIsT0FBT0Q7UUFDWCxLQUFLUixXQUFXVSxNQUFNO1lBQ2xCLE9BQU9kLHdEQUFhQSxDQUFDWTtRQUN6QixLQUFLUixXQUFXTSxNQUFNO1lBQUU7Z0JBQ3BCLE1BQU1LLFNBQVNmLHdEQUFhQSxDQUFDWTtnQkFDN0IsSUFBSUcsU0FBU0QsT0FBT0osT0FBT00sZ0JBQWdCLEdBQUc7b0JBQzFDLE1BQU0sSUFBSVAsTUFBTTtnQkFDcEI7Z0JBQ0EsT0FBT0MsT0FBT0s7WUFDbEI7UUFDQSxLQUFLWCxXQUFXYSxpQkFBaUI7WUFDN0IsT0FBT2hCLHFEQUFVQSxDQUFDVztRQUN0QjtZQUNJLE1BQU0sSUFBSUgsTUFBTTtJQUN4QjtBQUNKLEVBQ0EsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ja2V0aC8uL25vZGVfbW9kdWxlcy9AdG9ydXNsYWJzL2Jhc2UtY29udHJvbGxlcnMvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3V0aWwvZGlzdC9lc20vdHlwZXMuanM/MTU3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBieXRlc1RvQmlnSW50LCBieXRlc1RvSGV4LCB0b0J5dGVzIH0gZnJvbSAnLi9ieXRlcy5qcyc7XG5pbXBvcnQgeyBpc0hleFN0cmluZyB9IGZyb20gJy4vaW50ZXJuYWwuanMnO1xuLyoqXG4gKiBUeXBlIG91dHB1dCBvcHRpb25zXG4gKi9cbmV4cG9ydCB2YXIgVHlwZU91dHB1dDtcbihmdW5jdGlvbiAoVHlwZU91dHB1dCkge1xuICAgIFR5cGVPdXRwdXRbVHlwZU91dHB1dFtcIk51bWJlclwiXSA9IDBdID0gXCJOdW1iZXJcIjtcbiAgICBUeXBlT3V0cHV0W1R5cGVPdXRwdXRbXCJCaWdJbnRcIl0gPSAxXSA9IFwiQmlnSW50XCI7XG4gICAgVHlwZU91dHB1dFtUeXBlT3V0cHV0W1wiVWludDhBcnJheVwiXSA9IDJdID0gXCJVaW50OEFycmF5XCI7XG4gICAgVHlwZU91dHB1dFtUeXBlT3V0cHV0W1wiUHJlZml4ZWRIZXhTdHJpbmdcIl0gPSAzXSA9IFwiUHJlZml4ZWRIZXhTdHJpbmdcIjtcbn0pKFR5cGVPdXRwdXQgfHwgKFR5cGVPdXRwdXQgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIHRvVHlwZShpbnB1dCwgb3V0cHV0VHlwZSkge1xuICAgIGlmIChpbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgJiYgIWlzSGV4U3RyaW5nKGlucHV0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgc3RyaW5nIG11c3QgYmUgcHJvdmlkZWQgd2l0aCBhIDB4LXByZWZpeCwgZ2l2ZW46ICR7aW5wdXR9YCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgJiYgIU51bWJlci5pc1NhZmVJbnRlZ2VyKGlucHV0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm92aWRlZCBudW1iZXIgaXMgZ3JlYXRlciB0aGFuIE1BWF9TQUZFX0lOVEVHRVIgKHBsZWFzZSB1c2UgYW4gYWx0ZXJuYXRpdmUgaW5wdXQgdHlwZSknKTtcbiAgICB9XG4gICAgY29uc3Qgb3V0cHV0ID0gdG9CeXRlcyhpbnB1dCk7XG4gICAgc3dpdGNoIChvdXRwdXRUeXBlKSB7XG4gICAgICAgIGNhc2UgVHlwZU91dHB1dC5VaW50OEFycmF5OlxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgY2FzZSBUeXBlT3V0cHV0LkJpZ0ludDpcbiAgICAgICAgICAgIHJldHVybiBieXRlc1RvQmlnSW50KG91dHB1dCk7XG4gICAgICAgIGNhc2UgVHlwZU91dHB1dC5OdW1iZXI6IHtcbiAgICAgICAgICAgIGNvbnN0IGJpZ0ludCA9IGJ5dGVzVG9CaWdJbnQob3V0cHV0KTtcbiAgICAgICAgICAgIGlmIChiaWdJbnQgPiBCaWdJbnQoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcHJvdmlkZWQgbnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiBNQVhfU0FGRV9JTlRFR0VSIChwbGVhc2UgdXNlIGFuIGFsdGVybmF0aXZlIG91dHB1dCB0eXBlKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihiaWdJbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgVHlwZU91dHB1dC5QcmVmaXhlZEhleFN0cmluZzpcbiAgICAgICAgICAgIHJldHVybiBieXRlc1RvSGV4KG91dHB1dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gb3V0cHV0VHlwZScpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6WyJieXRlc1RvQmlnSW50IiwiYnl0ZXNUb0hleCIsInRvQnl0ZXMiLCJpc0hleFN0cmluZyIsIlR5cGVPdXRwdXQiLCJ0b1R5cGUiLCJpbnB1dCIsIm91dHB1dFR5cGUiLCJ1bmRlZmluZWQiLCJFcnJvciIsIk51bWJlciIsImlzU2FmZUludGVnZXIiLCJvdXRwdXQiLCJVaW50OEFycmF5IiwiQmlnSW50IiwiYmlnSW50IiwiTUFYX1NBRkVfSU5URUdFUiIsIlByZWZpeGVkSGV4U3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/units.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/units.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GWEI_TO_WEI: () => (/* binding */ GWEI_TO_WEI),\n/* harmony export */   formatBigDecimal: () => (/* binding */ formatBigDecimal)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/constants.js\");\n\n/** Easy conversion from Gwei to wei */ const GWEI_TO_WEI = BigInt(1000000000);\nfunction formatBigDecimal(numerator, denominator, maxDecimalFactor) {\n    if (denominator === _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_0) {\n        denominator = _constants_js__WEBPACK_IMPORTED_MODULE_0__.BIGINT_1;\n    }\n    const full = numerator / denominator;\n    const fraction = (numerator - full * denominator) * maxDecimalFactor / denominator;\n    // zeros to be added post decimal are number of zeros in maxDecimalFactor - number of digits in fraction\n    const zerosPostDecimal = String(maxDecimalFactor).length - 1 - String(fraction).length;\n    return `${full}.${\"0\".repeat(zerosPostDecimal)}${fraction}`;\n} //# sourceMappingURL=units.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL3VuaXRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvRDtBQUNwRCxxQ0FBcUMsR0FDOUIsTUFBTUUsY0FBY0MsT0FBTyxZQUFZO0FBQ3ZDLFNBQVNDLGlCQUFpQkMsU0FBUyxFQUFFQyxXQUFXLEVBQUVDLGdCQUFnQjtJQUNyRSxJQUFJRCxnQkFBZ0JOLG1EQUFRQSxFQUFFO1FBQzFCTSxjQUFjTCxtREFBUUE7SUFDMUI7SUFDQSxNQUFNTyxPQUFPSCxZQUFZQztJQUN6QixNQUFNRyxXQUFXLENBQUVKLFlBQVlHLE9BQU9GLFdBQVUsSUFBS0MsbUJBQW9CRDtJQUN6RSx3R0FBd0c7SUFDeEcsTUFBTUksbUJBQW1CQyxPQUFPSixrQkFBa0JLLE1BQU0sR0FBRyxJQUFJRCxPQUFPRixVQUFVRyxNQUFNO0lBQ3RGLE9BQU8sQ0FBQyxFQUFFSixLQUFLLENBQUMsRUFBRSxJQUFJSyxNQUFNLENBQUNILGtCQUFrQixFQUFFRCxTQUFTLENBQUM7QUFDL0QsRUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2NrZXRoLy4vbm9kZV9tb2R1bGVzL0B0b3J1c2xhYnMvYmFzZS1jb250cm9sbGVycy9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdXRpbC9kaXN0L2VzbS91bml0cy5qcz85ZDUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJJR0lOVF8wLCBCSUdJTlRfMSB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbi8qKiBFYXN5IGNvbnZlcnNpb24gZnJvbSBHd2VpIHRvIHdlaSAqL1xuZXhwb3J0IGNvbnN0IEdXRUlfVE9fV0VJID0gQmlnSW50KDEwMDAwMDAwMDApO1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEJpZ0RlY2ltYWwobnVtZXJhdG9yLCBkZW5vbWluYXRvciwgbWF4RGVjaW1hbEZhY3Rvcikge1xuICAgIGlmIChkZW5vbWluYXRvciA9PT0gQklHSU5UXzApIHtcbiAgICAgICAgZGVub21pbmF0b3IgPSBCSUdJTlRfMTtcbiAgICB9XG4gICAgY29uc3QgZnVsbCA9IG51bWVyYXRvciAvIGRlbm9taW5hdG9yO1xuICAgIGNvbnN0IGZyYWN0aW9uID0gKChudW1lcmF0b3IgLSBmdWxsICogZGVub21pbmF0b3IpICogbWF4RGVjaW1hbEZhY3RvcikgLyBkZW5vbWluYXRvcjtcbiAgICAvLyB6ZXJvcyB0byBiZSBhZGRlZCBwb3N0IGRlY2ltYWwgYXJlIG51bWJlciBvZiB6ZXJvcyBpbiBtYXhEZWNpbWFsRmFjdG9yIC0gbnVtYmVyIG9mIGRpZ2l0cyBpbiBmcmFjdGlvblxuICAgIGNvbnN0IHplcm9zUG9zdERlY2ltYWwgPSBTdHJpbmcobWF4RGVjaW1hbEZhY3RvcikubGVuZ3RoIC0gMSAtIFN0cmluZyhmcmFjdGlvbikubGVuZ3RoO1xuICAgIHJldHVybiBgJHtmdWxsfS4keycwJy5yZXBlYXQoemVyb3NQb3N0RGVjaW1hbCl9JHtmcmFjdGlvbn1gO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5pdHMuanMubWFwIl0sIm5hbWVzIjpbIkJJR0lOVF8wIiwiQklHSU5UXzEiLCJHV0VJX1RPX1dFSSIsIkJpZ0ludCIsImZvcm1hdEJpZ0RlY2ltYWwiLCJudW1lcmF0b3IiLCJkZW5vbWluYXRvciIsIm1heERlY2ltYWxGYWN0b3IiLCJmdWxsIiwiZnJhY3Rpb24iLCJ6ZXJvc1Bvc3REZWNpbWFsIiwiU3RyaW5nIiwibGVuZ3RoIiwicmVwZWF0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/units.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/withdrawal.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/withdrawal.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Withdrawal: () => (/* binding */ Withdrawal)\n/* harmony export */ });\n/* harmony import */ var _address_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./address.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/address.js\");\n/* harmony import */ var _bytes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bytes.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/bytes.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/constants.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/types.js\");\n\n\n\n\n/**\n * Representation of EIP-4895 withdrawal data\n */ class Withdrawal {\n    /**\n     * This constructor assigns and validates the values.\n     * Use the static factory methods to assist in creating a Withdrawal object from varying data types.\n     * Its amount is in Gwei to match CL representation and for eventual ssz withdrawalsRoot\n     */ constructor(index, validatorIndex, address, /**\n     * withdrawal amount in Gwei to match the CL repesentation and eventually ssz withdrawalsRoot\n     */ amount){\n        this.index = index;\n        this.validatorIndex = validatorIndex;\n        this.address = address;\n        this.amount = amount;\n    }\n    static fromWithdrawalData(withdrawalData) {\n        const { index: indexData, validatorIndex: validatorIndexData, address: addressData, amount: amountData } = withdrawalData;\n        const index = (0,_types_js__WEBPACK_IMPORTED_MODULE_3__.toType)(indexData, _types_js__WEBPACK_IMPORTED_MODULE_3__.TypeOutput.BigInt);\n        const validatorIndex = (0,_types_js__WEBPACK_IMPORTED_MODULE_3__.toType)(validatorIndexData, _types_js__WEBPACK_IMPORTED_MODULE_3__.TypeOutput.BigInt);\n        const address = addressData instanceof _address_js__WEBPACK_IMPORTED_MODULE_0__.Address ? addressData : new _address_js__WEBPACK_IMPORTED_MODULE_0__.Address((0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.toBytes)(addressData));\n        const amount = (0,_types_js__WEBPACK_IMPORTED_MODULE_3__.toType)(amountData, _types_js__WEBPACK_IMPORTED_MODULE_3__.TypeOutput.BigInt);\n        return new Withdrawal(index, validatorIndex, address, amount);\n    }\n    static fromValuesArray(withdrawalArray) {\n        if (withdrawalArray.length !== 4) {\n            throw Error(`Invalid withdrawalArray length expected=4 actual=${withdrawalArray.length}`);\n        }\n        const [index, validatorIndex, address, amount] = withdrawalArray;\n        return Withdrawal.fromWithdrawalData({\n            index,\n            validatorIndex,\n            address,\n            amount\n        });\n    }\n    /**\n     * Convert a withdrawal to a buffer array\n     * @param withdrawal the withdrawal to convert\n     * @returns buffer array of the withdrawal\n     */ static toBytesArray(withdrawal) {\n        const { index, validatorIndex, address, amount } = withdrawal;\n        const indexBytes = (0,_types_js__WEBPACK_IMPORTED_MODULE_3__.toType)(index, _types_js__WEBPACK_IMPORTED_MODULE_3__.TypeOutput.BigInt) === _constants_js__WEBPACK_IMPORTED_MODULE_2__.BIGINT_0 ? new Uint8Array() : (0,_types_js__WEBPACK_IMPORTED_MODULE_3__.toType)(index, _types_js__WEBPACK_IMPORTED_MODULE_3__.TypeOutput.Uint8Array);\n        const validatorIndexBytes = (0,_types_js__WEBPACK_IMPORTED_MODULE_3__.toType)(validatorIndex, _types_js__WEBPACK_IMPORTED_MODULE_3__.TypeOutput.BigInt) === _constants_js__WEBPACK_IMPORTED_MODULE_2__.BIGINT_0 ? new Uint8Array() : (0,_types_js__WEBPACK_IMPORTED_MODULE_3__.toType)(validatorIndex, _types_js__WEBPACK_IMPORTED_MODULE_3__.TypeOutput.Uint8Array);\n        const addressBytes = address instanceof _address_js__WEBPACK_IMPORTED_MODULE_0__.Address ? address.bytes : (0,_types_js__WEBPACK_IMPORTED_MODULE_3__.toType)(address, _types_js__WEBPACK_IMPORTED_MODULE_3__.TypeOutput.Uint8Array);\n        const amountBytes = (0,_types_js__WEBPACK_IMPORTED_MODULE_3__.toType)(amount, _types_js__WEBPACK_IMPORTED_MODULE_3__.TypeOutput.BigInt) === _constants_js__WEBPACK_IMPORTED_MODULE_2__.BIGINT_0 ? new Uint8Array() : (0,_types_js__WEBPACK_IMPORTED_MODULE_3__.toType)(amount, _types_js__WEBPACK_IMPORTED_MODULE_3__.TypeOutput.Uint8Array);\n        return [\n            indexBytes,\n            validatorIndexBytes,\n            addressBytes,\n            amountBytes\n        ];\n    }\n    raw() {\n        return Withdrawal.toBytesArray(this);\n    }\n    toValue() {\n        return {\n            index: this.index,\n            validatorIndex: this.validatorIndex,\n            address: this.address.bytes,\n            amount: this.amount\n        };\n    }\n    toJSON() {\n        return {\n            index: (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.index),\n            validatorIndex: (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.validatorIndex),\n            address: (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(this.address.bytes),\n            amount: (0,_bytes_js__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.amount)\n        };\n    }\n} //# sourceMappingURL=withdrawal.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL3dpdGhkcmF3YWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUM7QUFDdUI7QUFDcEI7QUFDTTtBQUNoRDs7Q0FFQyxHQUNNLE1BQU1PO0lBQ1Q7Ozs7S0FJQyxHQUNEQyxZQUFZQyxLQUFLLEVBQUVDLGNBQWMsRUFBRUMsT0FBTyxFQUMxQzs7S0FFQyxHQUNEQyxNQUFNLENBQUU7UUFDSixJQUFJLENBQUNILEtBQUssR0FBR0E7UUFDYixJQUFJLENBQUNDLGNBQWMsR0FBR0E7UUFDdEIsSUFBSSxDQUFDQyxPQUFPLEdBQUdBO1FBQ2YsSUFBSSxDQUFDQyxNQUFNLEdBQUdBO0lBQ2xCO0lBQ0EsT0FBT0MsbUJBQW1CQyxjQUFjLEVBQUU7UUFDdEMsTUFBTSxFQUFFTCxPQUFPTSxTQUFTLEVBQUVMLGdCQUFnQk0sa0JBQWtCLEVBQUVMLFNBQVNNLFdBQVcsRUFBRUwsUUFBUU0sVUFBVSxFQUFHLEdBQUdKO1FBQzVHLE1BQU1MLFFBQVFILGlEQUFNQSxDQUFDUyxXQUFXVixpREFBVUEsQ0FBQ2MsTUFBTTtRQUNqRCxNQUFNVCxpQkFBaUJKLGlEQUFNQSxDQUFDVSxvQkFBb0JYLGlEQUFVQSxDQUFDYyxNQUFNO1FBQ25FLE1BQU1SLFVBQVVNLHVCQUF1QmpCLGdEQUFPQSxHQUFHaUIsY0FBYyxJQUFJakIsZ0RBQU9BLENBQUNHLGtEQUFPQSxDQUFDYztRQUNuRixNQUFNTCxTQUFTTixpREFBTUEsQ0FBQ1ksWUFBWWIsaURBQVVBLENBQUNjLE1BQU07UUFDbkQsT0FBTyxJQUFJWixXQUFXRSxPQUFPQyxnQkFBZ0JDLFNBQVNDO0lBQzFEO0lBQ0EsT0FBT1EsZ0JBQWdCQyxlQUFlLEVBQUU7UUFDcEMsSUFBSUEsZ0JBQWdCQyxNQUFNLEtBQUssR0FBRztZQUM5QixNQUFNQyxNQUFNLENBQUMsaURBQWlELEVBQUVGLGdCQUFnQkMsTUFBTSxDQUFDLENBQUM7UUFDNUY7UUFDQSxNQUFNLENBQUNiLE9BQU9DLGdCQUFnQkMsU0FBU0MsT0FBTyxHQUFHUztRQUNqRCxPQUFPZCxXQUFXTSxrQkFBa0IsQ0FBQztZQUFFSjtZQUFPQztZQUFnQkM7WUFBU0M7UUFBTztJQUNsRjtJQUNBOzs7O0tBSUMsR0FDRCxPQUFPWSxhQUFhQyxVQUFVLEVBQUU7UUFDNUIsTUFBTSxFQUFFaEIsS0FBSyxFQUFFQyxjQUFjLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFLEdBQUdhO1FBQ25ELE1BQU1DLGFBQWFwQixpREFBTUEsQ0FBQ0csT0FBT0osaURBQVVBLENBQUNjLE1BQU0sTUFBTWYsbURBQVFBLEdBQzFELElBQUl1QixlQUNKckIsaURBQU1BLENBQUNHLE9BQU9KLGlEQUFVQSxDQUFDc0IsVUFBVTtRQUN6QyxNQUFNQyxzQkFBc0J0QixpREFBTUEsQ0FBQ0ksZ0JBQWdCTCxpREFBVUEsQ0FBQ2MsTUFBTSxNQUFNZixtREFBUUEsR0FDNUUsSUFBSXVCLGVBQ0pyQixpREFBTUEsQ0FBQ0ksZ0JBQWdCTCxpREFBVUEsQ0FBQ3NCLFVBQVU7UUFDbEQsTUFBTUUsZUFBZWxCLG1CQUFtQlgsZ0RBQU9BLEdBQUdXLFFBQVFtQixLQUFLLEdBQUd4QixpREFBTUEsQ0FBQ0ssU0FBU04saURBQVVBLENBQUNzQixVQUFVO1FBQ3ZHLE1BQU1JLGNBQWN6QixpREFBTUEsQ0FBQ00sUUFBUVAsaURBQVVBLENBQUNjLE1BQU0sTUFBTWYsbURBQVFBLEdBQzVELElBQUl1QixlQUNKckIsaURBQU1BLENBQUNNLFFBQVFQLGlEQUFVQSxDQUFDc0IsVUFBVTtRQUMxQyxPQUFPO1lBQUNEO1lBQVlFO1lBQXFCQztZQUFjRTtTQUFZO0lBQ3ZFO0lBQ0FDLE1BQU07UUFDRixPQUFPekIsV0FBV2lCLFlBQVksQ0FBQyxJQUFJO0lBQ3ZDO0lBQ0FTLFVBQVU7UUFDTixPQUFPO1lBQ0h4QixPQUFPLElBQUksQ0FBQ0EsS0FBSztZQUNqQkMsZ0JBQWdCLElBQUksQ0FBQ0EsY0FBYztZQUNuQ0MsU0FBUyxJQUFJLENBQUNBLE9BQU8sQ0FBQ21CLEtBQUs7WUFDM0JsQixRQUFRLElBQUksQ0FBQ0EsTUFBTTtRQUN2QjtJQUNKO0lBQ0FzQixTQUFTO1FBQ0wsT0FBTztZQUNIekIsT0FBT1Isc0RBQVdBLENBQUMsSUFBSSxDQUFDUSxLQUFLO1lBQzdCQyxnQkFBZ0JULHNEQUFXQSxDQUFDLElBQUksQ0FBQ1MsY0FBYztZQUMvQ0MsU0FBU1QscURBQVVBLENBQUMsSUFBSSxDQUFDUyxPQUFPLENBQUNtQixLQUFLO1lBQ3RDbEIsUUFBUVgsc0RBQVdBLENBQUMsSUFBSSxDQUFDVyxNQUFNO1FBQ25DO0lBQ0o7QUFDSixFQUNBLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvY2tldGgvLi9ub2RlX21vZHVsZXMvQHRvcnVzbGFicy9iYXNlLWNvbnRyb2xsZXJzL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy91dGlsL2Rpc3QvZXNtL3dpdGhkcmF3YWwuanM/ZTI1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZGRyZXNzIH0gZnJvbSAnLi9hZGRyZXNzLmpzJztcbmltcG9ydCB7IGJpZ0ludFRvSGV4LCBieXRlc1RvSGV4LCB0b0J5dGVzIH0gZnJvbSAnLi9ieXRlcy5qcyc7XG5pbXBvcnQgeyBCSUdJTlRfMCB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFR5cGVPdXRwdXQsIHRvVHlwZSB9IGZyb20gJy4vdHlwZXMuanMnO1xuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBFSVAtNDg5NSB3aXRoZHJhd2FsIGRhdGFcbiAqL1xuZXhwb3J0IGNsYXNzIFdpdGhkcmF3YWwge1xuICAgIC8qKlxuICAgICAqIFRoaXMgY29uc3RydWN0b3IgYXNzaWducyBhbmQgdmFsaWRhdGVzIHRoZSB2YWx1ZXMuXG4gICAgICogVXNlIHRoZSBzdGF0aWMgZmFjdG9yeSBtZXRob2RzIHRvIGFzc2lzdCBpbiBjcmVhdGluZyBhIFdpdGhkcmF3YWwgb2JqZWN0IGZyb20gdmFyeWluZyBkYXRhIHR5cGVzLlxuICAgICAqIEl0cyBhbW91bnQgaXMgaW4gR3dlaSB0byBtYXRjaCBDTCByZXByZXNlbnRhdGlvbiBhbmQgZm9yIGV2ZW50dWFsIHNzeiB3aXRoZHJhd2Fsc1Jvb3RcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpbmRleCwgdmFsaWRhdG9ySW5kZXgsIGFkZHJlc3MsIFxuICAgIC8qKlxuICAgICAqIHdpdGhkcmF3YWwgYW1vdW50IGluIEd3ZWkgdG8gbWF0Y2ggdGhlIENMIHJlcGVzZW50YXRpb24gYW5kIGV2ZW50dWFsbHkgc3N6IHdpdGhkcmF3YWxzUm9vdFxuICAgICAqL1xuICAgIGFtb3VudCkge1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMudmFsaWRhdG9ySW5kZXggPSB2YWxpZGF0b3JJbmRleDtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICAgICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tV2l0aGRyYXdhbERhdGEod2l0aGRyYXdhbERhdGEpIHtcbiAgICAgICAgY29uc3QgeyBpbmRleDogaW5kZXhEYXRhLCB2YWxpZGF0b3JJbmRleDogdmFsaWRhdG9ySW5kZXhEYXRhLCBhZGRyZXNzOiBhZGRyZXNzRGF0YSwgYW1vdW50OiBhbW91bnREYXRhLCB9ID0gd2l0aGRyYXdhbERhdGE7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdG9UeXBlKGluZGV4RGF0YSwgVHlwZU91dHB1dC5CaWdJbnQpO1xuICAgICAgICBjb25zdCB2YWxpZGF0b3JJbmRleCA9IHRvVHlwZSh2YWxpZGF0b3JJbmRleERhdGEsIFR5cGVPdXRwdXQuQmlnSW50KTtcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IGFkZHJlc3NEYXRhIGluc3RhbmNlb2YgQWRkcmVzcyA/IGFkZHJlc3NEYXRhIDogbmV3IEFkZHJlc3ModG9CeXRlcyhhZGRyZXNzRGF0YSkpO1xuICAgICAgICBjb25zdCBhbW91bnQgPSB0b1R5cGUoYW1vdW50RGF0YSwgVHlwZU91dHB1dC5CaWdJbnQpO1xuICAgICAgICByZXR1cm4gbmV3IFdpdGhkcmF3YWwoaW5kZXgsIHZhbGlkYXRvckluZGV4LCBhZGRyZXNzLCBhbW91bnQpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVZhbHVlc0FycmF5KHdpdGhkcmF3YWxBcnJheSkge1xuICAgICAgICBpZiAod2l0aGRyYXdhbEFycmF5Lmxlbmd0aCAhPT0gNCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgd2l0aGRyYXdhbEFycmF5IGxlbmd0aCBleHBlY3RlZD00IGFjdHVhbD0ke3dpdGhkcmF3YWxBcnJheS5sZW5ndGh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW2luZGV4LCB2YWxpZGF0b3JJbmRleCwgYWRkcmVzcywgYW1vdW50XSA9IHdpdGhkcmF3YWxBcnJheTtcbiAgICAgICAgcmV0dXJuIFdpdGhkcmF3YWwuZnJvbVdpdGhkcmF3YWxEYXRhKHsgaW5kZXgsIHZhbGlkYXRvckluZGV4LCBhZGRyZXNzLCBhbW91bnQgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSB3aXRoZHJhd2FsIHRvIGEgYnVmZmVyIGFycmF5XG4gICAgICogQHBhcmFtIHdpdGhkcmF3YWwgdGhlIHdpdGhkcmF3YWwgdG8gY29udmVydFxuICAgICAqIEByZXR1cm5zIGJ1ZmZlciBhcnJheSBvZiB0aGUgd2l0aGRyYXdhbFxuICAgICAqL1xuICAgIHN0YXRpYyB0b0J5dGVzQXJyYXkod2l0aGRyYXdhbCkge1xuICAgICAgICBjb25zdCB7IGluZGV4LCB2YWxpZGF0b3JJbmRleCwgYWRkcmVzcywgYW1vdW50IH0gPSB3aXRoZHJhd2FsO1xuICAgICAgICBjb25zdCBpbmRleEJ5dGVzID0gdG9UeXBlKGluZGV4LCBUeXBlT3V0cHV0LkJpZ0ludCkgPT09IEJJR0lOVF8wXG4gICAgICAgICAgICA/IG5ldyBVaW50OEFycmF5KClcbiAgICAgICAgICAgIDogdG9UeXBlKGluZGV4LCBUeXBlT3V0cHV0LlVpbnQ4QXJyYXkpO1xuICAgICAgICBjb25zdCB2YWxpZGF0b3JJbmRleEJ5dGVzID0gdG9UeXBlKHZhbGlkYXRvckluZGV4LCBUeXBlT3V0cHV0LkJpZ0ludCkgPT09IEJJR0lOVF8wXG4gICAgICAgICAgICA/IG5ldyBVaW50OEFycmF5KClcbiAgICAgICAgICAgIDogdG9UeXBlKHZhbGlkYXRvckluZGV4LCBUeXBlT3V0cHV0LlVpbnQ4QXJyYXkpO1xuICAgICAgICBjb25zdCBhZGRyZXNzQnl0ZXMgPSBhZGRyZXNzIGluc3RhbmNlb2YgQWRkcmVzcyA/IGFkZHJlc3MuYnl0ZXMgOiB0b1R5cGUoYWRkcmVzcywgVHlwZU91dHB1dC5VaW50OEFycmF5KTtcbiAgICAgICAgY29uc3QgYW1vdW50Qnl0ZXMgPSB0b1R5cGUoYW1vdW50LCBUeXBlT3V0cHV0LkJpZ0ludCkgPT09IEJJR0lOVF8wXG4gICAgICAgICAgICA/IG5ldyBVaW50OEFycmF5KClcbiAgICAgICAgICAgIDogdG9UeXBlKGFtb3VudCwgVHlwZU91dHB1dC5VaW50OEFycmF5KTtcbiAgICAgICAgcmV0dXJuIFtpbmRleEJ5dGVzLCB2YWxpZGF0b3JJbmRleEJ5dGVzLCBhZGRyZXNzQnl0ZXMsIGFtb3VudEJ5dGVzXTtcbiAgICB9XG4gICAgcmF3KCkge1xuICAgICAgICByZXR1cm4gV2l0aGRyYXdhbC50b0J5dGVzQXJyYXkodGhpcyk7XG4gICAgfVxuICAgIHRvVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbmRleDogdGhpcy5pbmRleCxcbiAgICAgICAgICAgIHZhbGlkYXRvckluZGV4OiB0aGlzLnZhbGlkYXRvckluZGV4LFxuICAgICAgICAgICAgYWRkcmVzczogdGhpcy5hZGRyZXNzLmJ5dGVzLFxuICAgICAgICAgICAgYW1vdW50OiB0aGlzLmFtb3VudCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5kZXg6IGJpZ0ludFRvSGV4KHRoaXMuaW5kZXgpLFxuICAgICAgICAgICAgdmFsaWRhdG9ySW5kZXg6IGJpZ0ludFRvSGV4KHRoaXMudmFsaWRhdG9ySW5kZXgpLFxuICAgICAgICAgICAgYWRkcmVzczogYnl0ZXNUb0hleCh0aGlzLmFkZHJlc3MuYnl0ZXMpLFxuICAgICAgICAgICAgYW1vdW50OiBiaWdJbnRUb0hleCh0aGlzLmFtb3VudCksXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2l0aGRyYXdhbC5qcy5tYXAiXSwibmFtZXMiOlsiQWRkcmVzcyIsImJpZ0ludFRvSGV4IiwiYnl0ZXNUb0hleCIsInRvQnl0ZXMiLCJCSUdJTlRfMCIsIlR5cGVPdXRwdXQiLCJ0b1R5cGUiLCJXaXRoZHJhd2FsIiwiY29uc3RydWN0b3IiLCJpbmRleCIsInZhbGlkYXRvckluZGV4IiwiYWRkcmVzcyIsImFtb3VudCIsImZyb21XaXRoZHJhd2FsRGF0YSIsIndpdGhkcmF3YWxEYXRhIiwiaW5kZXhEYXRhIiwidmFsaWRhdG9ySW5kZXhEYXRhIiwiYWRkcmVzc0RhdGEiLCJhbW91bnREYXRhIiwiQmlnSW50IiwiZnJvbVZhbHVlc0FycmF5Iiwid2l0aGRyYXdhbEFycmF5IiwibGVuZ3RoIiwiRXJyb3IiLCJ0b0J5dGVzQXJyYXkiLCJ3aXRoZHJhd2FsIiwiaW5kZXhCeXRlcyIsIlVpbnQ4QXJyYXkiLCJ2YWxpZGF0b3JJbmRleEJ5dGVzIiwiYWRkcmVzc0J5dGVzIiwiYnl0ZXMiLCJhbW91bnRCeXRlcyIsInJhdyIsInRvVmFsdWUiLCJ0b0pTT04iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@toruslabs/base-controllers/node_modules/@ethereumjs/util/dist/esm/withdrawal.js\n");

/***/ })

};
;